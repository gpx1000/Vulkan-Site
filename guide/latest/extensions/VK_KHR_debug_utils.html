<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>VK_KHR_debug_utils :: Vulkan Documentation Project</title>
    <meta name="generator" content="Antora 3.1.10">
    <script>
      !function (theme) {
        if (theme === 'dark') document.documentElement.classList.add('dark')
        else document.documentElement.classList.add('light')
      }(localStorage && localStorage.getItem('theme') || (matchMedia('(prefers-color-scheme: dark)')?.matches && 'dark'))
    </script>
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="stylesheet" href="../../../_/css/vendor/tabs.css">
    <link rel="apple-touch-icon" sizes="180x180" href="../../../_/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../_/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../_/img/favicon-16x16.png">
    <link rel="manifest" href="../../../_/static/site.webmanifest">
    <link rel="mask-icon" href="../../../_/img/safari-pinned-tab.svg" color="#a41e22">
    <meta name="msapplication-TileColor" content="#ffc40d">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../.."><img class="navbar-item" alt="Vulkan White Label" src="../../../_/Vulkan_Docs.svg" /></a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field has-filter">
          <label for="search-input"></label>
          <input id="search-input" type="text" placeholder="Search the docs">
          <label class="filter checkbox">
            <input type="checkbox" data-facet-filter="component:guide" checked> In this component
          </label>
        </div>
      </div>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <!-- <a class="navbar-item" href="#">Home</a> -->
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Specs</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../spec/latest/chapters/introduction.html">Vulkan API</a>
            <a class="navbar-item" href="../../../glsl/latest/index.html">GLSL</a>
            <a class="navbar-item" href="../../../guide/latest/hlsl.html">HLSL</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Education</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../features/latest/features/index.html">Vulkan Feature Descriptions</a>
            <a class="navbar-item" href="../../../guide/latest/index.html">Vulkan Guide</a>
            <a class="navbar-item" href="../../../samples/latest/README.html">Vulkan Samples</a>
            <a class="navbar-item" href="../../../tutorial/latest/index.html">Vulkan Tutorial</a>
            <a class="navbar-item" href="https://www.youtube.com/c/vulkan">YouTube</a>
            <a class="navbar-item" href="https://vulkan.org">More Info at Vulkan.org</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Feedback</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://github.com/KhronosGroup/Vulkan-Site/issues/new/choose" target="_blank">Report a Problem</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://discord.gg/vulkan">Vulkan Discord</a>
            <a class="navbar-item" href="https://reddit.com/r/vulkan">Reddit</a>
            <a class="navbar-item" href="https://stackoverflow.com/questions/tagged/vulkan">Stack Overflow</a>
            <a class="navbar-item" href="https://fosstodon.org/@vulkan">Mastodon</a>
          </div>
        </div>
      </div>
    </div>
    <label class="theme-toggler">
      <input type="checkbox" id="switch-theme-checkbox" name="switch-theme-checkbox"/>
      <span class="icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="moon" class="svg-inline--fa fa-moon moon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"></path>
        </svg>
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="sun" class="svg-inline--fa fa-sun sun" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"></path>
        </svg></span>
    </label>
  </nav>
</header>
<script>
  window.onload = function() {
    let e = document.getElementById("switch-theme-checkbox")
    e.checked = document.documentElement.classList.contains("dark");
    e.checked ? e.parentElement.classList.add("active") : e.parentElement.classList.remove("active")
  }
  !function() {
    let e = document.getElementById("switch-theme-checkbox")
    e.checked = document.documentElement.classList.contains("dark")
    e.addEventListener("change", function() {
      if (document.documentElement.classList.contains("light")) {
        document.documentElement.classList.remove("light")
        document.documentElement.classList.add("dark")
      } else if (document.documentElement.classList.contains("dark")) {
        document.documentElement.classList.remove("dark")
        document.documentElement.classList.add("light")
      } else {
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
          document.documentElement.classList.add("dark")
        } else {
          document.documentElement.classList.add("light")
        }
      }
      document.documentElement.setAttribute("data-theme", this.checked ? "dark" : "light"),
        function(e) {
          window.localStorage && window.localStorage.setItem("theme", e)
        }(this.checked ? "dark" : "light"), this.checked ? this.parentElement.classList.add("active") : this.parentElement.classList.remove("active")
    }.bind(e))
  }();
</script>
<div class="body">
<div class="nav-container" data-component="guide" data-version="latest" id="split-0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../index.html">Vulkan Guide</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Vulkan Guide</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Logistics Overview</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../what_is_vulkan.html">What is Vulkan?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../what_vulkan_can_do.html">What Vulkan Can Do</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../vulkan_spec.html">Vulkan Specification</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../platforms.html">Platforms</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../checking_for_support.html">Checking For Vulkan Support</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../versions.html">Vulkan Versions &amp; Porting Guide</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../vulkan_profiles.html">Vulkan Profiles</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../vulkan_release_summary.html">Vulkan Release Summary</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../what_is_spirv.html">What is SPIR-V</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../portability_initiative.html">Portability Initiative</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../vulkan_cts.html">Vulkan CTS</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../development_tools.html">Development Tools</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ide.html">Development Environments &amp; IDEs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../validation_overview.html">Vulkan Validation Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../decoder_ring.html">Vulkan Decoder Ring</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Using Vulkan</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../loader.html">Loader</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../layers.html">Layers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../querying_extensions_features.html">Querying Properties, Extensions, Features, Limits, and Formats</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enabling_extensions.html">Enabling Extensions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enabling_features.html">Enabling Features</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../spirv_extensions.html">Using SPIR-V Extensions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../formats.html">Formats</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../queues.html">Queues</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../wsi.html">Window System Integration (WSI)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../windowing_audio_input.html">Windowing, Audio, and Input</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../pnext_and_stype.html">pNext and sType</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../synchronization.html">Synchronization</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="VK_KHR_synchronization2.html">VK_KHR_synchronization2</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../swapchain_semaphore_reuse.html">Swapchain Semaphore Reuse</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../synchronization_examples.html">Synchronization Examples</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../memory_allocation.html">Memory Allocation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../sparse_resources.html">Sparse Resources</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../protected.html">Protected Memory</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../buffer_device_address.html">Buffer Device Address</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../pipeline_cache.html">Pipeline Cache</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../threading.html">Threading</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../depth.html">Depth</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../primitive_topology.html">Primitive Topology</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../mapping_data_to_shaders.html">Mapping Data to Shaders</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../storage_image_and_texel_buffers.html">Storage Image and Texel Buffers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../vertex_input_data_processing.html">Vertex Input Data Processing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../descriptor_arrays.html">Descriptor Arrays</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../descriptor_dynamic_offset.html">Descriptor Dynamic Offset</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../location_component_interface.html">Location and Component Interface</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../push_constants.html">Push Constants</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../ways_to_provide_spirv.html">Ways to Provide SPIR-V</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../robustness.html">Robustness</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../dynamic_state.html">Pipeline Dynamic State</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../dynamic_state_map.html">Dynamic State Map</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../subgroups.html">Subgroups</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../shader_memory_layout.html">Shader Memory Layout</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../atomics.html">Atomics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../image_copies.html">Image Copies</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../common_pitfalls.html">Common Pitfalls for New Vulkan Developers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hlsl.html">HLSL in Vulkan</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../high_level_shader_language_comparison.html">Vulkan High Level Shader Language Comparison</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">When and Why to use Extensions</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cleanup.html">Cleanup Extensions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="device_groups.html">Device Groups</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="external.html">External Memory and Synchronization</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ray_tracing.html">Ray Tracing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="shader_features.html">Shader Features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="translation_layer_extensions.html">Translation Layer Extensions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_descriptor_indexing.html">VK_EXT_descriptor_indexing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_inline_uniform_block.html">VK_EXT_inline_uniform_block</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_EXT_memory_priority.html">VK_EXT_memory_priority</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_descriptor_update_template.html">VK_KHR_descriptor_update_template</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_draw_indirect_count.html">VK_KHR_draw_indirect_count</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_image_format_list.html">VK_KHR_image_format_list</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_imageless_framebuffer.html">VK_KHR_imageless_framebuffer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_sampler_ycbcr_conversion.html">VK_KHR_sampler_ycbcr_conversion</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="VK_KHR_shader_subgroup_uniform_control_flow.html">VK_KHR_shader_subgroup_uniform_control_flow</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="VK_KHR_debug_utils.html">VK_KHR_debug_utils</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Vulkan Guide</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component">
      <div class="title"><a href="../../../tutorial/latest/00_Introduction.html">Khronos Vulkan Tutorial</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../tutorial/latest/00_Introduction.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../glsl/latest/index.html">OpenGL Shading Language Specification</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../glsl/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../features/latest/features/index.html">Vulkan Feature Descriptions</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../features/latest/features/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <div class="title"><a href="../index.html">Vulkan Guide</a></div>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../samples/latest/README.html">Vulkan Samples</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../samples/latest/README.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../spec/latest/index.html">Vulkan Specification</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../spec/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article" id="split-1">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../spec/latest/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Vulkan Guide</a></li>
    <li>When and Why to use Extensions</li>
    <li><a href="VK_KHR_debug_utils.html">VK_KHR_debug_utils</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">VK_KHR_debug_utils</h1>
<div id="preamble">
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Promoted to core in Vulkan 1.3</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>VK_KHR_debug_utils</code> extension provides developers with a powerful set of tools for debugging Vulkan applications. This extension allows for attaching debug information to Vulkan objects, setting up debug messengers for receiving validation messages, and inserting debug markers and labels to help identify specific operations in debugging tools.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overview"><a class="anchor" href="#_overview"></a>Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Debugging GPU applications can be challenging due to the asynchronous nature of GPU execution. The <code>VK_KHR_debug_utils</code> extension helps bridge this gap by providing mechanisms to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Label Vulkan objects with debug names</p>
</li>
<li>
<p>Insert debug markers in command buffers</p>
</li>
<li>
<p>Add debug regions to command buffers</p>
</li>
<li>
<p>Receive debug messages through callbacks</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These features are particularly useful when working with external debugging tools like RenderDoc, NVIDIA Nsight, or AMD Radeon GPU Profiler, as they can display these debug annotations to help developers identify specific parts of their rendering pipeline.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_debug_messenger"><a class="anchor" href="#_debug_messenger"></a>Debug Messenger</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The debug messenger is the core component for receiving validation and debug messages from the Vulkan implementation. It allows applications to be notified of validation layer messages, performance warnings, and other debug information.</p>
</div>
<div class="sect2">
<h3 id="_creating_a_debug_messenger"><a class="anchor" href="#_creating_a_debug_messenger"></a>Creating a Debug Messenger</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// Function to create the debug messenger
VkResult CreateDebugUtilsMessengerEXT(
    VkInstance instance,
    const VkDebugUtilsMessengerCreateInfoEXT* pCreateInfo,
    const VkAllocationCallbacks* pAllocator,
    VkDebugUtilsMessengerEXT* pMessenger) {

    auto func = (PFN_vkCreateDebugUtilsMessengerEXT)vkGetInstanceProcAddr(
        instance, "vkCreateDebugUtilsMessengerEXT");

    if (func != nullptr) {
        return func(instance, pCreateInfo, pAllocator, pMessenger);
    } else {
        return VK_ERROR_EXTENSION_NOT_PRESENT;
    }
}

// Callback function for handling debug messages
VKAPI_ATTR VkBool32 VKAPI_CALL debugCallback(
    VkDebugUtilsMessageSeverityFlagBitsEXT messageSeverity,
    VkDebugUtilsMessageTypeFlagsEXT messageType,
    const VkDebugUtilsMessengerCallbackDataEXT* pCallbackData,
    void* pUserData) {

    std::cerr &lt;&lt; "Validation layer: " &lt;&lt; pCallbackData-&gt;pMessage &lt;&lt; std::endl;

    // Return VK_FALSE to indicate the Vulkan call should not be aborted
    return VK_FALSE;
}

// Setting up the debug messenger
VkDebugUtilsMessengerCreateInfoEXT createInfo{};
createInfo.sType = VK_STRUCTURE_TYPE_DEBUG_UTILS_MESSENGER_CREATE_INFO_EXT;
createInfo.messageSeverity =
    VK_DEBUG_UTILS_MESSAGE_SEVERITY_VERBOSE_BIT_EXT |
    VK_DEBUG_UTILS_MESSAGE_SEVERITY_WARNING_BIT_EXT |
    VK_DEBUG_UTILS_MESSAGE_SEVERITY_ERROR_BIT_EXT;
createInfo.messageType =
    VK_DEBUG_UTILS_MESSAGE_TYPE_GENERAL_BIT_EXT |
    VK_DEBUG_UTILS_MESSAGE_TYPE_VALIDATION_BIT_EXT |
    VK_DEBUG_UTILS_MESSAGE_TYPE_PERFORMANCE_BIT_EXT;
createInfo.pfnUserCallback = debugCallback;
createInfo.pUserData = nullptr; // Optional user data

VkDebugUtilsMessengerEXT debugMessenger;
if (CreateDebugUtilsMessengerEXT(instance, &amp;createInfo, nullptr, &amp;debugMessenger) != VK_SUCCESS) {
    throw std::runtime_error("Failed to set up debug messenger!");
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_destroying_a_debug_messenger"><a class="anchor" href="#_destroying_a_debug_messenger"></a>Destroying a Debug Messenger</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">void DestroyDebugUtilsMessengerEXT(
    VkInstance instance,
    VkDebugUtilsMessengerEXT messenger,
    const VkAllocationCallbacks* pAllocator) {

    auto func = (PFN_vkDestroyDebugUtilsMessengerEXT)vkGetInstanceProcAddr(
        instance, "vkDestroyDebugUtilsMessengerEXT");

    if (func != nullptr) {
        func(instance, messenger, pAllocator);
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_object_naming"><a class="anchor" href="#_object_naming"></a>Object Naming</h2>
<div class="sectionbody">
<div class="paragraph">
<p>One of the most useful features of the extension is the ability to assign names to Vulkan objects. This makes it much easier to identify objects in validation messages and debugging tools.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// Function to set a debug name for a Vulkan object
void SetDebugUtilsObjectName(
    VkDevice device,
    VkObjectType objectType,
    uint64_t objectHandle,
    const char* name) {

    VkDebugUtilsObjectNameInfoEXT nameInfo{};
    nameInfo.sType = VK_STRUCTURE_TYPE_DEBUG_UTILS_OBJECT_NAME_INFO_EXT;
    nameInfo.objectType = objectType;
    nameInfo.objectHandle = objectHandle;
    nameInfo.pObjectName = name;

    auto func = (PFN_vkSetDebugUtilsObjectNameEXT)vkGetInstanceProcAddr(
        instance, "vkSetDebugUtilsObjectNameEXT");

    if (func != nullptr) {
        func(device, &amp;nameInfo);
    }
}

// Example: Naming a buffer
VkBuffer buffer; // Your buffer handle
SetDebugUtilsObjectName(
    device,
    VK_OBJECT_TYPE_BUFFER,
    (uint64_t)buffer,
    "My Vertex Buffer"
);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_debug_markers_and_regions"><a class="anchor" href="#_debug_markers_and_regions"></a>Debug Markers and Regions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Debug markers and regions allow you to annotate command buffer operations, making it easier to identify specific operations in debugging tools.</p>
</div>
<div class="sect2">
<h3 id="_inserting_debug_markers"><a class="anchor" href="#_inserting_debug_markers"></a>Inserting Debug Markers</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// Insert a debug marker into a command buffer
void CmdInsertDebugMarker(
    VkCommandBuffer commandBuffer,
    const char* markerName,
    const float color[4]) {

    VkDebugUtilsLabelEXT markerInfo{};
    markerInfo.sType = VK_STRUCTURE_TYPE_DEBUG_UTILS_LABEL_EXT;
    markerInfo.pLabelName = markerName;
    memcpy(markerInfo.color, color, sizeof(float) * 4);

    auto func = (PFN_vkCmdInsertDebugUtilsLabelEXT)vkGetInstanceProcAddr(
        instance, "vkCmdInsertDebugUtilsLabelEXT");

    if (func != nullptr) {
        func(commandBuffer, &amp;markerInfo);
    }
}

// Example usage
float color[4] = {1.0f, 0.0f, 0.0f, 1.0f}; // Red color
CmdInsertDebugMarker(commandBuffer, "Important Draw Call", color);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_debug_regions"><a class="anchor" href="#_debug_regions"></a>Debug Regions</h3>
<div class="paragraph">
<p>Debug regions allow you to group a set of commands together, which can be invaluable for identifying specific passes or stages in your rendering pipeline.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// Begin a debug region
void CmdBeginDebugRegion(
    VkCommandBuffer commandBuffer,
    const char* regionName,
    const float color[4]) {

    VkDebugUtilsLabelEXT labelInfo{};
    labelInfo.sType = VK_STRUCTURE_TYPE_DEBUG_UTILS_LABEL_EXT;
    labelInfo.pLabelName = regionName;
    memcpy(labelInfo.color, color, sizeof(float) * 4);

    auto func = (PFN_vkCmdBeginDebugUtilsLabelEXT)vkGetInstanceProcAddr(
        instance, "vkCmdBeginDebugUtilsLabelEXT");

    if (func != nullptr) {
        func(commandBuffer, &amp;labelInfo);
    }
}

// End a debug region
void CmdEndDebugRegion(VkCommandBuffer commandBuffer) {
    auto func = (PFN_vkCmdEndDebugUtilsLabelEXT)vkGetInstanceProcAddr(
        instance, "vkCmdEndDebugUtilsLabelEXT");

    if (func != nullptr) {
        func(commandBuffer);
    }
}

// Example usage
float shadowPassColor[4] = {0.0f, 0.0f, 0.0f, 1.0f}; // Black color
CmdBeginDebugRegion(commandBuffer, "Shadow Pass", shadowPassColor);
// Record shadow pass commands...
CmdEndDebugRegion(commandBuffer);

float geometryPassColor[4] = {0.0f, 1.0f, 0.0f, 1.0f}; // Green color
CmdBeginDebugRegion(commandBuffer, "Geometry Pass", geometryPassColor);
// Record geometry pass commands...
CmdEndDebugRegion(commandBuffer);</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_queue_labels"><a class="anchor" href="#_queue_labels"></a>Queue Labels</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Similar to command buffer markers, you can also label queue operations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// Begin a queue label
void QueueBeginDebugRegion(
    VkQueue queue,
    const char* regionName,
    const float color[4]) {

    VkDebugUtilsLabelEXT labelInfo{};
    labelInfo.sType = VK_STRUCTURE_TYPE_DEBUG_UTILS_LABEL_EXT;
    labelInfo.pLabelName = regionName;
    memcpy(labelInfo.color, color, sizeof(float) * 4);

    auto func = (PFN_vkQueueBeginDebugUtilsLabelEXT)vkGetInstanceProcAddr(
        instance, "vkQueueBeginDebugUtilsLabelEXT");

    if (func != nullptr) {
        func(queue, &amp;labelInfo);
    }
}

// Insert a queue label
void QueueInsertDebugMarker(
    VkQueue queue,
    const char* markerName,
    const float color[4]) {

    VkDebugUtilsLabelEXT markerInfo{};
    markerInfo.sType = VK_STRUCTURE_TYPE_DEBUG_UTILS_LABEL_EXT;
    markerInfo.pLabelName = markerName;
    memcpy(markerInfo.color, color, sizeof(float) * 4);

    auto func = (PFN_vkQueueInsertDebugUtilsLabelEXT)vkGetInstanceProcAddr(
        instance, "vkQueueInsertDebugUtilsLabelEXT");

    if (func != nullptr) {
        func(queue, &amp;markerInfo);
    }
}

// End a queue label
void QueueEndDebugRegion(VkQueue queue) {
    auto func = (PFN_vkQueueEndDebugUtilsLabelEXT)vkGetInstanceProcAddr(
        instance, "vkQueueEndDebugUtilsLabelEXT");

    if (func != nullptr) {
        func(queue);
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_best_practices"><a class="anchor" href="#_best_practices"></a>Best Practices</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_when_to_use_debug_utils"><a class="anchor" href="#_when_to_use_debug_utils"></a>When to Use Debug Utils</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Development and Debugging</strong>: Always enable debug utils during development to help identify and fix issues.</p>
</li>
<li>
<p><strong>Performance Testing</strong>: Disable debug utils for performance testing, as they can introduce overhead.</p>
</li>
<li>
<p><strong>Release Builds</strong>: Remove or disable debug utils in release builds to avoid unnecessary overhead.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_naming_conventions"><a class="anchor" href="#_naming_conventions"></a>Naming Conventions</h3>
<div class="paragraph">
<p>Establish consistent naming conventions for your debug labels to make them more useful:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use hierarchical naming for related objects (e.g., "Scene/Characters/Hero/Mesh")</p>
</li>
<li>
<p>Include type information in names (e.g., "VertexBuffer: Characters")</p>
</li>
<li>
<p>For debug regions, name them after the rendering pass or operation they represent</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_integration_with_external_tools"><a class="anchor" href="#_integration_with_external_tools"></a>Integration with External Tools</h3>
<div class="paragraph">
<p>Many external debugging tools support <code>VK_KHR_debug_utils</code> annotations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>RenderDoc</strong>: Displays debug markers and regions in its event timeline</p>
</li>
<li>
<p><strong>NVIDIA Nsight</strong>: Shows debug labels in its frame debugger</p>
</li>
<li>
<p><strong>AMD Radeon GPU Profiler</strong>: Uses debug regions to organize GPU workloads</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_debugging_tools_with_vk_khr_debug_utils"><a class="anchor" href="#_using_debugging_tools_with_vk_khr_debug_utils"></a>Using Debugging Tools with VK_KHR_debug_utils</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>VK_KHR_debug_utils</code> extension becomes even more powerful when used in conjunction with external debugging tools. This section focuses on using RenderDoc, one of the most popular graphics debugging tools, with Vulkan applications.</p>
</div>
<div class="sect2">
<h3 id="_renderdoc_overview"><a class="anchor" href="#_renderdoc_overview"></a>RenderDoc Overview</h3>
<div class="paragraph">
<p>RenderDoc is an open-source graphics debugging tool that allows developers to capture and analyze frames from their applications. It supports Vulkan and can display debug markers, object names, and regions that were set using the <code>VK_KHR_debug_utils</code> extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_setting_up_renderdoc_with_vulkan"><a class="anchor" href="#_setting_up_renderdoc_with_vulkan"></a>Setting Up RenderDoc with Vulkan</h3>
<div class="paragraph">
<p>To use RenderDoc with your Vulkan application:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download and install RenderDoc from the official website: <a href="https://renderdoc.org/" class="bare">https://renderdoc.org/</a></p>
</li>
<li>
<p>Launch RenderDoc</p>
</li>
<li>
<p>Either:</p>
<div class="ulist">
<ul>
<li>
<p>Launch your application through RenderDoc by clicking "Launch Application" and selecting your executable</p>
</li>
<li>
<p>Inject RenderDoc into an already running application by clicking "Inject into Process"</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>RenderDoc can also be integrated directly into your application using its in-application API, which allows you to programmatically trigger captures.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_capturing_frames"><a class="anchor" href="#_capturing_frames"></a>Capturing Frames</h3>
<div class="paragraph">
<p>Once your application is running with RenderDoc:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Press F12 (default hotkey) or click the "Capture Frame" button to capture the current frame</p>
</li>
<li>
<p>The captured frame will appear in the "Captures" panel</p>
</li>
<li>
<p>Double-click on the capture to open it for analysis</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_analyzing_captured_frames"><a class="anchor" href="#_analyzing_captured_frames"></a>Analyzing Captured Frames</h3>
<div class="paragraph">
<p>RenderDoc provides several views to analyze a captured frame:</p>
</div>
<div class="sect3">
<h4 id="_event_browser"><a class="anchor" href="#_event_browser"></a>Event Browser</h4>
<div class="paragraph">
<p>The Event Browser shows all Vulkan API calls in the captured frame. If you&#8217;ve used debug markers and regions with <code>VK_KHR_debug_utils</code>, they will appear in this timeline, making it easier to identify specific parts of your rendering pipeline.</p>
</div>
<div class="paragraph">
<p>Debug regions (created with <code>vkCmdBeginDebugUtilsLabelEXT</code> and <code>vkCmdEndDebugUtilsLabelEXT</code>) appear as collapsible sections in the Event Browser, and debug markers (created with <code>vkCmdInsertDebugUtilsLabelEXT</code>) appear as individual events.</p>
</div>
</div>
<div class="sect3">
<h4 id="_pipeline_state"><a class="anchor" href="#_pipeline_state"></a>Pipeline State</h4>
<div class="paragraph">
<p>The Pipeline State view shows the current state of the graphics pipeline at the selected event. Object names set with <code>vkSetDebugUtilsObjectNameEXT</code> will be displayed here, making it easier to identify resources.</p>
</div>
</div>
<div class="sect3">
<h4 id="_resource_inspector"><a class="anchor" href="#_resource_inspector"></a>Resource Inspector</h4>
<div class="paragraph">
<p>The Resource Inspector allows you to examine the contents of buffers, textures, and other resources. Named objects are easier to find in the resource list.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_common_debugging_workflows"><a class="anchor" href="#_common_debugging_workflows"></a>Common Debugging Workflows</h3>
<div class="paragraph">
<p>Here are some common workflows for debugging Vulkan applications with RenderDoc:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Identifying rendering issues</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Capture a frame</p>
</li>
<li>
<p>Use the Event Browser to locate the draw call with the issue</p>
</li>
<li>
<p>Examine the Pipeline State to check shader bindings, vertex inputs, and render states</p>
</li>
<li>
<p>Use the Texture Viewer to see the output at each stage</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Tracking down resource issues</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Use object naming to identify resources in the Resource Inspector</p>
</li>
<li>
<p>Check buffer contents and image data</p>
</li>
<li>
<p>Verify that resources are being updated correctly</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Optimizing performance</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Use debug regions to mark different passes in your renderer</p>
</li>
<li>
<p>Compare the time taken by different regions</p>
</li>
<li>
<p>Look for redundant state changes or unnecessary work</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Debugging shader issues</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Select a draw call in the Event Browser</p>
</li>
<li>
<p>Go to the Shader Viewer</p>
</li>
<li>
<p>Inspect input and output variables</p>
</li>
<li>
<p>Step through shader execution if needed</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_best_practices_for_debugging_with_renderdoc"><a class="anchor" href="#_best_practices_for_debugging_with_renderdoc"></a>Best Practices for Debugging with RenderDoc</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Use meaningful names for debug markers and regions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Name regions after rendering passes (e.g., "Shadow Pass", "Geometry Pass")</p>
</li>
<li>
<p>Use hierarchical naming for nested regions</p>
</li>
<li>
<p>Include relevant information in marker names (e.g., "Drawing Character #42")</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Name important objects</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Give descriptive names to framebuffers, render passes, pipelines, and other key resources</p>
</li>
<li>
<p>Include purpose and type information in names (e.g., "Main Scene Depth Buffer")</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Structure your rendering code with debugging in mind</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Wrap logical groups of commands in debug regions</p>
</li>
<li>
<p>Insert markers at key points</p>
</li>
<li>
<p>Consider using different colors for different types of operations</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Be selective with captures</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Capturing frames with complex scenes can result in large capture files</p>
</li>
<li>
<p>Focus on specific frames that demonstrate the issue you&#8217;re investigating</p>
</li>
<li>
<p>Use the in-application API to capture specific frames programmatically</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comparison_with_vk_ext_debug_report"><a class="anchor" href="#_comparison_with_vk_ext_debug_report"></a>Comparison with VK_EXT_debug_report</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>VK_KHR_debug_utils</code> extension is the successor to the older <code>VK_EXT_debug_report</code> extension. It provides several advantages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>More detailed message information</p>
</li>
<li>
<p>Object naming capabilities</p>
</li>
<li>
<p>Command buffer and queue labeling</p>
</li>
<li>
<p>Debug regions for grouping operations</p>
</li>
<li>
<p>More granular message filtering</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you&#8217;re currently using <code>VK_EXT_debug_report</code>, it&#8217;s recommended to migrate to <code>VK_KHR_debug_utils</code> for these enhanced debugging capabilities.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_migrating_from_vk_ext_debug_report_to_vk_khr_debug_utils"><a class="anchor" href="#_migrating_from_vk_ext_debug_report_to_vk_khr_debug_utils"></a>Migrating from VK_EXT_debug_report to VK_KHR_debug_utils</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section provides guidance on how to migrate from the older <code>VK_EXT_debug_report</code> extension to the newer and more feature-rich <code>VK_KHR_debug_utils</code> extension.</p>
</div>
<div class="sect2">
<h3 id="_enabling_the_extension"><a class="anchor" href="#_enabling_the_extension"></a>Enabling the Extension</h3>
<div class="paragraph">
<p>First, you need to enable the <code>VK_KHR_debug_utils</code> extension instead of <code>VK_EXT_debug_report</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// Old way with VK_EXT_debug_report
const char* extensions[] = { "VK_EXT_debug_report", ... };

// New way with VK_KHR_debug_utils
const char* extensions[] = { "VK_KHR_debug_utils", ... };</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_creating_a_debug_callback"><a class="anchor" href="#_creating_a_debug_callback"></a>Creating a Debug Callback</h3>
<div class="paragraph">
<p>The process of creating a debug callback has changed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// Old way with VK_EXT_debug_report
VkDebugReportCallbackCreateInfoEXT createInfo = {};
createInfo.sType = VK_STRUCTURE_TYPE_DEBUG_REPORT_CALLBACK_CREATE_INFO_EXT;
createInfo.flags = VK_DEBUG_REPORT_ERROR_BIT_EXT |
                   VK_DEBUG_REPORT_WARNING_BIT_EXT;
createInfo.pfnCallback = debugReportCallback;

VkDebugReportCallbackEXT callback;
auto vkCreateDebugReportCallbackEXT = (PFN_vkCreateDebugReportCallbackEXT)
    vkGetInstanceProcAddr(instance, "vkCreateDebugReportCallbackEXT");
vkCreateDebugReportCallbackEXT(instance, &amp;createInfo, nullptr, &amp;callback);

// New way with VK_KHR_debug_utils
VkDebugUtilsMessengerCreateInfoEXT createInfo = {};
createInfo.sType = VK_STRUCTURE_TYPE_DEBUG_UTILS_MESSENGER_CREATE_INFO_EXT;
createInfo.messageSeverity = VK_DEBUG_UTILS_MESSAGE_SEVERITY_ERROR_BIT_EXT |
                            VK_DEBUG_UTILS_MESSAGE_SEVERITY_WARNING_BIT_EXT;
createInfo.messageType = VK_DEBUG_UTILS_MESSAGE_TYPE_VALIDATION_BIT_EXT |
                         VK_DEBUG_UTILS_MESSAGE_TYPE_PERFORMANCE_BIT_EXT;
createInfo.pfnUserCallback = debugUtilsCallback;

VkDebugUtilsMessengerEXT messenger;
auto vkCreateDebugUtilsMessengerEXT = (PFN_vkCreateDebugUtilsMessengerEXT)
    vkGetInstanceProcAddr(instance, "vkCreateDebugUtilsMessengerEXT");
vkCreateDebugUtilsMessengerEXT(instance, &amp;createInfo, nullptr, &amp;messenger);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_converting_the_callback_function"><a class="anchor" href="#_converting_the_callback_function"></a>Converting the Callback Function</h3>
<div class="paragraph">
<p>The callback function signature and parameters have changed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// Old callback for VK_EXT_debug_report
VKAPI_ATTR VkBool32 VKAPI_CALL debugReportCallback(
    VkDebugReportFlagsEXT flags,
    VkDebugReportObjectTypeEXT objectType,
    uint64_t object,
    size_t location,
    int32_t messageCode,
    const char* pLayerPrefix,
    const char* pMessage,
    void* pUserData) {

    std::cerr &lt;&lt; "Validation layer: " &lt;&lt; pMessage &lt;&lt; std::endl;
    return VK_FALSE;
}

// New callback for VK_KHR_debug_utils
VKAPI_ATTR VkBool32 VKAPI_CALL debugUtilsCallback(
    VkDebugUtilsMessageSeverityFlagBitsEXT messageSeverity,
    VkDebugUtilsMessageTypeFlagsEXT messageType,
    const VkDebugUtilsMessengerCallbackDataEXT* pCallbackData,
    void* pUserData) {

    std::cerr &lt;&lt; "Validation layer: " &lt;&lt; pCallbackData-&gt;pMessage &lt;&lt; std::endl;
    return VK_FALSE;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_mapping_message_severity"><a class="anchor" href="#_mapping_message_severity"></a>Mapping Message Severity</h3>
<div class="paragraph">
<p>The message severity flags have been renamed and expanded:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// VK_EXT_debug_report severity flags
VK_DEBUG_REPORT_INFORMATION_BIT_EXT
VK_DEBUG_REPORT_WARNING_BIT_EXT
VK_DEBUG_REPORT_PERFORMANCE_WARNING_BIT_EXT
VK_DEBUG_REPORT_ERROR_BIT_EXT
VK_DEBUG_REPORT_DEBUG_BIT_EXT

// VK_KHR_debug_utils severity flags (more granular)
VK_DEBUG_UTILS_MESSAGE_SEVERITY_VERBOSE_BIT_EXT
VK_DEBUG_UTILS_MESSAGE_SEVERITY_INFO_BIT_EXT
VK_DEBUG_UTILS_MESSAGE_SEVERITY_WARNING_BIT_EXT
VK_DEBUG_UTILS_MESSAGE_SEVERITY_ERROR_BIT_EXT</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mapping between the two:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VK_DEBUG_REPORT_INFORMATION_BIT_EXT</code> → <code>VK_DEBUG_UTILS_MESSAGE_SEVERITY_INFO_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_DEBUG_REPORT_WARNING_BIT_EXT</code> → <code>VK_DEBUG_UTILS_MESSAGE_SEVERITY_WARNING_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_DEBUG_REPORT_PERFORMANCE_WARNING_BIT_EXT</code> → <code>VK_DEBUG_UTILS_MESSAGE_SEVERITY_WARNING_BIT_EXT</code> with <code>VK_DEBUG_UTILS_MESSAGE_TYPE_PERFORMANCE_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_DEBUG_REPORT_ERROR_BIT_EXT</code> → <code>VK_DEBUG_UTILS_MESSAGE_SEVERITY_ERROR_BIT_EXT</code></p>
</li>
<li>
<p><code>VK_DEBUG_REPORT_DEBUG_BIT_EXT</code> → <code>VK_DEBUG_UTILS_MESSAGE_SEVERITY_VERBOSE_BIT_EXT</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_message_types"><a class="anchor" href="#_message_types"></a>Message Types</h3>
<div class="paragraph">
<p><code>VK_KHR_debug_utils</code> introduces message types which didn&#8217;t exist in <code>VK_EXT_debug_report</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">VK_DEBUG_UTILS_MESSAGE_TYPE_GENERAL_BIT_EXT
VK_DEBUG_UTILS_MESSAGE_TYPE_VALIDATION_BIT_EXT
VK_DEBUG_UTILS_MESSAGE_TYPE_PERFORMANCE_BIT_EXT</code></pre>
</div>
</div>
<div class="paragraph">
<p>For most validation layer messages, you&#8217;ll want to use <code>VK_DEBUG_UTILS_MESSAGE_TYPE_VALIDATION_BIT_EXT</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_destroying_the_debug_callback"><a class="anchor" href="#_destroying_the_debug_callback"></a>Destroying the Debug Callback</h3>
<div class="paragraph">
<p>The destruction function has also changed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// Old way with VK_EXT_debug_report
auto vkDestroyDebugReportCallbackEXT = (PFN_vkDestroyDebugReportCallbackEXT)
    vkGetInstanceProcAddr(instance, "vkDestroyDebugReportCallbackEXT");
vkDestroyDebugReportCallbackEXT(instance, callback, nullptr);

// New way with VK_KHR_debug_utils
auto vkDestroyDebugUtilsMessengerEXT = (PFN_vkDestroyDebugUtilsMessengerEXT)
    vkGetInstanceProcAddr(instance, "vkDestroyDebugUtilsMessengerEXT");
vkDestroyDebugUtilsMessengerEXT(instance, messenger, nullptr);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_object_naming_2"><a class="anchor" href="#_object_naming_2"></a>Object Naming</h3>
<div class="paragraph">
<p>One of the biggest advantages of <code>VK_KHR_debug_utils</code> is the ability to name Vulkan objects, which wasn&#8217;t possible with <code>VK_EXT_debug_report</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// Not available in VK_EXT_debug_report

// New capability in VK_KHR_debug_utils
VkDebugUtilsObjectNameInfoEXT nameInfo = {};
nameInfo.sType = VK_STRUCTURE_TYPE_DEBUG_UTILS_OBJECT_NAME_INFO_EXT;
nameInfo.objectType = VK_OBJECT_TYPE_BUFFER;
nameInfo.objectHandle = (uint64_t)buffer;
nameInfo.pObjectName = "My Vertex Buffer";

auto vkSetDebugUtilsObjectNameEXT = (PFN_vkSetDebugUtilsObjectNameEXT)
    vkGetInstanceProcAddr(instance, "vkSetDebugUtilsObjectNameEXT");
vkSetDebugUtilsObjectNameEXT(device, &amp;nameInfo);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_debug_markers_and_regions_2"><a class="anchor" href="#_debug_markers_and_regions_2"></a>Debug Markers and Regions</h3>
<div class="paragraph">
<p>Another major feature in <code>VK_KHR_debug_utils</code> that wasn&#8217;t in <code>VK_EXT_debug_report</code> is the ability to insert debug markers and regions:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// Not available in VK_EXT_debug_report

// New capability in VK_KHR_debug_utils for command buffer labeling
VkDebugUtilsLabelEXT labelInfo = {};
labelInfo.sType = VK_STRUCTURE_TYPE_DEBUG_UTILS_LABEL_EXT;
labelInfo.pLabelName = "Draw Skybox";
float color[4] = {0.0f, 0.0f, 1.0f, 1.0f}; // Blue
memcpy(labelInfo.color, color, sizeof(float) * 4);

auto vkCmdBeginDebugUtilsLabelEXT = (PFN_vkCmdBeginDebugUtilsLabelEXT)
    vkGetInstanceProcAddr(instance, "vkCmdBeginDebugUtilsLabelEXT");
vkCmdBeginDebugUtilsLabelEXT(commandBuffer, &amp;labelInfo);

// Record commands...

auto vkCmdEndDebugUtilsLabelEXT = (PFN_vkCmdEndDebugUtilsLabelEXT)
    vkGetInstanceProcAddr(instance, "vkCmdEndDebugUtilsLabelEXT");
vkCmdEndDebugUtilsLabelEXT(commandBuffer);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_filtering_messages"><a class="anchor" href="#_filtering_messages"></a>Filtering Messages</h3>
<div class="paragraph">
<p>Both extensions allow filtering messages, but <code>VK_KHR_debug_utils</code> provides more granular control:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// VK_EXT_debug_report filtering (limited)
VkBool32 debugReportCallback(/* ... */) {
    // Filter based on message content
    if (strstr(pMessage, "specialuse-extension") != NULL) {
        return VK_FALSE;
    }
    // ...
}

// VK_KHR_debug_utils filtering (more options)
VkBool32 debugUtilsCallback(
    VkDebugUtilsMessageSeverityFlagBitsEXT messageSeverity,
    VkDebugUtilsMessageTypeFlagsEXT messageType,
    const VkDebugUtilsMessengerCallbackDataEXT* pCallbackData,
    void* pUserData) {

    // Filter based on severity
    if (messageSeverity &lt; VK_DEBUG_UTILS_MESSAGE_SEVERITY_WARNING_BIT_EXT) {
        return VK_FALSE; // Ignore verbose and info messages
    }

    // Filter based on type
    if (!(messageType &amp; VK_DEBUG_UTILS_MESSAGE_TYPE_VALIDATION_BIT_EXT)) {
        return VK_FALSE; // Only show validation messages
    }

    // Filter based on message ID
    if (strstr(pCallbackData-&gt;pMessageIdName, "specialuse-extension") != NULL) {
        return VK_FALSE;
    }

    // ...
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusion"><a class="anchor" href="#_conclusion"></a>Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>VK_KHR_debug_utils</code> extension represents a significant advancement in Vulkan debugging capabilities. By providing a comprehensive set of tools for object naming, command annotation, and validation feedback, it addresses critical challenges in GPU application development.</p>
</div>
<div class="paragraph">
<p>Integration of this extension into development workflows yields tangible benefits:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Enhanced error identification through detailed validation messages</p>
</li>
<li>
<p>Reduced debugging time via precise object and operation labeling</p>
</li>
<li>
<p>Improved collaboration through standardized debugging annotations</p>
</li>
<li>
<p>Seamless integration with industry-standard graphics debugging tools</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For production-grade Vulkan applications, implementing <code>VK_KHR_debug_utils</code> should be considered an essential practice rather than an optional enhancement. The minimal runtime overhead during development is far outweighed by the significant productivity gains in complex graphics pipeline troubleshooting.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script src="../../../_/js/vendor/split.js"></script>
<script>
    // Splitter should only be visible in non-mobile layouts (where a hamburger menu is used for nav)
    var width = (window.innerWidth > 0) ? window.innerWidth : screen.width;
    var mobileNav = (width < 1024);

    if (!mobileNav) {
        var sizes = localStorage.getItem('split-sizes')

        if (sizes) {
            sizes = JSON.parse(sizes)
        } else {
            sizes = [25, 75]
        }

        var split = Split(['#split-0', '#split-1'], {
            sizes: sizes,
            onDragEnd: function (sizes) {
                localStorage.setItem('split-sizes', JSON.stringify(sizes))
            },
        })
    }
</script>
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="https://cdn.jsdelivr.net/pako/1.0.3/pako.min.js"></script>
<script src="../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../_/css/search.css"></script>
<script>
(function(){
  try {
    var script = document.getElementById('search-ui-script');
    var siteRoot = (script && script.getAttribute('data-site-root-path')) || '';
    var manifestUrl = siteRoot + '/search-index/manifest.json';
    fetch(manifestUrl)
      .then(function (r) { return r.ok ? r.json() : Promise.reject(new Error('manifest not found')) })
      .then(function (manifest) { antoraSearch.bootstrap(lunr, manifest, siteRoot); })
      .catch(function () {
        var s = document.createElement('script');
        s.async = true;
        s.src = siteRoot + '/search-index.js';
        document.head.appendChild(s);
      });
  } catch (e) {
    // Fallback to monolithic index if anything goes wrong
    var s = document.createElement('script');
    s.async = true;
    s.src = '../../../search-index.js';
    document.head.appendChild(s);
  }
})();
</script>
<script async src="../../../_/js/vendor/tabs.js"></script>
  </body>
</html>
