<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Tooling: Vulkan Extensions for Robustness :: Vulkan Documentation Project</title>
    <meta name="generator" content="Antora 3.1.10">
    <script>
      !function (theme) {
        if (theme === 'dark') document.documentElement.classList.add('dark')
        else document.documentElement.classList.add('light')
      }(localStorage && localStorage.getItem('theme') || (matchMedia('(prefers-color-scheme: dark)')?.matches && 'dark'))
    </script>
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <link rel="stylesheet" href="../../../../_/css/vendor/tabs.css">
    <link rel="apple-touch-icon" sizes="180x180" href="../../../../_/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../../_/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../../_/img/favicon-16x16.png">
    <link rel="manifest" href="../../../../_/site.webmanifest">
    <link rel="mask-icon" href="../../../../_/img/safari-pinned-tab.svg" color="#a41e22">
    <meta name="msapplication-TileColor" content="#ffc40d">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../../.."><img class="navbar-item no-invert" alt="Vulkan White Label" src="../../../../_/Vulkan_Docs.svg" /></a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field has-filter">
          <label for="search-input"></label>
          <input id="search-input" type="text" placeholder="Search the docs" aria-label="Search the docs">
          <label class="filter checkbox">
            <input type="checkbox" data-facet-filter="component:tutorial" checked> In this component
          </label>
        </div>
      </div>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <!-- <a class="navbar-item" href="#">Home</a> -->
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Specs</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../../spec/latest/chapters/introduction.html">Vulkan API</a>
            <a class="navbar-item" href="../../../../glsl/latest/index.html">GLSL</a>
            <a class="navbar-item" href="../../../../guide/latest/hlsl.html">HLSL</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Education</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../../refpages/latest/refpages/index.html">Vulkan Reference Pages</a>
            <a class="navbar-item" href="../../../../features/latest/features/index.html">Vulkan Feature Descriptions</a>
            <a class="navbar-item" href="../../../../guide/latest/index.html">Vulkan Guide</a>
            <a class="navbar-item" href="../../../../samples/latest/README.html">Vulkan Samples</a>
            <a class="navbar-item" href="../../../../tutorial/latest/index.html">Vulkan Tutorial</a>
            <a class="navbar-item" href="https://www.youtube.com/c/vulkan">YouTube</a>
            <a class="navbar-item" href="https://vulkan.org">More Info at Vulkan.org</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Feedback</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://github.com/KhronosGroup/Vulkan-Site/issues/new/choose" target="_blank">Report a Problem</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://discord.gg/vulkan">Vulkan Discord</a>
            <a class="navbar-item" href="https://reddit.com/r/vulkan">Reddit</a>
            <a class="navbar-item" href="https://stackoverflow.com/questions/tagged/vulkan">Stack Overflow</a>
            <a class="navbar-item" href="https://fosstodon.org/@vulkan">Mastodon</a>
          </div>
        </div>
      </div>
    </div>
    <label class="theme-toggler">
      <input type="checkbox" id="switch-theme-checkbox" name="switch-theme-checkbox" aria-label="Toggle color theme" title="Toggle color theme"/>
      <span class="icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="moon" class="svg-inline--fa fa-moon moon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"></path>
        </svg>
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="sun" class="svg-inline--fa fa-sun sun" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"></path>
        </svg></span>
    </label>
  </nav>
</header>
<script>
  window.onload = function() {
    let e = document.getElementById("switch-theme-checkbox")
    e.checked = document.documentElement.classList.contains("dark");
    e.checked ? e.parentElement.classList.add("active") : e.parentElement.classList.remove("active")
  }
  !function() {
    let e = document.getElementById("switch-theme-checkbox")
    e.checked = document.documentElement.classList.contains("dark")
    e.addEventListener("change", function() {
      if (document.documentElement.classList.contains("light")) {
        document.documentElement.classList.remove("light")
        document.documentElement.classList.add("dark")
      } else if (document.documentElement.classList.contains("dark")) {
        document.documentElement.classList.remove("dark")
        document.documentElement.classList.add("light")
      } else {
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
          document.documentElement.classList.add("dark")
        } else {
          document.documentElement.classList.add("light")
        }
      }
      document.documentElement.setAttribute("data-theme", this.checked ? "dark" : "light"),
        function(e) {
          window.localStorage && window.localStorage.setItem("theme", e)
        }(this.checked ? "dark" : "light"), this.checked ? this.parentElement.classList.add("active") : this.parentElement.classList.remove("active")
    }.bind(e))
  }();
</script>
<div class="body">
<div class="nav-container" data-component="tutorial" data-version="latest" id="split-0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../../00_Introduction.html">Khronos Vulkan Tutorial</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../00_Introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../01_Overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../02_Development_environment.html">Development environment</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../03_Drawing_a_triangle/00_Setup/00_Base_code.html">Drawing a triangle</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../03_Drawing_a_triangle/00_Setup/00_Base_code.html">Setup</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/00_Setup/00_Base_code.html">Base Code</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/00_Setup/01_Instance.html">Instance</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/00_Setup/02_Validation_layers.html">Validation layers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/00_Setup/03_Physical_devices_and_queue_families.html">Physical devices and queue families</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/00_Setup/04_Logical_device_and_queues.html">Logical device and queues</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../03_Drawing_a_triangle/01_Presentation/00_Window_surface.html">Presentation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/01_Presentation/00_Window_surface.html">Window surface</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/01_Presentation/01_Swap_chain.html">Swap chain</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/01_Presentation/02_Image_views.html">Image views</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../03_Drawing_a_triangle/02_Graphics_pipeline_basics/00_Introduction.html">Graphics pipeline basics</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/02_Graphics_pipeline_basics/00_Introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/02_Graphics_pipeline_basics/01_Shader_modules.html">Shader modules</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/02_Graphics_pipeline_basics/02_Fixed_functions.html">Fixed functions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/02_Graphics_pipeline_basics/03_Render_passes.html">Render passes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/02_Graphics_pipeline_basics/04_Conclusion.html">Conclusion</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../03_Drawing_a_triangle/03_Drawing/00_Framebuffers.html">Drawing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/03_Drawing/00_Framebuffers.html">Framebuffers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/03_Drawing/01_Command_buffers.html">Command buffers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/03_Drawing/02_Rendering_and_presentation.html">Rendering and presentation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/03_Drawing/03_Frames_in_flight.html">Frames in flight</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../03_Drawing_a_triangle/04_Swap_chain_recreation.html">Swap chain recreation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../04_Vertex_buffers/00_Vertex_input_description.html">Vertex buffers</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../04_Vertex_buffers/00_Vertex_input_description.html">Vertex input description</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../04_Vertex_buffers/01_Vertex_buffer_creation.html">Vertex buffer creation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../04_Vertex_buffers/02_Staging_buffer.html">Staging buffer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../04_Vertex_buffers/03_Index_buffer.html">Index buffer</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../05_Uniform_buffers/00_Descriptor_set_layout_and_buffer.html">Uniform buffers</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../05_Uniform_buffers/00_Descriptor_set_layout_and_buffer.html">Descriptor layout and buffer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../05_Uniform_buffers/01_Descriptor_pool_and_sets.html">Descriptor pool and sets</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../06_Texture_mapping/00_Images.html">Texture mapping</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../06_Texture_mapping/00_Images.html">Images</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../06_Texture_mapping/01_Image_view_and_sampler.html">Image view and sampler</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../06_Texture_mapping/02_Combined_image_sampler.html">Combined image sampler</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../07_Depth_buffering.html">Depth buffering</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../08_Loading_models.html">Loading models</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../09_Generating_Mipmaps.html">Generating Mipmaps</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../10_Multisampling.html">Multisampling</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../11_Compute_Shader.html">Compute Shader</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../12_Ecosystem_Utilities_and_Compatibility.html">Ecosystem Utilities and GPU Compatibility</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../13_Vulkan_Profiles.html">Vulkan Profiles</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../14_Android.html">Android</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../15_GLTF_KTX2_Migration.html">Migrating to Modern Asset Formats: glTF and KTX2</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../16_Multiple_Objects.html">Rendering Multiple Objects</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../17_Multithreading.html">Multithreading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../courses/18_Ray_tracing/00_Overview.html">Ray Tracing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../courses/18_Ray_tracing/00_Overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../courses/18_Ray_tracing/01_Dynamic_rendering.html">Dynamic rendering</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../courses/18_Ray_tracing/02_Acceleration_structures.html">Acceleration structures</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../courses/18_Ray_tracing/03_Ray_query_shadows.html">Ray query shadows</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../courses/18_Ray_tracing/04_TLAS_animation.html">TLAS animation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../courses/18_Ray_tracing/05_Shadow_transparency.html">Shadow transparency</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../courses/18_Ray_tracing/06_Reflections.html">Reflections</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../courses/18_Ray_tracing/07_Conclusion.html">Conclusion</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../90_FAQ.html">FAQ</a>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><a href="https://github.com/KhronosGroup/Vulkan-Tutorial" target="_blank" rel="noopener">GitHub Repository</a></span>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Khronos Vulkan Tutorial</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <div class="title"><a href="../../00_Introduction.html">Khronos Vulkan Tutorial</a></div>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../00_Introduction.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../../glsl/latest/index.html">OpenGL Shading Language Specification</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../glsl/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../../refpages/latest/refpages/index.html">Vulkan API Reference Pages</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../refpages/latest/refpages/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../../features/latest/features/index.html">Vulkan Feature Descriptions</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../features/latest/features/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../../guide/latest/index.html">Vulkan Guide</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../guide/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../../samples/latest/README.html">Vulkan Samples</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../samples/latest/README.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../../spec/latest/index.html">Vulkan Specification</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../spec/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article" id="split-1">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../spec/latest/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../00_Introduction.html">Khronos Vulkan Tutorial</a></li>
    <li><a href="05_extensions.html">Tooling: Vulkan Extensions for Robustness</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Tooling: Vulkan Extensions for Robustness</h1>
<div class="sect1">
<h2 id="_vulkan_extensions_for_robustness"><a class="anchor" href="#_vulkan_extensions_for_robustness"></a>Vulkan Extensions for Robustness</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vulkan&#8217;s explicit design gives developers fine-grained control over the graphics pipeline, but this control comes with responsibility. Undefined behavior can occur when applications make mistakes like accessing out-of-bounds memory or using uninitialized resources. In this section, we&#8217;ll explore Vulkan extensions that can help make your application more robust against such issues, with a particular focus on VK_EXT_robustness2.</p>
</div>
<div class="sect2">
<h3 id="_understanding_undefined_behavior_in_vulkan"><a class="anchor" href="#_understanding_undefined_behavior_in_vulkan"></a>Understanding Undefined Behavior in Vulkan</h3>
<div class="paragraph">
<p>Before diving into robustness extensions, let&#8217;s understand what kinds of undefined behavior can occur in Vulkan applications:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Out-of-bounds Access</strong>: Accessing memory outside the bounds of a buffer or image</p>
</li>
<li>
<p><strong>Use-after-free</strong>: Using a resource after it has been destroyed</p>
</li>
<li>
<p><strong>Uninitialized Memory</strong>: Reading from memory that hasn&#8217;t been initialized</p>
</li>
<li>
<p><strong>Invalid Descriptors</strong>: Using descriptors that point to invalid or incompatible resources</p>
</li>
<li>
<p><strong>Shader Execution Errors</strong>: Division by zero, infinite loops, etc.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In standard Vulkan, these errors can lead to unpredictable behavior, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Application crashes</p>
</li>
<li>
<p>GPU hangs requiring a system restart</p>
</li>
<li>
<p>Corrupted rendering</p>
</li>
<li>
<p>Security vulnerabilities</p>
</li>
<li>
<p>Inconsistent behavior across different hardware</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Robustness extensions aim to provide more predictable behavior in these scenarios, often at a small performance cost.</p>
</div>
</div>
<div class="sect2">
<h3 id="_vk_ext_robustness2_extension"><a class="anchor" href="#_vk_ext_robustness2_extension"></a>VK_EXT_robustness2 Extension</h3>
<div class="paragraph">
<p>The VK_EXT_robustness2 extension is an improved version of the original VK_EXT_robustness extension. It provides more comprehensive protection against undefined behavior, particularly for out-of-bounds accesses.</p>
</div>
<div class="sect3">
<h4 id="_key_features"><a class="anchor" href="#_key_features"></a>Key Features</h4>
<div class="paragraph">
<p>VK_EXT_robustness2 offers several important features:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Robust Buffer Access</strong>: Out-of-bounds reads from buffers return zero values instead of causing undefined behavior</p>
</li>
<li>
<p><strong>Robust Image Access</strong>: Out-of-bounds reads from images return zero or transparent black</p>
</li>
<li>
<p><strong>Null Descriptor Handling</strong>: Reads from null descriptors return zero values</p>
</li>
<li>
<p><strong>Robust Buffer Access 2</strong>: An improved version that also handles out-of-bounds writes by discarding them</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_enabling_vk_ext_robustness2"><a class="anchor" href="#_enabling_vk_ext_robustness2"></a>Enabling VK_EXT_robustness2</h4>
<div class="paragraph">
<p>Let&#8217;s see how to enable and use this extension.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">bool check_robustness2_support(vk::raii::PhysicalDevice&amp; physical_device) {
    // Check if the extension is supported
    auto available_extensions = physical_device.enumerateDeviceExtensionProperties();

    for (const auto&amp; extension : available_extensions) {
        if (strcmp(extension.extensionName, VK_EXT_ROBUSTNESS_2_EXTENSION_NAME) == 0) {
            return true;
        }
    }

    return false;
}

void enable_robustness2(vk::DeviceCreateInfo&amp; device_create_info,
                       std::vector&lt;const char*&gt;&amp; enabled_extensions) {
    // Add the extension to the list of enabled extensions
    enabled_extensions.push_back(VK_EXT_ROBUSTNESS_2_EXTENSION_NAME);
    device_create_info.setPEnabledExtensionNames(enabled_extensions);

    // Set up the robustness2 features
    vk::PhysicalDeviceRobustness2FeaturesEXT robustness2_features{};
    robustness2_features.setRobustBufferAccess2(VK_TRUE);
    robustness2_features.setRobustImageAccess2(VK_TRUE);
    robustness2_features.setNullDescriptor(VK_TRUE);

    // Add to the pNext chain
    robustness2_features.pNext = device_create_info.pNext;
    device_create_info.pNext = &amp;robustness2_features;
}

vk::raii::Device create_robust_device(vk::raii::PhysicalDevice&amp; physical_device,
                                     vk::raii::Instance&amp; instance) {
    // Check for support
    if (!check_robustness2_support(physical_device)) {
        std::cerr &lt;&lt; "VK_EXT_robustness2 is not supported on this device" &lt;&lt; std::endl;
        // Fall back to less robust behavior or abort
    }

    // Set up device creation
    std::vector&lt;const char*&gt; enabled_extensions;
    // Add your other required extensions here

    vk::DeviceCreateInfo create_info{};
    // Set up your queues, features, etc.

    // Enable robustness2
    enable_robustness2(create_info, enabled_extensions);

    // Create the device
    return vk::raii::Device(physical_device, create_info);
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_using_robust_access_in_practice"><a class="anchor" href="#_using_robust_access_in_practice"></a>Using Robust Access in Practice</h4>
<div class="paragraph">
<p>Once you&#8217;ve enabled the extension, robust buffer and image access will be applied automatically. However, you should be aware of some considerations:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Performance Impact</strong>: Robust access can have a performance cost, as the GPU needs to perform bounds checking</p>
</li>
<li>
<p><strong>Not a Substitute for Correctness</strong>: While robustness extensions make your application more resilient, they don&#8217;t fix the underlying bugs</p>
</li>
<li>
<p><strong>Debug vs. Release</strong>: Consider enabling robustness in debug builds for development and testing, but evaluate the performance impact for release builds</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Here&#8217;s an example of how robust buffer access can prevent crashes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// Without robust buffer access, this could crash or produce undefined results
void potentially_dangerous_operation(vk::raii::CommandBuffer&amp; cmd_buffer,
                                    vk::raii::Buffer&amp; buffer,
                                    vk::raii::DescriptorSet&amp; descriptor_set,
                                    uint32_t dynamic_offset,
                                    uint32_t buffer_size) {
    // If dynamic_offset is too large, this would normally cause undefined behavior
    // With robust buffer access, out-of-bounds reads will return zero
    cmd_buffer.bindDescriptorSets(
        vk::PipelineBindPoint::eCompute,
        pipeline_layout,
        0,
        1,
        &amp;(*descriptor_set),
        1,
        &amp;dynamic_offset
    );

    // Dispatch compute work that might read out of bounds
    cmd_buffer.dispatch(buffer_size / 64 + 1, 1, 1);  // Potentially too many workgroups
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_other_robustness_extensions"><a class="anchor" href="#_other_robustness_extensions"></a>Other Robustness Extensions</h3>
<div class="paragraph">
<p>While VK_EXT_robustness2 is the focus of this section, there are other extensions that can help improve application robustness:</p>
</div>
<div class="sect3">
<h4 id="_vk_khr_buffer_device_address"><a class="anchor" href="#_vk_khr_buffer_device_address"></a>VK_KHR_buffer_device_address</h4>
<div class="paragraph">
<p>This extension allows you to use physical device addresses for buffers, which can be useful for advanced techniques. It includes robustness features for handling invalid addresses (when combined with robust access features like VK_EXT_robustness2 or core robustBufferAccess):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">void enable_buffer_device_address(vk::DeviceCreateInfo&amp; device_create_info,
                                 std::vector&lt;const char*&gt;&amp; enabled_extensions) {
    enabled_extensions.push_back(VK_KHR_BUFFER_DEVICE_ADDRESS_EXTENSION_NAME);
    device_create_info.setPEnabledExtensionNames(enabled_extensions);

    // Enable Buffer Device Address features
    vk::PhysicalDeviceBufferDeviceAddressFeatures buffer_device_address_features{};
    buffer_device_address_features.setBufferDeviceAddress(VK_TRUE);
    buffer_device_address_features.setBufferDeviceAddressCaptureReplay(VK_TRUE);

    // Optionally chain robustness features to ensure invalid addresses read as zero and writes are discarded
    // (If you've already enabled VK_EXT_robustness2 elsewhere, this is not required here.)
    vk::PhysicalDeviceRobustness2FeaturesEXT robustness2_features{};
    robustness2_features.setRobustBufferAccess2(VK_TRUE);
    robustness2_features.setRobustImageAccess2(VK_TRUE);
    robustness2_features.setNullDescriptor(VK_TRUE);

    // Chain features: robustness2 -&gt; BDA -&gt; existing pNext
    robustness2_features.pNext = &amp;buffer_device_address_features;
    buffer_device_address_features.pNext = device_create_info.pNext;
    device_create_info.pNext = &amp;robustness2_features;
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_vk_ext_descriptor_indexing"><a class="anchor" href="#_vk_ext_descriptor_indexing"></a>VK_EXT_descriptor_indexing</h4>
<div class="paragraph">
<p>This extension allows for more flexible descriptor indexing, including robustness-related capabilities such as tolerating out-of-bounds indices (reads become zero when robust access is enabled), partially bound descriptor sets, and update-after-bind. To actually make use of these behaviors you need to enable both device features and descriptor set layout binding flags:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">void enable_descriptor_indexing(vk::DeviceCreateInfo&amp; device_create_info,
                               std::vector&lt;const char*&gt;&amp; enabled_extensions) {
    enabled_extensions.push_back(VK_EXT_DESCRIPTOR_INDEXING_EXTENSION_NAME);
    device_create_info.setPEnabledExtensionNames(enabled_extensions);

    vk::PhysicalDeviceDescriptorIndexingFeatures indexing_features{};
    // Shader indexing capabilities (commonly needed alongside robustness)
    indexing_features.setShaderSampledImageArrayNonUniformIndexing(VK_TRUE);
    indexing_features.setShaderStorageBufferArrayNonUniformIndexing(VK_TRUE);

    // Robustness-enabling behaviors
    indexing_features.setRuntimeDescriptorArray(VK_TRUE);
    indexing_features.setDescriptorBindingPartiallyBound(VK_TRUE);
    indexing_features.setDescriptorBindingSampledImageUpdateAfterBind(VK_TRUE);
    indexing_features.setDescriptorBindingStorageBufferUpdateAfterBind(VK_TRUE);
    indexing_features.setDescriptorBindingUpdateUnusedWhilePending(VK_TRUE);

    // Add to the pNext chain (can be chained together with VK_EXT_robustness2)
    indexing_features.pNext = device_create_info.pNext;
    device_create_info.pNext = &amp;indexing_features;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>For descriptor arrays, you must also specify binding flags at layout creation time:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// Example: descriptor set layout with a runtime-sized array that can be partially bound
vk::DescriptorSetLayoutBinding binding{};
binding.binding = 0;
binding.descriptorType = vk::DescriptorType::eCombinedImageSampler;
binding.descriptorCount = 128; // example array size; for true runtime arrays also enable variable descriptor counts
binding.stageFlags = vk::ShaderStageFlagBits::eFragment;

vk::DescriptorBindingFlags binding_flags =
    vk::DescriptorBindingFlagBits::ePartiallyBound |
    vk::DescriptorBindingFlagBits::eUpdateAfterBind;

vk::DescriptorSetLayoutBindingFlagsCreateInfo flags_ci{};
flags_ci.setBindingCount(1);
flags_ci.setPBindingFlags(&amp;binding_flags);

vk::DescriptorSetLayoutCreateInfo dsl_ci{};
dsl_ci.setPBindings(&amp;binding);
dsl_ci.setBindingCount(1);
// Required when using update-after-bind flags
// (some descriptor types require pool and layout flags to match update-after-bind usage)
dsl_ci.flags |= vk::DescriptorSetLayoutCreateFlagBits::eUpdateAfterBindPool;

dsl_ci.pNext = &amp;flags_ci;

vk::raii::DescriptorSetLayout set_layout{device, dsl_ci};</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you need truly variable-length descriptor arrays at runtime, also enable variable descriptor counts and use the corresponding allocate info:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// Enable the device feature
// indexing_features.setDescriptorBindingVariableDescriptorCount(VK_TRUE); // do this where features are enabled

uint32_t max_descriptors_for_set0 = 1024; // requested at allocation time

vk::DescriptorSetVariableDescriptorCountAllocateInfo variable_counts_info{};
variable_counts_info.setDescriptorSetCount(1);
variable_counts_info.setPDescriptorCounts(&amp;max_descriptors_for_set0);

vk::DescriptorSetAllocateInfo alloc_info{};
alloc_info.setDescriptorPool(descriptor_pool);
alloc_info.setDescriptorSetCount(1);
alloc_info.setPSetLayouts(&amp;*set_layout);
alloc_info.pNext = &amp;variable_counts_info;

auto descriptor_sets = vk::raii::DescriptorSets{device, alloc_info};</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note: With VK_EXT_robustness2&#8217;s nullDescriptor = VK_TRUE and descriptor indexing&#8217;s partially-bound behavior, unbound array elements will read as zero rather than invoking undefined behavior.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_combining_robustness_extensions_with_debugging_tools"><a class="anchor" href="#_combining_robustness_extensions_with_debugging_tools"></a>Combining Robustness Extensions with Debugging Tools</h3>
<div class="paragraph">
<p>For maximum effectiveness, combine robustness extensions with the debugging tools we discussed in previous sections:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">class RobustVulkanApplication {
public:
    RobustVulkanApplication() {
        initialize_vulkan();
    }

    void run() {
        // Main application loop
        while (!should_close()) {
            try {
                update();
                render();
            } catch (const vk::SystemError&amp; e) {
                // Handle recoverable Vulkan errors
                std::cerr &lt;&lt; "Vulkan error: " &lt;&lt; e.what() &lt;&lt; std::endl;
                // Attempt recovery
                if (!recover_from_error()) {
                    break;
                }
            }
        }

        cleanup();
    }

private:
    void initialize_vulkan() {
        // Create instance with validation layers in debug builds
        #ifdef _DEBUG
        enable_validation_layers = true;
        #else
        enable_validation_layers = false;
        #endif

        instance = create_instance();

        // Set up debug messenger if validation is enabled
        if (enable_validation_layers) {
            debug_messenger = create_debug_messenger(instance);
        }

        // Select physical device
        physical_device = select_physical_device(instance);

        // Check for robustness support
        has_robustness2 = check_robustness2_support(physical_device);

        // Create logical device with robustness if available
        device = create_device(physical_device);

        // Initialize other Vulkan resources
        // ...
    }

    vk::raii::Device create_device(vk::raii::PhysicalDevice&amp; physical_device) {
        std::vector&lt;const char*&gt; extensions;
        // Add required extensions

        vk::DeviceCreateInfo create_info{};
        // Set up queues, etc.

        // Enable robustness if available
        if (has_robustness2) {
            enable_robustness2(create_info, extensions);
        }

        // Enable other robustness-related extensions
        enable_buffer_device_address(create_info, extensions);
        enable_descriptor_indexing(create_info, extensions);

        return vk::raii::Device(physical_device, create_info);
    }

    bool recover_from_error() {
        // Attempt to recover from errors
        // This might involve recreating swapchain, command buffers, etc.
        try {
            // Reset command buffers
            // Recreate swapchain if needed
            // ...
            return true;
        } catch (const std::exception&amp; e) {
            std::cerr &lt;&lt; "Failed to recover: " &lt;&lt; e.what() &lt;&lt; std::endl;
            return false;
        }
    }

    // Vulkan objects
    vk::raii::Context context;
    vk::raii::Instance instance{nullptr};
    vk::raii::DebugUtilsMessengerEXT debug_messenger{nullptr};
    vk::raii::PhysicalDevice physical_device{nullptr};
    vk::raii::Device device{nullptr};

    // Flags
    bool enable_validation_layers = false;
    bool has_robustness2 = false;
};</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_best_practices_for_using_robustness_extensions"><a class="anchor" href="#_best_practices_for_using_robustness_extensions"></a>Best Practices for Using Robustness Extensions</h3>
<div class="paragraph">
<p>To make the most of robustness extensions:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Check for Support</strong>: Always check if the extension is supported before trying to use it</p>
</li>
<li>
<p><strong>Fallback Behavior</strong>: Implement fallback behavior for devices that don&#8217;t support the extensions</p>
</li>
<li>
<p><strong>Performance Testing</strong>: Measure the performance impact of enabling robustness features</p>
</li>
<li>
<p><strong>Combine with Validation</strong>: Use validation layers during development to catch issues early</p>
</li>
<li>
<p><strong>Don&#8217;t Rely on Robustness</strong>: Fix the underlying issues rather than relying on robustness extensions to mask them</p>
</li>
<li>
<p><strong>Document Usage</strong>: Clearly document which extensions your application requires and why</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_conclusion"><a class="anchor" href="#_conclusion"></a>Conclusion</h3>
<div class="paragraph">
<p>Vulkan robustness extensions, particularly VK_EXT_robustness2, provide valuable tools for making your application more resilient to undefined behavior. By combining these extensions with proper error handling, validation layers, and debugging tools, you can create a more stable and reliable Vulkan application.</p>
</div>
<div class="paragraph">
<p>In the next and final section, we&#8217;ll summarize what we&#8217;ve learned about tooling for Vulkan applications and discuss how to apply these techniques in your own projects.</p>
</div>
<div class="paragraph">
<p><a href="04_crash_minidump.adoc">Previous: Crash Handling and Minidumps</a> | <a href="06_packaging_and_distribution.adoc">Next: Packaging and Distribution</a></p>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<script id="site-script" src="../../../../_/js/site.js" data-ui-root-path="../../../../_"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script src="../../../../_/js/vendor/split.js"></script>
<script>
    // Splitter should only be visible in non-mobile layouts (where a hamburger menu is used for nav)
    var width = (window.innerWidth > 0) ? window.innerWidth : screen.width;
    var mobileNav = (width < 1024);

    if (!mobileNav) {
        var sizes = localStorage.getItem('split-sizes')

        if (sizes) {
            sizes = JSON.parse(sizes)
        } else {
            sizes = [25, 75]
        }

        var split = Split(['#split-0', '#split-1'], {
            sizes: sizes,
            onDragEnd: function (sizes) {
                localStorage.setItem('split-sizes', JSON.stringify(sizes))
            },
        })
    }
</script>
<script src="../../../../_/js/vendor/lunr.js" defer></script>
<script src="https://cdn.jsdelivr.net/pako/1.0.3/pako.min.js" defer></script>
<script src="../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../.." data-snippet-length="100" data-stylesheet="../../../../_/css/search.css" defer></script>
<script>
window.addEventListener('DOMContentLoaded', function(){
  try {
    var script = document.getElementById('search-ui-script');
    var siteRoot = (script && script.getAttribute('data-site-root-path')) || '';
    var manifestUrl = siteRoot + '/search-index/manifest.json';
    fetch(manifestUrl)
      .then(function (r) { return r.ok ? r.json() : Promise.reject(new Error('manifest not found')) })
      .then(function (manifest) { antoraSearch.bootstrap(lunr, manifest, siteRoot); })
      .catch(function () {
        var s = document.createElement('script');
        s.async = true;
        s.src = siteRoot + '/search-index.js';
        document.head.appendChild(s);
      });
  } catch (e) {
    // Fallback to monolithic index if anything goes wrong
    var s = document.createElement('script');
    s.async = true;
    s.src = '../../../../search-index.js';
    document.head.appendChild(s);
  }
});
</script>
<script async src="../../../../_/js/vendor/tabs.js"></script>
  </body>
</html>
