<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Mobile Development: Platform Considerations :: Vulkan Documentation Project</title>
    <meta name="generator" content="Antora 3.1.10">
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <script>var uiRootPath = '../../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../../..">Vulkan Documentation Project</a>
      <div class="navbar-item">
        <img alt="Vulkan White Label" src="../../../../_/Vulkan_White_Dec16.svg" height="100%" />
      </div>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <label for="search-input"></label><input id="search-input" type="text" placeholder="Search the docs">
        </div>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <!-- <a class="navbar-item" href="#">Home</a> -->
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Specs</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../../spec/latest/chapters/introduction.html">Vulkan 1.3</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Guides</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../../guide/latest/index.html">Vulkan Guide</a>
          </div>
        </div>
            <!--
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Tools</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">TBD</a>
          </div>
        </div>
            -->
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Tutorial</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../../tutorial/latest/index.html">Vulkan Tutorial</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Samples</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../../../samples/latest/README.html">Vulkan Samples</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Help</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://discord.gg/vulkan">Vulkan Discord</a>
            <a class="navbar-item" href="https://khr.io/khrdiscord">Khronos Discord</a>
          </div>
        </div>
            <!--
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
            -->
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="tutorial" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../00_Introduction.html">Khronos Vulkan Tutorial</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../00_Introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../01_Overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../02_Development_environment.html">Development environment</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../03_Drawing_a_triangle/00_Setup/00_Base_code.html">Drawing a triangle</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../03_Drawing_a_triangle/00_Setup/00_Base_code.html">Setup</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/00_Setup/00_Base_code.html">Base Code</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/00_Setup/01_Instance.html">Instance</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/00_Setup/02_Validation_layers.html">Validation layers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/00_Setup/03_Physical_devices_and_queue_families.html">Physical devices and queue families</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/00_Setup/04_Logical_device_and_queues.html">Logical device and queues</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../03_Drawing_a_triangle/01_Presentation/00_Window_surface.html">Presentation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/01_Presentation/00_Window_surface.html">Window surface</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/01_Presentation/01_Swap_chain.html">Swap chain</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/01_Presentation/02_Image_views.html">Image views</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../03_Drawing_a_triangle/02_Graphics_pipeline_basics/00_Introduction.html">Graphics pipeline basics</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/02_Graphics_pipeline_basics/00_Introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/02_Graphics_pipeline_basics/01_Shader_modules.html">Shader modules</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/02_Graphics_pipeline_basics/02_Fixed_functions.html">Fixed functions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/02_Graphics_pipeline_basics/03_Render_passes.html">Render passes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/02_Graphics_pipeline_basics/04_Conclusion.html">Conclusion</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../03_Drawing_a_triangle/03_Drawing/00_Framebuffers.html">Drawing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/03_Drawing/00_Framebuffers.html">Framebuffers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/03_Drawing/01_Command_buffers.html">Command buffers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/03_Drawing/02_Rendering_and_presentation.html">Rendering and presentation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../03_Drawing_a_triangle/03_Drawing/03_Frames_in_flight.html">Frames in flight</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../03_Drawing_a_triangle/04_Swap_chain_recreation.html">Swap chain recreation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../04_Vertex_buffers/00_Vertex_input_description.html">Vertex buffers</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../04_Vertex_buffers/00_Vertex_input_description.html">Vertex input description</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../04_Vertex_buffers/01_Vertex_buffer_creation.html">Vertex buffer creation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../04_Vertex_buffers/02_Staging_buffer.html">Staging buffer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../04_Vertex_buffers/03_Index_buffer.html">Index buffer</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../05_Uniform_buffers/00_Descriptor_set_layout_and_buffer.html">Uniform buffers</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../05_Uniform_buffers/00_Descriptor_set_layout_and_buffer.html">Descriptor layout and buffer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../05_Uniform_buffers/01_Descriptor_pool_and_sets.html">Descriptor pool and sets</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../06_Texture_mapping/00_Images.html">Texture mapping</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../06_Texture_mapping/00_Images.html">Images</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../06_Texture_mapping/01_Image_view_and_sampler.html">Image view and sampler</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../06_Texture_mapping/02_Combined_image_sampler.html">Combined image sampler</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../07_Depth_buffering.html">Depth buffering</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../08_Loading_models.html">Loading models</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../09_Generating_Mipmaps.html">Generating Mipmaps</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../10_Multisampling.html">Multisampling</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../11_Compute_Shader.html">Compute Shader</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../12_Ecosystem_Utilities_and_Compatibility.html">Ecosystem Utilities and GPU Compatibility</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../13_Vulkan_Profiles.html">Vulkan Profiles</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../14_Android.html">Android</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../15_GLTF_KTX2_Migration.html">Migrating to Modern Asset Formats: glTF and KTX2</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../16_Multiple_Objects.html">Rendering Multiple Objects</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../17_Multithreading.html">Multithreading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../courses/18_Ray_tracing/00_Overview.html">Ray Tracing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../courses/18_Ray_tracing/00_Overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../courses/18_Ray_tracing/01_Dynamic_rendering.html">Dynamic rendering</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../courses/18_Ray_tracing/02_Acceleration_structures.html">Acceleration structures</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../courses/18_Ray_tracing/03_Ray_query_shadows.html">Ray query shadows</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../courses/18_Ray_tracing/04_TLAS_animation.html">TLAS animation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../courses/18_Ray_tracing/05_Shadow_transparency.html">Shadow transparency</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../courses/18_Ray_tracing/06_Reflections.html">Reflections</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../courses/18_Ray_tracing/07_Conclusion.html">Conclusion</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../90_FAQ.html">FAQ</a>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><a href="https://github.com/KhronosGroup/Vulkan-Tutorial" target="_blank" rel="noopener">GitHub Repository</a></span>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Khronos Vulkan Tutorial</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../../00_Introduction.html">Khronos Vulkan Tutorial</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../00_Introduction.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../glsl/latest/index.html">OpenGL Shading Language Specification</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../glsl/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../refpages/latest/refpages/index.html">Vulkan API Reference Pages</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../refpages/latest/refpages/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../features/latest/features/index.html">Vulkan Feature Descriptions</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../features/latest/features/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../guide/latest/index.html">Vulkan Guide</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../guide/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../samples/latest/README.html">Vulkan Samples</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../samples/latest/README.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../spec/latest/index.html">Vulkan Specification</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../spec/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../spec/latest/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../00_Introduction.html">Khronos Vulkan Tutorial</a></li>
    <li><a href="02_platform_considerations.html">Mobile Development: Platform Considerations</a></li>
  </ul>
</nav>
    <!--
    -->
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Mobile Development: Platform Considerations</h1>
<div class="sect1">
<h2 id="_platform_considerations_for_android_and_ios"><a class="anchor" href="#_platform_considerations_for_android_and_ios"></a>Platform Considerations for Android and iOS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Developing Vulkan applications for mobile platforms requires understanding the specific requirements and constraints of Android and iOS. In this section, we&#8217;ll explore the key considerations for each platform and how to adapt your engine accordingly.</p>
</div>
<div class="sect2">
<h3 id="_android_platform_considerations"><a class="anchor" href="#_android_platform_considerations"></a>Android Platform Considerations</h3>
<div class="paragraph">
<p>Android has supported Vulkan since version 7.0 (Nougat), but the level of support varies across devices. Here are the key considerations for Android development:</p>
</div>
<div class="sect3">
<h4 id="_setting_up_vulkan_on_android"><a class="anchor" href="#_setting_up_vulkan_on_android"></a>Setting Up Vulkan on Android</h4>
<div class="paragraph">
<p>To use Vulkan on Android, you need to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Declare Vulkan Support</strong>: In your AndroidManifest.xml, declare that your
application uses Vulkan:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.vulkanapp"&gt;
    &lt;uses-feature android:name="android.hardware.vulkan.version" android:version="0x400003" android:required="true" /&gt;
    &lt;uses-feature android:name="android.hardware.vulkan.level" android:version="0" android:required="true" /&gt;
    &lt;!-- For devices that support Vulkan but don't declare it --&gt;
    &lt;uses-feature android:name="android.hardware.vulkan.compute" android:required="false" /&gt;
    &lt;!-- ... --&gt;
&lt;/manifest&gt;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Initialize Vulkan</strong>: Use the Android Native Development Kit (NDK) to
initialize Vulkan. The process is similar to desktop Vulkan, but you&#8217;ll need
 to obtain the native window handle from Android:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// Get the native window handle from Android
ANativeWindow* native_window = ANativeWindow_fromSurface(env, surface);

// Create the Vulkan surface
VkAndroidSurfaceCreateInfoKHR create_info{};
create_info.sType = VK_STRUCTURE_TYPE_ANDROID_SURFACE_CREATE_INFO_KHR;
create_info.window = native_window;

VkSurfaceKHR vulkan_surface;
vkCreateAndroidSurfaceKHR(instance, &amp;create_info, nullptr, &amp;vulkan_surface);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_android_lifecycle_management"><a class="anchor" href="#_android_lifecycle_management"></a>Android Lifecycle Management</h4>
<div class="paragraph">
<p>Android applications have a complex lifecycle that you need to handle properly:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Activity Pausing and Resuming</strong>: When your application is paused (e.g., when the user switches to another app), you should release Vulkan resources and recreate them when the application resumes.</p>
</li>
<li>
<p><strong>Surface Changes</strong>: The surface can change due to configuration changes (e.g., rotation). You need to handle these changes by recreating the swapchain.</p>
</li>
<li>
<p><strong>Memory Pressure</strong>: Android can reclaim memory from your application at any time. Design your engine to handle memory pressure gracefully.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_android_input_handling"><a class="anchor" href="#_android_input_handling"></a>Android Input Handling</h4>
<div class="paragraph">
<p>Android input handling differs from desktop:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Touch Input</strong>: Instead of mouse input, you&#8217;ll need to handle touch events, including multi-touch gestures.</p>
</li>
<li>
<p><strong>Sensors</strong>: Android devices have various sensors (accelerometer, gyroscope, etc.) that you can use for input.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_vendor_specific_considerations"><a class="anchor" href="#_vendor_specific_considerations"></a>Vendor-Specific Considerations</h4>
<div class="paragraph">
<p>Different Android device manufacturers may have specific considerations:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Custom Android Versions</strong>: Many manufacturers use customized versions of Android. Test your application on various devices to ensure compatibility.</p>
</li>
<li>
<p><strong>GPU Architectures</strong>: Different vendors use different GPU architectures (Adreno, Mali, PowerVR, etc.). Each has unique performance characteristics.</p>
</li>
<li>
<p><strong>Alternative App Stores</strong>: Some devices may not have Google Play Services. Consider distributing through alternative app stores when necessary.</p>
</li>
<li>
<p><strong>SoC Variations</strong>: System-on-Chip variations affect performance. Most mobile GPUs are tile-based renderers, so optimize your rendering pipeline accordingly using the techniques described in the TBR section.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// Example of checking for specific device vendors
bool check_device_vendor(vk::PhysicalDevice physical_device, uint32_t vendor_id) {
    vk::PhysicalDeviceProperties props = physical_device.getProperties();
    return props.vendorID == vendor_id;
}

// Common vendor IDs
const uint32_t VENDOR_ID_QUALCOMM = 0x5143; // Adreno
const uint32_t VENDOR_ID_ARM = 0x13B5;      // Mali
const uint32_t VENDOR_ID_IMAGINATION = 0x1010; // PowerVR
const uint32_t VENDOR_ID_HUAWEI = 0x19E5;   // Kirin

// You can then apply vendor-specific optimizations if needed
void configure_for_device(vk::PhysicalDevice physical_device) {
    if (check_device_vendor(physical_device, VENDOR_ID_HUAWEI)) {
        // Apply Huawei-specific optimizations if needed
    }
    // Handle other vendors as needed
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ios_platform_considerations"><a class="anchor" href="#_ios_platform_considerations"></a>iOS Platform Considerations</h3>
<div class="paragraph">
<p>iOS supports Vulkan through MoltenVK, a translation layer that maps Vulkan to Metal. Here are the key considerations for iOS development:</p>
</div>
<div class="sect3">
<h4 id="_setting_up_moltenvk_on_ios"><a class="anchor" href="#_setting_up_moltenvk_on_ios"></a>Setting Up MoltenVK on iOS</h4>
<div class="paragraph">
<p>To use Vulkan on iOS, you need to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Include MoltenVK</strong>: Add the MoltenVK framework to your Xcode project.</p>
</li>
<li>
<p><strong>Initialize MoltenVK</strong>: Initialize MoltenVK before creating your Vulkan
instance:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// Initialize MoltenVK
MVKConfiguration config{};
vkGetMoltenVKConfigurationMVK(nullptr, &amp;config);
config.debugMode = true;  // Enable debug mode during development
vkSetMoltenVKConfigurationMVK(nullptr, &amp;config);

// Create Vulkan instance as usual
// ...</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Create a Metal-Compatible Surface</strong>: Create a Vulkan surface from a
CAMetalLayer:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">// Get the Metal layer from your UIView
CAMetalLayer* metal_layer = (CAMetalLayer*)layer;

// Create the Vulkan surface
VkMetalSurfaceCreateInfoEXT create_info{};
create_info.sType = VK_STRUCTURE_TYPE_METAL_SURFACE_CREATE_INFO_EXT;
create_info.pLayer = metal_layer;

VkSurfaceKHR vulkan_surface;
vkCreateMetalSurfaceEXT(instance, &amp;create_info, nullptr, &amp;vulkan_surface);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ios_lifecycle_management"><a class="anchor" href="#_ios_lifecycle_management"></a>iOS Lifecycle Management</h4>
<div class="paragraph">
<p>iOS applications also have a lifecycle that you need to handle:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Application State Changes</strong>: Handle applicationWillResignActive, applicationDidBecomeActive, etc., by releasing and recreating Vulkan resources as needed.</p>
</li>
<li>
<p><strong>Memory Warnings</strong>: iOS can send memory warnings when the system is low on memory. Handle these by releasing non-essential resources.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_ios_input_handling"><a class="anchor" href="#_ios_input_handling"></a>iOS Input Handling</h4>
<div class="paragraph">
<p>iOS input handling is similar to Android but with some differences:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Touch Input</strong>: iOS has its own touch event system that you&#8217;ll need to integrate with your engine.</p>
</li>
<li>
<p><strong>Sensors</strong>: iOS devices also have various sensors that you can use for input.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_cross_platform_considerations"><a class="anchor" href="#_cross_platform_considerations"></a>Cross-Platform Considerations</h3>
<div class="paragraph">
<p>To maintain a single codebase for both Android and iOS (and potentially desktop), consider:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Abstraction Layers</strong>: Create platform-specific abstraction layers for
window creation, input handling, and other platform-specific functionality.</p>
</li>
<li>
<p><strong>Conditional Compilation</strong>: Use preprocessor directives to handle
platform-specific code:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">#ifdef __ANDROID__
    // Android-specific code
#elif defined(__APPLE__)
    // iOS-specific code
#else
    // Desktop-specific code
#endif</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Feature Detection</strong>: Use Vulkan&#8217;s feature detection mechanisms to adapt to
the capabilities of the device, rather than making assumptions based on the platform.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_best_practices_for_mobile_platform_integration"><a class="anchor" href="#_best_practices_for_mobile_platform_integration"></a>Best Practices for Mobile Platform Integration</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Test on Real Devices</strong>: Emulators and simulators may not accurately represent the performance and behavior of real devices.</p>
</li>
<li>
<p><strong>Handle Different Screen Sizes and Aspect Ratios</strong>: Mobile devices come in various sizes and aspect ratios. Design your UI and rendering to adapt accordingly.</p>
</li>
<li>
<p><strong>Consider Battery Life</strong>: Mobile users are sensitive to battery drain. Optimize your engine to minimize power consumption.</p>
</li>
<li>
<p><strong>Respect Platform Guidelines</strong>: Follow the design and user experience guidelines for each platform to ensure your application feels native.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In the next section, we&#8217;ll explore performance optimizations specifically tailored for mobile hardware, focusing on texture formats and memory usage.</p>
</div>
<div class="paragraph">
<p><a href="01_introduction.adoc">Previous: Introduction</a> | <a href="03_performance_optimizations.adoc">Next: Performance Optimizations for Mobile</a></p>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
    <!--
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
    -->
</footer>
<script id="site-script" src="../../../../_/js/site.js" data-ui-root-path="../../../../_"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script src="../../../../_/js/vendor/lunr.js" defer></script>
<script src="https://cdn.jsdelivr.net/pako/1.0.3/pako.min.js" defer></script>
<script src="../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../.." data-snippet-length="100" data-stylesheet="../../../../_/css/search.css" defer></script>
<script>
window.addEventListener('DOMContentLoaded', function(){
  try {
    var script = document.getElementById('search-ui-script');
    var siteRoot = (script && script.getAttribute('data-site-root-path')) || '';
    var manifestUrl = siteRoot + '/search-index/manifest.json';
    fetch(manifestUrl)
      .then(function (r) { return r.ok ? r.json() : Promise.reject(new Error('manifest not found')) })
      .then(function (manifest) { antoraSearch.bootstrap(lunr, manifest, siteRoot); })
      .catch(function () {
        var s = document.createElement('script');
        s.async = true;
        s.src = siteRoot + '/search-index.js';
        document.head.appendChild(s);
      });
  } catch (e) {
    // Fallback to monolithic index if anything goes wrong
    var s = document.createElement('script');
    s.async = true;
    s.src = '../../../../search-index.js';
    document.head.appendChild(s);
  }
});
</script>
  </body>
</html>
