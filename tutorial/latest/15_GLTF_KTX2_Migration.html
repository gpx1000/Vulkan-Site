<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Migrating to Modern Asset Formats: glTF and KTX2 :: Vulkan Documentation Project</title>
    <meta name="generator" content="Antora 3.1.10">
    <script>
      !function (theme) {
        if (theme === 'dark') document.documentElement.classList.add('dark')
        else document.documentElement.classList.add('light')
      }(localStorage && localStorage.getItem('theme') || (matchMedia('(prefers-color-scheme: dark)')?.matches && 'dark'))
    </script>
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="stylesheet" href="../../_/css/vendor/tabs.css">
    <link rel="apple-touch-icon" sizes="180x180" href="../../_/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../_/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../_/img/favicon-16x16.png">
    <link rel="manifest" href="../../_/site.webmanifest">
    <link rel="mask-icon" href="../../_/img/safari-pinned-tab.svg" color="#a41e22">
    <meta name="msapplication-TileColor" content="#ffc40d">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../.."><img class="navbar-item no-invert" alt="Vulkan White Label" src="../../_/Vulkan_Docs.svg" /></a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field has-filter">
          <label for="search-input"></label>
          <input id="search-input" type="text" placeholder="Search the docs" aria-label="Search the docs">
          <label class="filter checkbox">
            <input type="checkbox" data-facet-filter="component:tutorial" checked> In this component
          </label>
        </div>
      </div>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <!-- <a class="navbar-item" href="#">Home</a> -->
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Specs</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../spec/latest/chapters/introduction.html">Vulkan API</a>
            <a class="navbar-item" href="../../glsl/latest/index.html">GLSL</a>
            <a class="navbar-item" href="../../guide/latest/hlsl.html">HLSL</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Education</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="../../refpages/latest/refpages/index.html">Vulkan Reference Pages</a>
            <a class="navbar-item" href="../../features/latest/features/index.html">Vulkan Feature Descriptions</a>
            <a class="navbar-item" href="../../guide/latest/index.html">Vulkan Guide</a>
            <a class="navbar-item" href="../../samples/latest/README.html">Vulkan Samples</a>
            <a class="navbar-item" href="../../tutorial/latest/index.html">Vulkan Tutorial</a>
            <a class="navbar-item" href="https://www.youtube.com/c/vulkan">YouTube</a>
            <a class="navbar-item" href="https://vulkan.org">More Info at Vulkan.org</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Feedback</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://github.com/KhronosGroup/Vulkan-Site/issues/new/choose" target="_blank">Report a Problem</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://discord.gg/vulkan">Vulkan Discord</a>
            <a class="navbar-item" href="https://reddit.com/r/vulkan">Reddit</a>
            <a class="navbar-item" href="https://stackoverflow.com/questions/tagged/vulkan">Stack Overflow</a>
            <a class="navbar-item" href="https://fosstodon.org/@vulkan">Mastodon</a>
          </div>
        </div>
      </div>
    </div>
    <label class="theme-toggler">
      <input type="checkbox" id="switch-theme-checkbox" name="switch-theme-checkbox" aria-label="Toggle color theme" title="Toggle color theme"/>
      <span class="icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="moon" class="svg-inline--fa fa-moon moon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"></path>
        </svg>
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="sun" class="svg-inline--fa fa-sun sun" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"></path>
        </svg></span>
    </label>
  </nav>
</header>
<script>
  window.onload = function() {
    let e = document.getElementById("switch-theme-checkbox")
    e.checked = document.documentElement.classList.contains("dark");
    e.checked ? e.parentElement.classList.add("active") : e.parentElement.classList.remove("active")
  }
  !function() {
    let e = document.getElementById("switch-theme-checkbox")
    e.checked = document.documentElement.classList.contains("dark")
    e.addEventListener("change", function() {
      if (document.documentElement.classList.contains("light")) {
        document.documentElement.classList.remove("light")
        document.documentElement.classList.add("dark")
      } else if (document.documentElement.classList.contains("dark")) {
        document.documentElement.classList.remove("dark")
        document.documentElement.classList.add("light")
      } else {
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
          document.documentElement.classList.add("dark")
        } else {
          document.documentElement.classList.add("light")
        }
      }
      document.documentElement.setAttribute("data-theme", this.checked ? "dark" : "light"),
        function(e) {
          window.localStorage && window.localStorage.setItem("theme", e)
        }(this.checked ? "dark" : "light"), this.checked ? this.parentElement.classList.add("active") : this.parentElement.classList.remove("active")
    }.bind(e))
  }();
</script>
<div class="body">
<div class="nav-container" data-component="tutorial" data-version="latest" id="split-0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="00_Introduction.html">Khronos Vulkan Tutorial</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="00_Introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="01_Overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="02_Development_environment.html">Development environment</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="03_Drawing_a_triangle/00_Setup/00_Base_code.html">Drawing a triangle</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="03_Drawing_a_triangle/00_Setup/00_Base_code.html">Setup</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03_Drawing_a_triangle/00_Setup/00_Base_code.html">Base Code</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03_Drawing_a_triangle/00_Setup/01_Instance.html">Instance</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03_Drawing_a_triangle/00_Setup/02_Validation_layers.html">Validation layers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03_Drawing_a_triangle/00_Setup/03_Physical_devices_and_queue_families.html">Physical devices and queue families</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03_Drawing_a_triangle/00_Setup/04_Logical_device_and_queues.html">Logical device and queues</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="03_Drawing_a_triangle/01_Presentation/00_Window_surface.html">Presentation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03_Drawing_a_triangle/01_Presentation/00_Window_surface.html">Window surface</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03_Drawing_a_triangle/01_Presentation/01_Swap_chain.html">Swap chain</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03_Drawing_a_triangle/01_Presentation/02_Image_views.html">Image views</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="03_Drawing_a_triangle/02_Graphics_pipeline_basics/00_Introduction.html">Graphics pipeline basics</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03_Drawing_a_triangle/02_Graphics_pipeline_basics/00_Introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03_Drawing_a_triangle/02_Graphics_pipeline_basics/01_Shader_modules.html">Shader modules</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03_Drawing_a_triangle/02_Graphics_pipeline_basics/02_Fixed_functions.html">Fixed functions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03_Drawing_a_triangle/02_Graphics_pipeline_basics/03_Render_passes.html">Render passes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03_Drawing_a_triangle/02_Graphics_pipeline_basics/04_Conclusion.html">Conclusion</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="03_Drawing_a_triangle/03_Drawing/00_Framebuffers.html">Drawing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03_Drawing_a_triangle/03_Drawing/00_Framebuffers.html">Framebuffers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03_Drawing_a_triangle/03_Drawing/01_Command_buffers.html">Command buffers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03_Drawing_a_triangle/03_Drawing/02_Rendering_and_presentation.html">Rendering and presentation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03_Drawing_a_triangle/03_Drawing/03_Frames_in_flight.html">Frames in flight</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03_Drawing_a_triangle/04_Swap_chain_recreation.html">Swap chain recreation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="04_Vertex_buffers/00_Vertex_input_description.html">Vertex buffers</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04_Vertex_buffers/00_Vertex_input_description.html">Vertex input description</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04_Vertex_buffers/01_Vertex_buffer_creation.html">Vertex buffer creation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04_Vertex_buffers/02_Staging_buffer.html">Staging buffer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04_Vertex_buffers/03_Index_buffer.html">Index buffer</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="05_Uniform_buffers/00_Descriptor_set_layout_and_buffer.html">Uniform buffers</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="05_Uniform_buffers/00_Descriptor_set_layout_and_buffer.html">Descriptor layout and buffer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="05_Uniform_buffers/01_Descriptor_pool_and_sets.html">Descriptor pool and sets</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="06_Texture_mapping/00_Images.html">Texture mapping</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="06_Texture_mapping/00_Images.html">Images</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="06_Texture_mapping/01_Image_view_and_sampler.html">Image view and sampler</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="06_Texture_mapping/02_Combined_image_sampler.html">Combined image sampler</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="07_Depth_buffering.html">Depth buffering</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="08_Loading_models.html">Loading models</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="09_Generating_Mipmaps.html">Generating Mipmaps</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="10_Multisampling.html">Multisampling</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="11_Compute_Shader.html">Compute Shader</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="12_Ecosystem_Utilities_and_Compatibility.html">Ecosystem Utilities and GPU Compatibility</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="13_Vulkan_Profiles.html">Vulkan Profiles</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="14_Android.html">Android</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="15_GLTF_KTX2_Migration.html">Migrating to Modern Asset Formats: glTF and KTX2</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="16_Multiple_Objects.html">Rendering Multiple Objects</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="17_Multithreading.html">Multithreading</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="courses/18_Ray_tracing/00_Overview.html">Ray Tracing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="courses/18_Ray_tracing/00_Overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="courses/18_Ray_tracing/01_Dynamic_rendering.html">Dynamic rendering</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="courses/18_Ray_tracing/02_Acceleration_structures.html">Acceleration structures</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="courses/18_Ray_tracing/03_Ray_query_shadows.html">Ray query shadows</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="courses/18_Ray_tracing/04_TLAS_animation.html">TLAS animation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="courses/18_Ray_tracing/05_Shadow_transparency.html">Shadow transparency</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="courses/18_Ray_tracing/06_Reflections.html">Reflections</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="courses/18_Ray_tracing/07_Conclusion.html">Conclusion</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="90_FAQ.html">FAQ</a>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><a href="https://github.com/KhronosGroup/Vulkan-Tutorial" target="_blank" rel="noopener">GitHub Repository</a></span>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Khronos Vulkan Tutorial</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <div class="title"><a href="00_Introduction.html">Khronos Vulkan Tutorial</a></div>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="00_Introduction.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../glsl/latest/index.html">OpenGL Shading Language Specification</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../glsl/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../refpages/latest/refpages/index.html">Vulkan API Reference Pages</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../refpages/latest/refpages/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../features/latest/features/index.html">Vulkan Feature Descriptions</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../features/latest/features/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../guide/latest/index.html">Vulkan Guide</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../guide/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../samples/latest/README.html">Vulkan Samples</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../samples/latest/README.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../spec/latest/index.html">Vulkan Specification</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../spec/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article" id="split-1">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../spec/latest/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="00_Introduction.html">Khronos Vulkan Tutorial</a></li>
    <li><a href="15_GLTF_KTX2_Migration.html">Migrating to Modern Asset Formats: glTF and KTX2</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Migrating to Modern Asset Formats: glTF and KTX2</h1>
<div class="sect1">
<h2 id="_introduction"><a class="anchor" href="#_introduction"></a>Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In previous chapters, we&#8217;ve been using tinyobjloader to load 3D models in the Wavefront OBJ format and stb_image to load textures in common image formats like PNG and JPEG. While these libraries and formats are simple and widely supported, modern graphics applications often benefit from more advanced asset formats.</p>
</div>
<div class="paragraph">
<p>In this chapter, we&#8217;ll explore how to migrate from:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Wavefront OBJ (loaded with tinyobjloader) to glTF (loaded with tinygltf)</p>
</li>
<li>
<p>Common image formats like PNG (loaded with stb_image) to KTX2 (loaded with the KTX library)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This migration offers several advantages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>More comprehensive model data</strong>: glTF supports animations, skeletal rigs, PBR materials, and more</p>
</li>
<li>
<p><strong>GPU-optimized textures</strong>: KTX2 supports compressed texture formats, mipmaps, and other GPU-friendly features</p>
</li>
<li>
<p><strong>Industry standard</strong>: Both glTF and KTX2 are Khronos standards designed specifically for modern graphics APIs</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Let&#8217;s dive into the migration process and see how to adapt our Vulkan application to use these modern formats.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_understanding_gltf"><a class="anchor" href="#_understanding_gltf"></a>Understanding glTF</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_what_is_gltf"><a class="anchor" href="#_what_is_gltf"></a>What is glTF?</h3>
<div class="paragraph">
<p><a href="https://www.khronos.org/gltf/">glTF</a> (GL Transmission Format) is a royalty-free specification for the efficient transmission and loading of 3D scenes and models. Developed by the Khronos Group, glTF is designed to be a "JPEG for 3D" - a common publishing format for 3D content.</p>
</div>
<div class="paragraph">
<p>Key features of glTF include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Compact file size</strong>: Binary data is stored efficiently</p>
</li>
<li>
<p><strong>Fast loading</strong>: Minimizes processing needed at load time</p>
</li>
<li>
<p><strong>Complete 3D scene representation</strong>: Includes meshes, materials, textures, animations, and more</p>
</li>
<li>
<p><strong>Runtime-ready</strong>: Data is stored in formats that can be directly used by the GPU</p>
</li>
<li>
<p><strong>Extensible</strong>: The format can be extended with new capabilities</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_comparing_obj_and_gltf"><a class="anchor" href="#_comparing_obj_and_gltf"></a>Comparing OBJ and glTF</h3>
<div class="paragraph">
<p>Let&#8217;s compare the OBJ format with glTF:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Feature</th>
<th class="tableblock halign-left valign-top">OBJ</th>
<th class="tableblock halign-left valign-top">glTF</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">File format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Text-based</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JSON + binary data (GLB option for single file)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supported data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Geometry, basic materials, texture coordinates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Geometry, PBR materials, animations, skeletons, scenes, cameras, etc.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Material system</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Basic (MTL files)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Physically-Based Rendering (PBR)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Animation support</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keyframe and skeletal animations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Coordinate system</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Right-handed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Right-handed, Y-up</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Industry adoption</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Legacy standard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Modern standard for real-time 3D</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_understanding_ktx2"><a class="anchor" href="#_understanding_ktx2"></a>Understanding KTX2</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_what_is_ktx2"><a class="anchor" href="#_what_is_ktx2"></a>What is KTX2?</h3>
<div class="paragraph">
<p><a href="https://www.khronos.org/ktx/">KTX2</a> (Khronos Texture 2.0) is a container file format for storing texture data optimized for GPU usage. It&#8217;s designed to work efficiently with modern graphics APIs like Vulkan, OpenGL, and DirectX.</p>
</div>
<div class="paragraph">
<p>Key features of KTX2 include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>GPU-ready formats</strong>: Supports all GPU texture formats including compressed formats</p>
</li>
<li>
<p><strong>Mipmap storage</strong>: Efficiently stores complete mipmap chains</p>
</li>
<li>
<p><strong>Metadata</strong>: Includes information about the texture&#8217;s properties</p>
</li>
<li>
<p><strong>Supercompression</strong>: Supports additional compression like Basis Universal</p>
</li>
<li>
<p><strong>Direct uploads</strong>: Data can often be uploaded directly to the GPU without processing</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_comparing_pngjpeg_and_ktx2"><a class="anchor" href="#_comparing_pngjpeg_and_ktx2"></a>Comparing PNG/JPEG and KTX2</h3>
<div class="paragraph">
<p>Let&#8217;s compare traditional image formats with KTX2:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Feature</th>
<th class="tableblock halign-left valign-top">PNG/JPEG</th>
<th class="tableblock halign-left valign-top">KTX2</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">File format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">General-purpose image format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GPU-optimized texture container</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compression</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">General-purpose (PNG) or lossy (JPEG)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GPU texture compression (BC, ETC, ASTC) + supercompression</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mipmaps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not supported</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Built-in mipmap chain support</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GPU upload</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Requires conversion</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Can be directly uploaded to GPU</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metadata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limited</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Comprehensive texture metadata</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supported features</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Basic 2D images</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All GPU texture types (2D, 3D, cubemaps, arrays)</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_migrating_from_tinyobjloader_to_tinygltf"><a class="anchor" href="#_migrating_from_tinyobjloader_to_tinygltf"></a>Migrating from tinyobjloader to tinygltf</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For loading glTF models (instead of obj) we&#8217;ll be using the open source <a href="https://github.com/syoyo/tinygltf">headery only C&#43;&#43; tiny glTF library</a>.</p>
</div>
<div class="sect2">
<h3 id="_setting_up_tinygltf"><a class="anchor" href="#_setting_up_tinygltf"></a>Setting Up tinygltf</h3>
<div class="paragraph">
<p>First, we need to include the tinygltf library instead of tinyobjloader:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c&#43;&#43; hljs" data-lang="c&#43;&#43;">// Replace this:
#define TINYOBJLOADER_IMPLEMENTATION
#include &lt;tiny_obj_loader.h&gt;

// With this:
#define TINYGLTF_IMPLEMENTATION
#define STB_IMAGE_WRITE_IMPLEMENTATION
#include &lt;tiny_gltf.h&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that tinygltf uses stb_image internally for image loading, but we&#8217;ll be replacing the texture loading code with KTX2 later.</p>
</div>
</div>
<div class="sect2">
<h3 id="_loading_a_gltf_model"><a class="anchor" href="#_loading_a_gltf_model"></a>Loading a glTF Model</h3>
<div class="paragraph">
<p>Now, let&#8217;s modify our <code>loadModel()</code> function to use tinygltf instead of tinyobjloader:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c&#43;&#43; hljs" data-lang="c&#43;&#43;">void loadModel() {
    // Use tinygltf to load the model instead of tinyobjloader
    tinygltf::Model model;
    tinygltf::TinyGLTF loader;
    std::string err;
    std::string warn;

    bool ret = loader.LoadASCIIFromFile(&amp;model, &amp;err, &amp;warn, MODEL_PATH);

    if (!warn.empty()) {
        std::cout &lt;&lt; "glTF warning: " &lt;&lt; warn &lt;&lt; std::endl;
    }

    if (!err.empty()) {
        std::cout &lt;&lt; "glTF error: " &lt;&lt; err &lt;&lt; std::endl;
    }

    if (!ret) {
        throw std::runtime_error("Failed to load glTF model");
    }

    // Process all meshes in the model
    std::unordered_map&lt;Vertex, uint32_t&gt; uniqueVertices{};

    for (const auto&amp; mesh : model.meshes) {
        for (const auto&amp; primitive : mesh.primitives) {
            // Get indices
            const tinygltf::Accessor&amp; indexAccessor = model.accessors[primitive.indices];
            const tinygltf::BufferView&amp; indexBufferView = model.bufferViews[indexAccessor.bufferView];
            const tinygltf::Buffer&amp; indexBuffer = model.buffers[indexBufferView.buffer];

            // Get vertex positions
            const tinygltf::Accessor&amp; posAccessor = model.accessors[primitive.attributes.at("POSITION")];
            const tinygltf::BufferView&amp; posBufferView = model.bufferViews[posAccessor.bufferView];
            const tinygltf::Buffer&amp; posBuffer = model.buffers[posBufferView.buffer];

            // Get texture coordinates if available
            bool hasTexCoords = primitive.attributes.find("TEXCOORD_0") != primitive.attributes.end();
            const tinygltf::Accessor* texCoordAccessor = nullptr;
            const tinygltf::BufferView* texCoordBufferView = nullptr;
            const tinygltf::Buffer* texCoordBuffer = nullptr;

            if (hasTexCoords) {
                texCoordAccessor = &amp;model.accessors[primitive.attributes.at("TEXCOORD_0")];
                texCoordBufferView = &amp;model.bufferViews[texCoordAccessor-&gt;bufferView];
                texCoordBuffer = &amp;model.buffers[texCoordBufferView-&gt;buffer];
            }

            // Process vertices
            for (size_t i = 0; i &lt; posAccessor.count; i++) {
                Vertex vertex{};

                // Get position
                const float* pos = reinterpret_cast&lt;const float*&gt;(&amp;posBuffer.data[posBufferView.byteOffset + posAccessor.byteOffset + i * 12]);
                vertex.pos = {pos[0], pos[1], pos[2]};

                // Get texture coordinates if available
                if (hasTexCoords) {
                    const float* texCoord = reinterpret_cast&lt;const float*&gt;(&amp;texCoordBuffer-&gt;data[texCoordBufferView-&gt;byteOffset + texCoordAccessor-&gt;byteOffset + i * 8]);
                    vertex.texCoord = {texCoord[0], 1.0f - texCoord[1]};
                } else {
                    vertex.texCoord = {0.0f, 0.0f};
                }

                // Set default color
                vertex.color = {1.0f, 1.0f, 1.0f};

                // Add vertex if unique
                if (!uniqueVertices.contains(vertex)) {
                    uniqueVertices[vertex] = static_cast&lt;uint32_t&gt;(vertices.size());
                    vertices.push_back(vertex);
                }
            }

            // Process indices
            const unsigned char* indexData = &amp;indexBuffer.data[indexBufferView.byteOffset + indexAccessor.byteOffset];

            // Handle different index component types
            if (indexAccessor.componentType == TINYGLTF_COMPONENT_TYPE_UNSIGNED_SHORT) {
                const uint16_t* indices16 = reinterpret_cast&lt;const uint16_t*&gt;(indexData);
                for (size_t i = 0; i &lt; indexAccessor.count; i++) {
                    Vertex vertex = vertices[indices16[i]];
                    indices.push_back(uniqueVertices[vertex]);
                }
            } else if (indexAccessor.componentType == TINYGLTF_COMPONENT_TYPE_UNSIGNED_INT) {
                const uint32_t* indices32 = reinterpret_cast&lt;const uint32_t*&gt;(indexData);
                for (size_t i = 0; i &lt; indexAccessor.count; i++) {
                    Vertex vertex = vertices[indices32[i]];
                    indices.push_back(uniqueVertices[vertex]);
                }
            } else if (indexAccessor.componentType == TINYGLTF_COMPONENT_TYPE_UNSIGNED_BYTE) {
                const uint8_t* indices8 = reinterpret_cast&lt;const uint8_t*&gt;(indexData);
                for (size_t i = 0; i &lt; indexAccessor.count; i++) {
                    Vertex vertex = vertices[indices8[i]];
                    indices.push_back(uniqueVertices[vertex]);
                }
            }
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The key differences in this implementation compared to the tinyobjloader version are:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Data structure</strong>: glTF uses a more complex data structure with accessors, buffer views, and buffers</p>
</li>
<li>
<p><strong>Attribute access</strong>: We need to navigate through these structures to access vertex data</p>
</li>
<li>
<p><strong>Multiple meshes and primitives</strong>: glTF models can contain multiple meshes, each with multiple primitives</p>
</li>
<li>
<p><strong>Component types</strong>: We need to handle different index component types (8-bit, 16-bit, 32-bit)</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_advanced_gltf_features"><a class="anchor" href="#_advanced_gltf_features"></a>Advanced glTF Features</h3>
<div class="paragraph">
<p>While our basic implementation only extracts geometry and texture coordinates, glTF supports many more features that you might want to use:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Materials</strong>: Access PBR material properties through <code>primitive.material</code></p>
</li>
<li>
<p><strong>Animations</strong>: Process animation data in <code>model.animations</code></p>
</li>
<li>
<p><strong>Skeletons</strong>: Handle skeletal data in <code>model.skins</code></p>
</li>
<li>
<p><strong>Scenes and nodes</strong>: Process scene hierarchy through <code>model.scenes</code> and <code>model.nodes</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For a complete application, you would typically process these additional features to take full advantage of glTF.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_migrating_from_stb_image_to_ktx"><a class="anchor" href="#_migrating_from_stb_image_to_ktx"></a>Migrating from stb_image to KTX</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For loading KTX files (instead of formats like png or jpeg) we&#8217;ll be using the open source <a href="https://github.com/KhronosGroup/KTX-Software">KTX (Khronos Texture) Library and Tools</a>.</p>
</div>
<div class="sect2">
<h3 id="_setting_up_ktx"><a class="anchor" href="#_setting_up_ktx"></a>Setting Up KTX</h3>
<div class="paragraph">
<p>First, we need to include the KTX library:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c&#43;&#43; hljs" data-lang="c&#43;&#43;">// Replace this:
#define STB_IMAGE_IMPLEMENTATION
#include &lt;stb_image.h&gt;

// With this:
#include &lt;ktx.h&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_loading_a_ktx2_texture"><a class="anchor" href="#_loading_a_ktx2_texture"></a>Loading a KTX2 Texture</h3>
<div class="paragraph">
<p>Now, let&#8217;s modify our <code>createTextureImage()</code> function to use KTX instead of stb_image:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c&#43;&#43; hljs" data-lang="c&#43;&#43;">void createTextureImage() {
    // Load KTX2 texture instead of using stb_image
    ktxTexture* kTexture;
    KTX_error_code result = ktxTexture_CreateFromNamedFile(
        TEXTURE_PATH.c_str(),
        KTX_TEXTURE_CREATE_LOAD_IMAGE_DATA_BIT,
        &amp;kTexture);

    if (result != KTX_SUCCESS) {
        throw std::runtime_error("failed to load ktx texture image!");
    }

    // Get texture dimensions and data
    uint32_t texWidth = kTexture-&gt;baseWidth;
    uint32_t texHeight = kTexture-&gt;baseHeight;
    ktx_size_t imageSize = ktxTexture_GetImageSize(kTexture, 0);
    ktx_uint8_t* ktxTextureData = ktxTexture_GetData(kTexture);

    // Create staging buffer
    vk::raii::Buffer stagingBuffer({});
    vk::raii::DeviceMemory stagingBufferMemory({});
    createBuffer(imageSize, vk::BufferUsageFlagBits::eTransferSrc, vk::MemoryPropertyFlagBits::eHostVisible | vk::MemoryPropertyFlagBits::eHostCoherent, stagingBuffer, stagingBufferMemory);

    // Copy texture data to staging buffer
    void* data = stagingBufferMemory.mapMemory(0, imageSize);
    memcpy(data, ktxTextureData, imageSize);
    stagingBufferMemory.unmapMemory();

    // Determine the Vulkan format from KTX format
    vk::Format textureFormat = vk::Format::eR8G8B8A8Srgb; // Default format, should be determined from KTX metadata

    // Create the texture image
    createImage(texWidth, texHeight, textureFormat, vk::ImageTiling::eOptimal,
               vk::ImageUsageFlagBits::eTransferDst | vk::ImageUsageFlagBits::eSampled,
               vk::MemoryPropertyFlagBits::eDeviceLocal, textureImage, textureImageMemory);

    // Copy data from staging buffer to texture image
    transitionImageLayout(textureImage, vk::ImageLayout::eUndefined, vk::ImageLayout::eTransferDstOptimal);
    copyBufferToImage(stagingBuffer, textureImage, texWidth, texHeight);
    transitionImageLayout(textureImage, vk::ImageLayout::eTransferDstOptimal, vk::ImageLayout::eShaderReadOnlyOptimal);

    // Cleanup KTX resources
    ktxTexture_Destroy(kTexture);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The key differences in this implementation compared to the stb_image version are:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Loading API</strong>: We use the KTX API to load the texture</p>
</li>
<li>
<p><strong>Texture metadata</strong>: KTX provides metadata about the texture&#8217;s properties</p>
</li>
<li>
<p><strong>Resource cleanup</strong>: We need to explicitly destroy the KTX texture object</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_advanced_ktx_features"><a class="anchor" href="#_advanced_ktx_features"></a>Advanced KTX Features</h3>
<div class="paragraph">
<p>This basic implementation only handles simple 2D textures, but KTX2 supports many more features:</p>
</div>
<div class="sect3">
<h4 id="_handling_mipmaps"><a class="anchor" href="#_handling_mipmaps"></a>Handling Mipmaps</h4>
<div class="paragraph">
<p>KTX2 files can contain pre-generated mipmaps. Here&#8217;s how to use them:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c&#43;&#43; hljs" data-lang="c&#43;&#43;">// Get mipmap levels
uint32_t mipLevels = kTexture-&gt;numLevels;

// Create image with mipmap support
vk::ImageCreateInfo imageInfo{
    // ... other parameters ...
    .mipLevels = mipLevels,
    // ... other parameters ...
};

// Copy each mip level
for (uint32_t i = 0; i &lt; mipLevels; i++) {
    ktx_size_t offset;
    KTX_error_code result = ktxTexture_GetImageOffset(kTexture, i, 0, 0, &amp;offset);

    // ... copy this mip level to the image ...
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_using_compressed_texture_formats"><a class="anchor" href="#_using_compressed_texture_formats"></a>Using Compressed Texture Formats</h4>
<div class="paragraph">
<p>KTX2 supports GPU texture compression formats. Here&#8217;s how to handle them:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c&#43;&#43; hljs" data-lang="c&#43;&#43;">// Determine the Vulkan format from KTX format
vk::Format textureFormat;
switch (kTexture-&gt;vkFormat) {
    case VK_FORMAT_BC7_SRGB_BLOCK:
        textureFormat = vk::Format::eBc7SrgbBlock;
        break;
    case VK_FORMAT_BC5_UNORM_BLOCK:
        textureFormat = vk::Format::eBc5UnormBlock;
        break;
    // ... other format mappings ...
    default:
        textureFormat = vk::Format::eR8G8B8A8Srgb;
        break;
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_handling_cubemaps_and_texture_arrays"><a class="anchor" href="#_handling_cubemaps_and_texture_arrays"></a>Handling Cubemaps and Texture Arrays</h4>
<div class="paragraph">
<p>KTX2 can store cubemaps and texture arrays:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c&#43;&#43; hljs" data-lang="c&#43;&#43;">// Check if the texture is a cubemap
bool isCubemap = kTexture-&gt;isCubemap;

// Get the number of layers
uint32_t layerCount = kTexture-&gt;numLayers;

// Create appropriate image
vk::ImageCreateInfo imageInfo{
    // ... other parameters ...
    .imageType = vk::ImageType::e2D,
    .arrayLayers = layerCount,
    .flags = isCubemap ? vk::ImageCreateFlagBits::eCubeCompatible : vk::ImageCreateFlags(),
    // ... other parameters ...
};</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_converting_assets_to_gltf_and_ktx2"><a class="anchor" href="#_converting_assets_to_gltf_and_ktx2"></a>Converting Assets to glTF and KTX2</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_converting_obj_to_gltf"><a class="anchor" href="#_converting_obj_to_gltf"></a>Converting OBJ to glTF</h3>
<div class="paragraph">
<p>To convert existing OBJ files to glTF, you can use various tools:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Blender</strong>: Open the OBJ file and export as glTF</p>
</li>
<li>
<p><strong>obj2gltf</strong>: A command-line tool for converting OBJ to glTF</p>
</li>
<li>
<p><strong>assimp</strong>: A library that can convert between various 3D formats</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Example using obj2gltf:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">obj2gltf -i model.obj -o model.gltf</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_working_with_ktx2_files"><a class="anchor" href="#_working_with_ktx2_files"></a>Working with KTX2 Files</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_creating_ktx2_files"><a class="anchor" href="#_creating_ktx2_files"></a>Creating KTX2 Files</h3>
<div class="paragraph">
<p>There are several ways to create KTX2 files:</p>
</div>
<div class="sect3">
<h4 id="_using_the_ktx_software_tools"><a class="anchor" href="#_using_the_ktx_software_tools"></a>Using the KTX-Software Tools</h4>
<div class="paragraph">
<p>The KTX-Software package provides command-line tools for creating KTX2 files:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>toktx</strong>: The primary tool for creating KTX2 files from existing images</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Basic usage:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Create a basic KTX2 file
toktx texture.ktx2 texture.png

# Create a KTX2 file with mipmaps
toktx --mipmap texture.ktx2 texture.png

# Create a KTX2 file with Basis Universal compression
toktx --bcmp texture.ktx2 texture.png

# Create a KTX2 file with specific GPU compression format (BC7)
toktx --bcmp --format BC7_RGBA texture.ktx2 texture.png

# Create a cubemap KTX2 file
toktx --cubemap cubemap.ktx2 posx.png negx.png posy.png negy.png posz.png negz.png</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_using_the_ktx_library_api"><a class="anchor" href="#_using_the_ktx_library_api"></a>Using the KTX Library API</h4>
<div class="paragraph">
<p>You can also create KTX2 files programmatically using the KTX library API:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c&#43;&#43; hljs" data-lang="c&#43;&#43;">#include &lt;ktx.h&gt;

// Create a new KTX2 texture
ktxTexture2* texture;
ktxTextureCreateInfo createInfo = {
    .vkFormat = VK_FORMAT_R8G8B8A8_SRGB,
    .baseWidth = 512,
    .baseHeight = 512,
    .baseDepth = 1,
    .numDimensions = 2,
    .numLevels = 1,
    .numLayers = 1,
    .numFaces = 1,
    .isArray = KTX_FALSE,
    .generateMipmaps = KTX_FALSE
};

KTX_error_code result = ktxTexture2_Create(&amp;createInfo, KTX_TEXTURE_CREATE_ALLOC_STORAGE, &amp;texture);

// Set image data
uint32_t* imageData = new uint32_t[512 * 512];
// ... fill image data ...
ktxTexture_SetImageFromMemory(ktxTexture(texture), 0, 0, 0, imageData, 512 * 512 * 4);

// Write to file
ktxTexture_WriteToNamedFile(ktxTexture(texture), "output.ktx2");

// Clean up
ktxTexture_Destroy(ktxTexture(texture));
delete[] imageData;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_using_image_editing_software"><a class="anchor" href="#_using_image_editing_software"></a>Using Image Editing Software</h4>
<div class="paragraph">
<p>Some image editing and 3D modeling software can export directly to KTX2:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Substance Designer</strong>: Can export textures directly to KTX2 format</p>
</li>
<li>
<p><strong>Blender</strong>: With plugins, can export textures to KTX2</p>
</li>
<li>
<p><strong>GIMP</strong>: With the KTX plugin, can save images as KTX2</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_converting_from_other_formats_to_ktx2"><a class="anchor" href="#_converting_from_other_formats_to_ktx2"></a>Converting from Other Formats to KTX2</h3>
<div class="paragraph">
<p>KTX2 files can be created from various popular image formats:</p>
</div>
<div class="sect3">
<h4 id="_from_pngjpegtiff"><a class="anchor" href="#_from_pngjpegtiff"></a>From PNG/JPEG/TIFF</h4>
<div class="paragraph">
<p>The simplest conversion is from standard image formats using toktx:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Convert PNG to KTX2
toktx texture.ktx2 texture.png

# Convert JPEG to KTX2
toktx texture.ktx2 texture.jpg

# Convert TIFF to KTX2
toktx texture.ktx2 texture.tiff</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_from_dds_directx_texture_format"><a class="anchor" href="#_from_dds_directx_texture_format"></a>From DDS (DirectX Texture Format)</h4>
<div class="paragraph">
<p>DDS is another GPU-optimized texture format commonly used with DirectX:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Using texconv to convert DDS to PNG first
texconv -ft png texture.dds

# Then convert PNG to KTX2
toktx texture.ktx2 texture.png</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, you can use the Khronos Texture Tools:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">ktx2ktx2 --convert texture.dds texture.ktx2</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_from_hdrexr_high_dynamic_range_formats"><a class="anchor" href="#_from_hdrexr_high_dynamic_range_formats"></a>From HDR/EXR (High Dynamic Range Formats)</h4>
<div class="paragraph">
<p>For HDR textures:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Convert HDR to KTX2
toktx --hdr texture.ktx2 texture.hdr

# Convert EXR to KTX2 (may require intermediate conversion)
toktx --hdr texture.ktx2 texture.exr</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_from_psd_photoshop"><a class="anchor" href="#_from_psd_photoshop"></a>From PSD (Photoshop)</h4>
<div class="paragraph">
<p>For Photoshop files:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Export PSD as PNG first
# Then convert to KTX2
toktx texture.ktx2 texture.png</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_optimizing_ktx2_files"><a class="anchor" href="#_optimizing_ktx2_files"></a>Optimizing KTX2 Files</h3>
<div class="paragraph">
<p>To get the most out of KTX2 files, consider these optimization techniques:</p>
</div>
<div class="sect3">
<h4 id="_compression_options"><a class="anchor" href="#_compression_options"></a>Compression Options</h4>
<div class="paragraph">
<p>KTX2 supports various compression methods:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Basis Universal compression (highly portable)
toktx --bcmp texture.ktx2 texture.png

# ASTC compression (good for mobile)
toktx --format ASTC_4x4_RGBA texture.ktx2 texture.png

# BC7 compression (good for desktop)
toktx --format BC7_RGBA texture.ktx2 texture.png

# ETC2 compression (good for Android)
toktx --format ETC2_RGBA texture.ktx2 texture.png</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mipmap_generation"><a class="anchor" href="#_mipmap_generation"></a>Mipmap Generation</h4>
<div class="paragraph">
<p>Mipmaps improve rendering performance and quality:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Generate mipmaps
toktx --mipmap texture.ktx2 texture.png

# Generate mipmaps with specific filter
toktx --mipmap --filter lanczos texture.ktx2 texture.png</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_metadata"><a class="anchor" href="#_metadata"></a>Metadata</h4>
<div class="paragraph">
<p>KTX2 files can include metadata:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Add key-value metadata
toktx --mipmap --key "author" --value "Your Name" texture.ktx2 texture.png</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_tools_for_working_with_ktx2_files"><a class="anchor" href="#_tools_for_working_with_ktx2_files"></a>Tools for Working with KTX2 Files</h3>
<div class="paragraph">
<p>Several tools are available for working with KTX2 files:</p>
</div>
<div class="sect3">
<h4 id="_command_line_tools"><a class="anchor" href="#_command_line_tools"></a>Command-line Tools</h4>
<div class="ulist">
<ul>
<li>
<p><strong>KTX-Software Suite</strong>:</p>
</li>
<li>
<p><code>toktx</code>: Create KTX2 files</p>
</li>
<li>
<p><code>ktx2ktx2</code>: Convert between KTX versions</p>
</li>
<li>
<p><code>ktxinfo</code>: Display information about KTX files</p>
</li>
<li>
<p><code>ktxsc</code>: Apply supercompression to KTX2 files</p>
</li>
<li>
<p><code>ktxunpack</code>: Unpack a KTX file to individual images</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_libraries_and_sdks"><a class="anchor" href="#_libraries_and_sdks"></a>Libraries and SDKs</h4>
<div class="ulist">
<ul>
<li>
<p><strong>KTX-Software Library</strong>: C/C++ library for reading, writing, and processing KTX files</p>
</li>
<li>
<p><strong>libktx</strong>: The core library used by KTX-Software</p>
</li>
<li>
<p><strong>Basis Universal</strong>: Compression technology used in KTX2</p>
</li>
<li>
<p><strong>Vulkan SDK</strong>: Includes KTX tools and libraries</p>
</li>
<li>
<p><strong>glTF-Transform</strong>: JavaScript library that can process KTX2 textures in glTF files</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_viewers_and_debuggers"><a class="anchor" href="#_viewers_and_debuggers"></a>Viewers and Debuggers</h4>
<div class="ulist">
<ul>
<li>
<p><strong>KTX Load Test</strong>: Part of KTX-Software, for viewing KTX files</p>
</li>
<li>
<p><strong>RenderDoc</strong>: Graphics debugger that can inspect KTX2 textures</p>
</li>
<li>
<p><strong>Khronos Texture Tools</strong>: Includes viewers for KTX files</p>
</li>
<li>
<p><strong>glTF Viewer</strong>: Many glTF viewers support KTX2 textures</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_integration_with_game_engines"><a class="anchor" href="#_integration_with_game_engines"></a>Integration with Game Engines</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Unity</strong>: Supports KTX2 through plugins</p>
</li>
<li>
<p><strong>Unreal Engine</strong>: Supports KTX2 through plugins</p>
</li>
<li>
<p><strong>Godot</strong>: Has KTX2 support in development</p>
</li>
<li>
<p><strong>Three.js</strong>: Supports KTX2 textures</p>
</li>
<li>
<p><strong>Babylon.js</strong>: Supports KTX2 textures</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_converting_images_to_ktx2"><a class="anchor" href="#_converting_images_to_ktx2"></a>Converting Images to KTX2</h3>
<div class="paragraph">
<p>To convert existing image files to KTX2, you can use:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>toktx</strong>: A command-line tool included with the KTX-Software package</p>
</li>
<li>
<p><strong>KTX-Software</strong>: A library with tools for creating and manipulating KTX files</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Example using toktx to create a KTX2 file with Basis Universal compression:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">toktx --bcmp texture.ktx2 texture.png</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusion"><a class="anchor" href="#_conclusion"></a>Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Migrating from OBJ/PNG to glTF/KTX2 brings significant benefits for modern graphics applications:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Better performance</strong>: Optimized formats for GPU usage</p>
</li>
<li>
<p><strong>More features</strong>: Support for advanced 3D features and texture formats</p>
</li>
<li>
<p><strong>Industry standards</strong>: Formats designed specifically for modern graphics APIs</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>While the migration requires some code changes, the benefits in terms of performance, features, and future-proofing make it worthwhile for serious graphics applications.</p>
</div>
<div class="paragraph">
<p><a href="_attachments/35_gltf_ktx.cpp">C&#43;&#43; code</a></p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script src="../../_/js/vendor/split.js"></script>
<script>
    // Splitter should only be visible in non-mobile layouts (where a hamburger menu is used for nav)
    var width = (window.innerWidth > 0) ? window.innerWidth : screen.width;
    var mobileNav = (width < 1024);

    if (!mobileNav) {
        var sizes = localStorage.getItem('split-sizes')

        if (sizes) {
            sizes = JSON.parse(sizes)
        } else {
            sizes = [25, 75]
        }

        var split = Split(['#split-0', '#split-1'], {
            sizes: sizes,
            onDragEnd: function (sizes) {
                localStorage.setItem('split-sizes', JSON.stringify(sizes))
            },
        })
    }
</script>
<script src="../../_/js/vendor/lunr.js" defer></script>
<script src="https://cdn.jsdelivr.net/pako/1.0.3/pako.min.js" defer></script>
<script src="../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../.." data-snippet-length="100" data-stylesheet="../../_/css/search.css" defer></script>
<script>
window.addEventListener('DOMContentLoaded', function(){
  try {
    var script = document.getElementById('search-ui-script');
    var siteRoot = (script && script.getAttribute('data-site-root-path')) || '';
    var manifestUrl = siteRoot + '/search-index/manifest.json';
    fetch(manifestUrl)
      .then(function (r) { return r.ok ? r.json() : Promise.reject(new Error('manifest not found')) })
      .then(function (manifest) { antoraSearch.bootstrap(lunr, manifest, siteRoot); })
      .catch(function () {
        var s = document.createElement('script');
        s.async = true;
        s.src = siteRoot + '/search-index.js';
        document.head.appendChild(s);
      });
  } catch (e) {
    // Fallback to monolithic index if anything goes wrong
    var s = document.createElement('script');
    s.async = true;
    s.src = '../../search-index.js';
    document.head.appendChild(s);
  }
});
</script>
<script async src="../../_/js/vendor/tabs.js"></script>
  </body>
</html>
