# Drawing Commands

## Metadata

- **Component**: spec
- **Version**: latest
- **URL**: /spec/latest/chapters/drawing.html

## Table of Contents

- [Primitive Topologies](#drawing-primitive-topologies)
- [Topology Class](#drawing-primitive-topology-class)
- [Point Lists](#drawing-point-lists)
- [Line Lists](#drawing-line-lists)
- [Line Strips](#drawing-line-strips)
- [Triangle Lists](#drawing-triangle-lists)
- [Triangle Strips](#drawing-triangle-strips)
- [Triangle Fans](#drawing-triangle-fans)
- [Line Lists With Adjacency](#drawing-line-lists-with-adjacency)
- [Line_Lists_With_Adjacency](#drawing-line-lists-with-adjacency)
- [Line Strips With Adjacency](#drawing-line-strips-with-adjacency)
- [Line_Strips_With_Adjacency](#drawing-line-strips-with-adjacency)
- [Triangle Lists With Adjacency](#drawing-triangle-lists-with-adjacency)
- [Triangle_Lists_With_Adjacency](#drawing-triangle-lists-with-adjacency)
- [Triangle Strips With Adjacency](#drawing-triangle-strips-with-adjacency)
- [Triangle_Strips_With_Adjacency](#drawing-triangle-strips-with-adjacency)
- [Patch Lists](#drawing-patch-lists)
- [Primitive Order](#drawing-primitive-order)
- [Programmable Primitive Shading](#drawing-primitive-shading)
- [Programmable_Primitive_Shading](#drawing-primitive-shading)
- [Drawing Transform Feedback](#drawing-transform-feedback)
- [Drawing_Transform_Feedback](#drawing-transform-feedback)
- [Conditional Rendering](#drawing-conditional-rendering)
- [Programmable Mesh Shading](#drawing-mesh-shading)
- [Programmable_Mesh_Shading](#drawing-mesh-shading)
- [Programmable Cluster Culling Shading](#drawing-cluster-culling-shading)
- [Programmable_Cluster_Culling_Shading](#drawing-cluster-culling-shading)

## Content

*Drawing commands* (commands with `Draw` in the name) provoke work in a
graphics pipeline.
Drawing commands are recorded into a command buffer and when executed by a
queue, will produce work which executes according to the bound graphics
pipeline, or if the [`shaderObject`](features.html#features-shaderObject) feature is
enabled, any [shader objects](shaders.html#shaders-objects) bound to graphics stages.
A graphics pipeline
or a combination of one or more graphics shader objects
**must** be bound to a command buffer before any drawing commands are recorded
in that command buffer.

Drawing can be achieved in two modes:

* 
[Programmable Mesh Shading](#drawing-mesh-shading), the mesh shader
assembles primitives, or

* 
[Programmable Primitive Shading](#drawing-primitive-shading), the input
primitives are assembled as follows.

Each draw is made up of zero or more vertices and zero or more instances,
which are processed by the device and result in the assembly of primitives.
Primitives are assembled according to the `pInputAssemblyState` member
of the [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) structure, which is of type
`VkPipelineInputAssemblyStateCreateInfo`:

// Provided by VK_VERSION_1_0
typedef struct VkPipelineInputAssemblyStateCreateInfo {
    VkStructureType                            sType;
    const void*                                pNext;
    VkPipelineInputAssemblyStateCreateFlags    flags;
    VkPrimitiveTopology                        topology;
    VkBool32                                   primitiveRestartEnable;
} VkPipelineInputAssemblyStateCreateInfo;

* 
`sType` is a [VkStructureType](fundamentals.html#VkStructureType) value identifying this structure.

* 
`pNext` is `NULL` or a pointer to a structure extending this
structure.

* 
`flags` is reserved for future use.

* 
`topology` is a [VkPrimitiveTopology](#VkPrimitiveTopology) defining the primitive
topology, as described below.

* 
`primitiveRestartEnable` controls whether a special vertex index
    value is treated as restarting the assembly of primitives.
    This enable only applies to indexed draws ([vkCmdDrawIndexed](#vkCmdDrawIndexed),
    [vkCmdDrawMultiIndexedEXT](#vkCmdDrawMultiIndexedEXT),
    and [vkCmdDrawIndexedIndirect](#vkCmdDrawIndexedIndirect)), and the special index value is
    either 0xFFFFFFFF when the `indexType` parameter of
Vulkan 1.4 or
`vkCmdBindIndexBuffer2` or
    `vkCmdBindIndexBuffer` is equal to `VK_INDEX_TYPE_UINT32`;
    0xFF when `indexType` is equal to `VK_INDEX_TYPE_UINT8`;
    or 0xFFFF when `indexType` is equal to `VK_INDEX_TYPE_UINT16`.
    Primitive restart is not allowed for “list” topologies, unless one of
    the features [    `primitiveTopologyPatchListRestart`](features.html#features-primitiveTopologyPatchListRestart) (for
    `VK_PRIMITIVE_TOPOLOGY_PATCH_LIST`) or
    [    `primitiveTopologyListRestart`](features.html#features-primitiveTopologyListRestart) (for all other list topologies) is
    enabled.

Restarting the assembly of primitives discards the most recent index values
if those elements formed an incomplete primitive, and restarts the primitive
assembly using the subsequent indices, but only assembling the immediately
following element through the end of the originally specified elements.
The primitive restart index value comparison is performed before adding the
`vertexOffset` value to the index value.

Valid Usage

* 
[](#VUID-VkPipelineInputAssemblyStateCreateInfo-topology-06252) VUID-VkPipelineInputAssemblyStateCreateInfo-topology-06252

If
the [    `primitiveTopologyListRestart`](features.html#features-primitiveTopologyListRestart) feature is not enabled, and
`topology` is `VK_PRIMITIVE_TOPOLOGY_POINT_LIST`,
`VK_PRIMITIVE_TOPOLOGY_LINE_LIST`,
`VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST`,
`VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY`, or
`VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY`,
`primitiveRestartEnable` **must** be `VK_FALSE`

* 
[](#VUID-VkPipelineInputAssemblyStateCreateInfo-topology-06253) VUID-VkPipelineInputAssemblyStateCreateInfo-topology-06253

If
the [    `primitiveTopologyPatchListRestart`](features.html#features-primitiveTopologyPatchListRestart) feature is not enabled, and
`topology` is `VK_PRIMITIVE_TOPOLOGY_PATCH_LIST`,
`primitiveRestartEnable` **must** be `VK_FALSE`

* 
[](#VUID-VkPipelineInputAssemblyStateCreateInfo-topology-00429) VUID-VkPipelineInputAssemblyStateCreateInfo-topology-00429

If the [`geometryShader`](features.html#features-geometryShader) feature is not
enabled, `topology` **must** not be any of
`VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY`,
`VK_PRIMITIVE_TOPOLOGY_LINE_STRIP_WITH_ADJACENCY`,
`VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY` or
`VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP_WITH_ADJACENCY`

* 
[](#VUID-VkPipelineInputAssemblyStateCreateInfo-topology-00430) VUID-VkPipelineInputAssemblyStateCreateInfo-topology-00430

If the [`tessellationShader`](features.html#features-tessellationShader) feature
is not enabled, `topology` **must** not be
`VK_PRIMITIVE_TOPOLOGY_PATCH_LIST`

* 
[](#VUID-VkPipelineInputAssemblyStateCreateInfo-triangleFans-04452) VUID-VkPipelineInputAssemblyStateCreateInfo-triangleFans-04452

If the `[VK_KHR_portability_subset](../appendices/extensions.html#VK_KHR_portability_subset)` extension is enabled, and
[VkPhysicalDevicePortabilitySubsetFeaturesKHR](features.html#VkPhysicalDevicePortabilitySubsetFeaturesKHR)::`triangleFans`
is `VK_FALSE`, `topology` **must** not be
`VK_PRIMITIVE_TOPOLOGY_TRIANGLE_FAN`

Valid Usage (Implicit)

* 
[](#VUID-VkPipelineInputAssemblyStateCreateInfo-sType-sType) VUID-VkPipelineInputAssemblyStateCreateInfo-sType-sType

 `sType` **must** be `VK_STRUCTURE_TYPE_PIPELINE_INPUT_ASSEMBLY_STATE_CREATE_INFO`

* 
[](#VUID-VkPipelineInputAssemblyStateCreateInfo-pNext-pNext) VUID-VkPipelineInputAssemblyStateCreateInfo-pNext-pNext

 `pNext` **must** be `NULL`

* 
[](#VUID-VkPipelineInputAssemblyStateCreateInfo-flags-zerobitmask) VUID-VkPipelineInputAssemblyStateCreateInfo-flags-zerobitmask

 `flags` **must** be `0`

* 
[](#VUID-VkPipelineInputAssemblyStateCreateInfo-topology-parameter) VUID-VkPipelineInputAssemblyStateCreateInfo-topology-parameter

 `topology` **must** be a valid [VkPrimitiveTopology](#VkPrimitiveTopology) value

// Provided by VK_VERSION_1_0
typedef VkFlags VkPipelineInputAssemblyStateCreateFlags;

`VkPipelineInputAssemblyStateCreateFlags` is a bitmask type for setting
a mask, but is currently reserved for future use.

To [dynamically control](pipelines.html#pipelines-dynamic-state) whether a special vertex
index value is treated as restarting the assembly of primitives, call:

// Provided by VK_VERSION_1_3
void vkCmdSetPrimitiveRestartEnable(
    VkCommandBuffer                             commandBuffer,
    VkBool32                                    primitiveRestartEnable);

or the equivalent command

// Provided by VK_EXT_extended_dynamic_state2, VK_EXT_shader_object
void vkCmdSetPrimitiveRestartEnableEXT(
    VkCommandBuffer                             commandBuffer,
    VkBool32                                    primitiveRestartEnable);

* 
`commandBuffer` is the command buffer into which the command will be
recorded.

* 
`primitiveRestartEnable` controls whether a special vertex index
value is treated as restarting the assembly of primitives.
It behaves in the same way as
`VkPipelineInputAssemblyStateCreateInfo`::`primitiveRestartEnable`

This command sets the primitive restart enable for subsequent drawing
commands
when drawing using [shader objects](shaders.html#shaders-objects), or
when the graphics pipeline is created with
`VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`.
Otherwise, this state is specified by the
[VkPipelineInputAssemblyStateCreateInfo](#VkPipelineInputAssemblyStateCreateInfo)::`primitiveRestartEnable`
value used to create the currently active pipeline.

Valid Usage

* 
[](#VUID-vkCmdSetPrimitiveRestartEnable-None-08970) VUID-vkCmdSetPrimitiveRestartEnable-None-08970

At least one of the following **must** be true:

the [`extendedDynamicState2`](features.html#features-extendedDynamicState2)
feature is enabled

* 
the [`shaderObject`](features.html#features-shaderObject) feature is enabled

* 
the value of [VkApplicationInfo](initialization.html#VkApplicationInfo)::`apiVersion` used to create
the [VkInstance](initialization.html#VkInstance) parent of `commandBuffer` is greater than or
equal to Version 1.3

Valid Usage (Implicit)

* 
[](#VUID-vkCmdSetPrimitiveRestartEnable-commandBuffer-parameter) VUID-vkCmdSetPrimitiveRestartEnable-commandBuffer-parameter

 `commandBuffer` **must** be a valid [VkCommandBuffer](cmdbuffers.html#VkCommandBuffer) handle

* 
[](#VUID-vkCmdSetPrimitiveRestartEnable-commandBuffer-recording) VUID-vkCmdSetPrimitiveRestartEnable-commandBuffer-recording

 `commandBuffer` **must** be in the [recording state](cmdbuffers.html#commandbuffers-lifecycle)

* 
[](#VUID-vkCmdSetPrimitiveRestartEnable-commandBuffer-cmdpool) VUID-vkCmdSetPrimitiveRestartEnable-commandBuffer-cmdpool

 The `VkCommandPool` that `commandBuffer` was allocated from **must** support graphics operations

* 
[](#VUID-vkCmdSetPrimitiveRestartEnable-videocoding) VUID-vkCmdSetPrimitiveRestartEnable-videocoding

 This command **must** only be called outside of a video coding scope

Host Synchronization

* 
Host access to `commandBuffer` **must** be externally synchronized

* 
Host access to the `VkCommandPool` that `commandBuffer` was allocated from **must** be externally synchronized

Command Properties
| [Command Buffer Levels](cmdbuffers.html#VkCommandBufferLevel) | [Render Pass Scope](renderpass.html#vkCmdBeginRenderPass) | [Video Coding Scope](videocoding.html#vkCmdBeginVideoCodingKHR) | [Supported Queue Types](devsandqueues.html#VkQueueFlagBits) | [Command Type](fundamentals.html#fundamentals-queueoperation-command-types) |
| --- | --- | --- | --- | --- |
| Primary

Secondary | Both | Outside | Graphics | State |

*Primitive topology* determines how consecutive vertices are organized into
primitives, and determines the type of primitive that is used at the
beginning of the graphics pipeline.
The effective topology for later stages of the pipeline is altered by
tessellation or geometry shading (if either is in use) and depends on the
execution modes of those shaders.
In the case of mesh shading the only effective topology is defined by the
execution mode of the mesh shader.

The primitive topologies defined by [VkPrimitiveTopology](#VkPrimitiveTopology) are:

// Provided by VK_VERSION_1_0
typedef enum VkPrimitiveTopology {
    VK_PRIMITIVE_TOPOLOGY_POINT_LIST = 0,
    VK_PRIMITIVE_TOPOLOGY_LINE_LIST = 1,
    VK_PRIMITIVE_TOPOLOGY_LINE_STRIP = 2,
    VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST = 3,
    VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP = 4,
    VK_PRIMITIVE_TOPOLOGY_TRIANGLE_FAN = 5,
    VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY = 6,
    VK_PRIMITIVE_TOPOLOGY_LINE_STRIP_WITH_ADJACENCY = 7,
    VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY = 8,
    VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP_WITH_ADJACENCY = 9,
    VK_PRIMITIVE_TOPOLOGY_PATCH_LIST = 10,
} VkPrimitiveTopology;

* 
`VK_PRIMITIVE_TOPOLOGY_POINT_LIST` specifies a series of
[separate point primitives](#drawing-point-lists).

* 
`VK_PRIMITIVE_TOPOLOGY_LINE_LIST` specifies a series of
[separate line primitives](#drawing-line-lists).

* 
`VK_PRIMITIVE_TOPOLOGY_LINE_STRIP` specifies a series of
[connected line primitives](#drawing-line-strips) with consecutive lines
sharing a vertex.

* 
`VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST` specifies a series of
[separate triangle primitives](#drawing-triangle-lists).

* 
`VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP` specifies a series of
[connected triangle primitives](#drawing-triangle-strips) with
consecutive triangles sharing an edge.

* 
`VK_PRIMITIVE_TOPOLOGY_TRIANGLE_FAN` specifies a series of
[connected triangle primitives](#drawing-triangle-fans) with all
triangles sharing a common vertex.
If the `[VK_KHR_portability_subset](../appendices/extensions.html#VK_KHR_portability_subset)` extension is enabled, and
[VkPhysicalDevicePortabilitySubsetFeaturesKHR](features.html#VkPhysicalDevicePortabilitySubsetFeaturesKHR)::`triangleFans`
is `VK_FALSE`, then triangle fans are not supported by the
implementation, and `VK_PRIMITIVE_TOPOLOGY_TRIANGLE_FAN` **must** not
be used.

* 
`VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY` specifies a series
of [separate line primitives with    adjacency](#drawing-line-lists-with-adjacency).

* 
`VK_PRIMITIVE_TOPOLOGY_LINE_STRIP_WITH_ADJACENCY` specifies a series
of [connected line primitives with    adjacency](#drawing-line-strips-with-adjacency), with consecutive primitives sharing three vertices.

* 
`VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY` specifies a
series of [separate triangle    primitives with adjacency](#drawing-triangle-lists-with-adjacency).

* 
`VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP_WITH_ADJACENCY` specifies
[connected triangle primitives    with adjacency](#drawing-triangle-strips-with-adjacency), with consecutive triangles sharing an edge.

* 
`VK_PRIMITIVE_TOPOLOGY_PATCH_LIST` specifies
[separate patch primitives](#drawing-patch-lists).

Each primitive topology, and its construction from a list of vertices, is
described in detail below with a supporting diagram, according to the
following key:

| ![primitive topology key vertex](../_images/primitive_topology_key_vertex.svg) | Vertex | A point in 3-dimensional space.
| --- | --- | --- |
  Positions chosen within the diagrams are arbitrary and for
  illustration only. |
| ![primitive topology key vertex number](../_images/primitive_topology_key_vertex_number.svg) | Vertex Number | Sequence position of a vertex within the provided vertex data. |
| ![primitive topology key provoking vertex](../_images/primitive_topology_key_provoking_vertex.svg) | Provoking Vertex | Provoking vertex within the main primitive.
  The tail is angled towards the relevant primitive.
  Used in [flat shading](vertexpostproc.html#vertexpostproc-flatshading). |
| ![primitive topology key edge](../_images/primitive_topology_key_edge.svg) | Primitive Edge | An edge connecting the points of a main primitive. |
| ![primitive topology key adjacency edge](../_images/primitive_topology_key_adjacency_edge.svg) | Adjacency Edge | Points connected by these lines do not contribute to a main primitive,
  and are only accessible in a [geometry shader](geometry.html#geometry). |
| ![primitive topology key winding order](../_images/primitive_topology_key_winding_order.svg) | Winding Order | The relative order in which vertices are defined within a primitive,
  used in the [facing determination](primsrast.html#primsrast-polygons-basic).
  This ordering has no specific start or end point. |

The diagrams are supported with mathematical definitions where the vertices
(v) and primitives (p) are numbered starting from 0;
v0 is the first vertex in the provided data and p0 is the
first primitive in the set of primitives defined by the vertices and
topology.

To [dynamically set](pipelines.html#pipelines-dynamic-state) primitive topology, call:

// Provided by VK_VERSION_1_3
void vkCmdSetPrimitiveTopology(
    VkCommandBuffer                             commandBuffer,
    VkPrimitiveTopology                         primitiveTopology);

or the equivalent command

// Provided by VK_EXT_extended_dynamic_state, VK_EXT_shader_object
void vkCmdSetPrimitiveTopologyEXT(
    VkCommandBuffer                             commandBuffer,
    VkPrimitiveTopology                         primitiveTopology);

* 
`commandBuffer` is the command buffer into which the command will be
recorded.

* 
`primitiveTopology` specifies the primitive topology to use for
drawing.

This command sets the primitive topology for subsequent drawing commands
when drawing using [shader objects](shaders.html#shaders-objects), or
when the graphics pipeline is created with
`VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`.
Otherwise, this state is specified by the
[VkPipelineInputAssemblyStateCreateInfo](#VkPipelineInputAssemblyStateCreateInfo)::`topology` value used to
create the currently active pipeline.

Valid Usage

* 
[](#VUID-vkCmdSetPrimitiveTopology-None-08971) VUID-vkCmdSetPrimitiveTopology-None-08971

At least one of the following **must** be true:

the [`extendedDynamicState`](features.html#features-extendedDynamicState)
feature is enabled

* 
the [`shaderObject`](features.html#features-shaderObject) feature is enabled

* 
the value of [VkApplicationInfo](initialization.html#VkApplicationInfo)::`apiVersion` used to create
the [VkInstance](initialization.html#VkInstance) parent of `commandBuffer` is greater than or
equal to Version 1.3

Valid Usage (Implicit)

* 
[](#VUID-vkCmdSetPrimitiveTopology-commandBuffer-parameter) VUID-vkCmdSetPrimitiveTopology-commandBuffer-parameter

 `commandBuffer` **must** be a valid [VkCommandBuffer](cmdbuffers.html#VkCommandBuffer) handle

* 
[](#VUID-vkCmdSetPrimitiveTopology-primitiveTopology-parameter) VUID-vkCmdSetPrimitiveTopology-primitiveTopology-parameter

 `primitiveTopology` **must** be a valid [VkPrimitiveTopology](#VkPrimitiveTopology) value

* 
[](#VUID-vkCmdSetPrimitiveTopology-commandBuffer-recording) VUID-vkCmdSetPrimitiveTopology-commandBuffer-recording

 `commandBuffer` **must** be in the [recording state](cmdbuffers.html#commandbuffers-lifecycle)

* 
[](#VUID-vkCmdSetPrimitiveTopology-commandBuffer-cmdpool) VUID-vkCmdSetPrimitiveTopology-commandBuffer-cmdpool

 The `VkCommandPool` that `commandBuffer` was allocated from **must** support graphics operations

* 
[](#VUID-vkCmdSetPrimitiveTopology-videocoding) VUID-vkCmdSetPrimitiveTopology-videocoding

 This command **must** only be called outside of a video coding scope

Host Synchronization

* 
Host access to `commandBuffer` **must** be externally synchronized

* 
Host access to the `VkCommandPool` that `commandBuffer` was allocated from **must** be externally synchronized

Command Properties
| [Command Buffer Levels](cmdbuffers.html#VkCommandBufferLevel) | [Render Pass Scope](renderpass.html#vkCmdBeginRenderPass) | [Video Coding Scope](videocoding.html#vkCmdBeginVideoCodingKHR) | [Supported Queue Types](devsandqueues.html#VkQueueFlagBits) | [Command Type](fundamentals.html#fundamentals-queueoperation-command-types) |
| --- | --- | --- | --- | --- |
| Primary

Secondary | Both | Outside | Graphics | State |

The primitive topologies are grouped into the following topology classes:

| Topology Class | Primitive Topology |
| --- | --- |
| Point | `VK_PRIMITIVE_TOPOLOGY_POINT_LIST` |
| Line | `VK_PRIMITIVE_TOPOLOGY_LINE_LIST`,
                    `VK_PRIMITIVE_TOPOLOGY_LINE_STRIP`,
                    `VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY`,
                    `VK_PRIMITIVE_TOPOLOGY_LINE_STRIP_WITH_ADJACENCY` |
| Triangle | `VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST`,
                    `VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP`,
                    `VK_PRIMITIVE_TOPOLOGY_TRIANGLE_FAN`,
                    `VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY`,
                    `VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP_WITH_ADJACENCY` |
| Patch | `VK_PRIMITIVE_TOPOLOGY_PATCH_LIST` |

When the topology is `VK_PRIMITIVE_TOPOLOGY_POINT_LIST`, each
consecutive vertex defines a single point primitive, according to the
equation:

pi = {vi}

As there is only one vertex, that vertex is the provoking vertex.
The number of primitives generated is equal to `vertexCount`.

![primitive topology point list](../_images/primitive_topology_point_list.svg)

When the primitive topology is `VK_PRIMITIVE_TOPOLOGY_LINE_LIST`, each
consecutive pair of vertices defines a single line primitive, according to
the equation:

pi = {v2i, v2i+1}

The number of primitives generated is equal to
⌊`vertexCount`/2⌋.

When the `provokingVertexMode` is
`VK_PROVOKING_VERTEX_MODE_FIRST_VERTEX_EXT`, the
provoking vertex for pi is v2i.

![primitive topology line list](../_images/primitive_topology_line_list.svg)

When the `provokingVertexMode` is
`VK_PROVOKING_VERTEX_MODE_LAST_VERTEX_EXT`, the provoking vertex for
pi is v2i+1.

![primitive topology line list last](../_images/primitive_topology_line_list_last.svg)

When the primitive topology is `VK_PRIMITIVE_TOPOLOGY_LINE_STRIP`, one
line primitive is defined by each vertex and the following vertex, according
to the equation:

pi = {vi, vi+1}

The number of primitives generated is equal to
max(0,`vertexCount`-1).

When the `provokingVertexMode` is
`VK_PROVOKING_VERTEX_MODE_FIRST_VERTEX_EXT`, the
provoking vertex for pi is vi.

![primitive topology line strip](../_images/primitive_topology_line_strip.svg)

When the `provokingVertexMode` is
`VK_PROVOKING_VERTEX_MODE_LAST_VERTEX_EXT`, the provoking vertex for
pi is vi+1.

![primitive topology line strip last](../_images/primitive_topology_line_strip_last.svg)

When the primitive topology is `VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST`,
each consecutive set of three vertices defines a single triangle primitive,
according to the equation:

pi = {v3i, v3i+1, v3i+2}

The number of primitives generated is equal to
⌊`vertexCount`/3⌋.

When the `provokingVertexMode` is
`VK_PROVOKING_VERTEX_MODE_FIRST_VERTEX_EXT`, the
provoking vertex for pi is v3i.

![primitive topology triangle list](../_images/primitive_topology_triangle_list.svg)

When the `provokingVertexMode` is
`VK_PROVOKING_VERTEX_MODE_LAST_VERTEX_EXT`, the provoking vertex for
pi is v3i+2.

![primitive topology triangle list last](../_images/primitive_topology_triangle_list_last.svg)

When the primitive topology is `VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP`,
one triangle primitive is defined by each vertex and the two vertices that
follow it, according to the equation:

pi = {vi, vi+(1+i%2), vi+(2-i%2)}

The number of primitives generated is equal to
max(0,`vertexCount`-2).

When the `provokingVertexMode` is
`VK_PROVOKING_VERTEX_MODE_FIRST_VERTEX_EXT`, the
provoking vertex for pi is vi.

![primitive topology triangle strip](../_images/primitive_topology_triangle_strip.svg)

When the `provokingVertexMode` is
`VK_PROVOKING_VERTEX_MODE_LAST_VERTEX_EXT`, the provoking vertex for
pi is vi+2.

![primitive topology triangle strip last](../_images/primitive_topology_triangle_strip_last.svg)

|  | The ordering of the vertices in each successive triangle is reversed, so
| --- | --- |
that the winding order is consistent throughout the strip. |

When the primitive topology is `VK_PRIMITIVE_TOPOLOGY_TRIANGLE_FAN`,
triangle primitives are defined around a shared common vertex, according to
the equation:

pi = {vi+1, vi+2, v0}

The number of primitives generated is equal to
max(0,`vertexCount`-2).

When the `provokingVertexMode` is
`VK_PROVOKING_VERTEX_MODE_FIRST_VERTEX_EXT`, the
provoking vertex for pi is vi+1.

![primitive topology triangle fan](../_images/primitive_topology_triangle_fan.svg)

When the `provokingVertexMode` is
`VK_PROVOKING_VERTEX_MODE_LAST_VERTEX_EXT`, the provoking vertex for
pi is vi+2.

![primitive topology triangle fan last](../_images/primitive_topology_triangle_fan_last.svg)

|  | If the `[VK_KHR_portability_subset](../appendices/extensions.html#VK_KHR_portability_subset)` extension is enabled, and
| --- | --- |
[VkPhysicalDevicePortabilitySubsetFeaturesKHR](features.html#VkPhysicalDevicePortabilitySubsetFeaturesKHR)::`triangleFans` is
`VK_FALSE`, then triangle fans are not supported by the implementation,
and `VK_PRIMITIVE_TOPOLOGY_TRIANGLE_FAN` **must** not be used. |

When the primitive topology is
`VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY`, each consecutive set
of four vertices defines a single line primitive with adjacency, according
to the equation:

pi = {v4i, v4i+1, v4i+2,v4i+3}

A line primitive is described by the second and third vertices of the total
primitive, with the remaining two vertices only accessible in a
[geometry shader](geometry.html#geometry).

The number of primitives generated is equal to
⌊`vertexCount`/4⌋.

When the `provokingVertexMode` is
`VK_PROVOKING_VERTEX_MODE_FIRST_VERTEX_EXT`, the
provoking vertex for pi is v4i+1.

![primitive topology line list with adjacency](../_images/primitive_topology_line_list_with_adjacency.svg)

When the `provokingVertexMode` is
`VK_PROVOKING_VERTEX_MODE_LAST_VERTEX_EXT`, the provoking vertex for
pi is v4i+2.

![primitive topology line list with adjacency last](../_images/primitive_topology_line_list_with_adjacency_last.svg)

When the primitive topology is
`VK_PRIMITIVE_TOPOLOGY_LINE_STRIP_WITH_ADJACENCY`, one line primitive
with adjacency is defined by each vertex and the following vertex, according
to the equation:

pi = {vi, vi+1, vi+2, vi+3}

A line primitive is described by the second and third vertices of the total
primitive, with the remaining two vertices only accessible in a
[geometry shader](geometry.html#geometry).

The number of primitives generated is equal to
max(0,`vertexCount`-3).

When the `provokingVertexMode` is
`VK_PROVOKING_VERTEX_MODE_FIRST_VERTEX_EXT`, the
provoking vertex for pi is vi+1.

![primitive topology line strip with adjacency](../_images/primitive_topology_line_strip_with_adjacency.svg)

When the `provokingVertexMode` is
`VK_PROVOKING_VERTEX_MODE_LAST_VERTEX_EXT`, the provoking vertex for
pi is vi+2.

![primitive topology line strip with adjacency last](../_images/primitive_topology_line_strip_with_adjacency_last.svg)

When the primitive topology is
`VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY`, each consecutive
set of six vertices defines a single triangle primitive with adjacency,
according to the equations:

pi = {v6i, v6i+1, v6i+2, v6i+3, v6i+4,
v6i+5}

A triangle primitive is described by the first, third, and fifth vertices of
the total primitive, with the remaining three vertices only accessible in a
[geometry shader](geometry.html#geometry).

The number of primitives generated is equal to
⌊`vertexCount`/6⌋.

When the `provokingVertexMode` is
`VK_PROVOKING_VERTEX_MODE_FIRST_VERTEX_EXT`, the
provoking vertex for pi is v6i.

![primitive topology triangle list with adjacency](../_images/primitive_topology_triangle_list_with_adjacency.svg)

When the `provokingVertexMode` is
`VK_PROVOKING_VERTEX_MODE_LAST_VERTEX_EXT`, the provoking vertex for
pi is v6i+4.

![primitive topology triangle list with adjacency last](../_images/primitive_topology_triangle_list_with_adjacency_last.svg)

When the primitive topology is
`VK_PRIMITIVE_TOPOLOGY_TRIANGLE_STRIP_WITH_ADJACENCY`, one triangle
primitive with adjacency is defined by each vertex and the following 5
vertices.

The number of primitives generated, n, is equal to ⌊max(0,
`vertexCount` - 4)/2⌋.

If n=1, the primitive is defined as:

p = {v0, v1, v2, v5, v4, v3}

If n>1, the total primitive consists of different vertices according
to where it is in the strip:

pi = {v2i, v2i+1, v2i+2, v2i+6, v2i+4,
v2i+3} when i=0

pi = {v2i, v2i+3, v2i+4, v2i+6, v2i+2,
v2i-2} when i>0, i, and i%2=1

pi = {v2i, v2i-2, v2i+2, v2i+6, v2i+4,
v2i+3} when i>0, i, and i%2=0

pi = {v2i, v2i+3, v2i+4, v2i+5, v2i+2,
v2i-2} when i=n-1 and i%2=1

pi = {v2i, v2i-2, v2i+2, v2i+5, v2i+4,
v2i+3} when i=n-1 and i%2=0

A triangle primitive is described by the first, third, and fifth vertices of
the total primitive in all cases, with the remaining three vertices only
accessible in a [geometry shader](geometry.html#geometry).

|  | The ordering of the vertices in each successive triangle is altered so that
| --- | --- |
the winding order is consistent throughout the strip. |

When the `provokingVertexMode` is
`VK_PROVOKING_VERTEX_MODE_FIRST_VERTEX_EXT`, the
provoking vertex for pi is always v2i.

![primitive topology triangle strip with adjacency](../_images/primitive_topology_triangle_strip_with_adjacency.svg)

When the `provokingVertexMode` is
`VK_PROVOKING_VERTEX_MODE_LAST_VERTEX_EXT`, the provoking vertex for
pi is always v2i+4.

![primitive topology triangle strip with adjacency last](../_images/primitive_topology_triangle_strip_with_adjacency_last.svg)

When the primitive topology is `VK_PRIMITIVE_TOPOLOGY_PATCH_LIST`, each
consecutive set of m vertices defines a single patch primitive,
according to the equation:

pi = {vmi, vmi+1, …​, vmi+(m-2), vmi+(m-1)}

where m is equal to
[VkPipelineTessellationStateCreateInfo](tessellation.html#VkPipelineTessellationStateCreateInfo)::`patchControlPoints`.

Patch lists are never passed to [vertex post-processing](vertexpostproc.html#vertexpostproc),
and as such no provoking vertex is defined for patch primitives.
The number of primitives generated is equal to
⌊`vertexCount`/m⌋.

The vertices comprising a patch have no implied geometry, and are used as
inputs to tessellation shaders and the fixed-function tessellator to
generate new point, line, or triangle primitives.

Primitives generated by [drawing commands](#drawing) progress through the
stages of the [graphics pipeline](synchronization.html#synchronization-pipeline-graphics) in
*primitive order*.
Primitive order is initially determined in the following way:

Submission order determines the initial ordering

For indirect drawing commands, the order in which accessed instances of
the [VkDrawIndirectCommand](#VkDrawIndirectCommand) are stored in `buffer`, from lower
indirect buffer addresses to higher addresses.

If a drawing command includes multiple instances, the order in which
instances are executed, from lower numbered instances to higher.

The order in which primitives are specified by a drawing command:

* 
For non-indexed draws, from vertices with a lower numbered
`vertexIndex` to a higher numbered `vertexIndex`.

* 
For indexed draws, vertices sourced from a lower index buffer addresses
to higher addresses.

* 
For draws using mesh shaders, the order is provided by [     mesh shading](VK_NV_mesh_shader/mesh.html#mesh-ordering).

* 
For draws using cluster culling shaders, the order is provided by
[cluster culling shading](VK_HUAWEI_cluster_culling_shader/clusterculling.html#cluster-culling-cluster-ordering).

Within this order implementations further sort primitives:

If tessellation shading is active, by an implementation-dependent order
of new primitives generated by [    tessellation](tessellation.html#tessellation-primitive-order).

If geometry shading is active, by the order new primitives are generated
by [geometry shading](geometry.html#geometry-ordering).

If the [polygon mode](primsrast.html#primsrast-polygonmode) is not
`VK_POLYGON_MODE_FILL`,
or `VK_POLYGON_MODE_FILL_RECTANGLE_NV`,
by an implementation-dependent ordering of the new primitives generated
within the original primitive.

Primitive order is later used to define [rasterization order](primsrast.html#primsrast-order), which determines the order in which fragments output results to a
framebuffer.

Once primitives are assembled, they proceed to the vertex shading stage of
the pipeline.
If the draw includes multiple instances, then the set of primitives is sent
to the vertex shading stage multiple times, once for each instance.

It is implementation-dependent whether vertex shading occurs on vertices
that are discarded as part of incomplete primitives, but if it does occur
then it operates as if they were vertices in complete primitives and such
invocations **can** have side effects.

Vertex shading receives two per-vertex inputs from the primitive assembly
stage - the `vertexIndex` and the `instanceIndex`.
How these values are generated is defined below, with each command.

Drawing commands fall roughly into two categories:

* 
Non-indexed drawing commands present a sequential `vertexIndex` to
the vertex shader.
The sequential index is generated automatically by the device (see
[Fixed-Function Vertex Processing](fxvertex.html#fxvertex) for details on both
specifying the vertex attributes indexed by `vertexIndex`, as well as
binding vertex buffers containing those attributes to a command buffer).
These commands are:

[vkCmdDraw](#vkCmdDraw)

* 
[vkCmdDrawIndirect](#vkCmdDrawIndirect)

* 
[vkCmdDrawIndirectCount](#vkCmdDrawIndirectCount)

* 
[vkCmdDrawIndirectCountKHR](#vkCmdDrawIndirectCountKHR)

* 
[vkCmdDrawIndirectCountAMD](#vkCmdDrawIndirectCountAMD)

* 
[vkCmdDrawMultiEXT](#vkCmdDrawMultiEXT)

Indexed drawing commands read index values from an *index buffer* and
use this to compute the `vertexIndex` value for the vertex shader.
These commands are:

* 
[vkCmdDrawIndexed](#vkCmdDrawIndexed)

* 
[vkCmdDrawIndexedIndirect](#vkCmdDrawIndexedIndirect)

* 
[vkCmdDrawIndexedIndirectCount](#vkCmdDrawIndexedIndirectCount)

* 
[vkCmdDrawIndexedIndirectCountKHR](#vkCmdDrawIndexedIndirectCountKHR)

* 
[vkCmdDrawIndexedIndirectCountAMD](#vkCmdDrawIndexedIndirectCountAMD)

* 
[vkCmdDrawMultiIndexedEXT](#vkCmdDrawMultiIndexedEXT)

To bind an index buffer to a command buffer, call:

// Provided by VK_VERSION_1_0
void vkCmdBindIndexBuffer(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    buffer,
    VkDeviceSize                                offset,
    VkIndexType                                 indexType);

* 
`commandBuffer` is the command buffer into which the command is
recorded.

* 
`buffer` is the buffer being bound.

* 
`offset` is the starting offset in bytes within `buffer` used in
index buffer address calculations.

* 
`indexType` is a [VkIndexType](#VkIndexType) value specifying the size of the
indices.

If the [`maintenance6`](features.html#features-maintenance6) feature is enabled,
`buffer` **can** be [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE).
If `buffer` is [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) and the [`nullDescriptor`](features.html#features-nullDescriptor) feature is enabled, every index fetched results in a
value of zero.

Valid Usage

* 
[](#VUID-vkCmdBindIndexBuffer-offset-08782) VUID-vkCmdBindIndexBuffer-offset-08782

`offset` **must** be less than the size of `buffer`

* 
[](#VUID-vkCmdBindIndexBuffer-offset-08783) VUID-vkCmdBindIndexBuffer-offset-08783

The sum of `offset` and the base address of the range of
`VkDeviceMemory` object that is backing `buffer`, **must** be a
multiple of the size of the type indicated by `indexType`

* 
[](#VUID-vkCmdBindIndexBuffer-buffer-08784) VUID-vkCmdBindIndexBuffer-buffer-08784

`buffer` **must** have been created with the
`VK_BUFFER_USAGE_INDEX_BUFFER_BIT` flag

* 
[](#VUID-vkCmdBindIndexBuffer-buffer-08785) VUID-vkCmdBindIndexBuffer-buffer-08785

If `buffer` is non-sparse then it **must** be bound completely and
contiguously to a single `VkDeviceMemory` object

* 
[](#VUID-vkCmdBindIndexBuffer-indexType-08786) VUID-vkCmdBindIndexBuffer-indexType-08786

`indexType` **must** not be `VK_INDEX_TYPE_NONE_KHR`

* 
[](#VUID-vkCmdBindIndexBuffer-indexType-08787) VUID-vkCmdBindIndexBuffer-indexType-08787

If `indexType` is `VK_INDEX_TYPE_UINT8`, the
[`indexTypeUint8`](features.html#features-indexTypeUint8) feature **must** be
enabled

* 
[](#VUID-vkCmdBindIndexBuffer-None-09493) VUID-vkCmdBindIndexBuffer-None-09493

If the [`maintenance6`](features.html#features-maintenance6) feature is not
enabled,
`buffer` **must** not be [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

* 
[](#VUID-vkCmdBindIndexBuffer-buffer-09494) VUID-vkCmdBindIndexBuffer-buffer-09494

If `buffer` is [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), offset **must** be zero

Valid Usage (Implicit)

* 
[](#VUID-vkCmdBindIndexBuffer-commandBuffer-parameter) VUID-vkCmdBindIndexBuffer-commandBuffer-parameter

 `commandBuffer` **must** be a valid [VkCommandBuffer](cmdbuffers.html#VkCommandBuffer) handle

* 
[](#VUID-vkCmdBindIndexBuffer-buffer-parameter) VUID-vkCmdBindIndexBuffer-buffer-parameter

 If `buffer` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), `buffer` **must** be a valid [VkBuffer](resources.html#VkBuffer) handle

* 
[](#VUID-vkCmdBindIndexBuffer-indexType-parameter) VUID-vkCmdBindIndexBuffer-indexType-parameter

 `indexType` **must** be a valid [VkIndexType](#VkIndexType) value

* 
[](#VUID-vkCmdBindIndexBuffer-commandBuffer-recording) VUID-vkCmdBindIndexBuffer-commandBuffer-recording

 `commandBuffer` **must** be in the [recording state](cmdbuffers.html#commandbuffers-lifecycle)

* 
[](#VUID-vkCmdBindIndexBuffer-commandBuffer-cmdpool) VUID-vkCmdBindIndexBuffer-commandBuffer-cmdpool

 The `VkCommandPool` that `commandBuffer` was allocated from **must** support graphics operations

* 
[](#VUID-vkCmdBindIndexBuffer-videocoding) VUID-vkCmdBindIndexBuffer-videocoding

 This command **must** only be called outside of a video coding scope

* 
[](#VUID-vkCmdBindIndexBuffer-commonparent) VUID-vkCmdBindIndexBuffer-commonparent

 Both of `buffer`, and `commandBuffer` that are valid handles of non-ignored parameters **must** have been created, allocated, or retrieved from the same [VkDevice](devsandqueues.html#VkDevice)

Host Synchronization

* 
Host access to `commandBuffer` **must** be externally synchronized

* 
Host access to the `VkCommandPool` that `commandBuffer` was allocated from **must** be externally synchronized

Command Properties
| [Command Buffer Levels](cmdbuffers.html#VkCommandBufferLevel) | [Render Pass Scope](renderpass.html#vkCmdBeginRenderPass) | [Video Coding Scope](videocoding.html#vkCmdBeginVideoCodingKHR) | [Supported Queue Types](devsandqueues.html#VkQueueFlagBits) | [Command Type](fundamentals.html#fundamentals-queueoperation-command-types) |
| --- | --- | --- | --- | --- |
| Primary

Secondary | Both | Outside | Graphics | State |

To bind an index buffer, along with its size, to a command buffer, call:

// Provided by VK_VERSION_1_4
void vkCmdBindIndexBuffer2(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    buffer,
    VkDeviceSize                                offset,
    VkDeviceSize                                size,
    VkIndexType                                 indexType);

or the equivalent command

// Provided by VK_KHR_maintenance5
void vkCmdBindIndexBuffer2KHR(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    buffer,
    VkDeviceSize                                offset,
    VkDeviceSize                                size,
    VkIndexType                                 indexType);

* 
`commandBuffer` is the command buffer into which the command is
recorded.

* 
`buffer` is the buffer being bound.

* 
`offset` is the starting offset in bytes within `buffer` used in
index buffer address calculations.

* 
`size` is the size in bytes of index data bound from `buffer`.

* 
`indexType` is a [VkIndexType](#VkIndexType) value specifying the size of the
indices.

`size` specifies the bound size of the index buffer starting from
`offset`.
If `size` is `VK_WHOLE_SIZE` then the bound size is from
`offset` to the end of the `buffer`.

If the [`maintenance6`](features.html#features-maintenance6) feature is enabled,
`buffer` **can** be [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE).
If `buffer` is [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) and the [`nullDescriptor`](features.html#features-nullDescriptor) feature is enabled, every index fetched results in a
value of zero.

Valid Usage

* 
[](#VUID-vkCmdBindIndexBuffer2-offset-08782) VUID-vkCmdBindIndexBuffer2-offset-08782

`offset` **must** be less than the size of `buffer`

* 
[](#VUID-vkCmdBindIndexBuffer2-offset-08783) VUID-vkCmdBindIndexBuffer2-offset-08783

The sum of `offset` and the base address of the range of
`VkDeviceMemory` object that is backing `buffer`, **must** be a
multiple of the size of the type indicated by `indexType`

* 
[](#VUID-vkCmdBindIndexBuffer2-buffer-08784) VUID-vkCmdBindIndexBuffer2-buffer-08784

`buffer` **must** have been created with the
`VK_BUFFER_USAGE_INDEX_BUFFER_BIT` flag

* 
[](#VUID-vkCmdBindIndexBuffer2-buffer-08785) VUID-vkCmdBindIndexBuffer2-buffer-08785

If `buffer` is non-sparse then it **must** be bound completely and
contiguously to a single `VkDeviceMemory` object

* 
[](#VUID-vkCmdBindIndexBuffer2-indexType-08786) VUID-vkCmdBindIndexBuffer2-indexType-08786

`indexType` **must** not be `VK_INDEX_TYPE_NONE_KHR`

* 
[](#VUID-vkCmdBindIndexBuffer2-indexType-08787) VUID-vkCmdBindIndexBuffer2-indexType-08787

If `indexType` is `VK_INDEX_TYPE_UINT8`, the
[`indexTypeUint8`](features.html#features-indexTypeUint8) feature **must** be
enabled

* 
[](#VUID-vkCmdBindIndexBuffer2-None-09493) VUID-vkCmdBindIndexBuffer2-None-09493

If the [`maintenance6`](features.html#features-maintenance6) feature is not
enabled,
`buffer` **must** not be [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

* 
[](#VUID-vkCmdBindIndexBuffer2-buffer-09494) VUID-vkCmdBindIndexBuffer2-buffer-09494

If `buffer` is [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), offset **must** be zero

* 
[](#VUID-vkCmdBindIndexBuffer2-size-08767) VUID-vkCmdBindIndexBuffer2-size-08767

If `size` is not `VK_WHOLE_SIZE`, `size` **must** be a multiple
of the size of the type indicated by `indexType`

* 
[](#VUID-vkCmdBindIndexBuffer2-size-08768) VUID-vkCmdBindIndexBuffer2-size-08768

If `size` is not `VK_WHOLE_SIZE`, the sum of `offset` and
`size` **must** be less than or equal to the size of `buffer`

Valid Usage (Implicit)

* 
[](#VUID-vkCmdBindIndexBuffer2-commandBuffer-parameter) VUID-vkCmdBindIndexBuffer2-commandBuffer-parameter

 `commandBuffer` **must** be a valid [VkCommandBuffer](cmdbuffers.html#VkCommandBuffer) handle

* 
[](#VUID-vkCmdBindIndexBuffer2-buffer-parameter) VUID-vkCmdBindIndexBuffer2-buffer-parameter

 If `buffer` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), `buffer` **must** be a valid [VkBuffer](resources.html#VkBuffer) handle

* 
[](#VUID-vkCmdBindIndexBuffer2-indexType-parameter) VUID-vkCmdBindIndexBuffer2-indexType-parameter

 `indexType` **must** be a valid [VkIndexType](#VkIndexType) value

* 
[](#VUID-vkCmdBindIndexBuffer2-commandBuffer-recording) VUID-vkCmdBindIndexBuffer2-commandBuffer-recording

 `commandBuffer` **must** be in the [recording state](cmdbuffers.html#commandbuffers-lifecycle)

* 
[](#VUID-vkCmdBindIndexBuffer2-commandBuffer-cmdpool) VUID-vkCmdBindIndexBuffer2-commandBuffer-cmdpool

 The `VkCommandPool` that `commandBuffer` was allocated from **must** support graphics operations

* 
[](#VUID-vkCmdBindIndexBuffer2-videocoding) VUID-vkCmdBindIndexBuffer2-videocoding

 This command **must** only be called outside of a video coding scope

* 
[](#VUID-vkCmdBindIndexBuffer2-commonparent) VUID-vkCmdBindIndexBuffer2-commonparent

 Both of `buffer`, and `commandBuffer` that are valid handles of non-ignored parameters **must** have been created, allocated, or retrieved from the same [VkDevice](devsandqueues.html#VkDevice)

Host Synchronization

* 
Host access to `commandBuffer` **must** be externally synchronized

* 
Host access to the `VkCommandPool` that `commandBuffer` was allocated from **must** be externally synchronized

Command Properties
| [Command Buffer Levels](cmdbuffers.html#VkCommandBufferLevel) | [Render Pass Scope](renderpass.html#vkCmdBeginRenderPass) | [Video Coding Scope](videocoding.html#vkCmdBeginVideoCodingKHR) | [Supported Queue Types](devsandqueues.html#VkQueueFlagBits) | [Command Type](fundamentals.html#fundamentals-queueoperation-command-types) |
| --- | --- | --- | --- | --- |
| Primary

Secondary | Both | Outside | Graphics | State |

Possible values of
[vkCmdBindIndexBuffer2](#vkCmdBindIndexBuffer2)::`indexType` and
[vkCmdBindIndexBuffer](#vkCmdBindIndexBuffer)::`indexType`, specifying the size of indices,
are:

// Provided by VK_VERSION_1_0
typedef enum VkIndexType {
    VK_INDEX_TYPE_UINT16 = 0,
    VK_INDEX_TYPE_UINT32 = 1,
  // Provided by VK_VERSION_1_4
    VK_INDEX_TYPE_UINT8 = 1000265000,
  // Provided by VK_KHR_acceleration_structure
    VK_INDEX_TYPE_NONE_KHR = 1000165000,
  // Provided by VK_NV_ray_tracing
    VK_INDEX_TYPE_NONE_NV = VK_INDEX_TYPE_NONE_KHR,
  // Provided by VK_EXT_index_type_uint8
    VK_INDEX_TYPE_UINT8_EXT = VK_INDEX_TYPE_UINT8,
  // Provided by VK_KHR_index_type_uint8
    VK_INDEX_TYPE_UINT8_KHR = VK_INDEX_TYPE_UINT8,
} VkIndexType;

* 
`VK_INDEX_TYPE_UINT16` specifies that indices are 16-bit unsigned
integer values.

* 
`VK_INDEX_TYPE_UINT32` specifies that indices are 32-bit unsigned
integer values.

* 
`VK_INDEX_TYPE_NONE_KHR` specifies that no indices are provided.

* 
`VK_INDEX_TYPE_UINT8` specifies that indices are 8-bit unsigned
integer values.

The parameters for each drawing command are specified directly in the
command or read from buffer memory, depending on the command.
Drawing commands that source their parameters from buffer memory are known
as *indirect* drawing commands.

All drawing commands interact with the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature.

To record a non-indexed draw, call:

// Provided by VK_VERSION_1_0
void vkCmdDraw(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    vertexCount,
    uint32_t                                    instanceCount,
    uint32_t                                    firstVertex,
    uint32_t                                    firstInstance);

* 
`commandBuffer` is the command buffer into which the command is
recorded.

* 
`vertexCount` is the number of vertices to draw.

* 
`instanceCount` is the number of instances to draw.

* 
`firstVertex` is the index of the first vertex to draw.

* 
`firstInstance` is the instance ID of the first instance to draw.

When the command is executed, primitives are assembled using the current
primitive topology and `vertexCount` consecutive vertex indices with the
first `vertexIndex` value equal to `firstVertex`.
The primitives are drawn `instanceCount` times with `instanceIndex`
starting with `firstInstance` and increasing sequentially for each
instance.
The assembled primitives execute the bound graphics pipeline.

Valid Usage

* 
[](#VUID-vkCmdDraw-magFilter-04553) VUID-vkCmdDraw-magFilter-04553

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDraw-magFilter-09598) VUID-vkCmdDraw-magFilter-09598

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR` and `reductionMode` equal to either
`VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDraw-mipmapMode-04770) VUID-vkCmdDraw-mipmapMode-04770

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDraw-mipmapMode-09599) VUID-vkCmdDraw-mipmapMode-09599

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR` and `reductionMode` equal to
either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDraw-unnormalizedCoordinates-09635) VUID-vkCmdDraw-unnormalizedCoordinates-09635

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `levelCount` and `layerCount`
**must** be 1

* 
[](#VUID-vkCmdDraw-None-08609) VUID-vkCmdDraw-None-08609

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `viewType` **must** be
`VK_IMAGE_VIEW_TYPE_1D` or `VK_IMAGE_VIEW_TYPE_2D`

* 
[](#VUID-vkCmdDraw-None-08610) VUID-vkCmdDraw-None-08610

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions with
`ImplicitLod`, `Dref` or `Proj` in their name

* 
[](#VUID-vkCmdDraw-None-08611) VUID-vkCmdDraw-None-08611

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions that includes a
LOD bias or any offset values

* 
[](#VUID-vkCmdDraw-None-06479) VUID-vkCmdDraw-None-06479

If a [VkImageView](resources.html#VkImageView) is sampled with
[depth comparison](textures.html#textures-depth-compare-operation), the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_SAMPLED_IMAGE_DEPTH_COMPARISON_BIT`

* 
[](#VUID-vkCmdDraw-None-02691) VUID-vkCmdDraw-None-02691

If a [VkImageView](resources.html#VkImageView) is accessed using atomic operations as a result
of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT`

* 
[](#VUID-vkCmdDraw-None-07888) VUID-vkCmdDraw-None-07888

If a `VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER` descriptor is
accessed using atomic operations as a result of this command, then the
storage texel buffer’s [format    features](resources.html#resources-buffer-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT`

* 
[](#VUID-vkCmdDraw-None-02692) VUID-vkCmdDraw-None-02692

If a [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_CUBIC_BIT_EXT`

* 
[](#VUID-vkCmdDraw-None-02693) VUID-vkCmdDraw-None-02693

If
the [VK_EXT_filter_cubic](../appendices/extensions.html#VK_EXT_filter_cubic) extension is not enabled and
any [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, it **must** not have a [VkImageViewType](resources.html#VkImageViewType) of
`VK_IMAGE_VIEW_TYPE_3D`, `VK_IMAGE_VIEW_TYPE_CUBE`, or
`VK_IMAGE_VIEW_TYPE_CUBE_ARRAY`

* 
[](#VUID-vkCmdDraw-filterCubic-02694) VUID-vkCmdDraw-filterCubic-02694

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command **must** have a [VkImageViewType](resources.html#VkImageViewType) and format
that supports cubic filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubic`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDraw-filterCubicMinmax-02695) VUID-vkCmdDraw-filterCubicMinmax-02695

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` with
a reduction mode of either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` as a result of this command **must**
have a [VkImageViewType](resources.html#VkImageViewType) and format that supports cubic filtering
together with minmax filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubicMinmax`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDraw-cubicRangeClamp-09212) VUID-vkCmdDraw-cubicRangeClamp-09212

If the [`cubicRangeClamp`](features.html#features-cubicRangeClamp) feature is
not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** not have a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM`

* 
[](#VUID-vkCmdDraw-reductionMode-09213) VUID-vkCmdDraw-reductionMode-09213

Any [VkImageView](resources.html#VkImageView) being sampled with a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM` as a
result of this command **must** sample with `VK_FILTER_CUBIC_EXT`

* 
[](#VUID-vkCmdDraw-selectableCubicWeights-09214) VUID-vkCmdDraw-selectableCubicWeights-09214

If the [`selectableCubicWeights`](features.html#features-selectableCubicWeights)
feature is not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** have
[VkSamplerCubicWeightsCreateInfoQCOM](samplers.html#VkSamplerCubicWeightsCreateInfoQCOM)::`cubicWeights` equal to
`VK_CUBIC_FILTER_WEIGHTS_CATMULL_ROM_QCOM`

* 
[](#VUID-vkCmdDraw-flags-02696) VUID-vkCmdDraw-flags-02696

Any [VkImage](resources.html#VkImage) created with a [VkImageCreateInfo](resources.html#VkImageCreateInfo)::`flags`
containing `VK_IMAGE_CREATE_CORNER_SAMPLED_BIT_NV` sampled as a
result of this command **must** only be sampled using a
[VkSamplerAddressMode](samplers.html#VkSamplerAddressMode) of
`VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE`

* 
[](#VUID-vkCmdDraw-OpTypeImage-07027) VUID-vkCmdDraw-OpTypeImage-07027

For any [VkImageView](resources.html#VkImageView) being written as a storage image where the
image format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDraw-OpTypeImage-07028) VUID-vkCmdDraw-OpTypeImage-07028

For any [VkImageView](resources.html#VkImageView) being read as a storage image where the image
format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDraw-OpTypeImage-07029) VUID-vkCmdDraw-OpTypeImage-07029

For any [VkBufferView](resources.html#VkBufferView) being written as a storage texel buffer where
the image format field of the `OpTypeImage` is `Unknown`, the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDraw-OpTypeImage-07030) VUID-vkCmdDraw-OpTypeImage-07030

Any [VkBufferView](resources.html#VkBufferView) being read as a storage texel buffer where the
image format field of the `OpTypeImage` is `Unknown` then the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDraw-None-08600) VUID-vkCmdDraw-None-08600

For each set *n* that is statically used by [a bound    shader](shaders.html#shaders-binding), a descriptor set **must** have been bound to *n* at the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for set *n*, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the current
[VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDraw-None-08601) VUID-vkCmdDraw-None-08601

For each push constant that is statically used by [a    bound shader](shaders.html#shaders-binding), a push constant value **must** have been set for the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the
current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDraw-None-10068) VUID-vkCmdDraw-None-10068

For each array of resources that is used by [a bound    shader](shaders.html#shaders-binding), the indices used to access members of the array **must** be less
than the descriptor count for the identified binding in the descriptor
sets used by this command

* 
[](#VUID-vkCmdDraw-maintenance4-08602) VUID-vkCmdDraw-maintenance4-08602

If the [`maintenance4`](features.html#features-maintenance4) feature is not
enabled, then for each push constant that is statically used by
[a bound shader](shaders.html#shaders-binding), a push constant value **must** have
been set for the same pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
that is compatible for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
used to create the current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) and [VkPushConstantRange](descriptorsets.html#VkPushConstantRange) arrays
used to create the current [VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDraw-None-08114) VUID-vkCmdDraw-None-08114

Descriptors in each bound descriptor set, specified via
[vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), **must** be valid as described by
[descriptor validity](descriptorsets.html#descriptor-validity) if they are statically used
by
the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind point used by this
command and the bound [VkPipeline](pipelines.html#VkPipeline) was not created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDraw-None-08115) VUID-vkCmdDraw-None-08115

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), the bound
[VkPipeline](pipelines.html#VkPipeline) **must** have been created without
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDraw-None-08116) VUID-vkCmdDraw-None-08116

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind
point used by this command and the bound [VkPipeline](pipelines.html#VkPipeline) was created
with `VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDraw-None-08604) VUID-vkCmdDraw-None-08604

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command

* 
[](#VUID-vkCmdDraw-None-08117) VUID-vkCmdDraw-None-08117

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT),
the bound [VkPipeline](pipelines.html#VkPipeline) **must** have been created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDraw-None-08119) VUID-vkCmdDraw-None-08119

If a descriptor is dynamically used with a [VkPipeline](pipelines.html#VkPipeline) created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the descriptor
memory **must** be resident

* 
[](#VUID-vkCmdDraw-None-08605) VUID-vkCmdDraw-None-08605

If a descriptor is dynamically used with a [VkShaderEXT](shaders.html#VkShaderEXT) created
with a `VkDescriptorSetLayout` that was created with
`VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the
descriptor memory **must** be resident

* 
[](#VUID-vkCmdDraw-None-08606) VUID-vkCmdDraw-None-08606

If the [`shaderObject`](features.html#features-shaderObject) feature is not
enabled, a
valid pipeline **must** be bound to the pipeline bind point used by this
command

* 
[](#VUID-vkCmdDraw-None-08608) VUID-vkCmdDraw-None-08608

If a pipeline is bound to the pipeline bind point used by this command,
there
**must** not have been any calls to dynamic state setting commands for any
state specified statically in the [VkPipeline](pipelines.html#VkPipeline) object bound to the
pipeline bind point used by this command, since that pipeline was bound

* 
[](#VUID-vkCmdDraw-uniformBuffers-06935) VUID-vkCmdDraw-uniformBuffers-06935

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a uniform buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`uniformBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDraw-None-08612) VUID-vkCmdDraw-None-08612

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a uniform
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDraw-storageBuffers-06936) VUID-vkCmdDraw-storageBuffers-06936

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a storage buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`storageBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDraw-None-08613) VUID-vkCmdDraw-None-08613

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a storage
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDraw-commandBuffer-02707) VUID-vkCmdDraw-commandBuffer-02707

If `commandBuffer` is an unprotected command buffer and
[`protectedNoFault`](devsandqueues.html#limits-protectedNoFault) is not supported,
any resource accessed by [bound shaders](shaders.html#shaders-binding) **must** not be
a protected resource

* 
[](#VUID-vkCmdDraw-viewType-07752) VUID-vkCmdDraw-viewType-07752

If a [VkImageView](resources.html#VkImageView) is accessed as a result of this command, then the
image view’s `viewType` **must** match the `Dim` operand of the
`OpTypeImage` as described in [Compatibility Between SPIR-V Image Dimensions and Vulkan ImageView Types](../appendices/spirvenv.html#spirvenv-image-dimensions)

* 
[](#VUID-vkCmdDraw-format-07753) VUID-vkCmdDraw-format-07753

If a [VkImageView](resources.html#VkImageView) or [VkBufferView](resources.html#VkBufferView) is accessed as a result of
this command, then the [numeric type](formats.html#formats-numericformat) of the
view’s `format` and the `Sampled` `Type` operand of the
`OpTypeImage` **must** match

* 
[](#VUID-vkCmdDraw-OpImageWrite-08795) VUID-vkCmdDraw-OpImageWrite-08795

If a [VkImageView](resources.html#VkImageView)
created with a format other than `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
at least as many components as the image view’s format

* 
[](#VUID-vkCmdDraw-OpImageWrite-08796) VUID-vkCmdDraw-OpImageWrite-08796

If a [VkImageView](resources.html#VkImageView) created with the format `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
four components

* 
[](#VUID-vkCmdDraw-OpImageWrite-04469) VUID-vkCmdDraw-OpImageWrite-04469

If a [VkBufferView](resources.html#VkBufferView) is accessed using `OpImageWrite` as a result
of this command, then the `Type` of the `Texel` operand of that
instruction **must** have at least as many components as the buffer view’s
format

* 
[](#VUID-vkCmdDraw-SampledType-04470) VUID-vkCmdDraw-SampledType-04470

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit component
width is accessed as a result of this command, the `SampledType` of
the `OpTypeImage` operand of that instruction **must** have a `Width`
of 64

* 
[](#VUID-vkCmdDraw-SampledType-04471) VUID-vkCmdDraw-SampledType-04471

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDraw-SampledType-04472) VUID-vkCmdDraw-SampledType-04472

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit
component width is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 64

* 
[](#VUID-vkCmdDraw-SampledType-04473) VUID-vkCmdDraw-SampledType-04473

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDraw-sparseImageInt64Atomics-04474) VUID-vkCmdDraw-sparseImageInt64Atomics-04474

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkImage](resources.html#VkImage)
objects created with the `VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT` flag
**must** not be accessed by atomic instructions through an `OpTypeImage`
with a `SampledType` with a `Width` of 64 by this command

* 
[](#VUID-vkCmdDraw-sparseImageInt64Atomics-04475) VUID-vkCmdDraw-sparseImageInt64Atomics-04475

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkBuffer](resources.html#VkBuffer)
objects created with the `VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT`
flag **must** not be accessed by atomic instructions through an
`OpTypeImage` with a `SampledType` with a `Width` of 64 by this
command

* 
[](#VUID-vkCmdDraw-OpImageWeightedSampleQCOM-06971) VUID-vkCmdDraw-OpImageWeightedSampleQCOM-06971

If `OpImageWeightedSampleQCOM` is used to sample a [VkImageView](resources.html#VkImageView)
as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_SAMPLED_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDraw-OpImageWeightedSampleQCOM-06972) VUID-vkCmdDraw-OpImageWeightedSampleQCOM-06972

If `OpImageWeightedSampleQCOM` uses a [VkImageView](resources.html#VkImageView) as a sample
weight image as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDraw-OpImageBoxFilterQCOM-06973) VUID-vkCmdDraw-OpImageBoxFilterQCOM-06973

If `OpImageBoxFilterQCOM` is used to sample a [VkImageView](resources.html#VkImageView) as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BOX_FILTER_SAMPLED_BIT_QCOM`

* 
[](#VUID-vkCmdDraw-OpImageBlockMatchSSDQCOM-06974) VUID-vkCmdDraw-OpImageBlockMatchSSDQCOM-06974

If `OpImageBlockMatchSSDQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDraw-OpImageBlockMatchSADQCOM-06975) VUID-vkCmdDraw-OpImageBlockMatchSADQCOM-06975

If `OpImageBlockMatchSADQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDraw-OpImageBlockMatchSADQCOM-06976) VUID-vkCmdDraw-OpImageBlockMatchSADQCOM-06976

If `OpImageBlockMatchSADQCOM` or OpImageBlockMatchSSDQCOM is used to
read from a reference image as result of this command, then the
specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDraw-OpImageWeightedSampleQCOM-06977) VUID-vkCmdDraw-OpImageWeightedSampleQCOM-06977

If `OpImageWeightedSampleQCOM`, `OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** have
been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDraw-OpImageWeightedSampleQCOM-06978) VUID-vkCmdDraw-OpImageWeightedSampleQCOM-06978

If any command other than `OpImageWeightedSampleQCOM`,
`OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** not
have been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDraw-OpImageBlockMatchWindow-09215) VUID-vkCmdDraw-OpImageBlockMatchWindow-09215

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDraw-OpImageBlockMatchWindow-09216) VUID-vkCmdDraw-OpImageBlockMatchWindow-09216

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
format **must** be a single-component format

* 
[](#VUID-vkCmdDraw-OpImageBlockMatchWindow-09217) VUID-vkCmdDraw-OpImageBlockMatchWindow-09217

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` read from a reference image as result
of this command, then the specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDraw-None-07288) VUID-vkCmdDraw-None-07288

Any shader invocation executed by this command **must**
[terminate](shaders.html#shaders-termination)

* 
[](#VUID-vkCmdDraw-None-09600) VUID-vkCmdDraw-None-09600

If a descriptor with type equal to any of
`VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE`,
`VK_DESCRIPTOR_TYPE_STORAGE_IMAGE`, or
`VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT` is accessed as a result of
this command, all image subresources identified by that descriptor **must**
be in the image layout identified when the descriptor was written

* 
[](#VUID-vkCmdDraw-commandBuffer-10746) VUID-vkCmdDraw-commandBuffer-10746

The `VkDeviceMemory` object allocated from a `VkMemoryHeap` with
the `VK_MEMORY_HEAP_TILE_MEMORY_BIT_QCOM` property that is bound to
a resource accessed as a result of this command **must** be the active
bound [bound tile memory object](memory.html#memory-bind-tile-memory) in
`commandBuffer`

* 
[](#VUID-vkCmdDraw-None-10678) VUID-vkCmdDraw-None-10678

If this command is recorded inside a [tile    shading render pass](renderpass.html#renderpass-tile-shading) instance, the stages corresponding to the pipeline
bind point used by this command **must** only include
`VK_SHADER_STAGE_VERTEX_BIT`, `VK_SHADER_STAGE_FRAGMENT_BIT`,
and/or `VK_SHADER_STAGE_COMPUTE_BIT`

* 
[](#VUID-vkCmdDraw-None-10679) VUID-vkCmdDraw-None-10679

If this command is recorded where
[per-tile execution model](renderpass.html#renderpass-per-tile-execution-model) is
enabled, there **must** be no access to any image while the image was be
transitioned to the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` layout

* 
[](#VUID-vkCmdDraw-renderPass-02684) VUID-vkCmdDraw-renderPass-02684

The current render pass **must** be [compatible](renderpass.html#renderpass-compatibility)
with the `renderPass` member of the
`VkGraphicsPipelineCreateInfo` structure specified when creating the
`VkPipeline` bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDraw-subpass-02685) VUID-vkCmdDraw-subpass-02685

The subpass index of the current render pass **must** be equal to the
`subpass` member of the `VkGraphicsPipelineCreateInfo` structure
specified when creating the `VkPipeline` bound to
`VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDraw-None-07748) VUID-vkCmdDraw-None-07748

If any shader statically accesses an input attachment, a valid
descriptor **must** be bound to the pipeline via a descriptor set

* 
[](#VUID-vkCmdDraw-OpTypeImage-07468) VUID-vkCmdDraw-OpTypeImage-07468

If any shader executed by this pipeline accesses an `OpTypeImage`
variable with a `Dim` operand of `SubpassData`, it **must** be
decorated with an `InputAttachmentIndex` that corresponds to a valid
input attachment in the current subpass

* 
[](#VUID-vkCmdDraw-None-07469) VUID-vkCmdDraw-None-07469

Input attachment views accessed in a subpass **must** be created with the
same [VkFormat](formats.html#VkFormat) as the corresponding subpass definition, and be
created with a [VkImageView](resources.html#VkImageView) that is compatible with the attachment
referenced by the subpass'
`pInputAttachments`[`InputAttachmentIndex`] in the bound
[VkFramebuffer](renderpass.html#VkFramebuffer) as specified by
[Fragment Input Attachment    Compatibility](interfaces.html#compatibility-inputattachment)

* 
[](#VUID-vkCmdDraw-pDepthInputAttachmentIndex-09595) VUID-vkCmdDraw-pDepthInputAttachmentIndex-09595

Input attachment views accessed in a dynamic render pass with a
`InputAttachmentIndex` referenced by
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo), or no
`InputAttachmentIndex` if
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
or
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are `NULL`, **must** be created with a [VkImageView](resources.html#VkImageView) that is compatible
with the corresponding color, depth, or stencil attachment in
[VkRenderingInfo](renderpass.html#VkRenderingInfo)

* 
[](#VUID-vkCmdDraw-pDepthInputAttachmentIndex-09596) VUID-vkCmdDraw-pDepthInputAttachmentIndex-09596

Input attachment views accessed in a dynamic render pass via a shader
object **must** have an `InputAttachmentIndex` if both
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
and
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are non-`NULL`

* 
[](#VUID-vkCmdDraw-InputAttachmentIndex-09597) VUID-vkCmdDraw-InputAttachmentIndex-09597

If an input attachment view accessed in a dynamic render pass via a
shader object has an `InputAttachmentIndex`, the
`InputAttachmentIndex` **must** match an index in
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

* 
[](#VUID-vkCmdDraw-None-06537) VUID-vkCmdDraw-None-06537

Memory backing image subresources used as attachments in the current
render pass **must** not be written in any way other than as an attachment
by this command

* 
[](#VUID-vkCmdDraw-None-09000) VUID-vkCmdDraw-None-09000

If a color attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

the `VK_PIPELINE_CREATE_COLOR_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT` is
set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_COLOR_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDraw-None-09001) VUID-vkCmdDraw-None-09001

If a depth attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_DEPTH_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDraw-None-09002) VUID-vkCmdDraw-None-09002

If a stencil attachment is written by any prior command in this subpass
or by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_STENCIL_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDraw-None-09003) VUID-vkCmdDraw-None-09003

If an attachment is written by any prior command in this subpass or by
the load, store, or resolve operations for this subpass, it **must** not be
accessed in any way other than as an attachment, storage image, or
sampled image by this command

[](#VUID-vkCmdDraw-None-06539) VUID-vkCmdDraw-None-06539

If any previously recorded command in the current subpass accessed an
image subresource used as an attachment in this subpass in any way other
than as an attachment, this command **must** not write to that image
subresource as an attachment

[](#VUID-vkCmdDraw-None-06886) VUID-vkCmdDraw-None-06886

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the depth aspect, [depth    writes](fragops.html#fragops-depth-write) **must** be disabled

[](#VUID-vkCmdDraw-None-06887) VUID-vkCmdDraw-None-06887

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the stencil aspect, both front and back
`writeMask` are not zero, and stencil test is enabled,
[all stencil ops](fragops.html#fragops-stencil) **must** be `VK_STENCIL_OP_KEEP`

[](#VUID-vkCmdDraw-None-07831) VUID-vkCmdDraw-None-07831

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT` dynamic state enabled then
[vkCmdSetViewport](vertexpostproc.html#vkCmdSetViewport) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDraw-None-07832) VUID-vkCmdDraw-None-07832

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SCISSOR` dynamic state enabled then
[vkCmdSetScissor](fragops.html#vkCmdSetScissor) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDraw-None-07833) VUID-vkCmdDraw-None-07833

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_WIDTH` dynamic state enabled then
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDraw-None-08617) VUID-vkCmdDraw-None-08617

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command
buffer set `polygonMode` to `VK_POLYGON_MODE_LINE`,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDraw-None-08618) VUID-vkCmdDraw-None-08618

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDraw-None-08619) VUID-vkCmdDraw-None-08619

If a shader object that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, [vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDraw-None-07834) VUID-vkCmdDraw-None-07834

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthBiasEnable`
is `VK_TRUE`, then [vkCmdSetDepthBias](primsrast.html#vkCmdSetDepthBias)
or [vkCmdSetDepthBias2EXT](primsrast.html#vkCmdSetDepthBias2EXT)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDraw-None-07835) VUID-vkCmdDraw-None-07835

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_BLEND_CONSTANTS` dynamic state enabled then
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDraw-None-08621) VUID-vkCmdDraw-None-08621

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) in the current command buffer set any
element of `pColorBlendEnables` to `VK_TRUE`, and the most
recent call to [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) in the current
command buffer set the same element of `pColorBlendEquations` to a
`VkColorBlendEquationEXT` structure with any [VkBlendFactor](framebuffer.html#VkBlendFactor)
member with a value of `VK_BLEND_FACTOR_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_CONSTANT_ALPHA`, or
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_ALPHA`,
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDraw-None-07836) VUID-vkCmdDraw-None-07836

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`depthBoundsTestEnable` is `VK_TRUE`, then
[vkCmdSetDepthBounds](fragops.html#vkCmdSetDepthBounds) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDraw-None-07837) VUID-vkCmdDraw-None-07837

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilCompareMask](fragops.html#vkCmdSetStencilCompareMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07838) VUID-vkCmdDraw-None-07838

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07839) VUID-vkCmdDraw-None-07839

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_REFERENCE` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of and
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilReference](fragops.html#vkCmdSetStencilReference) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-maxMultiviewInstanceIndex-02688) VUID-vkCmdDraw-maxMultiviewInstanceIndex-02688

If the draw is recorded in a render pass instance with multiview
enabled, the maximum instance index **must** be less than or equal to
[VkPhysicalDeviceMultiviewProperties](limits.html#VkPhysicalDeviceMultiviewProperties)::`maxMultiviewInstanceIndex`

[](#VUID-vkCmdDraw-sampleLocationsEnable-02689) VUID-vkCmdDraw-sampleLocationsEnable-02689

If the bound graphics pipeline was created with
[VkPipelineSampleLocationsStateCreateInfoEXT](primsrast.html#VkPipelineSampleLocationsStateCreateInfoEXT)::`sampleLocationsEnable`
set to `VK_TRUE` and the current subpass has a depth/stencil
attachment, then that attachment **must** have been created with the
`VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT` bit set

[](#VUID-vkCmdDraw-None-07634) VUID-vkCmdDraw-None-07634

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-06666) VUID-vkCmdDraw-None-06666

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
[vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07840) VUID-vkCmdDraw-None-07840

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CULL_MODE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCullMode](primsrast.html#vkCmdSetCullMode) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDraw-None-07841) VUID-vkCmdDraw-None-07841

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRONT_FACE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFrontFace](primsrast.html#vkCmdSetFrontFace) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDraw-None-07843) VUID-vkCmdDraw-None-07843

 If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`,
[vkCmdSetDepthTestEnable](fragops.html#vkCmdSetDepthTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07844) VUID-vkCmdDraw-None-07844

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07845) VUID-vkCmdDraw-None-07845

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_COMPARE_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthCompareOp](fragops.html#vkCmdSetDepthCompareOp) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07846) VUID-vkCmdDraw-None-07846

If the [`depthBounds`](features.html#features-depthBounds) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBoundsTestEnable](fragops.html#vkCmdSetDepthBoundsTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07847) VUID-vkCmdDraw-None-07847

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetStencilTestEnable](fragops.html#vkCmdSetStencilTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07848) VUID-vkCmdDraw-None-07848

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then [vkCmdSetStencilOp](fragops.html#vkCmdSetStencilOp)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDraw-viewportCount-03417) VUID-vkCmdDraw-viewportCount-03417

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-scissorCount-03418) VUID-vkCmdDraw-scissorCount-03418

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetScissorWithCount](vertexpostproc.html#vkCmdSetScissorWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing

[](#VUID-vkCmdDraw-viewportCount-03419) VUID-vkCmdDraw-viewportCount-03419

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with both the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic states enabled,
and the state is not inherited,
then the `viewportCount` parameter of
`vkCmdSetViewportWithCount` **must** match the `scissorCount`
parameter of `vkCmdSetScissorWithCount`

[](#VUID-vkCmdDraw-viewportCount-04137) VUID-vkCmdDraw-viewportCount-04137

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportWScalingStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportWScalingStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDraw-viewportCount-04138) VUID-vkCmdDraw-viewportCount-04138

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-08636) VUID-vkCmdDraw-None-08636

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDraw-viewportCount-04139) VUID-vkCmdDraw-viewportCount-04139

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic
state enabled, then the bound graphics pipeline **must** have been created
with
[VkPipelineViewportShadingRateImageStateCreateInfoNV](primsrast.html#VkPipelineViewportShadingRateImageStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDraw-shadingRateImage-09233) VUID-vkCmdDraw-shadingRateImage-09233

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_COARSE_SAMPLE_ORDER_NV` and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoarseSampleOrderNV](primsrast.html#vkCmdSetCoarseSampleOrderNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-shadingRateImage-09234) VUID-vkCmdDraw-shadingRateImage-09234

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-08637) VUID-vkCmdDraw-None-08637

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** be greater than or
equal to the `viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDraw-VkPipelineVieportCreateInfo-04141) VUID-vkCmdDraw-VkPipelineVieportCreateInfo-04141

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV) structure chained from
[VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound graphics
pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDraw-VkPipelineVieportCreateInfo-04142) VUID-vkCmdDraw-VkPipelineVieportCreateInfo-04142

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV) structure
chained from [VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound
graphics pipeline **must** have been created with
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV)::`exclusiveScissorCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDraw-None-07878) VUID-vkCmdDraw-None-07878

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_ENABLE_NV` dynamic state
enabled, then [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07879) VUID-vkCmdDraw-None-07879

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_NV` dynamic state enabled, and
the most recent call to [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) in the
current command buffer set any element of `pExclusiveScissorEnables`
to `VK_TRUE`, then [vkCmdSetExclusiveScissorNV](fragops.html#vkCmdSetExclusiveScissorNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-04876) VUID-vkCmdDraw-None-04876

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE` dynamic state enabled,
then [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-04877) VUID-vkCmdDraw-None-04877

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBiasEnable](primsrast.html#vkCmdSetDepthBiasEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-logicOp-04878) VUID-vkCmdDraw-logicOp-04878

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `logicOpEnable` is
`VK_TRUE`, then [vkCmdSetLogicOpEXT](framebuffer.html#vkCmdSetLogicOpEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-primitiveFragmentShadingRateWithMultipleViewports-04552) VUID-vkCmdDraw-primitiveFragmentShadingRateWithMultipleViewports-04552

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, and
any of the shader stages of the bound graphics pipeline write to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDraw-primitiveFragmentShadingRateWithMultipleViewports-08642) VUID-vkCmdDraw-primitiveFragmentShadingRateWithMultipleViewports-08642

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, and any shader object bound to a graphics stage writes to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDraw-blendEnable-04727) VUID-vkCmdDraw-blendEnable-04727

If rasterization is not disabled in the bound graphics pipeline, then
for each color attachment in the subpass, if the corresponding image
view’s [format features](resources.html#resources-image-view-format-features) do not
contain `VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
`blendEnable` member of the corresponding element of the
`pAttachments` member of `pColorBlendState` **must** be
`VK_FALSE`

[](#VUID-vkCmdDraw-None-08643) VUID-vkCmdDraw-None-08643

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then for each color attachment in the render pass, if
the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) do not contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
corresponding member of `pColorBlendEnables` in the most recent call
to `vkCmdSetColorBlendEnableEXT` in the current command buffer that
affected that attachment index **must** have been `VK_FALSE`

[](#VUID-vkCmdDraw-multisampledRenderToSingleSampled-07284) VUID-vkCmdDraw-multisampledRenderToSingleSampled-07284

If rasterization is not disabled in the bound graphics pipeline,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then `rasterizationSamples` for the bound graphics pipeline **must** be the
same as the current subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDraw-None-08644) VUID-vkCmdDraw-None-08644

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then the most recent call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) in the
current command buffer **must** have set `rasterizationSamples` to be the
same as the number of samples for the current render pass color and/or
depth/stencil attachments

[](#VUID-vkCmdDraw-None-08876) VUID-vkCmdDraw-None-08876

If a shader object is bound to any graphics stage, the current render
pass instance **must** have been begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)

[](#VUID-vkCmdDraw-imageView-06172) VUID-vkCmdDraw-imageView-06172

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the depth attachment

[](#VUID-vkCmdDraw-imageView-06173) VUID-vkCmdDraw-imageView-06173

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the stencil attachment

[](#VUID-vkCmdDraw-imageView-06174) VUID-vkCmdDraw-imageView-06174

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL`, this
command **must** not write any values to the depth attachment

[](#VUID-vkCmdDraw-imageView-06175) VUID-vkCmdDraw-imageView-06175

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL`, this
command **must** not write any values to the stencil attachment

[](#VUID-vkCmdDraw-imageView-06176) VUID-vkCmdDraw-imageView-06176

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the depth attachment

[](#VUID-vkCmdDraw-imageView-06177) VUID-vkCmdDraw-imageView-06177

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the stencil attachment

[](#VUID-vkCmdDraw-viewMask-06178) VUID-vkCmdDraw-viewMask-06178

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a [VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`viewMask` equal
to [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`viewMask`

[](#VUID-vkCmdDraw-colorAttachmentCount-06179) VUID-vkCmdDraw-colorAttachmentCount-06179

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`colorAttachmentCount` equal to
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount`

[](#VUID-vkCmdDraw-dynamicRenderingUnusedAttachments-08910) VUID-vkCmdDraw-dynamicRenderingUnusedAttachments-08910

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have
been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline

[](#VUID-vkCmdDraw-dynamicRenderingUnusedAttachments-08912) VUID-vkCmdDraw-dynamicRenderingUnusedAttachments-08912

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have the
corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound pipeline equal to `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDraw-dynamicRenderingUnusedAttachments-08911) VUID-vkCmdDraw-dynamicRenderingUnusedAttachments-08911

If the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled, and the
current render pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`,
then each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments`
array with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must**
have been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding
element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline, or the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats`, if
it exists, **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDraw-colorAttachmentCount-09362) VUID-vkCmdDraw-colorAttachmentCount-09362

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`,
there is no shader object bound to any graphics stage,
and a color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`resolveImageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDraw-None-09363) VUID-vkCmdDraw-None-09363

If
there is no shader object bound to any graphics stage,
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, and a
color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDraw-None-09364) VUID-vkCmdDraw-None-09364

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set the blend enable
to `VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDraw-None-09365) VUID-vkCmdDraw-None-09365

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDraw-None-09366) VUID-vkCmdDraw-None-09366

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set blend enable to
`VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDraw-rasterizationSamples-09367) VUID-vkCmdDraw-rasterizationSamples-09367

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDraw-None-09368) VUID-vkCmdDraw-None-09368

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDraw-None-09369) VUID-vkCmdDraw-None-09369

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDraw-pFragmentSize-09370) VUID-vkCmdDraw-pFragmentSize-09370

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDraw-pFragmentSize-09371) VUID-vkCmdDraw-pFragmentSize-09371

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDraw-None-07749) VUID-vkCmdDraw-None-07749

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-08646) VUID-vkCmdDraw-None-08646

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-attachmentCount-07750) VUID-vkCmdDraw-attachmentCount-07750

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
the `attachmentCount` parameter of `vkCmdSetColorWriteEnableEXT`
**must** be greater than or equal to the
`VkPipelineColorBlendStateCreateInfo`::`attachmentCount` of the
bound graphics pipeline

[](#VUID-vkCmdDraw-None-08647) VUID-vkCmdDraw-None-08647

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then the
`attachmentCount` parameter of most recent call to
`vkCmdSetColorWriteEnableEXT` in the current command buffer **must** be
greater than or equal to the number of color attachments in the current
render pass instance

[](#VUID-vkCmdDraw-None-07751) VUID-vkCmdDraw-None-07751

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled, a
graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) included a
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT)::`discardRectangleCount`

[](#VUID-vkCmdDraw-rasterizerDiscardEnable-09236) VUID-vkCmdDraw-rasterizerDiscardEnable-09236

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) did not
include a [VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPhysicalDeviceDiscardRectanglePropertiesEXT](limits.html#VkPhysicalDeviceDiscardRectanglePropertiesEXT)::`maxDiscardRectangles`

[](#VUID-vkCmdDraw-None-07880) VUID-vkCmdDraw-None-07880

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_ENABLE_EXT` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDiscardRectangleEnableEXT](fragops.html#vkCmdSetDiscardRectangleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07881) VUID-vkCmdDraw-None-07881

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_MODE_EXT` dynamic state enabled,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleModeEXT](fragops.html#vkCmdSetDiscardRectangleModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-dynamicRenderingUnusedAttachments-08913) VUID-vkCmdDraw-dynamicRenderingUnusedAttachments-08913

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDraw-dynamicRenderingUnusedAttachments-08914) VUID-vkCmdDraw-dynamicRenderingUnusedAttachments-08914

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDraw-dynamicRenderingUnusedAttachments-08915) VUID-vkCmdDraw-dynamicRenderingUnusedAttachments-08915

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline was not equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`,
the value of the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDraw-dynamicRenderingUnusedAttachments-08916) VUID-vkCmdDraw-dynamicRenderingUnusedAttachments-08916

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDraw-dynamicRenderingUnusedAttachments-08917) VUID-vkCmdDraw-dynamicRenderingUnusedAttachments-08917

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDraw-dynamicRenderingUnusedAttachments-08918) VUID-vkCmdDraw-dynamicRenderingUnusedAttachments-08918

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline was not equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`, the value of
the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDraw-imageView-06183) VUID-vkCmdDraw-imageView-06183

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentShadingRateAttachmentInfoKHR](renderpass.html#VkRenderingFragmentShadingRateAttachmentInfoKHR)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR`

[](#VUID-vkCmdDraw-imageView-06184) VUID-vkCmdDraw-imageView-06184

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentDensityMapAttachmentInfoEXT](renderpass.html#VkRenderingFragmentDensityMapAttachmentInfoEXT)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT`

[](#VUID-vkCmdDraw-colorAttachmentCount-06185) VUID-vkCmdDraw-colorAttachmentCount-06185

If the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and the current render
pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
`0`, then each element of the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with a sample count equal to the corresponding element of the
`pColorAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline

[](#VUID-vkCmdDraw-pDepthAttachment-06186) VUID-vkCmdDraw-pDepthAttachment-06186

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDraw-pStencilAttachment-06187) VUID-vkCmdDraw-pStencilAttachment-06187

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDraw-multisampledRenderToSingleSampled-07285) VUID-vkCmdDraw-multisampledRenderToSingleSampled-07285

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    the current render pass instance was begun with
    [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
    `0`, then each element of the
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
    `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
    created with a sample count equal to the value of
    `rasterizationSamples` for the bound graphics pipeline

[](#VUID-vkCmdDraw-multisampledRenderToSingleSampled-07286) VUID-vkCmdDraw-multisampledRenderToSingleSampled-07286

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDraw-multisampledRenderToSingleSampled-07287) VUID-vkCmdDraw-multisampledRenderToSingleSampled-07287

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDraw-pNext-07935) VUID-vkCmdDraw-pNext-07935

If this command has been called inside a render pass instance started
with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), and the `pNext` chain of
[VkRenderingInfo](renderpass.html#VkRenderingInfo) includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the value of `rasterizationSamples` for the bound graphics
pipeline **must** be equal to
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT)::`rasterizationSamples`

[](#VUID-vkCmdDraw-renderPass-06198) VUID-vkCmdDraw-renderPass-06198

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline **must** have been created
with a [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`renderPass` equal to
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

[](#VUID-vkCmdDraw-pColorAttachments-08963) VUID-vkCmdDraw-pColorAttachments-08963

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound with a
fragment shader that statically writes to a color attachment, the color
write mask is not zero, color writes are enabled, and the corresponding
element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments->imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDraw-pDepthAttachment-08964) VUID-vkCmdDraw-pDepthAttachment-08964

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, depth
test is enabled, depth write is enabled, and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDraw-pStencilAttachment-08965) VUID-vkCmdDraw-pStencilAttachment-08965

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, stencil
test is enabled and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDraw-flags-10582) VUID-vkCmdDraw-flags-10582

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), its [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`flags`
parameter **must** not have
`VK_RENDERING_CONTENTS_SECONDARY_COMMAND_BUFFERS_BIT` set
unless `VK_RENDERING_CONTENTS_INLINE_BIT_KHR` is also set

[](#VUID-vkCmdDraw-primitivesGeneratedQueryWithRasterizerDiscard-06708) VUID-vkCmdDraw-primitivesGeneratedQueryWithRasterizerDiscard-06708

If the [    `primitivesGeneratedQueryWithRasterizerDiscard`](features.html#features-primitivesGeneratedQueryWithRasterizerDiscard) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, [rasterization discard](primsrast.html#primsrast-discard) **must** not be enabled

[](#VUID-vkCmdDraw-primitivesGeneratedQueryWithNonZeroStreams-06709) VUID-vkCmdDraw-primitivesGeneratedQueryWithNonZeroStreams-06709

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, the bound graphics pipeline **must** not have been created with a
non-zero value in
`VkPipelineRasterizationStateStreamCreateInfoEXT`::`rasterizationStream`

[](#VUID-vkCmdDraw-None-07620) VUID-vkCmdDraw-None-07620

If the [`depthClamp`](features.html#features-depthClamp) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthClampEnableEXT](vertexpostproc.html#vkCmdSetDepthClampEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07621) VUID-vkCmdDraw-None-07621

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_POLYGON_MODE_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDraw-None-07622) VUID-vkCmdDraw-None-07622

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07623) VUID-vkCmdDraw-None-07623

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDraw-alphaToCoverageEnable-08919) VUID-vkCmdDraw-alphaToCoverageEnable-08919

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and `alphaToCoverageEnable` was `VK_TRUE` in the last
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT), then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDraw-alphaToCoverageEnable-08920) VUID-vkCmdDraw-alphaToCoverageEnable-08920

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) in the current command
buffer set `alphaToCoverageEnable` to `VK_TRUE`, then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDraw-None-07624) VUID-vkCmdDraw-None-07624

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07625) VUID-vkCmdDraw-None-07625

If the [`alphaToOne`](features.html#features-alphaToOne) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_ONE_ENABLE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToOneEnableEXT](fragops.html#vkCmdSetAlphaToOneEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07626) VUID-vkCmdDraw-None-07626

If the [`logicOp`](features.html#features-logicOp) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetLogicOpEnableEXT](framebuffer.html#vkCmdSetLogicOpEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07627) VUID-vkCmdDraw-None-07627

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-08657) VUID-vkCmdDraw-None-08657

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have
been called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime)
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07628) VUID-vkCmdDraw-None-07628

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-08658) VUID-vkCmdDraw-None-08658

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) for any attachment set that
attachment’s value in `pColorBlendEnables` to `VK_TRUE`, then
[vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07629) VUID-vkCmdDraw-None-07629

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-08659) VUID-vkCmdDraw-None-08659

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07630) VUID-vkCmdDraw-None-07630

If the [`geometryStreams`](features.html#features-geometryStreams) feature is
enabled, and
a shader object is bound to the `VK_SHADER_STAGE_GEOMETRY_BIT` stage
or
a graphics pipeline is bound which was created with both a
`VK_SHADER_STAGE_GEOMETRY_BIT` stage and the
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` dynamic state enabled,
then [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07631) VUID-vkCmdDraw-None-07631

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07632) VUID-vkCmdDraw-None-07632

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXTRA_PRIMITIVE_OVERESTIMATION_SIZE_EXT` dynamic
state enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`conservativeRasterizationMode` is
`VK_CONSERVATIVE_RASTERIZATION_MODE_OVERESTIMATE_EXT`, then
[vkCmdSetExtraPrimitiveOverestimationSizeEXT](primsrast.html#vkCmdSetExtraPrimitiveOverestimationSizeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07633) VUID-vkCmdDraw-None-07633

If the [`depthClipEnable`](features.html#features-depthClipEnable) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_ENABLE_EXT` dynamic state, then
[vkCmdSetDepthClipEnableEXT](vertexpostproc.html#vkCmdSetDepthClipEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07635) VUID-vkCmdDraw-None-07635

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-rasterizerDiscardEnable-09416) VUID-vkCmdDraw-rasterizerDiscardEnable-09416

If the `[VK_EXT_blend_operation_advanced](../appendices/extensions.html#VK_EXT_blend_operation_advanced)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then at least one of [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT)
and [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07636) VUID-vkCmdDraw-None-07636

If the `[VK_EXT_provoking_vertex](../appendices/extensions.html#VK_EXT_provoking_vertex)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_PROVOKING_VERTEX_MODE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetProvokingVertexModeEXT](vertexpostproc.html#vkCmdSetProvokingVertexModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07637) VUID-vkCmdDraw-None-07637

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state enabled
then [vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-08666) VUID-vkCmdDraw-None-08666

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-08667) VUID-vkCmdDraw-None-08667

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-08668) VUID-vkCmdDraw-None-08668

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07638) VUID-vkCmdDraw-None-07638

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` dynamic state enabled
then [vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-08669) VUID-vkCmdDraw-None-08669

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-08670) VUID-vkCmdDraw-None-08670

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-08671) VUID-vkCmdDraw-None-08671

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07849) VUID-vkCmdDraw-None-07849

    If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled and
    a shader object is bound to any graphics stage, or
    a bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE`
    dynamic state enabled, the [current    value](pipelines.html#dynamic-state-current-value) of `rasterizerDiscardEnable` is `VK_FALSE`, and the
    [current value](pipelines.html#dynamic-state-current-value) of
    `stippledLineEnable` is `VK_TRUE`, then
[vkCmdSetLineStipple](primsrast.html#vkCmdSetLineStipple)
    **must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
    command

[](#VUID-vkCmdDraw-None-10608) VUID-vkCmdDraw-None-10608

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the current `lineRasterizationMode` is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM` or
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the current
`alphaToCoverageEnable`, `alphaToOneEnable` and
`sampleShadingEnable` states **must** all be `VK_FALSE`

[](#VUID-vkCmdDraw-None-07639) VUID-vkCmdDraw-None-07639

If the [`depthClipControl`](features.html#features-depthClipControl) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_NEGATIVE_ONE_TO_ONE_EXT` dynamic state
enabled, then [vkCmdSetDepthClipNegativeOneToOneEXT](vertexpostproc.html#vkCmdSetDepthClipNegativeOneToOneEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-09650) VUID-vkCmdDraw-None-09650

If the [`depthClampControl`](features.html#features-depthClampControl) feature
is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_RANGE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`depthClampEnable` is `VK_TRUE`, then
[vkCmdSetDepthClampRangeEXT](fragops.html#vkCmdSetDepthClampRangeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07640) VUID-vkCmdDraw-None-07640

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_ENABLE_NV` dynamic state
enabled, then [vkCmdSetViewportWScalingEnableNV](vertexpostproc.html#vkCmdSetViewportWScalingEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07641) VUID-vkCmdDraw-None-07641

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state enabled, then
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07642) VUID-vkCmdDraw-None-07642

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07643) VUID-vkCmdDraw-None-07643

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_LOCATION_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageToColorEnable` is `VK_TRUE`, then
[vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07644) VUID-vkCmdDraw-None-07644

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_MODE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageModulationModeNV](fragops.html#vkCmdSetCoverageModulationModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07645) VUID-vkCmdDraw-None-07645

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationMode` is any value other than
`VK_COVERAGE_MODULATION_MODE_NONE_NV`, then
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07646) VUID-vkCmdDraw-None-07646

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationTableEnable` is `VK_TRUE`, then
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07647) VUID-vkCmdDraw-None-07647

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SHADING_RATE_IMAGE_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetShadingRateImageEnableNV](primsrast.html#vkCmdSetShadingRateImageEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-pipelineFragmentShadingRate-09238) VUID-vkCmdDraw-pipelineFragmentShadingRate-09238

If the [    `pipelineFragmentShadingRate`](features.html#features-pipelineFragmentShadingRate) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07648) VUID-vkCmdDraw-None-07648

If the [    `representativeFragmentTest`](features.html#features-representativeFragmentTest) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_REPRESENTATIVE_FRAGMENT_TEST_ENABLE_NV` dynamic
state enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRepresentativeFragmentTestEnableNV](fragops.html#vkCmdSetRepresentativeFragmentTestEnableNV) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07649) VUID-vkCmdDraw-None-07649

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageReductionModeNV](fragops.html#vkCmdSetCoverageReductionModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-pColorBlendEnables-07470) VUID-vkCmdDraw-pColorBlendEnables-07470

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` state enabled and the last
call to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) set `pColorBlendEnables`
for any attachment to `VK_TRUE`, then for those attachments in the
subpass the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`

[](#VUID-vkCmdDraw-rasterizationSamples-07471) VUID-vkCmdDraw-rasterizationSamples-07471

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
current subpass does not use any color and/or depth/stencil attachments,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** follow the rules for a
[zero-attachment subpass](renderpass.html#renderpass-noattachments)

[](#VUID-vkCmdDraw-samples-07472) VUID-vkCmdDraw-samples-07472

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo)::`rasterizationSamples`
parameter used to create the bound graphics pipeline

[](#VUID-vkCmdDraw-samples-07473) VUID-vkCmdDraw-samples-07473

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state and
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` states enabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
`rasterizationSamples` parameter in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDraw-rasterizationSamples-07474) VUID-vkCmdDraw-rasterizationSamples-07474

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and
the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
neither the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` nor the
`[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extensions are enabled, then
the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the current
subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDraw-None-09211) VUID-vkCmdDraw-None-09211

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled,
or a shader object is bound to any graphics stage,
and the current render pass instance includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the
`rasterizationSamples` member of that structure

[](#VUID-vkCmdDraw-firstAttachment-07476) VUID-vkCmdDraw-firstAttachment-07476

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorBlendEnableEXT` calls **must** specify an
enable for all active color attachments in the current subpass

[](#VUID-vkCmdDraw-rasterizerDiscardEnable-09417) VUID-vkCmdDraw-rasterizerDiscardEnable-09417

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEnableEXT`
calls **must** specify an enable for all active color attachments in the
current subpass

[](#VUID-vkCmdDraw-firstAttachment-07477) VUID-vkCmdDraw-firstAttachment-07477

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDraw-rasterizerDiscardEnable-09418) VUID-vkCmdDraw-rasterizerDiscardEnable-09418

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have
been called in the current command buffer prior to this drawing command,
and the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDraw-firstAttachment-07478) VUID-vkCmdDraw-firstAttachment-07478

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorWriteMaskEXT` calls **must** specify the
color write mask for all active color attachments in the current subpass

[](#VUID-vkCmdDraw-rasterizerDiscardEnable-09419) VUID-vkCmdDraw-rasterizerDiscardEnable-09419

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorWriteMaskEXT`
calls **must** specify the color write mask for all active color
attachments in the current subpass

[](#VUID-vkCmdDraw-firstAttachment-07479) VUID-vkCmdDraw-firstAttachment-07479

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendAdvancedEXT`
calls **must** specify the advanced blend equations for all active color
attachments in the current subpass where blending is enabled

[](#VUID-vkCmdDraw-advancedBlendMaxColorAttachments-07480) VUID-vkCmdDraw-advancedBlendMaxColorAttachments-07480

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` and
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic states enabled and
the last calls to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) and
[vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) have enabled advanced blending, then
the number of active color attachments in the current subpass **must** not
exceed [    `advancedBlendMaxColorAttachments`](limits.html#limits-advancedBlendMaxColorAttachments)

[](#VUID-vkCmdDraw-primitivesGeneratedQueryWithNonZeroStreams-07481) VUID-vkCmdDraw-primitivesGeneratedQueryWithNonZeroStreams-07481

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, and the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` state enabled, the last
call to [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have set the
`rasterizationStream` to zero

[](#VUID-vkCmdDraw-sampleLocationsPerPixel-07482) VUID-vkCmdDraw-sampleLocationsPerPixel-07482

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` member of the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo) structure the bound graphics
pipeline has been created with

[](#VUID-vkCmdDraw-sampleLocationsPerPixel-07483) VUID-vkCmdDraw-sampleLocationsPerPixel-07483

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` parameter of the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDraw-sampleLocationsEnable-07484) VUID-vkCmdDraw-sampleLocationsEnable-07484

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), and the current subpass has a
depth/stencil attachment, then that attachment **must** have been created
with the `VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT`
bit set

[](#VUID-vkCmdDraw-sampleLocationsEnable-07485) VUID-vkCmdDraw-sampleLocationsEnable-07485

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.width` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDraw-sampleLocationsEnable-07486) VUID-vkCmdDraw-sampleLocationsEnable-07486

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.height` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDraw-sampleLocationsEnable-07487) VUID-vkCmdDraw-sampleLocationsEnable-07487

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), the fragment shader code **must**
not statically use the extended instruction `InterpolateAtSample`

[](#VUID-vkCmdDraw-sampleLocationsEnable-07936) VUID-vkCmdDraw-sampleLocationsEnable-07936

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.width` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDraw-sampleLocationsEnable-07937) VUID-vkCmdDraw-sampleLocationsEnable-07937

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.height` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDraw-sampleLocationsEnable-07938) VUID-vkCmdDraw-sampleLocationsEnable-07938

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationsPerPixel` **must** equal
`rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDraw-coverageModulationTableEnable-07488) VUID-vkCmdDraw-coverageModulationTableEnable-07488

If
a shader object is bound to any graphics stage or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` state
enabled, and the last call to
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) set
`coverageModulationTableEnable` to `VK_TRUE`, then the
`coverageModulationTableCount` parameter in the last call to
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** equal the current
`rasterizationSamples` divided by the number of color samples in the
current subpass

[](#VUID-vkCmdDraw-rasterizationSamples-07489) VUID-vkCmdDraw-rasterizationSamples-07489

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and if current subpass has a depth/stencil attachment and depth test,
stencil test, or depth bounds test are enabled in the bound pipeline,
then the current `rasterizationSamples` **must** be the same as the
sample count of the depth/stencil attachment

[](#VUID-vkCmdDraw-coverageToColorEnable-07490) VUID-vkCmdDraw-coverageToColorEnable-07490

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` state enabled and the
last call to [vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDraw-rasterizerDiscardEnable-09420) VUID-vkCmdDraw-rasterizerDiscardEnable-09420

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the last call to
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDraw-coverageReductionMode-07491) VUID-vkCmdDraw-coverageReductionMode-07491

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` or
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic states enabled,
then the [current values](pipelines.html#dynamic-state-current-value) of
`coverageReductionMode`, `rasterizationSamples`, the sample
counts for the color and depth/stencil attachments (if the subpass has
them) **must** be a valid combination returned by
[vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV](fragops.html#vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV)

[](#VUID-vkCmdDraw-viewportCount-07492) VUID-vkCmdDraw-viewportCount-07492

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDraw-viewportCount-07493) VUID-vkCmdDraw-viewportCount-07493

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic states enabled then
the `viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDraw-viewportCount-09421) VUID-vkCmdDraw-viewportCount-09421

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and a
shader object is bound to any graphics stage, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDraw-rasterizationSamples-07494) VUID-vkCmdDraw-rasterizationSamples-07494

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is not enabled, or the [current    value](pipelines.html#dynamic-state-current-value) of `coverageReductionMode` is not
`VK_COVERAGE_REDUCTION_MODE_TRUNCATE_NV`,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizationSamples` is greater than sample count of the color
attachment, then [sample shading](primsrast.html#primsrast-sampleshading) **must** be
disabled

[](#VUID-vkCmdDraw-stippledLineEnable-07495) VUID-vkCmdDraw-stippledLineEnable-07495

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled

[](#VUID-vkCmdDraw-stippledLineEnable-07496) VUID-vkCmdDraw-stippledLineEnable-07496

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM`, then the
[`stippledBresenhamLines`](features.html#features-stippledBresenhamLines)
feature **must** be enabled

[](#VUID-vkCmdDraw-stippledLineEnable-07497) VUID-vkCmdDraw-stippledLineEnable-07497

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the
[`stippledSmoothLines`](features.html#features-stippledSmoothLines) feature
**must** be enabled

[](#VUID-vkCmdDraw-stippledLineEnable-07498) VUID-vkCmdDraw-stippledLineEnable-07498

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_DEFAULT`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled and
[VkPhysicalDeviceLimits](limits.html#VkPhysicalDeviceLimits)::`strictLines` **must** be `VK_TRUE`

[](#VUID-vkCmdDraw-conservativePointAndLineRasterization-07499) VUID-vkCmdDraw-conservativePointAndLineRasterization-07499

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, [    `conservativePointAndLineRasterization`](limits.html#limits-conservativePointAndLineRasterization) is not supported, and the
effective primitive topology output by the last pre-rasterization shader
stage is a line or point, then the `conservativeRasterizationMode`
set by the last call to [vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT)
**must** be `VK_CONSERVATIVE_RASTERIZATION_MODE_DISABLED_EXT`

[](#VUID-vkCmdDraw-stage-07073) VUID-vkCmdDraw-stage-07073

If the bound pipeline was created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of an element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT`, then [Mesh    Shader Queries](queries.html#queries-mesh-shader) **must** not be active

[](#VUID-vkCmdDraw-None-08877) VUID-vkCmdDraw-None-08877

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDraw-None-07850) VUID-vkCmdDraw-None-07850

If dynamic state was inherited from
[VkCommandBufferInheritanceViewportScissorInfoNV](cmdbuffers.html#VkCommandBufferInheritanceViewportScissorInfoNV), it **must** be set
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDraw-nextStage-10745) VUID-vkCmdDraw-nextStage-10745

For each shader object bound to a graphics stage, except for shader
object bound to the last graphics stage in the logical pipeline, it
**must** have been created with a `nextStage` including the
corresponding bit to the shader object bound to the following graphics
stage in the logical pipeline

[](#VUID-vkCmdDraw-None-08684) VUID-vkCmdDraw-None-08684

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_VERTEX_BIT`

[](#VUID-vkCmdDraw-None-08685) VUID-vkCmdDraw-None-08685

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`

[](#VUID-vkCmdDraw-None-08686) VUID-vkCmdDraw-None-08686

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT`

[](#VUID-vkCmdDraw-None-08687) VUID-vkCmdDraw-None-08687

If there is no bound graphics pipeline, and the
[`geometryShader`](features.html#features-geometryShader) feature is enabled,
`vkCmdBindShadersEXT` **must** have been called in the current command
buffer with `pStages` with an element of
`VK_SHADER_STAGE_GEOMETRY_BIT`

[](#VUID-vkCmdDraw-None-08688) VUID-vkCmdDraw-None-08688

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_FRAGMENT_BIT`

[](#VUID-vkCmdDraw-None-08689) VUID-vkCmdDraw-None-08689

If there is no bound graphics pipeline, and the [    `taskShader`](features.html#features-taskShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_TASK_BIT_EXT`

[](#VUID-vkCmdDraw-None-08690) VUID-vkCmdDraw-None-08690

If there is no bound graphics pipeline, and the [    `meshShader`](features.html#features-meshShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_MESH_BIT_EXT`

[](#VUID-vkCmdDraw-None-08693) VUID-vkCmdDraw-None-08693

If there is no bound graphics pipeline, and at least one of the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features is enabled, one of the
`VK_SHADER_STAGE_VERTEX_BIT` or `VK_SHADER_STAGE_MESH_BIT_EXT`
stages **must** have a valid `VkShaderEXT` bound, and the other **must**
have no `VkShaderEXT` bound

[](#VUID-vkCmdDraw-None-08696) VUID-vkCmdDraw-None-08696

If there is no bound graphics pipeline, and a valid `VkShaderEXT` is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, there **must** be no
`VkShaderEXT` bound to either the `VK_SHADER_STAGE_TASK_BIT_EXT`
stage or the `VK_SHADER_STAGE_MESH_BIT_EXT` stage

[](#VUID-vkCmdDraw-None-08698) VUID-vkCmdDraw-None-08698

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, then all shaders created
with the `VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag in the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** also be bound

[](#VUID-vkCmdDraw-None-08699) VUID-vkCmdDraw-None-08699

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, any stages in between
stages whose shaders which did not create a shader with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag as part of the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** not have any `VkShaderEXT` bound

[](#VUID-vkCmdDraw-None-08878) VUID-vkCmdDraw-None-08878

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) push constant
ranges

[](#VUID-vkCmdDraw-None-08879) VUID-vkCmdDraw-None-08879

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) arrays of
descriptor set layouts

[](#VUID-vkCmdDraw-colorAttachmentCount-09372) VUID-vkCmdDraw-colorAttachmentCount-09372

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, a color
attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, and a fragment
shader is bound, it **must** not declare the `DepthReplacing` or
`StencilRefReplacingEXT` execution modes

[](#VUID-vkCmdDraw-pDynamicStates-08715) VUID-vkCmdDraw-pDynamicStates-08715

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpDepthAttachmentReadEXT`, the `depthWriteEnable` parameter
in the last call to [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** be
`VK_FALSE`

[](#VUID-vkCmdDraw-pDynamicStates-08716) VUID-vkCmdDraw-pDynamicStates-08716

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpStencilAttachmentReadEXT`, the `writeMask` parameter in
the last call to [vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** be `0`

[](#VUID-vkCmdDraw-None-09116) VUID-vkCmdDraw-None-09116

    If
    a shader object is bound to any graphics stage
or
    the bound graphics pipeline was created with
    `VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT`,
    and the format of any color attachment is
    `VK_FORMAT_E5B9G9R9_UFLOAT_PACK32`, the corresponding element of the
    `pColorWriteMasks` parameter of [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT)
    **must** either include all of `VK_COLOR_COMPONENT_R_BIT`,
    `VK_COLOR_COMPONENT_G_BIT`, and `VK_COLOR_COMPONENT_B_BIT`, or
    none of them

[](#VUID-vkCmdDraw-maxFragmentDualSrcAttachments-09239) VUID-vkCmdDraw-maxFragmentDualSrcAttachments-09239

If [blending](framebuffer.html#framebuffer-blending) is enabled for any attachment where
either the source or destination blend factors for that attachment
[use the secondary color input](framebuffer.html#framebuffer-dsb), the maximum value of
`Location` for any output attachment [statically    used](shaders.html#shaders-staticuse) in the `Fragment` `Execution` `Model` executed by this command
**must** be less than [    `maxFragmentDualSrcAttachments`](limits.html#limits-maxFragmentDualSrcAttachments)

[](#VUID-vkCmdDraw-None-09548) VUID-vkCmdDraw-None-09548

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
the value of each element of
[VkRenderingAttachmentLocationInfo](interfaces.html#VkRenderingAttachmentLocationInfo)::`pColorAttachmentLocations`
set by [vkCmdSetRenderingAttachmentLocations](interfaces.html#vkCmdSetRenderingAttachmentLocations) **must** match the value
set for the corresponding element in the bound pipeline

[](#VUID-vkCmdDraw-None-09549) VUID-vkCmdDraw-None-09549

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
input attachment index mappings in the bound pipeline **must** match those
set for the current render pass instance via
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

[](#VUID-vkCmdDraw-None-09642) VUID-vkCmdDraw-None-09642

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with
the `VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag, the bound
graphics pipeline **must** have been created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`

[](#VUID-vkCmdDraw-None-09643) VUID-vkCmdDraw-None-09643

If the bound graphics pipeline was created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`, the current
render pass **must** have begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with the
`VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag

[](#VUID-vkCmdDraw-None-10677) VUID-vkCmdDraw-None-10677

If the [per-tile execution model](renderpass.html#renderpass-per-tile-execution-model)
is enabled, the
[tileShadingPerTileDraw](features.html#features-tileShadingPerTileDraw) feature **must**
be enabled

[](#VUID-vkCmdDraw-None-10772) VUID-vkCmdDraw-None-10772

If a shader object is bound to any graphics stage, *multiview*
functionality **must** not be enabled in the current render pass

* 
[](#VUID-vkCmdDraw-commandBuffer-02712) VUID-vkCmdDraw-commandBuffer-02712

If `commandBuffer` is a protected command buffer and
[`protectedNoFault`](devsandqueues.html#limits-protectedNoFault) is not supported,
any resource written to by the `VkPipeline` object bound to the
pipeline bind point used by this command **must** not be an unprotected
resource

* 
[](#VUID-vkCmdDraw-commandBuffer-02713) VUID-vkCmdDraw-commandBuffer-02713

If `commandBuffer` is a protected command buffer and
[`protectedNoFault`](devsandqueues.html#limits-protectedNoFault) is not supported,
pipeline stages other than the framebuffer-space and compute stages in
the `VkPipeline` object bound to the pipeline bind point used by
this command **must** not write to any resource

* 
[](#VUID-vkCmdDraw-commandBuffer-04617) VUID-vkCmdDraw-commandBuffer-04617

If any of the shader stages of the `VkPipeline` bound to the
pipeline bind point used by this command uses the
[`RayQueryKHR`](../appendices/spirvenv.html#spirvenv-capabilities-table-RayQueryKHR)
capability, then `commandBuffer` **must** not be a protected command
buffer

* 
[](#VUID-vkCmdDraw-None-04007) VUID-vkCmdDraw-None-04007

All vertex input bindings accessed via vertex input variables declared
in the vertex shader entry point’s interface **must** have either valid or
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) buffers bound

* 
[](#VUID-vkCmdDraw-None-04008) VUID-vkCmdDraw-None-04008

If the [`nullDescriptor`](features.html#features-nullDescriptor) feature is not
enabled, all vertex input bindings accessed via vertex input variables
declared in the vertex shader entry point’s interface **must** not be
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

* 
[](#VUID-vkCmdDraw-None-02721) VUID-vkCmdDraw-None-02721

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled,
and that pipeline was created without enabling
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` for
`vertexInputs`,
then for a given vertex buffer binding, any attribute data fetched **must**
be entirely contained within the corresponding vertex buffer binding, as
described in [Vertex Input Description](fxvertex.html#fxvertex-input)

* 
[](#VUID-vkCmdDraw-format-10389) VUID-vkCmdDraw-format-10389

For each vertex attribute accessed by this command, if its
[VkVertexInputAttributeDescription](fxvertex.html#VkVertexInputAttributeDescription)::`format`
or [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format`
is a [packed format](formats.html#formats-packed),
and [`legacyVertexAttributes`](features.html#features-legacyVertexAttributes) is
not enabled,
the value of `attribAddress`, calculated as described in
[Vertex Input Calculation](fxvertex.html#fxvertex-input-address-calculation), **must**
be a multiple of the [size of the `format`](formats.html#formats)

* 
[](#VUID-vkCmdDraw-format-10390) VUID-vkCmdDraw-format-10390

For each vertex attribute accessed by this command, if its
[VkVertexInputAttributeDescription](fxvertex.html#VkVertexInputAttributeDescription)::`format`
or [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format`
is not a [packed format](formats.html#formats-packed),
and either [    `legacyVertexAttributes`](features.html#features-legacyVertexAttributes) is not enabled or `format` has 64-bit
components,
the value of `attribAddress`, calculated as described in
[Vertex Input Calculation](fxvertex.html#fxvertex-input-address-calculation), **must**
be a multiple of the [component size of the `format`](formats.html#formats)

* 
[](#VUID-vkCmdDraw-None-07842) VUID-vkCmdDraw-None-07842

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY` dynamic state enabled
    then [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this drawing command

* 
[](#VUID-vkCmdDraw-dynamicPrimitiveTopologyUnrestricted-07500) VUID-vkCmdDraw-dynamicPrimitiveTopologyUnrestricted-07500

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY` dynamic state enabled
and the [    `dynamicPrimitiveTopologyUnrestricted`](limits.html#limits-dynamicPrimitiveTopologyUnrestricted) is `VK_FALSE`,
then the `primitiveTopology` parameter of
`vkCmdSetPrimitiveTopology` **must** be of the same
[topology class](#drawing-primitive-topology-class) as the pipeline
[VkPipelineInputAssemblyStateCreateInfo](#VkPipelineInputAssemblyStateCreateInfo)::`topology` state

* 
[](#VUID-vkCmdDraw-primitiveTopology-10286) VUID-vkCmdDraw-primitiveTopology-10286

If a `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage is bound, then
the [current value](pipelines.html#dynamic-state-current-value) of
`primitiveTopology` **must** be `VK_PRIMITIVE_TOPOLOGY_PATCH_LIST`
prior to this drawing command

* 
[](#VUID-vkCmdDraw-primitiveTopology-10747) VUID-vkCmdDraw-primitiveTopology-10747

If [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) set `primitiveTopology` to
`VK_PRIMITIVE_TOPOLOGY_PATCH_LIST` prior to this drawing command,
then a `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage **must** be
bound

* 
[](#VUID-vkCmdDraw-primitiveTopology-10748) VUID-vkCmdDraw-primitiveTopology-10748

If [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) set `primitiveTopology` to
`VK_PRIMITIVE_TOPOLOGY_POINT_LIST` prior to this drawing command,
the [`maintenance5`](features.html#features-maintenance5) feature is not
enabled,
both a `VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` and
`VK_SHADER_STAGE_GEOMETRY_BIT` stage are not bound, then the
`Vertex` `Execution` `Model` **must** have a `PointSize` decorated
variable that is statically written to

* 
[](#VUID-vkCmdDraw-pStrides-04913) VUID-vkCmdDraw-pStrides-04913

If the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_VERTEX_INPUT_BINDING_STRIDE` dynamic state
enabled,
but without the `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state
enabled,
then [vkCmdBindVertexBuffers2](fxvertex.html#vkCmdBindVertexBuffers2) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this draw command, and the `pStrides`
parameter of [vkCmdBindVertexBuffers2](fxvertex.html#vkCmdBindVertexBuffers2) **must** not be `NULL`

* 
[](#VUID-vkCmdDraw-None-04914) VUID-vkCmdDraw-None-04914

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    then [vkCmdSetVertexInputEXT](fxvertex.html#vkCmdSetVertexInputEXT) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this draw command

* 
[](#VUID-vkCmdDraw-Input-07939) VUID-vkCmdDraw-Input-07939

    If
    [`vertexAttributeRobustness`](features.html#features-vertexAttributeRobustness)
    is not enabled and
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    then all variables with the `Input` storage class decorated with
    `Location` in the `Vertex` `Execution` `Model` `OpEntryPoint`
    **must** contain a location in
    [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`location`

* 
[](#VUID-vkCmdDraw-Input-08734) VUID-vkCmdDraw-Input-08734

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and either the [    `legacyVertexAttributes`](features.html#features-legacyVertexAttributes) feature is not enabled or the SPIR-V Type
    associated with a given `Input` variable of the corresponding
    `Location` in the `Vertex` `Execution` `Model` `OpEntryPoint` is
    64-bit,
    then the numeric type associated with all `Input` variables of the
    corresponding `Location` in the `Vertex` `Execution` `Model`
    `OpEntryPoint` **must** be the same as
    [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format`

* 
[](#VUID-vkCmdDraw-format-08936) VUID-vkCmdDraw-format-08936

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format` has a
    64-bit component, then the scalar width associated with all `Input`
    variables of the corresponding `Location` in the `Vertex`
    `Execution` `Model` `OpEntryPoint` **must** be 64-bit

* 
[](#VUID-vkCmdDraw-format-08937) VUID-vkCmdDraw-format-08937

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and the scalar width associated with a `Location` decorated
    `Input` variable in the `Vertex` `Execution` `Model`
    `OpEntryPoint` is 64-bit, then the corresponding
    [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format` **must** have a
    64-bit component

* 
[](#VUID-vkCmdDraw-None-09203) VUID-vkCmdDraw-None-09203

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format` has a
    64-bit component, then all `Input` variables at the corresponding
    `Location` in the `Vertex` `Execution` `Model` `OpEntryPoint`
    **must** not use components that are not present in the format

* 
[](#VUID-vkCmdDraw-None-04875) VUID-vkCmdDraw-None-04875

    If
    there is a shader object bound to the
    `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage
or
    the bound graphics pipeline state was created with both a
    `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage and the
    `VK_DYNAMIC_STATE_PATCH_CONTROL_POINTS_EXT` dynamic state enabled,
    and the [current value](pipelines.html#dynamic-state-current-value) of
    `primitiveTopology` is `VK_PRIMITIVE_TOPOLOGY_PATCH_LIST`, then
    [vkCmdSetPatchControlPointsEXT](shaders.html#vkCmdSetPatchControlPointsEXT) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this drawing command

* 
[](#VUID-vkCmdDraw-None-04879) VUID-vkCmdDraw-None-04879

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE` dynamic state enabled
    then [vkCmdSetPrimitiveRestartEnable](#vkCmdSetPrimitiveRestartEnable) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this drawing command

* 
[](#VUID-vkCmdDraw-None-09637) VUID-vkCmdDraw-None-09637

    If
    the [    `primitiveTopologyListRestart`](features.html#features-primitiveTopologyListRestart) feature is not enabled,
    the topology is `VK_PRIMITIVE_TOPOLOGY_POINT_LIST`,
    `VK_PRIMITIVE_TOPOLOGY_LINE_LIST`,
    `VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST`,
    `VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY`, or
    `VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY`,
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE` dynamic state enabled
    then [vkCmdSetPrimitiveRestartEnable](#vkCmdSetPrimitiveRestartEnable) **must** be `VK_FALSE`

* 
[](#VUID-vkCmdDraw-stage-06481) VUID-vkCmdDraw-stage-06481

The bound graphics pipeline **must** not have been created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of any element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_TASK_BIT_EXT` or `VK_SHADER_STAGE_MESH_BIT_EXT`

* 
[](#VUID-vkCmdDraw-None-08885) VUID-vkCmdDraw-None-08885

There **must** be no shader object bound to either of the
`VK_SHADER_STAGE_TASK_BIT_EXT` or `VK_SHADER_STAGE_MESH_BIT_EXT`
stages

* 
[](#VUID-vkCmdDraw-None-07619) VUID-vkCmdDraw-None-07619

If
a shader object is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` stage or
a graphics pipeline is bound which was created with both a
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` stage and the
`VK_DYNAMIC_STATE_TESSELLATION_DOMAIN_ORIGIN_EXT` dynamic state
enabled, then [vkCmdSetTessellationDomainOriginEXT](tessellation.html#vkCmdSetTessellationDomainOriginEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

* 
[](#VUID-vkCmdDraw-pNext-09461) VUID-vkCmdDraw-pNext-09461

If the bound graphics pipeline state was created with
[VkPipelineVertexInputDivisorStateCreateInfo](fxvertex.html#VkPipelineVertexInputDivisorStateCreateInfo) in the `pNext`
chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pVertexInputState`,
any member of
[VkPipelineVertexInputDivisorStateCreateInfo](fxvertex.html#VkPipelineVertexInputDivisorStateCreateInfo)::`pVertexBindingDivisors`
has a value other than `1` in `divisor`, and
[VkPhysicalDeviceVertexAttributeDivisorProperties](limits.html#VkPhysicalDeviceVertexAttributeDivisorProperties)::`supportsNonZeroFirstInstance`
is `VK_FALSE`, then `firstInstance` **must** be `0`

* 
[](#VUID-vkCmdDraw-None-09462) VUID-vkCmdDraw-None-09462

If
[shader objects](shaders.html#shaders-objects) are used for drawing or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled, any
member of the `pVertexBindingDescriptions` parameter to the
[vkCmdSetVertexInputEXT](fxvertex.html#vkCmdSetVertexInputEXT) call that sets this dynamic state has a
value other than `1` in `divisor`, and
[VkPhysicalDeviceVertexAttributeDivisorProperties](limits.html#VkPhysicalDeviceVertexAttributeDivisorProperties)::`supportsNonZeroFirstInstance`
is `VK_FALSE`, then `firstInstance` **must** be `0`

Valid Usage (Implicit)

* 
[](#VUID-vkCmdDraw-commandBuffer-parameter) VUID-vkCmdDraw-commandBuffer-parameter

 `commandBuffer` **must** be a valid [VkCommandBuffer](cmdbuffers.html#VkCommandBuffer) handle

* 
[](#VUID-vkCmdDraw-commandBuffer-recording) VUID-vkCmdDraw-commandBuffer-recording

 `commandBuffer` **must** be in the [recording state](cmdbuffers.html#commandbuffers-lifecycle)

* 
[](#VUID-vkCmdDraw-commandBuffer-cmdpool) VUID-vkCmdDraw-commandBuffer-cmdpool

 The `VkCommandPool` that `commandBuffer` was allocated from **must** support graphics operations

* 
[](#VUID-vkCmdDraw-renderpass) VUID-vkCmdDraw-renderpass

 This command **must** only be called inside of a render pass instance

* 
[](#VUID-vkCmdDraw-videocoding) VUID-vkCmdDraw-videocoding

 This command **must** only be called outside of a video coding scope

Host Synchronization

* 
Host access to `commandBuffer` **must** be externally synchronized

* 
Host access to the `VkCommandPool` that `commandBuffer` was allocated from **must** be externally synchronized

Command Properties
| [Command Buffer Levels](cmdbuffers.html#VkCommandBufferLevel) | [Render Pass Scope](renderpass.html#vkCmdBeginRenderPass) | [Video Coding Scope](videocoding.html#vkCmdBeginVideoCodingKHR) | [Supported Queue Types](devsandqueues.html#VkQueueFlagBits) | [Command Type](fundamentals.html#fundamentals-queueoperation-command-types) |
| --- | --- | --- | --- | --- |
| Primary

Secondary | Inside | Outside | Graphics | Action |

To record an indexed draw, call:

// Provided by VK_VERSION_1_0
void vkCmdDrawIndexed(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    indexCount,
    uint32_t                                    instanceCount,
    uint32_t                                    firstIndex,
    int32_t                                     vertexOffset,
    uint32_t                                    firstInstance);

* 
`commandBuffer` is the command buffer into which the command is
recorded.

* 
`indexCount` is the number of vertices to draw.

* 
`instanceCount` is the number of instances to draw.

* 
`firstIndex` is the base index within the index buffer.

* 
`vertexOffset` is the value added to the vertex index before
indexing into the vertex buffer.

* 
`firstInstance` is the instance ID of the first instance to draw.

When the command is executed, primitives are assembled using the current
primitive topology and `indexCount` vertices whose indices are retrieved
from the index buffer.
The index buffer is treated as an array of tightly packed unsigned integers
of size defined by the
[vkCmdBindIndexBuffer2](#vkCmdBindIndexBuffer2)::`indexType` or the
[vkCmdBindIndexBuffer](#vkCmdBindIndexBuffer)::`indexType` parameter with which the buffer
was bound.

The first vertex index is at an offset of `firstIndex` ×
`indexSize` +  `offset` within the bound index buffer, where
`offset` is the offset specified by `vkCmdBindIndexBuffer`
or `vkCmdBindIndexBuffer2`,
and `indexSize` is the byte size of the type specified by
`indexType`.
Subsequent index values are retrieved from consecutive locations in the
index buffer.
Indices are first compared to the primitive restart value, then zero
extended to 32 bits (if the `indexType` is
`VK_INDEX_TYPE_UINT8` or
`VK_INDEX_TYPE_UINT16`) and have `vertexOffset` added to them,
before being supplied as the `vertexIndex` value.

The primitives are drawn `instanceCount` times with `instanceIndex`
starting with `firstInstance` and increasing sequentially for each
instance.
The assembled primitives execute the bound graphics pipeline.

Valid Usage

* 
[](#VUID-vkCmdDrawIndexed-magFilter-04553) VUID-vkCmdDrawIndexed-magFilter-04553

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawIndexed-magFilter-09598) VUID-vkCmdDrawIndexed-magFilter-09598

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR` and `reductionMode` equal to either
`VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawIndexed-mipmapMode-04770) VUID-vkCmdDrawIndexed-mipmapMode-04770

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawIndexed-mipmapMode-09599) VUID-vkCmdDrawIndexed-mipmapMode-09599

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR` and `reductionMode` equal to
either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawIndexed-unnormalizedCoordinates-09635) VUID-vkCmdDrawIndexed-unnormalizedCoordinates-09635

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `levelCount` and `layerCount`
**must** be 1

* 
[](#VUID-vkCmdDrawIndexed-None-08609) VUID-vkCmdDrawIndexed-None-08609

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `viewType` **must** be
`VK_IMAGE_VIEW_TYPE_1D` or `VK_IMAGE_VIEW_TYPE_2D`

* 
[](#VUID-vkCmdDrawIndexed-None-08610) VUID-vkCmdDrawIndexed-None-08610

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions with
`ImplicitLod`, `Dref` or `Proj` in their name

* 
[](#VUID-vkCmdDrawIndexed-None-08611) VUID-vkCmdDrawIndexed-None-08611

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions that includes a
LOD bias or any offset values

* 
[](#VUID-vkCmdDrawIndexed-None-06479) VUID-vkCmdDrawIndexed-None-06479

If a [VkImageView](resources.html#VkImageView) is sampled with
[depth comparison](textures.html#textures-depth-compare-operation), the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_SAMPLED_IMAGE_DEPTH_COMPARISON_BIT`

* 
[](#VUID-vkCmdDrawIndexed-None-02691) VUID-vkCmdDrawIndexed-None-02691

If a [VkImageView](resources.html#VkImageView) is accessed using atomic operations as a result
of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawIndexed-None-07888) VUID-vkCmdDrawIndexed-None-07888

If a `VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER` descriptor is
accessed using atomic operations as a result of this command, then the
storage texel buffer’s [format    features](resources.html#resources-buffer-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawIndexed-None-02692) VUID-vkCmdDrawIndexed-None-02692

If a [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_CUBIC_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndexed-None-02693) VUID-vkCmdDrawIndexed-None-02693

If
the [VK_EXT_filter_cubic](../appendices/extensions.html#VK_EXT_filter_cubic) extension is not enabled and
any [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, it **must** not have a [VkImageViewType](resources.html#VkImageViewType) of
`VK_IMAGE_VIEW_TYPE_3D`, `VK_IMAGE_VIEW_TYPE_CUBE`, or
`VK_IMAGE_VIEW_TYPE_CUBE_ARRAY`

* 
[](#VUID-vkCmdDrawIndexed-filterCubic-02694) VUID-vkCmdDrawIndexed-filterCubic-02694

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command **must** have a [VkImageViewType](resources.html#VkImageViewType) and format
that supports cubic filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubic`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawIndexed-filterCubicMinmax-02695) VUID-vkCmdDrawIndexed-filterCubicMinmax-02695

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` with
a reduction mode of either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` as a result of this command **must**
have a [VkImageViewType](resources.html#VkImageViewType) and format that supports cubic filtering
together with minmax filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubicMinmax`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawIndexed-cubicRangeClamp-09212) VUID-vkCmdDrawIndexed-cubicRangeClamp-09212

If the [`cubicRangeClamp`](features.html#features-cubicRangeClamp) feature is
not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** not have a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM`

* 
[](#VUID-vkCmdDrawIndexed-reductionMode-09213) VUID-vkCmdDrawIndexed-reductionMode-09213

Any [VkImageView](resources.html#VkImageView) being sampled with a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM` as a
result of this command **must** sample with `VK_FILTER_CUBIC_EXT`

* 
[](#VUID-vkCmdDrawIndexed-selectableCubicWeights-09214) VUID-vkCmdDrawIndexed-selectableCubicWeights-09214

If the [`selectableCubicWeights`](features.html#features-selectableCubicWeights)
feature is not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** have
[VkSamplerCubicWeightsCreateInfoQCOM](samplers.html#VkSamplerCubicWeightsCreateInfoQCOM)::`cubicWeights` equal to
`VK_CUBIC_FILTER_WEIGHTS_CATMULL_ROM_QCOM`

* 
[](#VUID-vkCmdDrawIndexed-flags-02696) VUID-vkCmdDrawIndexed-flags-02696

Any [VkImage](resources.html#VkImage) created with a [VkImageCreateInfo](resources.html#VkImageCreateInfo)::`flags`
containing `VK_IMAGE_CREATE_CORNER_SAMPLED_BIT_NV` sampled as a
result of this command **must** only be sampled using a
[VkSamplerAddressMode](samplers.html#VkSamplerAddressMode) of
`VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE`

* 
[](#VUID-vkCmdDrawIndexed-OpTypeImage-07027) VUID-vkCmdDrawIndexed-OpTypeImage-07027

For any [VkImageView](resources.html#VkImageView) being written as a storage image where the
image format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawIndexed-OpTypeImage-07028) VUID-vkCmdDrawIndexed-OpTypeImage-07028

For any [VkImageView](resources.html#VkImageView) being read as a storage image where the image
format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawIndexed-OpTypeImage-07029) VUID-vkCmdDrawIndexed-OpTypeImage-07029

For any [VkBufferView](resources.html#VkBufferView) being written as a storage texel buffer where
the image format field of the `OpTypeImage` is `Unknown`, the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawIndexed-OpTypeImage-07030) VUID-vkCmdDrawIndexed-OpTypeImage-07030

Any [VkBufferView](resources.html#VkBufferView) being read as a storage texel buffer where the
image format field of the `OpTypeImage` is `Unknown` then the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawIndexed-None-08600) VUID-vkCmdDrawIndexed-None-08600

For each set *n* that is statically used by [a bound    shader](shaders.html#shaders-binding), a descriptor set **must** have been bound to *n* at the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for set *n*, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the current
[VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawIndexed-None-08601) VUID-vkCmdDrawIndexed-None-08601

For each push constant that is statically used by [a    bound shader](shaders.html#shaders-binding), a push constant value **must** have been set for the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the
current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawIndexed-None-10068) VUID-vkCmdDrawIndexed-None-10068

For each array of resources that is used by [a bound    shader](shaders.html#shaders-binding), the indices used to access members of the array **must** be less
than the descriptor count for the identified binding in the descriptor
sets used by this command

* 
[](#VUID-vkCmdDrawIndexed-maintenance4-08602) VUID-vkCmdDrawIndexed-maintenance4-08602

If the [`maintenance4`](features.html#features-maintenance4) feature is not
enabled, then for each push constant that is statically used by
[a bound shader](shaders.html#shaders-binding), a push constant value **must** have
been set for the same pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
that is compatible for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
used to create the current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) and [VkPushConstantRange](descriptorsets.html#VkPushConstantRange) arrays
used to create the current [VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawIndexed-None-08114) VUID-vkCmdDrawIndexed-None-08114

Descriptors in each bound descriptor set, specified via
[vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), **must** be valid as described by
[descriptor validity](descriptorsets.html#descriptor-validity) if they are statically used
by
the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind point used by this
command and the bound [VkPipeline](pipelines.html#VkPipeline) was not created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndexed-None-08115) VUID-vkCmdDrawIndexed-None-08115

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), the bound
[VkPipeline](pipelines.html#VkPipeline) **must** have been created without
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndexed-None-08116) VUID-vkCmdDrawIndexed-None-08116

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind
point used by this command and the bound [VkPipeline](pipelines.html#VkPipeline) was created
with `VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndexed-None-08604) VUID-vkCmdDrawIndexed-None-08604

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command

* 
[](#VUID-vkCmdDrawIndexed-None-08117) VUID-vkCmdDrawIndexed-None-08117

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT),
the bound [VkPipeline](pipelines.html#VkPipeline) **must** have been created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndexed-None-08119) VUID-vkCmdDrawIndexed-None-08119

If a descriptor is dynamically used with a [VkPipeline](pipelines.html#VkPipeline) created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the descriptor
memory **must** be resident

* 
[](#VUID-vkCmdDrawIndexed-None-08605) VUID-vkCmdDrawIndexed-None-08605

If a descriptor is dynamically used with a [VkShaderEXT](shaders.html#VkShaderEXT) created
with a `VkDescriptorSetLayout` that was created with
`VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the
descriptor memory **must** be resident

* 
[](#VUID-vkCmdDrawIndexed-None-08606) VUID-vkCmdDrawIndexed-None-08606

If the [`shaderObject`](features.html#features-shaderObject) feature is not
enabled, a
valid pipeline **must** be bound to the pipeline bind point used by this
command

* 
[](#VUID-vkCmdDrawIndexed-None-08608) VUID-vkCmdDrawIndexed-None-08608

If a pipeline is bound to the pipeline bind point used by this command,
there
**must** not have been any calls to dynamic state setting commands for any
state specified statically in the [VkPipeline](pipelines.html#VkPipeline) object bound to the
pipeline bind point used by this command, since that pipeline was bound

* 
[](#VUID-vkCmdDrawIndexed-uniformBuffers-06935) VUID-vkCmdDrawIndexed-uniformBuffers-06935

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a uniform buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`uniformBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawIndexed-None-08612) VUID-vkCmdDrawIndexed-None-08612

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a uniform
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawIndexed-storageBuffers-06936) VUID-vkCmdDrawIndexed-storageBuffers-06936

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a storage buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`storageBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawIndexed-None-08613) VUID-vkCmdDrawIndexed-None-08613

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a storage
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawIndexed-commandBuffer-02707) VUID-vkCmdDrawIndexed-commandBuffer-02707

If `commandBuffer` is an unprotected command buffer and
[`protectedNoFault`](devsandqueues.html#limits-protectedNoFault) is not supported,
any resource accessed by [bound shaders](shaders.html#shaders-binding) **must** not be
a protected resource

* 
[](#VUID-vkCmdDrawIndexed-viewType-07752) VUID-vkCmdDrawIndexed-viewType-07752

If a [VkImageView](resources.html#VkImageView) is accessed as a result of this command, then the
image view’s `viewType` **must** match the `Dim` operand of the
`OpTypeImage` as described in [Compatibility Between SPIR-V Image Dimensions and Vulkan ImageView Types](../appendices/spirvenv.html#spirvenv-image-dimensions)

* 
[](#VUID-vkCmdDrawIndexed-format-07753) VUID-vkCmdDrawIndexed-format-07753

If a [VkImageView](resources.html#VkImageView) or [VkBufferView](resources.html#VkBufferView) is accessed as a result of
this command, then the [numeric type](formats.html#formats-numericformat) of the
view’s `format` and the `Sampled` `Type` operand of the
`OpTypeImage` **must** match

* 
[](#VUID-vkCmdDrawIndexed-OpImageWrite-08795) VUID-vkCmdDrawIndexed-OpImageWrite-08795

If a [VkImageView](resources.html#VkImageView)
created with a format other than `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
at least as many components as the image view’s format

* 
[](#VUID-vkCmdDrawIndexed-OpImageWrite-08796) VUID-vkCmdDrawIndexed-OpImageWrite-08796

If a [VkImageView](resources.html#VkImageView) created with the format `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
four components

* 
[](#VUID-vkCmdDrawIndexed-OpImageWrite-04469) VUID-vkCmdDrawIndexed-OpImageWrite-04469

If a [VkBufferView](resources.html#VkBufferView) is accessed using `OpImageWrite` as a result
of this command, then the `Type` of the `Texel` operand of that
instruction **must** have at least as many components as the buffer view’s
format

* 
[](#VUID-vkCmdDrawIndexed-SampledType-04470) VUID-vkCmdDrawIndexed-SampledType-04470

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit component
width is accessed as a result of this command, the `SampledType` of
the `OpTypeImage` operand of that instruction **must** have a `Width`
of 64

* 
[](#VUID-vkCmdDrawIndexed-SampledType-04471) VUID-vkCmdDrawIndexed-SampledType-04471

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawIndexed-SampledType-04472) VUID-vkCmdDrawIndexed-SampledType-04472

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit
component width is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 64

* 
[](#VUID-vkCmdDrawIndexed-SampledType-04473) VUID-vkCmdDrawIndexed-SampledType-04473

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawIndexed-sparseImageInt64Atomics-04474) VUID-vkCmdDrawIndexed-sparseImageInt64Atomics-04474

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkImage](resources.html#VkImage)
objects created with the `VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT` flag
**must** not be accessed by atomic instructions through an `OpTypeImage`
with a `SampledType` with a `Width` of 64 by this command

* 
[](#VUID-vkCmdDrawIndexed-sparseImageInt64Atomics-04475) VUID-vkCmdDrawIndexed-sparseImageInt64Atomics-04475

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkBuffer](resources.html#VkBuffer)
objects created with the `VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT`
flag **must** not be accessed by atomic instructions through an
`OpTypeImage` with a `SampledType` with a `Width` of 64 by this
command

* 
[](#VUID-vkCmdDrawIndexed-OpImageWeightedSampleQCOM-06971) VUID-vkCmdDrawIndexed-OpImageWeightedSampleQCOM-06971

If `OpImageWeightedSampleQCOM` is used to sample a [VkImageView](resources.html#VkImageView)
as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_SAMPLED_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndexed-OpImageWeightedSampleQCOM-06972) VUID-vkCmdDrawIndexed-OpImageWeightedSampleQCOM-06972

If `OpImageWeightedSampleQCOM` uses a [VkImageView](resources.html#VkImageView) as a sample
weight image as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndexed-OpImageBoxFilterQCOM-06973) VUID-vkCmdDrawIndexed-OpImageBoxFilterQCOM-06973

If `OpImageBoxFilterQCOM` is used to sample a [VkImageView](resources.html#VkImageView) as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BOX_FILTER_SAMPLED_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndexed-OpImageBlockMatchSSDQCOM-06974) VUID-vkCmdDrawIndexed-OpImageBlockMatchSSDQCOM-06974

If `OpImageBlockMatchSSDQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndexed-OpImageBlockMatchSADQCOM-06975) VUID-vkCmdDrawIndexed-OpImageBlockMatchSADQCOM-06975

If `OpImageBlockMatchSADQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndexed-OpImageBlockMatchSADQCOM-06976) VUID-vkCmdDrawIndexed-OpImageBlockMatchSADQCOM-06976

If `OpImageBlockMatchSADQCOM` or OpImageBlockMatchSSDQCOM is used to
read from a reference image as result of this command, then the
specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawIndexed-OpImageWeightedSampleQCOM-06977) VUID-vkCmdDrawIndexed-OpImageWeightedSampleQCOM-06977

If `OpImageWeightedSampleQCOM`, `OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** have
been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndexed-OpImageWeightedSampleQCOM-06978) VUID-vkCmdDrawIndexed-OpImageWeightedSampleQCOM-06978

If any command other than `OpImageWeightedSampleQCOM`,
`OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** not
have been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndexed-OpImageBlockMatchWindow-09215) VUID-vkCmdDrawIndexed-OpImageBlockMatchWindow-09215

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndexed-OpImageBlockMatchWindow-09216) VUID-vkCmdDrawIndexed-OpImageBlockMatchWindow-09216

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
format **must** be a single-component format

* 
[](#VUID-vkCmdDrawIndexed-OpImageBlockMatchWindow-09217) VUID-vkCmdDrawIndexed-OpImageBlockMatchWindow-09217

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` read from a reference image as result
of this command, then the specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawIndexed-None-07288) VUID-vkCmdDrawIndexed-None-07288

Any shader invocation executed by this command **must**
[terminate](shaders.html#shaders-termination)

* 
[](#VUID-vkCmdDrawIndexed-None-09600) VUID-vkCmdDrawIndexed-None-09600

If a descriptor with type equal to any of
`VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE`,
`VK_DESCRIPTOR_TYPE_STORAGE_IMAGE`, or
`VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT` is accessed as a result of
this command, all image subresources identified by that descriptor **must**
be in the image layout identified when the descriptor was written

* 
[](#VUID-vkCmdDrawIndexed-commandBuffer-10746) VUID-vkCmdDrawIndexed-commandBuffer-10746

The `VkDeviceMemory` object allocated from a `VkMemoryHeap` with
the `VK_MEMORY_HEAP_TILE_MEMORY_BIT_QCOM` property that is bound to
a resource accessed as a result of this command **must** be the active
bound [bound tile memory object](memory.html#memory-bind-tile-memory) in
`commandBuffer`

* 
[](#VUID-vkCmdDrawIndexed-None-10678) VUID-vkCmdDrawIndexed-None-10678

If this command is recorded inside a [tile    shading render pass](renderpass.html#renderpass-tile-shading) instance, the stages corresponding to the pipeline
bind point used by this command **must** only include
`VK_SHADER_STAGE_VERTEX_BIT`, `VK_SHADER_STAGE_FRAGMENT_BIT`,
and/or `VK_SHADER_STAGE_COMPUTE_BIT`

* 
[](#VUID-vkCmdDrawIndexed-None-10679) VUID-vkCmdDrawIndexed-None-10679

If this command is recorded where
[per-tile execution model](renderpass.html#renderpass-per-tile-execution-model) is
enabled, there **must** be no access to any image while the image was be
transitioned to the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` layout

* 
[](#VUID-vkCmdDrawIndexed-renderPass-02684) VUID-vkCmdDrawIndexed-renderPass-02684

The current render pass **must** be [compatible](renderpass.html#renderpass-compatibility)
with the `renderPass` member of the
`VkGraphicsPipelineCreateInfo` structure specified when creating the
`VkPipeline` bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawIndexed-subpass-02685) VUID-vkCmdDrawIndexed-subpass-02685

The subpass index of the current render pass **must** be equal to the
`subpass` member of the `VkGraphicsPipelineCreateInfo` structure
specified when creating the `VkPipeline` bound to
`VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawIndexed-None-07748) VUID-vkCmdDrawIndexed-None-07748

If any shader statically accesses an input attachment, a valid
descriptor **must** be bound to the pipeline via a descriptor set

* 
[](#VUID-vkCmdDrawIndexed-OpTypeImage-07468) VUID-vkCmdDrawIndexed-OpTypeImage-07468

If any shader executed by this pipeline accesses an `OpTypeImage`
variable with a `Dim` operand of `SubpassData`, it **must** be
decorated with an `InputAttachmentIndex` that corresponds to a valid
input attachment in the current subpass

* 
[](#VUID-vkCmdDrawIndexed-None-07469) VUID-vkCmdDrawIndexed-None-07469

Input attachment views accessed in a subpass **must** be created with the
same [VkFormat](formats.html#VkFormat) as the corresponding subpass definition, and be
created with a [VkImageView](resources.html#VkImageView) that is compatible with the attachment
referenced by the subpass'
`pInputAttachments`[`InputAttachmentIndex`] in the bound
[VkFramebuffer](renderpass.html#VkFramebuffer) as specified by
[Fragment Input Attachment    Compatibility](interfaces.html#compatibility-inputattachment)

* 
[](#VUID-vkCmdDrawIndexed-pDepthInputAttachmentIndex-09595) VUID-vkCmdDrawIndexed-pDepthInputAttachmentIndex-09595

Input attachment views accessed in a dynamic render pass with a
`InputAttachmentIndex` referenced by
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo), or no
`InputAttachmentIndex` if
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
or
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are `NULL`, **must** be created with a [VkImageView](resources.html#VkImageView) that is compatible
with the corresponding color, depth, or stencil attachment in
[VkRenderingInfo](renderpass.html#VkRenderingInfo)

* 
[](#VUID-vkCmdDrawIndexed-pDepthInputAttachmentIndex-09596) VUID-vkCmdDrawIndexed-pDepthInputAttachmentIndex-09596

Input attachment views accessed in a dynamic render pass via a shader
object **must** have an `InputAttachmentIndex` if both
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
and
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are non-`NULL`

* 
[](#VUID-vkCmdDrawIndexed-InputAttachmentIndex-09597) VUID-vkCmdDrawIndexed-InputAttachmentIndex-09597

If an input attachment view accessed in a dynamic render pass via a
shader object has an `InputAttachmentIndex`, the
`InputAttachmentIndex` **must** match an index in
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

* 
[](#VUID-vkCmdDrawIndexed-None-06537) VUID-vkCmdDrawIndexed-None-06537

Memory backing image subresources used as attachments in the current
render pass **must** not be written in any way other than as an attachment
by this command

* 
[](#VUID-vkCmdDrawIndexed-None-09000) VUID-vkCmdDrawIndexed-None-09000

If a color attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

the `VK_PIPELINE_CREATE_COLOR_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT` is
set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_COLOR_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawIndexed-None-09001) VUID-vkCmdDrawIndexed-None-09001

If a depth attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_DEPTH_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawIndexed-None-09002) VUID-vkCmdDrawIndexed-None-09002

If a stencil attachment is written by any prior command in this subpass
or by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_STENCIL_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawIndexed-None-09003) VUID-vkCmdDrawIndexed-None-09003

If an attachment is written by any prior command in this subpass or by
the load, store, or resolve operations for this subpass, it **must** not be
accessed in any way other than as an attachment, storage image, or
sampled image by this command

[](#VUID-vkCmdDrawIndexed-None-06539) VUID-vkCmdDrawIndexed-None-06539

If any previously recorded command in the current subpass accessed an
image subresource used as an attachment in this subpass in any way other
than as an attachment, this command **must** not write to that image
subresource as an attachment

[](#VUID-vkCmdDrawIndexed-None-06886) VUID-vkCmdDrawIndexed-None-06886

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the depth aspect, [depth    writes](fragops.html#fragops-depth-write) **must** be disabled

[](#VUID-vkCmdDrawIndexed-None-06887) VUID-vkCmdDrawIndexed-None-06887

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the stencil aspect, both front and back
`writeMask` are not zero, and stencil test is enabled,
[all stencil ops](fragops.html#fragops-stencil) **must** be `VK_STENCIL_OP_KEEP`

[](#VUID-vkCmdDrawIndexed-None-07831) VUID-vkCmdDrawIndexed-None-07831

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT` dynamic state enabled then
[vkCmdSetViewport](vertexpostproc.html#vkCmdSetViewport) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07832) VUID-vkCmdDrawIndexed-None-07832

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SCISSOR` dynamic state enabled then
[vkCmdSetScissor](fragops.html#vkCmdSetScissor) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07833) VUID-vkCmdDrawIndexed-None-07833

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_WIDTH` dynamic state enabled then
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-08617) VUID-vkCmdDrawIndexed-None-08617

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command
buffer set `polygonMode` to `VK_POLYGON_MODE_LINE`,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-08618) VUID-vkCmdDrawIndexed-None-08618

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-08619) VUID-vkCmdDrawIndexed-None-08619

If a shader object that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, [vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawIndexed-None-07834) VUID-vkCmdDrawIndexed-None-07834

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthBiasEnable`
is `VK_TRUE`, then [vkCmdSetDepthBias](primsrast.html#vkCmdSetDepthBias)
or [vkCmdSetDepthBias2EXT](primsrast.html#vkCmdSetDepthBias2EXT)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawIndexed-None-07835) VUID-vkCmdDrawIndexed-None-07835

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_BLEND_CONSTANTS` dynamic state enabled then
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-08621) VUID-vkCmdDrawIndexed-None-08621

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) in the current command buffer set any
element of `pColorBlendEnables` to `VK_TRUE`, and the most
recent call to [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) in the current
command buffer set the same element of `pColorBlendEquations` to a
`VkColorBlendEquationEXT` structure with any [VkBlendFactor](framebuffer.html#VkBlendFactor)
member with a value of `VK_BLEND_FACTOR_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_CONSTANT_ALPHA`, or
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_ALPHA`,
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07836) VUID-vkCmdDrawIndexed-None-07836

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`depthBoundsTestEnable` is `VK_TRUE`, then
[vkCmdSetDepthBounds](fragops.html#vkCmdSetDepthBounds) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07837) VUID-vkCmdDrawIndexed-None-07837

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilCompareMask](fragops.html#vkCmdSetStencilCompareMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07838) VUID-vkCmdDrawIndexed-None-07838

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07839) VUID-vkCmdDrawIndexed-None-07839

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_REFERENCE` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of and
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilReference](fragops.html#vkCmdSetStencilReference) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-maxMultiviewInstanceIndex-02688) VUID-vkCmdDrawIndexed-maxMultiviewInstanceIndex-02688

If the draw is recorded in a render pass instance with multiview
enabled, the maximum instance index **must** be less than or equal to
[VkPhysicalDeviceMultiviewProperties](limits.html#VkPhysicalDeviceMultiviewProperties)::`maxMultiviewInstanceIndex`

[](#VUID-vkCmdDrawIndexed-sampleLocationsEnable-02689) VUID-vkCmdDrawIndexed-sampleLocationsEnable-02689

If the bound graphics pipeline was created with
[VkPipelineSampleLocationsStateCreateInfoEXT](primsrast.html#VkPipelineSampleLocationsStateCreateInfoEXT)::`sampleLocationsEnable`
set to `VK_TRUE` and the current subpass has a depth/stencil
attachment, then that attachment **must** have been created with the
`VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT` bit set

[](#VUID-vkCmdDrawIndexed-None-07634) VUID-vkCmdDrawIndexed-None-07634

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-06666) VUID-vkCmdDrawIndexed-None-06666

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
[vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07840) VUID-vkCmdDrawIndexed-None-07840

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CULL_MODE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCullMode](primsrast.html#vkCmdSetCullMode) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07841) VUID-vkCmdDrawIndexed-None-07841

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRONT_FACE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFrontFace](primsrast.html#vkCmdSetFrontFace) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07843) VUID-vkCmdDrawIndexed-None-07843

 If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`,
[vkCmdSetDepthTestEnable](fragops.html#vkCmdSetDepthTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07844) VUID-vkCmdDrawIndexed-None-07844

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07845) VUID-vkCmdDrawIndexed-None-07845

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_COMPARE_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthCompareOp](fragops.html#vkCmdSetDepthCompareOp) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07846) VUID-vkCmdDrawIndexed-None-07846

If the [`depthBounds`](features.html#features-depthBounds) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBoundsTestEnable](fragops.html#vkCmdSetDepthBoundsTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07847) VUID-vkCmdDrawIndexed-None-07847

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetStencilTestEnable](fragops.html#vkCmdSetStencilTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07848) VUID-vkCmdDrawIndexed-None-07848

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then [vkCmdSetStencilOp](fragops.html#vkCmdSetStencilOp)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawIndexed-viewportCount-03417) VUID-vkCmdDrawIndexed-viewportCount-03417

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-scissorCount-03418) VUID-vkCmdDrawIndexed-scissorCount-03418

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetScissorWithCount](vertexpostproc.html#vkCmdSetScissorWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing

[](#VUID-vkCmdDrawIndexed-viewportCount-03419) VUID-vkCmdDrawIndexed-viewportCount-03419

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with both the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic states enabled,
and the state is not inherited,
then the `viewportCount` parameter of
`vkCmdSetViewportWithCount` **must** match the `scissorCount`
parameter of `vkCmdSetScissorWithCount`

[](#VUID-vkCmdDrawIndexed-viewportCount-04137) VUID-vkCmdDrawIndexed-viewportCount-04137

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportWScalingStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportWScalingStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndexed-viewportCount-04138) VUID-vkCmdDrawIndexed-viewportCount-04138

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-08636) VUID-vkCmdDrawIndexed-None-08636

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndexed-viewportCount-04139) VUID-vkCmdDrawIndexed-viewportCount-04139

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic
state enabled, then the bound graphics pipeline **must** have been created
with
[VkPipelineViewportShadingRateImageStateCreateInfoNV](primsrast.html#VkPipelineViewportShadingRateImageStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndexed-shadingRateImage-09233) VUID-vkCmdDrawIndexed-shadingRateImage-09233

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_COARSE_SAMPLE_ORDER_NV` and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoarseSampleOrderNV](primsrast.html#vkCmdSetCoarseSampleOrderNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-shadingRateImage-09234) VUID-vkCmdDrawIndexed-shadingRateImage-09234

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-08637) VUID-vkCmdDrawIndexed-None-08637

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** be greater than or
equal to the `viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndexed-VkPipelineVieportCreateInfo-04141) VUID-vkCmdDrawIndexed-VkPipelineVieportCreateInfo-04141

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV) structure chained from
[VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound graphics
pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndexed-VkPipelineVieportCreateInfo-04142) VUID-vkCmdDrawIndexed-VkPipelineVieportCreateInfo-04142

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV) structure
chained from [VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound
graphics pipeline **must** have been created with
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV)::`exclusiveScissorCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndexed-None-07878) VUID-vkCmdDrawIndexed-None-07878

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_ENABLE_NV` dynamic state
enabled, then [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07879) VUID-vkCmdDrawIndexed-None-07879

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_NV` dynamic state enabled, and
the most recent call to [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) in the
current command buffer set any element of `pExclusiveScissorEnables`
to `VK_TRUE`, then [vkCmdSetExclusiveScissorNV](fragops.html#vkCmdSetExclusiveScissorNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-04876) VUID-vkCmdDrawIndexed-None-04876

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE` dynamic state enabled,
then [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-04877) VUID-vkCmdDrawIndexed-None-04877

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBiasEnable](primsrast.html#vkCmdSetDepthBiasEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-logicOp-04878) VUID-vkCmdDrawIndexed-logicOp-04878

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `logicOpEnable` is
`VK_TRUE`, then [vkCmdSetLogicOpEXT](framebuffer.html#vkCmdSetLogicOpEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-primitiveFragmentShadingRateWithMultipleViewports-04552) VUID-vkCmdDrawIndexed-primitiveFragmentShadingRateWithMultipleViewports-04552

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, and
any of the shader stages of the bound graphics pipeline write to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawIndexed-primitiveFragmentShadingRateWithMultipleViewports-08642) VUID-vkCmdDrawIndexed-primitiveFragmentShadingRateWithMultipleViewports-08642

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, and any shader object bound to a graphics stage writes to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawIndexed-blendEnable-04727) VUID-vkCmdDrawIndexed-blendEnable-04727

If rasterization is not disabled in the bound graphics pipeline, then
for each color attachment in the subpass, if the corresponding image
view’s [format features](resources.html#resources-image-view-format-features) do not
contain `VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
`blendEnable` member of the corresponding element of the
`pAttachments` member of `pColorBlendState` **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawIndexed-None-08643) VUID-vkCmdDrawIndexed-None-08643

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then for each color attachment in the render pass, if
the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) do not contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
corresponding member of `pColorBlendEnables` in the most recent call
to `vkCmdSetColorBlendEnableEXT` in the current command buffer that
affected that attachment index **must** have been `VK_FALSE`

[](#VUID-vkCmdDrawIndexed-multisampledRenderToSingleSampled-07284) VUID-vkCmdDrawIndexed-multisampledRenderToSingleSampled-07284

If rasterization is not disabled in the bound graphics pipeline,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then `rasterizationSamples` for the bound graphics pipeline **must** be the
same as the current subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawIndexed-None-08644) VUID-vkCmdDrawIndexed-None-08644

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then the most recent call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) in the
current command buffer **must** have set `rasterizationSamples` to be the
same as the number of samples for the current render pass color and/or
depth/stencil attachments

[](#VUID-vkCmdDrawIndexed-None-08876) VUID-vkCmdDrawIndexed-None-08876

If a shader object is bound to any graphics stage, the current render
pass instance **must** have been begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)

[](#VUID-vkCmdDrawIndexed-imageView-06172) VUID-vkCmdDrawIndexed-imageView-06172

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the depth attachment

[](#VUID-vkCmdDrawIndexed-imageView-06173) VUID-vkCmdDrawIndexed-imageView-06173

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawIndexed-imageView-06174) VUID-vkCmdDrawIndexed-imageView-06174

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL`, this
command **must** not write any values to the depth attachment

[](#VUID-vkCmdDrawIndexed-imageView-06175) VUID-vkCmdDrawIndexed-imageView-06175

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL`, this
command **must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawIndexed-imageView-06176) VUID-vkCmdDrawIndexed-imageView-06176

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the depth attachment

[](#VUID-vkCmdDrawIndexed-imageView-06177) VUID-vkCmdDrawIndexed-imageView-06177

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the stencil attachment

[](#VUID-vkCmdDrawIndexed-viewMask-06178) VUID-vkCmdDrawIndexed-viewMask-06178

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a [VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`viewMask` equal
to [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`viewMask`

[](#VUID-vkCmdDrawIndexed-colorAttachmentCount-06179) VUID-vkCmdDrawIndexed-colorAttachmentCount-06179

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`colorAttachmentCount` equal to
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount`

[](#VUID-vkCmdDrawIndexed-dynamicRenderingUnusedAttachments-08910) VUID-vkCmdDrawIndexed-dynamicRenderingUnusedAttachments-08910

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have
been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline

[](#VUID-vkCmdDrawIndexed-dynamicRenderingUnusedAttachments-08912) VUID-vkCmdDrawIndexed-dynamicRenderingUnusedAttachments-08912

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have the
corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound pipeline equal to `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndexed-dynamicRenderingUnusedAttachments-08911) VUID-vkCmdDrawIndexed-dynamicRenderingUnusedAttachments-08911

If the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled, and the
current render pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`,
then each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments`
array with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must**
have been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding
element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline, or the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats`, if
it exists, **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndexed-colorAttachmentCount-09362) VUID-vkCmdDrawIndexed-colorAttachmentCount-09362

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`,
there is no shader object bound to any graphics stage,
and a color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`resolveImageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawIndexed-None-09363) VUID-vkCmdDrawIndexed-None-09363

If
there is no shader object bound to any graphics stage,
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, and a
color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawIndexed-None-09364) VUID-vkCmdDrawIndexed-None-09364

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set the blend enable
to `VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-09365) VUID-vkCmdDrawIndexed-None-09365

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawIndexed-None-09366) VUID-vkCmdDrawIndexed-None-09366

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set blend enable to
`VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawIndexed-rasterizationSamples-09367) VUID-vkCmdDrawIndexed-rasterizationSamples-09367

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawIndexed-None-09368) VUID-vkCmdDrawIndexed-None-09368

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-09369) VUID-vkCmdDrawIndexed-None-09369

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawIndexed-pFragmentSize-09370) VUID-vkCmdDrawIndexed-pFragmentSize-09370

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawIndexed-pFragmentSize-09371) VUID-vkCmdDrawIndexed-pFragmentSize-09371

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07749) VUID-vkCmdDrawIndexed-None-07749

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-08646) VUID-vkCmdDrawIndexed-None-08646

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-attachmentCount-07750) VUID-vkCmdDrawIndexed-attachmentCount-07750

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
the `attachmentCount` parameter of `vkCmdSetColorWriteEnableEXT`
**must** be greater than or equal to the
`VkPipelineColorBlendStateCreateInfo`::`attachmentCount` of the
bound graphics pipeline

[](#VUID-vkCmdDrawIndexed-None-08647) VUID-vkCmdDrawIndexed-None-08647

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then the
`attachmentCount` parameter of most recent call to
`vkCmdSetColorWriteEnableEXT` in the current command buffer **must** be
greater than or equal to the number of color attachments in the current
render pass instance

[](#VUID-vkCmdDrawIndexed-None-07751) VUID-vkCmdDrawIndexed-None-07751

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled, a
graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) included a
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT)::`discardRectangleCount`

[](#VUID-vkCmdDrawIndexed-rasterizerDiscardEnable-09236) VUID-vkCmdDrawIndexed-rasterizerDiscardEnable-09236

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) did not
include a [VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPhysicalDeviceDiscardRectanglePropertiesEXT](limits.html#VkPhysicalDeviceDiscardRectanglePropertiesEXT)::`maxDiscardRectangles`

[](#VUID-vkCmdDrawIndexed-None-07880) VUID-vkCmdDrawIndexed-None-07880

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_ENABLE_EXT` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDiscardRectangleEnableEXT](fragops.html#vkCmdSetDiscardRectangleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07881) VUID-vkCmdDrawIndexed-None-07881

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_MODE_EXT` dynamic state enabled,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleModeEXT](fragops.html#vkCmdSetDiscardRectangleModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-dynamicRenderingUnusedAttachments-08913) VUID-vkCmdDrawIndexed-dynamicRenderingUnusedAttachments-08913

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndexed-dynamicRenderingUnusedAttachments-08914) VUID-vkCmdDrawIndexed-dynamicRenderingUnusedAttachments-08914

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawIndexed-dynamicRenderingUnusedAttachments-08915) VUID-vkCmdDrawIndexed-dynamicRenderingUnusedAttachments-08915

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline was not equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`,
the value of the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndexed-dynamicRenderingUnusedAttachments-08916) VUID-vkCmdDrawIndexed-dynamicRenderingUnusedAttachments-08916

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndexed-dynamicRenderingUnusedAttachments-08917) VUID-vkCmdDrawIndexed-dynamicRenderingUnusedAttachments-08917

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawIndexed-dynamicRenderingUnusedAttachments-08918) VUID-vkCmdDrawIndexed-dynamicRenderingUnusedAttachments-08918

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline was not equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`, the value of
the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndexed-imageView-06183) VUID-vkCmdDrawIndexed-imageView-06183

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentShadingRateAttachmentInfoKHR](renderpass.html#VkRenderingFragmentShadingRateAttachmentInfoKHR)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR`

[](#VUID-vkCmdDrawIndexed-imageView-06184) VUID-vkCmdDrawIndexed-imageView-06184

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentDensityMapAttachmentInfoEXT](renderpass.html#VkRenderingFragmentDensityMapAttachmentInfoEXT)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT`

[](#VUID-vkCmdDrawIndexed-colorAttachmentCount-06185) VUID-vkCmdDrawIndexed-colorAttachmentCount-06185

If the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and the current render
pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
`0`, then each element of the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with a sample count equal to the corresponding element of the
`pColorAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline

[](#VUID-vkCmdDrawIndexed-pDepthAttachment-06186) VUID-vkCmdDrawIndexed-pDepthAttachment-06186

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawIndexed-pStencilAttachment-06187) VUID-vkCmdDrawIndexed-pStencilAttachment-06187

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawIndexed-multisampledRenderToSingleSampled-07285) VUID-vkCmdDrawIndexed-multisampledRenderToSingleSampled-07285

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    the current render pass instance was begun with
    [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
    `0`, then each element of the
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
    `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
    created with a sample count equal to the value of
    `rasterizationSamples` for the bound graphics pipeline

[](#VUID-vkCmdDrawIndexed-multisampledRenderToSingleSampled-07286) VUID-vkCmdDrawIndexed-multisampledRenderToSingleSampled-07286

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawIndexed-multisampledRenderToSingleSampled-07287) VUID-vkCmdDrawIndexed-multisampledRenderToSingleSampled-07287

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawIndexed-pNext-07935) VUID-vkCmdDrawIndexed-pNext-07935

If this command has been called inside a render pass instance started
with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), and the `pNext` chain of
[VkRenderingInfo](renderpass.html#VkRenderingInfo) includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the value of `rasterizationSamples` for the bound graphics
pipeline **must** be equal to
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT)::`rasterizationSamples`

[](#VUID-vkCmdDrawIndexed-renderPass-06198) VUID-vkCmdDrawIndexed-renderPass-06198

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline **must** have been created
with a [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`renderPass` equal to
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

[](#VUID-vkCmdDrawIndexed-pColorAttachments-08963) VUID-vkCmdDrawIndexed-pColorAttachments-08963

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound with a
fragment shader that statically writes to a color attachment, the color
write mask is not zero, color writes are enabled, and the corresponding
element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments->imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndexed-pDepthAttachment-08964) VUID-vkCmdDrawIndexed-pDepthAttachment-08964

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, depth
test is enabled, depth write is enabled, and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndexed-pStencilAttachment-08965) VUID-vkCmdDrawIndexed-pStencilAttachment-08965

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, stencil
test is enabled and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndexed-flags-10582) VUID-vkCmdDrawIndexed-flags-10582

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), its [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`flags`
parameter **must** not have
`VK_RENDERING_CONTENTS_SECONDARY_COMMAND_BUFFERS_BIT` set
unless `VK_RENDERING_CONTENTS_INLINE_BIT_KHR` is also set

[](#VUID-vkCmdDrawIndexed-primitivesGeneratedQueryWithRasterizerDiscard-06708) VUID-vkCmdDrawIndexed-primitivesGeneratedQueryWithRasterizerDiscard-06708

If the [    `primitivesGeneratedQueryWithRasterizerDiscard`](features.html#features-primitivesGeneratedQueryWithRasterizerDiscard) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, [rasterization discard](primsrast.html#primsrast-discard) **must** not be enabled

[](#VUID-vkCmdDrawIndexed-primitivesGeneratedQueryWithNonZeroStreams-06709) VUID-vkCmdDrawIndexed-primitivesGeneratedQueryWithNonZeroStreams-06709

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, the bound graphics pipeline **must** not have been created with a
non-zero value in
`VkPipelineRasterizationStateStreamCreateInfoEXT`::`rasterizationStream`

[](#VUID-vkCmdDrawIndexed-None-07620) VUID-vkCmdDrawIndexed-None-07620

If the [`depthClamp`](features.html#features-depthClamp) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthClampEnableEXT](vertexpostproc.html#vkCmdSetDepthClampEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07621) VUID-vkCmdDrawIndexed-None-07621

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_POLYGON_MODE_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07622) VUID-vkCmdDrawIndexed-None-07622

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07623) VUID-vkCmdDrawIndexed-None-07623

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexed-alphaToCoverageEnable-08919) VUID-vkCmdDrawIndexed-alphaToCoverageEnable-08919

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and `alphaToCoverageEnable` was `VK_TRUE` in the last
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT), then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawIndexed-alphaToCoverageEnable-08920) VUID-vkCmdDrawIndexed-alphaToCoverageEnable-08920

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) in the current command
buffer set `alphaToCoverageEnable` to `VK_TRUE`, then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawIndexed-None-07624) VUID-vkCmdDrawIndexed-None-07624

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07625) VUID-vkCmdDrawIndexed-None-07625

If the [`alphaToOne`](features.html#features-alphaToOne) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_ONE_ENABLE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToOneEnableEXT](fragops.html#vkCmdSetAlphaToOneEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07626) VUID-vkCmdDrawIndexed-None-07626

If the [`logicOp`](features.html#features-logicOp) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetLogicOpEnableEXT](framebuffer.html#vkCmdSetLogicOpEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07627) VUID-vkCmdDrawIndexed-None-07627

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-08657) VUID-vkCmdDrawIndexed-None-08657

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have
been called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime)
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07628) VUID-vkCmdDrawIndexed-None-07628

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-08658) VUID-vkCmdDrawIndexed-None-08658

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) for any attachment set that
attachment’s value in `pColorBlendEnables` to `VK_TRUE`, then
[vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07629) VUID-vkCmdDrawIndexed-None-07629

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-08659) VUID-vkCmdDrawIndexed-None-08659

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07630) VUID-vkCmdDrawIndexed-None-07630

If the [`geometryStreams`](features.html#features-geometryStreams) feature is
enabled, and
a shader object is bound to the `VK_SHADER_STAGE_GEOMETRY_BIT` stage
or
a graphics pipeline is bound which was created with both a
`VK_SHADER_STAGE_GEOMETRY_BIT` stage and the
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` dynamic state enabled,
then [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07631) VUID-vkCmdDrawIndexed-None-07631

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07632) VUID-vkCmdDrawIndexed-None-07632

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXTRA_PRIMITIVE_OVERESTIMATION_SIZE_EXT` dynamic
state enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`conservativeRasterizationMode` is
`VK_CONSERVATIVE_RASTERIZATION_MODE_OVERESTIMATE_EXT`, then
[vkCmdSetExtraPrimitiveOverestimationSizeEXT](primsrast.html#vkCmdSetExtraPrimitiveOverestimationSizeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07633) VUID-vkCmdDrawIndexed-None-07633

If the [`depthClipEnable`](features.html#features-depthClipEnable) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_ENABLE_EXT` dynamic state, then
[vkCmdSetDepthClipEnableEXT](vertexpostproc.html#vkCmdSetDepthClipEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07635) VUID-vkCmdDrawIndexed-None-07635

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-rasterizerDiscardEnable-09416) VUID-vkCmdDrawIndexed-rasterizerDiscardEnable-09416

If the `[VK_EXT_blend_operation_advanced](../appendices/extensions.html#VK_EXT_blend_operation_advanced)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then at least one of [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT)
and [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07636) VUID-vkCmdDrawIndexed-None-07636

If the `[VK_EXT_provoking_vertex](../appendices/extensions.html#VK_EXT_provoking_vertex)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_PROVOKING_VERTEX_MODE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetProvokingVertexModeEXT](vertexpostproc.html#vkCmdSetProvokingVertexModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07637) VUID-vkCmdDrawIndexed-None-07637

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state enabled
then [vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-08666) VUID-vkCmdDrawIndexed-None-08666

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-08667) VUID-vkCmdDrawIndexed-None-08667

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-08668) VUID-vkCmdDrawIndexed-None-08668

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07638) VUID-vkCmdDrawIndexed-None-07638

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` dynamic state enabled
then [vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-08669) VUID-vkCmdDrawIndexed-None-08669

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-08670) VUID-vkCmdDrawIndexed-None-08670

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-08671) VUID-vkCmdDrawIndexed-None-08671

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07849) VUID-vkCmdDrawIndexed-None-07849

    If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled and
    a shader object is bound to any graphics stage, or
    a bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE`
    dynamic state enabled, the [current    value](pipelines.html#dynamic-state-current-value) of `rasterizerDiscardEnable` is `VK_FALSE`, and the
    [current value](pipelines.html#dynamic-state-current-value) of
    `stippledLineEnable` is `VK_TRUE`, then
[vkCmdSetLineStipple](primsrast.html#vkCmdSetLineStipple)
    **must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
    command

[](#VUID-vkCmdDrawIndexed-None-10608) VUID-vkCmdDrawIndexed-None-10608

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the current `lineRasterizationMode` is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM` or
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the current
`alphaToCoverageEnable`, `alphaToOneEnable` and
`sampleShadingEnable` states **must** all be `VK_FALSE`

[](#VUID-vkCmdDrawIndexed-None-07639) VUID-vkCmdDrawIndexed-None-07639

If the [`depthClipControl`](features.html#features-depthClipControl) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_NEGATIVE_ONE_TO_ONE_EXT` dynamic state
enabled, then [vkCmdSetDepthClipNegativeOneToOneEXT](vertexpostproc.html#vkCmdSetDepthClipNegativeOneToOneEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-09650) VUID-vkCmdDrawIndexed-None-09650

If the [`depthClampControl`](features.html#features-depthClampControl) feature
is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_RANGE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`depthClampEnable` is `VK_TRUE`, then
[vkCmdSetDepthClampRangeEXT](fragops.html#vkCmdSetDepthClampRangeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07640) VUID-vkCmdDrawIndexed-None-07640

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_ENABLE_NV` dynamic state
enabled, then [vkCmdSetViewportWScalingEnableNV](vertexpostproc.html#vkCmdSetViewportWScalingEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07641) VUID-vkCmdDrawIndexed-None-07641

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state enabled, then
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07642) VUID-vkCmdDrawIndexed-None-07642

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07643) VUID-vkCmdDrawIndexed-None-07643

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_LOCATION_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageToColorEnable` is `VK_TRUE`, then
[vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07644) VUID-vkCmdDrawIndexed-None-07644

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_MODE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageModulationModeNV](fragops.html#vkCmdSetCoverageModulationModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07645) VUID-vkCmdDrawIndexed-None-07645

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationMode` is any value other than
`VK_COVERAGE_MODULATION_MODE_NONE_NV`, then
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07646) VUID-vkCmdDrawIndexed-None-07646

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationTableEnable` is `VK_TRUE`, then
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07647) VUID-vkCmdDrawIndexed-None-07647

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SHADING_RATE_IMAGE_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetShadingRateImageEnableNV](primsrast.html#vkCmdSetShadingRateImageEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-pipelineFragmentShadingRate-09238) VUID-vkCmdDrawIndexed-pipelineFragmentShadingRate-09238

If the [    `pipelineFragmentShadingRate`](features.html#features-pipelineFragmentShadingRate) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07648) VUID-vkCmdDrawIndexed-None-07648

If the [    `representativeFragmentTest`](features.html#features-representativeFragmentTest) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_REPRESENTATIVE_FRAGMENT_TEST_ENABLE_NV` dynamic
state enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRepresentativeFragmentTestEnableNV](fragops.html#vkCmdSetRepresentativeFragmentTestEnableNV) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07649) VUID-vkCmdDrawIndexed-None-07649

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageReductionModeNV](fragops.html#vkCmdSetCoverageReductionModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-pColorBlendEnables-07470) VUID-vkCmdDrawIndexed-pColorBlendEnables-07470

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` state enabled and the last
call to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) set `pColorBlendEnables`
for any attachment to `VK_TRUE`, then for those attachments in the
subpass the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`

[](#VUID-vkCmdDrawIndexed-rasterizationSamples-07471) VUID-vkCmdDrawIndexed-rasterizationSamples-07471

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
current subpass does not use any color and/or depth/stencil attachments,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** follow the rules for a
[zero-attachment subpass](renderpass.html#renderpass-noattachments)

[](#VUID-vkCmdDrawIndexed-samples-07472) VUID-vkCmdDrawIndexed-samples-07472

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo)::`rasterizationSamples`
parameter used to create the bound graphics pipeline

[](#VUID-vkCmdDrawIndexed-samples-07473) VUID-vkCmdDrawIndexed-samples-07473

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state and
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` states enabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
`rasterizationSamples` parameter in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndexed-rasterizationSamples-07474) VUID-vkCmdDrawIndexed-rasterizationSamples-07474

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and
the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
neither the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` nor the
`[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extensions are enabled, then
the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the current
subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawIndexed-None-09211) VUID-vkCmdDrawIndexed-None-09211

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled,
or a shader object is bound to any graphics stage,
and the current render pass instance includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the
`rasterizationSamples` member of that structure

[](#VUID-vkCmdDrawIndexed-firstAttachment-07476) VUID-vkCmdDrawIndexed-firstAttachment-07476

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorBlendEnableEXT` calls **must** specify an
enable for all active color attachments in the current subpass

[](#VUID-vkCmdDrawIndexed-rasterizerDiscardEnable-09417) VUID-vkCmdDrawIndexed-rasterizerDiscardEnable-09417

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEnableEXT`
calls **must** specify an enable for all active color attachments in the
current subpass

[](#VUID-vkCmdDrawIndexed-firstAttachment-07477) VUID-vkCmdDrawIndexed-firstAttachment-07477

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawIndexed-rasterizerDiscardEnable-09418) VUID-vkCmdDrawIndexed-rasterizerDiscardEnable-09418

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have
been called in the current command buffer prior to this drawing command,
and the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawIndexed-firstAttachment-07478) VUID-vkCmdDrawIndexed-firstAttachment-07478

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorWriteMaskEXT` calls **must** specify the
color write mask for all active color attachments in the current subpass

[](#VUID-vkCmdDrawIndexed-rasterizerDiscardEnable-09419) VUID-vkCmdDrawIndexed-rasterizerDiscardEnable-09419

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorWriteMaskEXT`
calls **must** specify the color write mask for all active color
attachments in the current subpass

[](#VUID-vkCmdDrawIndexed-firstAttachment-07479) VUID-vkCmdDrawIndexed-firstAttachment-07479

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendAdvancedEXT`
calls **must** specify the advanced blend equations for all active color
attachments in the current subpass where blending is enabled

[](#VUID-vkCmdDrawIndexed-advancedBlendMaxColorAttachments-07480) VUID-vkCmdDrawIndexed-advancedBlendMaxColorAttachments-07480

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` and
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic states enabled and
the last calls to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) and
[vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) have enabled advanced blending, then
the number of active color attachments in the current subpass **must** not
exceed [    `advancedBlendMaxColorAttachments`](limits.html#limits-advancedBlendMaxColorAttachments)

[](#VUID-vkCmdDrawIndexed-primitivesGeneratedQueryWithNonZeroStreams-07481) VUID-vkCmdDrawIndexed-primitivesGeneratedQueryWithNonZeroStreams-07481

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, and the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` state enabled, the last
call to [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have set the
`rasterizationStream` to zero

[](#VUID-vkCmdDrawIndexed-sampleLocationsPerPixel-07482) VUID-vkCmdDrawIndexed-sampleLocationsPerPixel-07482

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` member of the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo) structure the bound graphics
pipeline has been created with

[](#VUID-vkCmdDrawIndexed-sampleLocationsPerPixel-07483) VUID-vkCmdDrawIndexed-sampleLocationsPerPixel-07483

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` parameter of the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndexed-sampleLocationsEnable-07484) VUID-vkCmdDrawIndexed-sampleLocationsEnable-07484

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), and the current subpass has a
depth/stencil attachment, then that attachment **must** have been created
with the `VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT`
bit set

[](#VUID-vkCmdDrawIndexed-sampleLocationsEnable-07485) VUID-vkCmdDrawIndexed-sampleLocationsEnable-07485

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.width` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawIndexed-sampleLocationsEnable-07486) VUID-vkCmdDrawIndexed-sampleLocationsEnable-07486

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.height` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawIndexed-sampleLocationsEnable-07487) VUID-vkCmdDrawIndexed-sampleLocationsEnable-07487

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), the fragment shader code **must**
not statically use the extended instruction `InterpolateAtSample`

[](#VUID-vkCmdDrawIndexed-sampleLocationsEnable-07936) VUID-vkCmdDrawIndexed-sampleLocationsEnable-07936

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.width` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndexed-sampleLocationsEnable-07937) VUID-vkCmdDrawIndexed-sampleLocationsEnable-07937

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.height` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndexed-sampleLocationsEnable-07938) VUID-vkCmdDrawIndexed-sampleLocationsEnable-07938

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationsPerPixel` **must** equal
`rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndexed-coverageModulationTableEnable-07488) VUID-vkCmdDrawIndexed-coverageModulationTableEnable-07488

If
a shader object is bound to any graphics stage or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` state
enabled, and the last call to
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) set
`coverageModulationTableEnable` to `VK_TRUE`, then the
`coverageModulationTableCount` parameter in the last call to
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** equal the current
`rasterizationSamples` divided by the number of color samples in the
current subpass

[](#VUID-vkCmdDrawIndexed-rasterizationSamples-07489) VUID-vkCmdDrawIndexed-rasterizationSamples-07489

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and if current subpass has a depth/stencil attachment and depth test,
stencil test, or depth bounds test are enabled in the bound pipeline,
then the current `rasterizationSamples` **must** be the same as the
sample count of the depth/stencil attachment

[](#VUID-vkCmdDrawIndexed-coverageToColorEnable-07490) VUID-vkCmdDrawIndexed-coverageToColorEnable-07490

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` state enabled and the
last call to [vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawIndexed-rasterizerDiscardEnable-09420) VUID-vkCmdDrawIndexed-rasterizerDiscardEnable-09420

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the last call to
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawIndexed-coverageReductionMode-07491) VUID-vkCmdDrawIndexed-coverageReductionMode-07491

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` or
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic states enabled,
then the [current values](pipelines.html#dynamic-state-current-value) of
`coverageReductionMode`, `rasterizationSamples`, the sample
counts for the color and depth/stencil attachments (if the subpass has
them) **must** be a valid combination returned by
[vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV](fragops.html#vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV)

[](#VUID-vkCmdDrawIndexed-viewportCount-07492) VUID-vkCmdDrawIndexed-viewportCount-07492

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndexed-viewportCount-07493) VUID-vkCmdDrawIndexed-viewportCount-07493

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic states enabled then
the `viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndexed-viewportCount-09421) VUID-vkCmdDrawIndexed-viewportCount-09421

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and a
shader object is bound to any graphics stage, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndexed-rasterizationSamples-07494) VUID-vkCmdDrawIndexed-rasterizationSamples-07494

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is not enabled, or the [current    value](pipelines.html#dynamic-state-current-value) of `coverageReductionMode` is not
`VK_COVERAGE_REDUCTION_MODE_TRUNCATE_NV`,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizationSamples` is greater than sample count of the color
attachment, then [sample shading](primsrast.html#primsrast-sampleshading) **must** be
disabled

[](#VUID-vkCmdDrawIndexed-stippledLineEnable-07495) VUID-vkCmdDrawIndexed-stippledLineEnable-07495

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled

[](#VUID-vkCmdDrawIndexed-stippledLineEnable-07496) VUID-vkCmdDrawIndexed-stippledLineEnable-07496

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM`, then the
[`stippledBresenhamLines`](features.html#features-stippledBresenhamLines)
feature **must** be enabled

[](#VUID-vkCmdDrawIndexed-stippledLineEnable-07497) VUID-vkCmdDrawIndexed-stippledLineEnable-07497

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the
[`stippledSmoothLines`](features.html#features-stippledSmoothLines) feature
**must** be enabled

[](#VUID-vkCmdDrawIndexed-stippledLineEnable-07498) VUID-vkCmdDrawIndexed-stippledLineEnable-07498

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_DEFAULT`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled and
[VkPhysicalDeviceLimits](limits.html#VkPhysicalDeviceLimits)::`strictLines` **must** be `VK_TRUE`

[](#VUID-vkCmdDrawIndexed-conservativePointAndLineRasterization-07499) VUID-vkCmdDrawIndexed-conservativePointAndLineRasterization-07499

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, [    `conservativePointAndLineRasterization`](limits.html#limits-conservativePointAndLineRasterization) is not supported, and the
effective primitive topology output by the last pre-rasterization shader
stage is a line or point, then the `conservativeRasterizationMode`
set by the last call to [vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT)
**must** be `VK_CONSERVATIVE_RASTERIZATION_MODE_DISABLED_EXT`

[](#VUID-vkCmdDrawIndexed-stage-07073) VUID-vkCmdDrawIndexed-stage-07073

If the bound pipeline was created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of an element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT`, then [Mesh    Shader Queries](queries.html#queries-mesh-shader) **must** not be active

[](#VUID-vkCmdDrawIndexed-None-08877) VUID-vkCmdDrawIndexed-None-08877

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-None-07850) VUID-vkCmdDrawIndexed-None-07850

If dynamic state was inherited from
[VkCommandBufferInheritanceViewportScissorInfoNV](cmdbuffers.html#VkCommandBufferInheritanceViewportScissorInfoNV), it **must** be set
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexed-nextStage-10745) VUID-vkCmdDrawIndexed-nextStage-10745

For each shader object bound to a graphics stage, except for shader
object bound to the last graphics stage in the logical pipeline, it
**must** have been created with a `nextStage` including the
corresponding bit to the shader object bound to the following graphics
stage in the logical pipeline

[](#VUID-vkCmdDrawIndexed-None-08684) VUID-vkCmdDrawIndexed-None-08684

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_VERTEX_BIT`

[](#VUID-vkCmdDrawIndexed-None-08685) VUID-vkCmdDrawIndexed-None-08685

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`

[](#VUID-vkCmdDrawIndexed-None-08686) VUID-vkCmdDrawIndexed-None-08686

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT`

[](#VUID-vkCmdDrawIndexed-None-08687) VUID-vkCmdDrawIndexed-None-08687

If there is no bound graphics pipeline, and the
[`geometryShader`](features.html#features-geometryShader) feature is enabled,
`vkCmdBindShadersEXT` **must** have been called in the current command
buffer with `pStages` with an element of
`VK_SHADER_STAGE_GEOMETRY_BIT`

[](#VUID-vkCmdDrawIndexed-None-08688) VUID-vkCmdDrawIndexed-None-08688

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_FRAGMENT_BIT`

[](#VUID-vkCmdDrawIndexed-None-08689) VUID-vkCmdDrawIndexed-None-08689

If there is no bound graphics pipeline, and the [    `taskShader`](features.html#features-taskShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_TASK_BIT_EXT`

[](#VUID-vkCmdDrawIndexed-None-08690) VUID-vkCmdDrawIndexed-None-08690

If there is no bound graphics pipeline, and the [    `meshShader`](features.html#features-meshShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_MESH_BIT_EXT`

[](#VUID-vkCmdDrawIndexed-None-08693) VUID-vkCmdDrawIndexed-None-08693

If there is no bound graphics pipeline, and at least one of the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features is enabled, one of the
`VK_SHADER_STAGE_VERTEX_BIT` or `VK_SHADER_STAGE_MESH_BIT_EXT`
stages **must** have a valid `VkShaderEXT` bound, and the other **must**
have no `VkShaderEXT` bound

[](#VUID-vkCmdDrawIndexed-None-08696) VUID-vkCmdDrawIndexed-None-08696

If there is no bound graphics pipeline, and a valid `VkShaderEXT` is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, there **must** be no
`VkShaderEXT` bound to either the `VK_SHADER_STAGE_TASK_BIT_EXT`
stage or the `VK_SHADER_STAGE_MESH_BIT_EXT` stage

[](#VUID-vkCmdDrawIndexed-None-08698) VUID-vkCmdDrawIndexed-None-08698

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, then all shaders created
with the `VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag in the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** also be bound

[](#VUID-vkCmdDrawIndexed-None-08699) VUID-vkCmdDrawIndexed-None-08699

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, any stages in between
stages whose shaders which did not create a shader with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag as part of the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** not have any `VkShaderEXT` bound

[](#VUID-vkCmdDrawIndexed-None-08878) VUID-vkCmdDrawIndexed-None-08878

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) push constant
ranges

[](#VUID-vkCmdDrawIndexed-None-08879) VUID-vkCmdDrawIndexed-None-08879

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) arrays of
descriptor set layouts

[](#VUID-vkCmdDrawIndexed-colorAttachmentCount-09372) VUID-vkCmdDrawIndexed-colorAttachmentCount-09372

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, a color
attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, and a fragment
shader is bound, it **must** not declare the `DepthReplacing` or
`StencilRefReplacingEXT` execution modes

[](#VUID-vkCmdDrawIndexed-pDynamicStates-08715) VUID-vkCmdDrawIndexed-pDynamicStates-08715

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpDepthAttachmentReadEXT`, the `depthWriteEnable` parameter
in the last call to [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawIndexed-pDynamicStates-08716) VUID-vkCmdDrawIndexed-pDynamicStates-08716

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpStencilAttachmentReadEXT`, the `writeMask` parameter in
the last call to [vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** be `0`

[](#VUID-vkCmdDrawIndexed-None-09116) VUID-vkCmdDrawIndexed-None-09116

    If
    a shader object is bound to any graphics stage
or
    the bound graphics pipeline was created with
    `VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT`,
    and the format of any color attachment is
    `VK_FORMAT_E5B9G9R9_UFLOAT_PACK32`, the corresponding element of the
    `pColorWriteMasks` parameter of [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT)
    **must** either include all of `VK_COLOR_COMPONENT_R_BIT`,
    `VK_COLOR_COMPONENT_G_BIT`, and `VK_COLOR_COMPONENT_B_BIT`, or
    none of them

[](#VUID-vkCmdDrawIndexed-maxFragmentDualSrcAttachments-09239) VUID-vkCmdDrawIndexed-maxFragmentDualSrcAttachments-09239

If [blending](framebuffer.html#framebuffer-blending) is enabled for any attachment where
either the source or destination blend factors for that attachment
[use the secondary color input](framebuffer.html#framebuffer-dsb), the maximum value of
`Location` for any output attachment [statically    used](shaders.html#shaders-staticuse) in the `Fragment` `Execution` `Model` executed by this command
**must** be less than [    `maxFragmentDualSrcAttachments`](limits.html#limits-maxFragmentDualSrcAttachments)

[](#VUID-vkCmdDrawIndexed-None-09548) VUID-vkCmdDrawIndexed-None-09548

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
the value of each element of
[VkRenderingAttachmentLocationInfo](interfaces.html#VkRenderingAttachmentLocationInfo)::`pColorAttachmentLocations`
set by [vkCmdSetRenderingAttachmentLocations](interfaces.html#vkCmdSetRenderingAttachmentLocations) **must** match the value
set for the corresponding element in the bound pipeline

[](#VUID-vkCmdDrawIndexed-None-09549) VUID-vkCmdDrawIndexed-None-09549

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
input attachment index mappings in the bound pipeline **must** match those
set for the current render pass instance via
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

[](#VUID-vkCmdDrawIndexed-None-09642) VUID-vkCmdDrawIndexed-None-09642

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with
the `VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag, the bound
graphics pipeline **must** have been created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`

[](#VUID-vkCmdDrawIndexed-None-09643) VUID-vkCmdDrawIndexed-None-09643

If the bound graphics pipeline was created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`, the current
render pass **must** have begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with the
`VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag

[](#VUID-vkCmdDrawIndexed-None-10677) VUID-vkCmdDrawIndexed-None-10677

If the [per-tile execution model](renderpass.html#renderpass-per-tile-execution-model)
is enabled, the
[tileShadingPerTileDraw](features.html#features-tileShadingPerTileDraw) feature **must**
be enabled

[](#VUID-vkCmdDrawIndexed-None-10772) VUID-vkCmdDrawIndexed-None-10772

If a shader object is bound to any graphics stage, *multiview*
functionality **must** not be enabled in the current render pass

* 
[](#VUID-vkCmdDrawIndexed-commandBuffer-02712) VUID-vkCmdDrawIndexed-commandBuffer-02712

If `commandBuffer` is a protected command buffer and
[`protectedNoFault`](devsandqueues.html#limits-protectedNoFault) is not supported,
any resource written to by the `VkPipeline` object bound to the
pipeline bind point used by this command **must** not be an unprotected
resource

* 
[](#VUID-vkCmdDrawIndexed-commandBuffer-02713) VUID-vkCmdDrawIndexed-commandBuffer-02713

If `commandBuffer` is a protected command buffer and
[`protectedNoFault`](devsandqueues.html#limits-protectedNoFault) is not supported,
pipeline stages other than the framebuffer-space and compute stages in
the `VkPipeline` object bound to the pipeline bind point used by
this command **must** not write to any resource

* 
[](#VUID-vkCmdDrawIndexed-commandBuffer-04617) VUID-vkCmdDrawIndexed-commandBuffer-04617

If any of the shader stages of the `VkPipeline` bound to the
pipeline bind point used by this command uses the
[`RayQueryKHR`](../appendices/spirvenv.html#spirvenv-capabilities-table-RayQueryKHR)
capability, then `commandBuffer` **must** not be a protected command
buffer

* 
[](#VUID-vkCmdDrawIndexed-None-04007) VUID-vkCmdDrawIndexed-None-04007

All vertex input bindings accessed via vertex input variables declared
in the vertex shader entry point’s interface **must** have either valid or
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) buffers bound

* 
[](#VUID-vkCmdDrawIndexed-None-04008) VUID-vkCmdDrawIndexed-None-04008

If the [`nullDescriptor`](features.html#features-nullDescriptor) feature is not
enabled, all vertex input bindings accessed via vertex input variables
declared in the vertex shader entry point’s interface **must** not be
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

* 
[](#VUID-vkCmdDrawIndexed-None-02721) VUID-vkCmdDrawIndexed-None-02721

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled,
and that pipeline was created without enabling
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` for
`vertexInputs`,
then for a given vertex buffer binding, any attribute data fetched **must**
be entirely contained within the corresponding vertex buffer binding, as
described in [Vertex Input Description](fxvertex.html#fxvertex-input)

* 
[](#VUID-vkCmdDrawIndexed-format-10389) VUID-vkCmdDrawIndexed-format-10389

For each vertex attribute accessed by this command, if its
[VkVertexInputAttributeDescription](fxvertex.html#VkVertexInputAttributeDescription)::`format`
or [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format`
is a [packed format](formats.html#formats-packed),
and [`legacyVertexAttributes`](features.html#features-legacyVertexAttributes) is
not enabled,
the value of `attribAddress`, calculated as described in
[Vertex Input Calculation](fxvertex.html#fxvertex-input-address-calculation), **must**
be a multiple of the [size of the `format`](formats.html#formats)

* 
[](#VUID-vkCmdDrawIndexed-format-10390) VUID-vkCmdDrawIndexed-format-10390

For each vertex attribute accessed by this command, if its
[VkVertexInputAttributeDescription](fxvertex.html#VkVertexInputAttributeDescription)::`format`
or [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format`
is not a [packed format](formats.html#formats-packed),
and either [    `legacyVertexAttributes`](features.html#features-legacyVertexAttributes) is not enabled or `format` has 64-bit
components,
the value of `attribAddress`, calculated as described in
[Vertex Input Calculation](fxvertex.html#fxvertex-input-address-calculation), **must**
be a multiple of the [component size of the `format`](formats.html#formats)

* 
[](#VUID-vkCmdDrawIndexed-None-07842) VUID-vkCmdDrawIndexed-None-07842

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY` dynamic state enabled
    then [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawIndexed-dynamicPrimitiveTopologyUnrestricted-07500) VUID-vkCmdDrawIndexed-dynamicPrimitiveTopologyUnrestricted-07500

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY` dynamic state enabled
and the [    `dynamicPrimitiveTopologyUnrestricted`](limits.html#limits-dynamicPrimitiveTopologyUnrestricted) is `VK_FALSE`,
then the `primitiveTopology` parameter of
`vkCmdSetPrimitiveTopology` **must** be of the same
[topology class](#drawing-primitive-topology-class) as the pipeline
[VkPipelineInputAssemblyStateCreateInfo](#VkPipelineInputAssemblyStateCreateInfo)::`topology` state

* 
[](#VUID-vkCmdDrawIndexed-primitiveTopology-10286) VUID-vkCmdDrawIndexed-primitiveTopology-10286

If a `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage is bound, then
the [current value](pipelines.html#dynamic-state-current-value) of
`primitiveTopology` **must** be `VK_PRIMITIVE_TOPOLOGY_PATCH_LIST`
prior to this drawing command

* 
[](#VUID-vkCmdDrawIndexed-primitiveTopology-10747) VUID-vkCmdDrawIndexed-primitiveTopology-10747

If [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) set `primitiveTopology` to
`VK_PRIMITIVE_TOPOLOGY_PATCH_LIST` prior to this drawing command,
then a `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage **must** be
bound

* 
[](#VUID-vkCmdDrawIndexed-primitiveTopology-10748) VUID-vkCmdDrawIndexed-primitiveTopology-10748

If [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) set `primitiveTopology` to
`VK_PRIMITIVE_TOPOLOGY_POINT_LIST` prior to this drawing command,
the [`maintenance5`](features.html#features-maintenance5) feature is not
enabled,
both a `VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` and
`VK_SHADER_STAGE_GEOMETRY_BIT` stage are not bound, then the
`Vertex` `Execution` `Model` **must** have a `PointSize` decorated
variable that is statically written to

* 
[](#VUID-vkCmdDrawIndexed-pStrides-04913) VUID-vkCmdDrawIndexed-pStrides-04913

If the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_VERTEX_INPUT_BINDING_STRIDE` dynamic state
enabled,
but without the `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state
enabled,
then [vkCmdBindVertexBuffers2](fxvertex.html#vkCmdBindVertexBuffers2) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this draw command, and the `pStrides`
parameter of [vkCmdBindVertexBuffers2](fxvertex.html#vkCmdBindVertexBuffers2) **must** not be `NULL`

* 
[](#VUID-vkCmdDrawIndexed-None-04914) VUID-vkCmdDrawIndexed-None-04914

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    then [vkCmdSetVertexInputEXT](fxvertex.html#vkCmdSetVertexInputEXT) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this draw command

* 
[](#VUID-vkCmdDrawIndexed-Input-07939) VUID-vkCmdDrawIndexed-Input-07939

    If
    [`vertexAttributeRobustness`](features.html#features-vertexAttributeRobustness)
    is not enabled and
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    then all variables with the `Input` storage class decorated with
    `Location` in the `Vertex` `Execution` `Model` `OpEntryPoint`
    **must** contain a location in
    [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`location`

* 
[](#VUID-vkCmdDrawIndexed-Input-08734) VUID-vkCmdDrawIndexed-Input-08734

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and either the [    `legacyVertexAttributes`](features.html#features-legacyVertexAttributes) feature is not enabled or the SPIR-V Type
    associated with a given `Input` variable of the corresponding
    `Location` in the `Vertex` `Execution` `Model` `OpEntryPoint` is
    64-bit,
    then the numeric type associated with all `Input` variables of the
    corresponding `Location` in the `Vertex` `Execution` `Model`
    `OpEntryPoint` **must** be the same as
    [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format`

* 
[](#VUID-vkCmdDrawIndexed-format-08936) VUID-vkCmdDrawIndexed-format-08936

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format` has a
    64-bit component, then the scalar width associated with all `Input`
    variables of the corresponding `Location` in the `Vertex`
    `Execution` `Model` `OpEntryPoint` **must** be 64-bit

* 
[](#VUID-vkCmdDrawIndexed-format-08937) VUID-vkCmdDrawIndexed-format-08937

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and the scalar width associated with a `Location` decorated
    `Input` variable in the `Vertex` `Execution` `Model`
    `OpEntryPoint` is 64-bit, then the corresponding
    [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format` **must** have a
    64-bit component

* 
[](#VUID-vkCmdDrawIndexed-None-09203) VUID-vkCmdDrawIndexed-None-09203

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format` has a
    64-bit component, then all `Input` variables at the corresponding
    `Location` in the `Vertex` `Execution` `Model` `OpEntryPoint`
    **must** not use components that are not present in the format

* 
[](#VUID-vkCmdDrawIndexed-None-04875) VUID-vkCmdDrawIndexed-None-04875

    If
    there is a shader object bound to the
    `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage
or
    the bound graphics pipeline state was created with both a
    `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage and the
    `VK_DYNAMIC_STATE_PATCH_CONTROL_POINTS_EXT` dynamic state enabled,
    and the [current value](pipelines.html#dynamic-state-current-value) of
    `primitiveTopology` is `VK_PRIMITIVE_TOPOLOGY_PATCH_LIST`, then
    [vkCmdSetPatchControlPointsEXT](shaders.html#vkCmdSetPatchControlPointsEXT) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawIndexed-None-04879) VUID-vkCmdDrawIndexed-None-04879

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE` dynamic state enabled
    then [vkCmdSetPrimitiveRestartEnable](#vkCmdSetPrimitiveRestartEnable) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawIndexed-None-09637) VUID-vkCmdDrawIndexed-None-09637

    If
    the [    `primitiveTopologyListRestart`](features.html#features-primitiveTopologyListRestart) feature is not enabled,
    the topology is `VK_PRIMITIVE_TOPOLOGY_POINT_LIST`,
    `VK_PRIMITIVE_TOPOLOGY_LINE_LIST`,
    `VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST`,
    `VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY`, or
    `VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY`,
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE` dynamic state enabled
    then [vkCmdSetPrimitiveRestartEnable](#vkCmdSetPrimitiveRestartEnable) **must** be `VK_FALSE`

* 
[](#VUID-vkCmdDrawIndexed-stage-06481) VUID-vkCmdDrawIndexed-stage-06481

The bound graphics pipeline **must** not have been created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of any element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_TASK_BIT_EXT` or `VK_SHADER_STAGE_MESH_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndexed-None-08885) VUID-vkCmdDrawIndexed-None-08885

There **must** be no shader object bound to either of the
`VK_SHADER_STAGE_TASK_BIT_EXT` or `VK_SHADER_STAGE_MESH_BIT_EXT`
stages

* 
[](#VUID-vkCmdDrawIndexed-None-07619) VUID-vkCmdDrawIndexed-None-07619

If
a shader object is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` stage or
a graphics pipeline is bound which was created with both a
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` stage and the
`VK_DYNAMIC_STATE_TESSELLATION_DOMAIN_ORIGIN_EXT` dynamic state
enabled, then [vkCmdSetTessellationDomainOriginEXT](tessellation.html#vkCmdSetTessellationDomainOriginEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawIndexed-None-07312) VUID-vkCmdDrawIndexed-None-07312

If the [`maintenance6`](features.html#features-maintenance6) feature is not
enabled, a
valid index buffer **must** be bound

* 
[](#VUID-vkCmdDrawIndexed-pNext-09461) VUID-vkCmdDrawIndexed-pNext-09461

If the bound graphics pipeline state was created with
[VkPipelineVertexInputDivisorStateCreateInfo](fxvertex.html#VkPipelineVertexInputDivisorStateCreateInfo) in the `pNext`
chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pVertexInputState`,
any member of
[VkPipelineVertexInputDivisorStateCreateInfo](fxvertex.html#VkPipelineVertexInputDivisorStateCreateInfo)::`pVertexBindingDivisors`
has a value other than `1` in `divisor`, and
[VkPhysicalDeviceVertexAttributeDivisorProperties](limits.html#VkPhysicalDeviceVertexAttributeDivisorProperties)::`supportsNonZeroFirstInstance`
is `VK_FALSE`, then `firstInstance` **must** be `0`

* 
[](#VUID-vkCmdDrawIndexed-None-09462) VUID-vkCmdDrawIndexed-None-09462

If
[shader objects](shaders.html#shaders-objects) are used for drawing or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled, any
member of the `pVertexBindingDescriptions` parameter to the
[vkCmdSetVertexInputEXT](fxvertex.html#vkCmdSetVertexInputEXT) call that sets this dynamic state has a
value other than `1` in `divisor`, and
[VkPhysicalDeviceVertexAttributeDivisorProperties](limits.html#VkPhysicalDeviceVertexAttributeDivisorProperties)::`supportsNonZeroFirstInstance`
is `VK_FALSE`, then `firstInstance` **must** be `0`

* 
[](#VUID-vkCmdDrawIndexed-robustBufferAccess2-08798) VUID-vkCmdDrawIndexed-robustBufferAccess2-08798

If the [`robustBufferAccess2`](features.html#features-robustBufferAccess2)
feature is not enabled, (`indexSize` × (`firstIndex`
+  `indexCount`) +  `offset`) **must** be less than or
equal to the size of the bound index buffer, with `indexSize` being
based on the type specified by `indexType`, where the index buffer,
`indexType`, and `offset` are specified via
`vkCmdBindIndexBuffer`
or `vkCmdBindIndexBuffer2`.
If `vkCmdBindIndexBuffer2` is used to bind the index buffer, the
size of the bound index buffer is
[vkCmdBindIndexBuffer2](#vkCmdBindIndexBuffer2)::`size`

Valid Usage (Implicit)

* 
[](#VUID-vkCmdDrawIndexed-commandBuffer-parameter) VUID-vkCmdDrawIndexed-commandBuffer-parameter

 `commandBuffer` **must** be a valid [VkCommandBuffer](cmdbuffers.html#VkCommandBuffer) handle

* 
[](#VUID-vkCmdDrawIndexed-commandBuffer-recording) VUID-vkCmdDrawIndexed-commandBuffer-recording

 `commandBuffer` **must** be in the [recording state](cmdbuffers.html#commandbuffers-lifecycle)

* 
[](#VUID-vkCmdDrawIndexed-commandBuffer-cmdpool) VUID-vkCmdDrawIndexed-commandBuffer-cmdpool

 The `VkCommandPool` that `commandBuffer` was allocated from **must** support graphics operations

* 
[](#VUID-vkCmdDrawIndexed-renderpass) VUID-vkCmdDrawIndexed-renderpass

 This command **must** only be called inside of a render pass instance

* 
[](#VUID-vkCmdDrawIndexed-videocoding) VUID-vkCmdDrawIndexed-videocoding

 This command **must** only be called outside of a video coding scope

Host Synchronization

* 
Host access to `commandBuffer` **must** be externally synchronized

* 
Host access to the `VkCommandPool` that `commandBuffer` was allocated from **must** be externally synchronized

Command Properties
| [Command Buffer Levels](cmdbuffers.html#VkCommandBufferLevel) | [Render Pass Scope](renderpass.html#vkCmdBeginRenderPass) | [Video Coding Scope](videocoding.html#vkCmdBeginVideoCodingKHR) | [Supported Queue Types](devsandqueues.html#VkQueueFlagBits) | [Command Type](fundamentals.html#fundamentals-queueoperation-command-types) |
| --- | --- | --- | --- | --- |
| Primary

Secondary | Inside | Outside | Graphics | Action |

To record an ordered sequence of draws which have no state changes between
them, call:

// Provided by VK_EXT_multi_draw
void vkCmdDrawMultiEXT(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    drawCount,
    const VkMultiDrawInfoEXT*                   pVertexInfo,
    uint32_t                                    instanceCount,
    uint32_t                                    firstInstance,
    uint32_t                                    stride);

* 
`commandBuffer` is the command buffer into which the command is
recorded.

* 
`drawCount` is the number of draws to execute, and **can** be zero.

* 
`pVertexInfo` is a pointer to an array of [VkMultiDrawInfoEXT](#VkMultiDrawInfoEXT)
with vertex information to be drawn.

* 
`instanceCount` is the number of instances per draw.

* 
`firstInstance` is the instance ID of the first instance in each
draw.

* 
`stride` is the byte stride between consecutive elements of
`pVertexInfo`.

The number of draws recorded is `drawCount`, with each draw reading,
sequentially, a `firstVertex` and a `vertexCount` from
`pVertexInfo`.
For each recorded draw, primitives are assembled as for [vkCmdDraw](#vkCmdDraw), and
drawn `instanceCount` times with `instanceIndex` starting with
`firstInstance` and sequentially for each instance.

Valid Usage

* 
[](#VUID-vkCmdDrawMultiEXT-magFilter-04553) VUID-vkCmdDrawMultiEXT-magFilter-04553

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawMultiEXT-magFilter-09598) VUID-vkCmdDrawMultiEXT-magFilter-09598

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR` and `reductionMode` equal to either
`VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawMultiEXT-mipmapMode-04770) VUID-vkCmdDrawMultiEXT-mipmapMode-04770

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawMultiEXT-mipmapMode-09599) VUID-vkCmdDrawMultiEXT-mipmapMode-09599

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR` and `reductionMode` equal to
either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawMultiEXT-unnormalizedCoordinates-09635) VUID-vkCmdDrawMultiEXT-unnormalizedCoordinates-09635

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `levelCount` and `layerCount`
**must** be 1

* 
[](#VUID-vkCmdDrawMultiEXT-None-08609) VUID-vkCmdDrawMultiEXT-None-08609

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `viewType` **must** be
`VK_IMAGE_VIEW_TYPE_1D` or `VK_IMAGE_VIEW_TYPE_2D`

* 
[](#VUID-vkCmdDrawMultiEXT-None-08610) VUID-vkCmdDrawMultiEXT-None-08610

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions with
`ImplicitLod`, `Dref` or `Proj` in their name

* 
[](#VUID-vkCmdDrawMultiEXT-None-08611) VUID-vkCmdDrawMultiEXT-None-08611

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions that includes a
LOD bias or any offset values

* 
[](#VUID-vkCmdDrawMultiEXT-None-06479) VUID-vkCmdDrawMultiEXT-None-06479

If a [VkImageView](resources.html#VkImageView) is sampled with
[depth comparison](textures.html#textures-depth-compare-operation), the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_SAMPLED_IMAGE_DEPTH_COMPARISON_BIT`

* 
[](#VUID-vkCmdDrawMultiEXT-None-02691) VUID-vkCmdDrawMultiEXT-None-02691

If a [VkImageView](resources.html#VkImageView) is accessed using atomic operations as a result
of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawMultiEXT-None-07888) VUID-vkCmdDrawMultiEXT-None-07888

If a `VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER` descriptor is
accessed using atomic operations as a result of this command, then the
storage texel buffer’s [format    features](resources.html#resources-buffer-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawMultiEXT-None-02692) VUID-vkCmdDrawMultiEXT-None-02692

If a [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_CUBIC_BIT_EXT`

* 
[](#VUID-vkCmdDrawMultiEXT-None-02693) VUID-vkCmdDrawMultiEXT-None-02693

If
the [VK_EXT_filter_cubic](../appendices/extensions.html#VK_EXT_filter_cubic) extension is not enabled and
any [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, it **must** not have a [VkImageViewType](resources.html#VkImageViewType) of
`VK_IMAGE_VIEW_TYPE_3D`, `VK_IMAGE_VIEW_TYPE_CUBE`, or
`VK_IMAGE_VIEW_TYPE_CUBE_ARRAY`

* 
[](#VUID-vkCmdDrawMultiEXT-filterCubic-02694) VUID-vkCmdDrawMultiEXT-filterCubic-02694

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command **must** have a [VkImageViewType](resources.html#VkImageViewType) and format
that supports cubic filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubic`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawMultiEXT-filterCubicMinmax-02695) VUID-vkCmdDrawMultiEXT-filterCubicMinmax-02695

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` with
a reduction mode of either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` as a result of this command **must**
have a [VkImageViewType](resources.html#VkImageViewType) and format that supports cubic filtering
together with minmax filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubicMinmax`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawMultiEXT-cubicRangeClamp-09212) VUID-vkCmdDrawMultiEXT-cubicRangeClamp-09212

If the [`cubicRangeClamp`](features.html#features-cubicRangeClamp) feature is
not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** not have a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM`

* 
[](#VUID-vkCmdDrawMultiEXT-reductionMode-09213) VUID-vkCmdDrawMultiEXT-reductionMode-09213

Any [VkImageView](resources.html#VkImageView) being sampled with a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM` as a
result of this command **must** sample with `VK_FILTER_CUBIC_EXT`

* 
[](#VUID-vkCmdDrawMultiEXT-selectableCubicWeights-09214) VUID-vkCmdDrawMultiEXT-selectableCubicWeights-09214

If the [`selectableCubicWeights`](features.html#features-selectableCubicWeights)
feature is not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** have
[VkSamplerCubicWeightsCreateInfoQCOM](samplers.html#VkSamplerCubicWeightsCreateInfoQCOM)::`cubicWeights` equal to
`VK_CUBIC_FILTER_WEIGHTS_CATMULL_ROM_QCOM`

* 
[](#VUID-vkCmdDrawMultiEXT-flags-02696) VUID-vkCmdDrawMultiEXT-flags-02696

Any [VkImage](resources.html#VkImage) created with a [VkImageCreateInfo](resources.html#VkImageCreateInfo)::`flags`
containing `VK_IMAGE_CREATE_CORNER_SAMPLED_BIT_NV` sampled as a
result of this command **must** only be sampled using a
[VkSamplerAddressMode](samplers.html#VkSamplerAddressMode) of
`VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE`

* 
[](#VUID-vkCmdDrawMultiEXT-OpTypeImage-07027) VUID-vkCmdDrawMultiEXT-OpTypeImage-07027

For any [VkImageView](resources.html#VkImageView) being written as a storage image where the
image format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMultiEXT-OpTypeImage-07028) VUID-vkCmdDrawMultiEXT-OpTypeImage-07028

For any [VkImageView](resources.html#VkImageView) being read as a storage image where the image
format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMultiEXT-OpTypeImage-07029) VUID-vkCmdDrawMultiEXT-OpTypeImage-07029

For any [VkBufferView](resources.html#VkBufferView) being written as a storage texel buffer where
the image format field of the `OpTypeImage` is `Unknown`, the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMultiEXT-OpTypeImage-07030) VUID-vkCmdDrawMultiEXT-OpTypeImage-07030

Any [VkBufferView](resources.html#VkBufferView) being read as a storage texel buffer where the
image format field of the `OpTypeImage` is `Unknown` then the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMultiEXT-None-08600) VUID-vkCmdDrawMultiEXT-None-08600

For each set *n* that is statically used by [a bound    shader](shaders.html#shaders-binding), a descriptor set **must** have been bound to *n* at the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for set *n*, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the current
[VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawMultiEXT-None-08601) VUID-vkCmdDrawMultiEXT-None-08601

For each push constant that is statically used by [a    bound shader](shaders.html#shaders-binding), a push constant value **must** have been set for the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the
current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawMultiEXT-None-10068) VUID-vkCmdDrawMultiEXT-None-10068

For each array of resources that is used by [a bound    shader](shaders.html#shaders-binding), the indices used to access members of the array **must** be less
than the descriptor count for the identified binding in the descriptor
sets used by this command

* 
[](#VUID-vkCmdDrawMultiEXT-maintenance4-08602) VUID-vkCmdDrawMultiEXT-maintenance4-08602

If the [`maintenance4`](features.html#features-maintenance4) feature is not
enabled, then for each push constant that is statically used by
[a bound shader](shaders.html#shaders-binding), a push constant value **must** have
been set for the same pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
that is compatible for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
used to create the current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) and [VkPushConstantRange](descriptorsets.html#VkPushConstantRange) arrays
used to create the current [VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawMultiEXT-None-08114) VUID-vkCmdDrawMultiEXT-None-08114

Descriptors in each bound descriptor set, specified via
[vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), **must** be valid as described by
[descriptor validity](descriptorsets.html#descriptor-validity) if they are statically used
by
the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind point used by this
command and the bound [VkPipeline](pipelines.html#VkPipeline) was not created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMultiEXT-None-08115) VUID-vkCmdDrawMultiEXT-None-08115

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), the bound
[VkPipeline](pipelines.html#VkPipeline) **must** have been created without
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMultiEXT-None-08116) VUID-vkCmdDrawMultiEXT-None-08116

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind
point used by this command and the bound [VkPipeline](pipelines.html#VkPipeline) was created
with `VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMultiEXT-None-08604) VUID-vkCmdDrawMultiEXT-None-08604

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command

* 
[](#VUID-vkCmdDrawMultiEXT-None-08117) VUID-vkCmdDrawMultiEXT-None-08117

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT),
the bound [VkPipeline](pipelines.html#VkPipeline) **must** have been created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMultiEXT-None-08119) VUID-vkCmdDrawMultiEXT-None-08119

If a descriptor is dynamically used with a [VkPipeline](pipelines.html#VkPipeline) created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the descriptor
memory **must** be resident

* 
[](#VUID-vkCmdDrawMultiEXT-None-08605) VUID-vkCmdDrawMultiEXT-None-08605

If a descriptor is dynamically used with a [VkShaderEXT](shaders.html#VkShaderEXT) created
with a `VkDescriptorSetLayout` that was created with
`VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the
descriptor memory **must** be resident

* 
[](#VUID-vkCmdDrawMultiEXT-None-08606) VUID-vkCmdDrawMultiEXT-None-08606

If the [`shaderObject`](features.html#features-shaderObject) feature is not
enabled, a
valid pipeline **must** be bound to the pipeline bind point used by this
command

* 
[](#VUID-vkCmdDrawMultiEXT-None-08608) VUID-vkCmdDrawMultiEXT-None-08608

If a pipeline is bound to the pipeline bind point used by this command,
there
**must** not have been any calls to dynamic state setting commands for any
state specified statically in the [VkPipeline](pipelines.html#VkPipeline) object bound to the
pipeline bind point used by this command, since that pipeline was bound

* 
[](#VUID-vkCmdDrawMultiEXT-uniformBuffers-06935) VUID-vkCmdDrawMultiEXT-uniformBuffers-06935

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a uniform buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`uniformBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawMultiEXT-None-08612) VUID-vkCmdDrawMultiEXT-None-08612

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a uniform
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawMultiEXT-storageBuffers-06936) VUID-vkCmdDrawMultiEXT-storageBuffers-06936

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a storage buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`storageBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawMultiEXT-None-08613) VUID-vkCmdDrawMultiEXT-None-08613

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a storage
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawMultiEXT-commandBuffer-02707) VUID-vkCmdDrawMultiEXT-commandBuffer-02707

If `commandBuffer` is an unprotected command buffer and
[`protectedNoFault`](devsandqueues.html#limits-protectedNoFault) is not supported,
any resource accessed by [bound shaders](shaders.html#shaders-binding) **must** not be
a protected resource

* 
[](#VUID-vkCmdDrawMultiEXT-viewType-07752) VUID-vkCmdDrawMultiEXT-viewType-07752

If a [VkImageView](resources.html#VkImageView) is accessed as a result of this command, then the
image view’s `viewType` **must** match the `Dim` operand of the
`OpTypeImage` as described in [Compatibility Between SPIR-V Image Dimensions and Vulkan ImageView Types](../appendices/spirvenv.html#spirvenv-image-dimensions)

* 
[](#VUID-vkCmdDrawMultiEXT-format-07753) VUID-vkCmdDrawMultiEXT-format-07753

If a [VkImageView](resources.html#VkImageView) or [VkBufferView](resources.html#VkBufferView) is accessed as a result of
this command, then the [numeric type](formats.html#formats-numericformat) of the
view’s `format` and the `Sampled` `Type` operand of the
`OpTypeImage` **must** match

* 
[](#VUID-vkCmdDrawMultiEXT-OpImageWrite-08795) VUID-vkCmdDrawMultiEXT-OpImageWrite-08795

If a [VkImageView](resources.html#VkImageView)
created with a format other than `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
at least as many components as the image view’s format

* 
[](#VUID-vkCmdDrawMultiEXT-OpImageWrite-08796) VUID-vkCmdDrawMultiEXT-OpImageWrite-08796

If a [VkImageView](resources.html#VkImageView) created with the format `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
four components

* 
[](#VUID-vkCmdDrawMultiEXT-OpImageWrite-04469) VUID-vkCmdDrawMultiEXT-OpImageWrite-04469

If a [VkBufferView](resources.html#VkBufferView) is accessed using `OpImageWrite` as a result
of this command, then the `Type` of the `Texel` operand of that
instruction **must** have at least as many components as the buffer view’s
format

* 
[](#VUID-vkCmdDrawMultiEXT-SampledType-04470) VUID-vkCmdDrawMultiEXT-SampledType-04470

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit component
width is accessed as a result of this command, the `SampledType` of
the `OpTypeImage` operand of that instruction **must** have a `Width`
of 64

* 
[](#VUID-vkCmdDrawMultiEXT-SampledType-04471) VUID-vkCmdDrawMultiEXT-SampledType-04471

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawMultiEXT-SampledType-04472) VUID-vkCmdDrawMultiEXT-SampledType-04472

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit
component width is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 64

* 
[](#VUID-vkCmdDrawMultiEXT-SampledType-04473) VUID-vkCmdDrawMultiEXT-SampledType-04473

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawMultiEXT-sparseImageInt64Atomics-04474) VUID-vkCmdDrawMultiEXT-sparseImageInt64Atomics-04474

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkImage](resources.html#VkImage)
objects created with the `VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT` flag
**must** not be accessed by atomic instructions through an `OpTypeImage`
with a `SampledType` with a `Width` of 64 by this command

* 
[](#VUID-vkCmdDrawMultiEXT-sparseImageInt64Atomics-04475) VUID-vkCmdDrawMultiEXT-sparseImageInt64Atomics-04475

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkBuffer](resources.html#VkBuffer)
objects created with the `VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT`
flag **must** not be accessed by atomic instructions through an
`OpTypeImage` with a `SampledType` with a `Width` of 64 by this
command

* 
[](#VUID-vkCmdDrawMultiEXT-OpImageWeightedSampleQCOM-06971) VUID-vkCmdDrawMultiEXT-OpImageWeightedSampleQCOM-06971

If `OpImageWeightedSampleQCOM` is used to sample a [VkImageView](resources.html#VkImageView)
as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_SAMPLED_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMultiEXT-OpImageWeightedSampleQCOM-06972) VUID-vkCmdDrawMultiEXT-OpImageWeightedSampleQCOM-06972

If `OpImageWeightedSampleQCOM` uses a [VkImageView](resources.html#VkImageView) as a sample
weight image as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMultiEXT-OpImageBoxFilterQCOM-06973) VUID-vkCmdDrawMultiEXT-OpImageBoxFilterQCOM-06973

If `OpImageBoxFilterQCOM` is used to sample a [VkImageView](resources.html#VkImageView) as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BOX_FILTER_SAMPLED_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMultiEXT-OpImageBlockMatchSSDQCOM-06974) VUID-vkCmdDrawMultiEXT-OpImageBlockMatchSSDQCOM-06974

If `OpImageBlockMatchSSDQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMultiEXT-OpImageBlockMatchSADQCOM-06975) VUID-vkCmdDrawMultiEXT-OpImageBlockMatchSADQCOM-06975

If `OpImageBlockMatchSADQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMultiEXT-OpImageBlockMatchSADQCOM-06976) VUID-vkCmdDrawMultiEXT-OpImageBlockMatchSADQCOM-06976

If `OpImageBlockMatchSADQCOM` or OpImageBlockMatchSSDQCOM is used to
read from a reference image as result of this command, then the
specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawMultiEXT-OpImageWeightedSampleQCOM-06977) VUID-vkCmdDrawMultiEXT-OpImageWeightedSampleQCOM-06977

If `OpImageWeightedSampleQCOM`, `OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** have
been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMultiEXT-OpImageWeightedSampleQCOM-06978) VUID-vkCmdDrawMultiEXT-OpImageWeightedSampleQCOM-06978

If any command other than `OpImageWeightedSampleQCOM`,
`OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** not
have been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMultiEXT-OpImageBlockMatchWindow-09215) VUID-vkCmdDrawMultiEXT-OpImageBlockMatchWindow-09215

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMultiEXT-OpImageBlockMatchWindow-09216) VUID-vkCmdDrawMultiEXT-OpImageBlockMatchWindow-09216

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
format **must** be a single-component format

* 
[](#VUID-vkCmdDrawMultiEXT-OpImageBlockMatchWindow-09217) VUID-vkCmdDrawMultiEXT-OpImageBlockMatchWindow-09217

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` read from a reference image as result
of this command, then the specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawMultiEXT-None-07288) VUID-vkCmdDrawMultiEXT-None-07288

Any shader invocation executed by this command **must**
[terminate](shaders.html#shaders-termination)

* 
[](#VUID-vkCmdDrawMultiEXT-None-09600) VUID-vkCmdDrawMultiEXT-None-09600

If a descriptor with type equal to any of
`VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE`,
`VK_DESCRIPTOR_TYPE_STORAGE_IMAGE`, or
`VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT` is accessed as a result of
this command, all image subresources identified by that descriptor **must**
be in the image layout identified when the descriptor was written

* 
[](#VUID-vkCmdDrawMultiEXT-commandBuffer-10746) VUID-vkCmdDrawMultiEXT-commandBuffer-10746

The `VkDeviceMemory` object allocated from a `VkMemoryHeap` with
the `VK_MEMORY_HEAP_TILE_MEMORY_BIT_QCOM` property that is bound to
a resource accessed as a result of this command **must** be the active
bound [bound tile memory object](memory.html#memory-bind-tile-memory) in
`commandBuffer`

* 
[](#VUID-vkCmdDrawMultiEXT-None-10678) VUID-vkCmdDrawMultiEXT-None-10678

If this command is recorded inside a [tile    shading render pass](renderpass.html#renderpass-tile-shading) instance, the stages corresponding to the pipeline
bind point used by this command **must** only include
`VK_SHADER_STAGE_VERTEX_BIT`, `VK_SHADER_STAGE_FRAGMENT_BIT`,
and/or `VK_SHADER_STAGE_COMPUTE_BIT`

* 
[](#VUID-vkCmdDrawMultiEXT-None-10679) VUID-vkCmdDrawMultiEXT-None-10679

If this command is recorded where
[per-tile execution model](renderpass.html#renderpass-per-tile-execution-model) is
enabled, there **must** be no access to any image while the image was be
transitioned to the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` layout

* 
[](#VUID-vkCmdDrawMultiEXT-renderPass-02684) VUID-vkCmdDrawMultiEXT-renderPass-02684

The current render pass **must** be [compatible](renderpass.html#renderpass-compatibility)
with the `renderPass` member of the
`VkGraphicsPipelineCreateInfo` structure specified when creating the
`VkPipeline` bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawMultiEXT-subpass-02685) VUID-vkCmdDrawMultiEXT-subpass-02685

The subpass index of the current render pass **must** be equal to the
`subpass` member of the `VkGraphicsPipelineCreateInfo` structure
specified when creating the `VkPipeline` bound to
`VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawMultiEXT-None-07748) VUID-vkCmdDrawMultiEXT-None-07748

If any shader statically accesses an input attachment, a valid
descriptor **must** be bound to the pipeline via a descriptor set

* 
[](#VUID-vkCmdDrawMultiEXT-OpTypeImage-07468) VUID-vkCmdDrawMultiEXT-OpTypeImage-07468

If any shader executed by this pipeline accesses an `OpTypeImage`
variable with a `Dim` operand of `SubpassData`, it **must** be
decorated with an `InputAttachmentIndex` that corresponds to a valid
input attachment in the current subpass

* 
[](#VUID-vkCmdDrawMultiEXT-None-07469) VUID-vkCmdDrawMultiEXT-None-07469

Input attachment views accessed in a subpass **must** be created with the
same [VkFormat](formats.html#VkFormat) as the corresponding subpass definition, and be
created with a [VkImageView](resources.html#VkImageView) that is compatible with the attachment
referenced by the subpass'
`pInputAttachments`[`InputAttachmentIndex`] in the bound
[VkFramebuffer](renderpass.html#VkFramebuffer) as specified by
[Fragment Input Attachment    Compatibility](interfaces.html#compatibility-inputattachment)

* 
[](#VUID-vkCmdDrawMultiEXT-pDepthInputAttachmentIndex-09595) VUID-vkCmdDrawMultiEXT-pDepthInputAttachmentIndex-09595

Input attachment views accessed in a dynamic render pass with a
`InputAttachmentIndex` referenced by
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo), or no
`InputAttachmentIndex` if
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
or
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are `NULL`, **must** be created with a [VkImageView](resources.html#VkImageView) that is compatible
with the corresponding color, depth, or stencil attachment in
[VkRenderingInfo](renderpass.html#VkRenderingInfo)

* 
[](#VUID-vkCmdDrawMultiEXT-pDepthInputAttachmentIndex-09596) VUID-vkCmdDrawMultiEXT-pDepthInputAttachmentIndex-09596

Input attachment views accessed in a dynamic render pass via a shader
object **must** have an `InputAttachmentIndex` if both
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
and
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are non-`NULL`

* 
[](#VUID-vkCmdDrawMultiEXT-InputAttachmentIndex-09597) VUID-vkCmdDrawMultiEXT-InputAttachmentIndex-09597

If an input attachment view accessed in a dynamic render pass via a
shader object has an `InputAttachmentIndex`, the
`InputAttachmentIndex` **must** match an index in
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

* 
[](#VUID-vkCmdDrawMultiEXT-None-06537) VUID-vkCmdDrawMultiEXT-None-06537

Memory backing image subresources used as attachments in the current
render pass **must** not be written in any way other than as an attachment
by this command

* 
[](#VUID-vkCmdDrawMultiEXT-None-09000) VUID-vkCmdDrawMultiEXT-None-09000

If a color attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

the `VK_PIPELINE_CREATE_COLOR_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT` is
set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_COLOR_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawMultiEXT-None-09001) VUID-vkCmdDrawMultiEXT-None-09001

If a depth attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_DEPTH_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawMultiEXT-None-09002) VUID-vkCmdDrawMultiEXT-None-09002

If a stencil attachment is written by any prior command in this subpass
or by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_STENCIL_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawMultiEXT-None-09003) VUID-vkCmdDrawMultiEXT-None-09003

If an attachment is written by any prior command in this subpass or by
the load, store, or resolve operations for this subpass, it **must** not be
accessed in any way other than as an attachment, storage image, or
sampled image by this command

[](#VUID-vkCmdDrawMultiEXT-None-06539) VUID-vkCmdDrawMultiEXT-None-06539

If any previously recorded command in the current subpass accessed an
image subresource used as an attachment in this subpass in any way other
than as an attachment, this command **must** not write to that image
subresource as an attachment

[](#VUID-vkCmdDrawMultiEXT-None-06886) VUID-vkCmdDrawMultiEXT-None-06886

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the depth aspect, [depth    writes](fragops.html#fragops-depth-write) **must** be disabled

[](#VUID-vkCmdDrawMultiEXT-None-06887) VUID-vkCmdDrawMultiEXT-None-06887

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the stencil aspect, both front and back
`writeMask` are not zero, and stencil test is enabled,
[all stencil ops](fragops.html#fragops-stencil) **must** be `VK_STENCIL_OP_KEEP`

[](#VUID-vkCmdDrawMultiEXT-None-07831) VUID-vkCmdDrawMultiEXT-None-07831

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT` dynamic state enabled then
[vkCmdSetViewport](vertexpostproc.html#vkCmdSetViewport) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07832) VUID-vkCmdDrawMultiEXT-None-07832

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SCISSOR` dynamic state enabled then
[vkCmdSetScissor](fragops.html#vkCmdSetScissor) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07833) VUID-vkCmdDrawMultiEXT-None-07833

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_WIDTH` dynamic state enabled then
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-08617) VUID-vkCmdDrawMultiEXT-None-08617

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command
buffer set `polygonMode` to `VK_POLYGON_MODE_LINE`,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-08618) VUID-vkCmdDrawMultiEXT-None-08618

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-08619) VUID-vkCmdDrawMultiEXT-None-08619

If a shader object that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, [vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawMultiEXT-None-07834) VUID-vkCmdDrawMultiEXT-None-07834

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthBiasEnable`
is `VK_TRUE`, then [vkCmdSetDepthBias](primsrast.html#vkCmdSetDepthBias)
or [vkCmdSetDepthBias2EXT](primsrast.html#vkCmdSetDepthBias2EXT)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawMultiEXT-None-07835) VUID-vkCmdDrawMultiEXT-None-07835

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_BLEND_CONSTANTS` dynamic state enabled then
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-08621) VUID-vkCmdDrawMultiEXT-None-08621

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) in the current command buffer set any
element of `pColorBlendEnables` to `VK_TRUE`, and the most
recent call to [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) in the current
command buffer set the same element of `pColorBlendEquations` to a
`VkColorBlendEquationEXT` structure with any [VkBlendFactor](framebuffer.html#VkBlendFactor)
member with a value of `VK_BLEND_FACTOR_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_CONSTANT_ALPHA`, or
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_ALPHA`,
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07836) VUID-vkCmdDrawMultiEXT-None-07836

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`depthBoundsTestEnable` is `VK_TRUE`, then
[vkCmdSetDepthBounds](fragops.html#vkCmdSetDepthBounds) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07837) VUID-vkCmdDrawMultiEXT-None-07837

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilCompareMask](fragops.html#vkCmdSetStencilCompareMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07838) VUID-vkCmdDrawMultiEXT-None-07838

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07839) VUID-vkCmdDrawMultiEXT-None-07839

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_REFERENCE` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of and
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilReference](fragops.html#vkCmdSetStencilReference) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-maxMultiviewInstanceIndex-02688) VUID-vkCmdDrawMultiEXT-maxMultiviewInstanceIndex-02688

If the draw is recorded in a render pass instance with multiview
enabled, the maximum instance index **must** be less than or equal to
[VkPhysicalDeviceMultiviewProperties](limits.html#VkPhysicalDeviceMultiviewProperties)::`maxMultiviewInstanceIndex`

[](#VUID-vkCmdDrawMultiEXT-sampleLocationsEnable-02689) VUID-vkCmdDrawMultiEXT-sampleLocationsEnable-02689

If the bound graphics pipeline was created with
[VkPipelineSampleLocationsStateCreateInfoEXT](primsrast.html#VkPipelineSampleLocationsStateCreateInfoEXT)::`sampleLocationsEnable`
set to `VK_TRUE` and the current subpass has a depth/stencil
attachment, then that attachment **must** have been created with the
`VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT` bit set

[](#VUID-vkCmdDrawMultiEXT-None-07634) VUID-vkCmdDrawMultiEXT-None-07634

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-06666) VUID-vkCmdDrawMultiEXT-None-06666

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
[vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07840) VUID-vkCmdDrawMultiEXT-None-07840

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CULL_MODE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCullMode](primsrast.html#vkCmdSetCullMode) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07841) VUID-vkCmdDrawMultiEXT-None-07841

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRONT_FACE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFrontFace](primsrast.html#vkCmdSetFrontFace) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07843) VUID-vkCmdDrawMultiEXT-None-07843

 If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`,
[vkCmdSetDepthTestEnable](fragops.html#vkCmdSetDepthTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07844) VUID-vkCmdDrawMultiEXT-None-07844

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07845) VUID-vkCmdDrawMultiEXT-None-07845

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_COMPARE_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthCompareOp](fragops.html#vkCmdSetDepthCompareOp) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07846) VUID-vkCmdDrawMultiEXT-None-07846

If the [`depthBounds`](features.html#features-depthBounds) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBoundsTestEnable](fragops.html#vkCmdSetDepthBoundsTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07847) VUID-vkCmdDrawMultiEXT-None-07847

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetStencilTestEnable](fragops.html#vkCmdSetStencilTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07848) VUID-vkCmdDrawMultiEXT-None-07848

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then [vkCmdSetStencilOp](fragops.html#vkCmdSetStencilOp)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawMultiEXT-viewportCount-03417) VUID-vkCmdDrawMultiEXT-viewportCount-03417

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-scissorCount-03418) VUID-vkCmdDrawMultiEXT-scissorCount-03418

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetScissorWithCount](vertexpostproc.html#vkCmdSetScissorWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing

[](#VUID-vkCmdDrawMultiEXT-viewportCount-03419) VUID-vkCmdDrawMultiEXT-viewportCount-03419

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with both the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic states enabled,
and the state is not inherited,
then the `viewportCount` parameter of
`vkCmdSetViewportWithCount` **must** match the `scissorCount`
parameter of `vkCmdSetScissorWithCount`

[](#VUID-vkCmdDrawMultiEXT-viewportCount-04137) VUID-vkCmdDrawMultiEXT-viewportCount-04137

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportWScalingStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportWScalingStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMultiEXT-viewportCount-04138) VUID-vkCmdDrawMultiEXT-viewportCount-04138

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-08636) VUID-vkCmdDrawMultiEXT-None-08636

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMultiEXT-viewportCount-04139) VUID-vkCmdDrawMultiEXT-viewportCount-04139

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic
state enabled, then the bound graphics pipeline **must** have been created
with
[VkPipelineViewportShadingRateImageStateCreateInfoNV](primsrast.html#VkPipelineViewportShadingRateImageStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMultiEXT-shadingRateImage-09233) VUID-vkCmdDrawMultiEXT-shadingRateImage-09233

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_COARSE_SAMPLE_ORDER_NV` and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoarseSampleOrderNV](primsrast.html#vkCmdSetCoarseSampleOrderNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-shadingRateImage-09234) VUID-vkCmdDrawMultiEXT-shadingRateImage-09234

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-08637) VUID-vkCmdDrawMultiEXT-None-08637

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** be greater than or
equal to the `viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMultiEXT-VkPipelineVieportCreateInfo-04141) VUID-vkCmdDrawMultiEXT-VkPipelineVieportCreateInfo-04141

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV) structure chained from
[VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound graphics
pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMultiEXT-VkPipelineVieportCreateInfo-04142) VUID-vkCmdDrawMultiEXT-VkPipelineVieportCreateInfo-04142

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV) structure
chained from [VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound
graphics pipeline **must** have been created with
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV)::`exclusiveScissorCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMultiEXT-None-07878) VUID-vkCmdDrawMultiEXT-None-07878

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_ENABLE_NV` dynamic state
enabled, then [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07879) VUID-vkCmdDrawMultiEXT-None-07879

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_NV` dynamic state enabled, and
the most recent call to [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) in the
current command buffer set any element of `pExclusiveScissorEnables`
to `VK_TRUE`, then [vkCmdSetExclusiveScissorNV](fragops.html#vkCmdSetExclusiveScissorNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-04876) VUID-vkCmdDrawMultiEXT-None-04876

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE` dynamic state enabled,
then [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-04877) VUID-vkCmdDrawMultiEXT-None-04877

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBiasEnable](primsrast.html#vkCmdSetDepthBiasEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-logicOp-04878) VUID-vkCmdDrawMultiEXT-logicOp-04878

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `logicOpEnable` is
`VK_TRUE`, then [vkCmdSetLogicOpEXT](framebuffer.html#vkCmdSetLogicOpEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-primitiveFragmentShadingRateWithMultipleViewports-04552) VUID-vkCmdDrawMultiEXT-primitiveFragmentShadingRateWithMultipleViewports-04552

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, and
any of the shader stages of the bound graphics pipeline write to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawMultiEXT-primitiveFragmentShadingRateWithMultipleViewports-08642) VUID-vkCmdDrawMultiEXT-primitiveFragmentShadingRateWithMultipleViewports-08642

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, and any shader object bound to a graphics stage writes to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawMultiEXT-blendEnable-04727) VUID-vkCmdDrawMultiEXT-blendEnable-04727

If rasterization is not disabled in the bound graphics pipeline, then
for each color attachment in the subpass, if the corresponding image
view’s [format features](resources.html#resources-image-view-format-features) do not
contain `VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
`blendEnable` member of the corresponding element of the
`pAttachments` member of `pColorBlendState` **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawMultiEXT-None-08643) VUID-vkCmdDrawMultiEXT-None-08643

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then for each color attachment in the render pass, if
the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) do not contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
corresponding member of `pColorBlendEnables` in the most recent call
to `vkCmdSetColorBlendEnableEXT` in the current command buffer that
affected that attachment index **must** have been `VK_FALSE`

[](#VUID-vkCmdDrawMultiEXT-multisampledRenderToSingleSampled-07284) VUID-vkCmdDrawMultiEXT-multisampledRenderToSingleSampled-07284

If rasterization is not disabled in the bound graphics pipeline,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then `rasterizationSamples` for the bound graphics pipeline **must** be the
same as the current subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawMultiEXT-None-08644) VUID-vkCmdDrawMultiEXT-None-08644

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then the most recent call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) in the
current command buffer **must** have set `rasterizationSamples` to be the
same as the number of samples for the current render pass color and/or
depth/stencil attachments

[](#VUID-vkCmdDrawMultiEXT-None-08876) VUID-vkCmdDrawMultiEXT-None-08876

If a shader object is bound to any graphics stage, the current render
pass instance **must** have been begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)

[](#VUID-vkCmdDrawMultiEXT-imageView-06172) VUID-vkCmdDrawMultiEXT-imageView-06172

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the depth attachment

[](#VUID-vkCmdDrawMultiEXT-imageView-06173) VUID-vkCmdDrawMultiEXT-imageView-06173

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawMultiEXT-imageView-06174) VUID-vkCmdDrawMultiEXT-imageView-06174

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL`, this
command **must** not write any values to the depth attachment

[](#VUID-vkCmdDrawMultiEXT-imageView-06175) VUID-vkCmdDrawMultiEXT-imageView-06175

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL`, this
command **must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawMultiEXT-imageView-06176) VUID-vkCmdDrawMultiEXT-imageView-06176

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the depth attachment

[](#VUID-vkCmdDrawMultiEXT-imageView-06177) VUID-vkCmdDrawMultiEXT-imageView-06177

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the stencil attachment

[](#VUID-vkCmdDrawMultiEXT-viewMask-06178) VUID-vkCmdDrawMultiEXT-viewMask-06178

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a [VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`viewMask` equal
to [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`viewMask`

[](#VUID-vkCmdDrawMultiEXT-colorAttachmentCount-06179) VUID-vkCmdDrawMultiEXT-colorAttachmentCount-06179

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`colorAttachmentCount` equal to
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount`

[](#VUID-vkCmdDrawMultiEXT-dynamicRenderingUnusedAttachments-08910) VUID-vkCmdDrawMultiEXT-dynamicRenderingUnusedAttachments-08910

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have
been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline

[](#VUID-vkCmdDrawMultiEXT-dynamicRenderingUnusedAttachments-08912) VUID-vkCmdDrawMultiEXT-dynamicRenderingUnusedAttachments-08912

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have the
corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound pipeline equal to `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMultiEXT-dynamicRenderingUnusedAttachments-08911) VUID-vkCmdDrawMultiEXT-dynamicRenderingUnusedAttachments-08911

If the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled, and the
current render pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`,
then each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments`
array with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must**
have been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding
element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline, or the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats`, if
it exists, **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMultiEXT-colorAttachmentCount-09362) VUID-vkCmdDrawMultiEXT-colorAttachmentCount-09362

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`,
there is no shader object bound to any graphics stage,
and a color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`resolveImageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawMultiEXT-None-09363) VUID-vkCmdDrawMultiEXT-None-09363

If
there is no shader object bound to any graphics stage,
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, and a
color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawMultiEXT-None-09364) VUID-vkCmdDrawMultiEXT-None-09364

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set the blend enable
to `VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-09365) VUID-vkCmdDrawMultiEXT-None-09365

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawMultiEXT-None-09366) VUID-vkCmdDrawMultiEXT-None-09366

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set blend enable to
`VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-rasterizationSamples-09367) VUID-vkCmdDrawMultiEXT-rasterizationSamples-09367

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawMultiEXT-None-09368) VUID-vkCmdDrawMultiEXT-None-09368

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-09369) VUID-vkCmdDrawMultiEXT-None-09369

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-pFragmentSize-09370) VUID-vkCmdDrawMultiEXT-pFragmentSize-09370

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-pFragmentSize-09371) VUID-vkCmdDrawMultiEXT-pFragmentSize-09371

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07749) VUID-vkCmdDrawMultiEXT-None-07749

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-08646) VUID-vkCmdDrawMultiEXT-None-08646

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-attachmentCount-07750) VUID-vkCmdDrawMultiEXT-attachmentCount-07750

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
the `attachmentCount` parameter of `vkCmdSetColorWriteEnableEXT`
**must** be greater than or equal to the
`VkPipelineColorBlendStateCreateInfo`::`attachmentCount` of the
bound graphics pipeline

[](#VUID-vkCmdDrawMultiEXT-None-08647) VUID-vkCmdDrawMultiEXT-None-08647

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then the
`attachmentCount` parameter of most recent call to
`vkCmdSetColorWriteEnableEXT` in the current command buffer **must** be
greater than or equal to the number of color attachments in the current
render pass instance

[](#VUID-vkCmdDrawMultiEXT-None-07751) VUID-vkCmdDrawMultiEXT-None-07751

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled, a
graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) included a
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT)::`discardRectangleCount`

[](#VUID-vkCmdDrawMultiEXT-rasterizerDiscardEnable-09236) VUID-vkCmdDrawMultiEXT-rasterizerDiscardEnable-09236

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) did not
include a [VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPhysicalDeviceDiscardRectanglePropertiesEXT](limits.html#VkPhysicalDeviceDiscardRectanglePropertiesEXT)::`maxDiscardRectangles`

[](#VUID-vkCmdDrawMultiEXT-None-07880) VUID-vkCmdDrawMultiEXT-None-07880

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_ENABLE_EXT` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDiscardRectangleEnableEXT](fragops.html#vkCmdSetDiscardRectangleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07881) VUID-vkCmdDrawMultiEXT-None-07881

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_MODE_EXT` dynamic state enabled,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleModeEXT](fragops.html#vkCmdSetDiscardRectangleModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-dynamicRenderingUnusedAttachments-08913) VUID-vkCmdDrawMultiEXT-dynamicRenderingUnusedAttachments-08913

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMultiEXT-dynamicRenderingUnusedAttachments-08914) VUID-vkCmdDrawMultiEXT-dynamicRenderingUnusedAttachments-08914

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawMultiEXT-dynamicRenderingUnusedAttachments-08915) VUID-vkCmdDrawMultiEXT-dynamicRenderingUnusedAttachments-08915

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline was not equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`,
the value of the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMultiEXT-dynamicRenderingUnusedAttachments-08916) VUID-vkCmdDrawMultiEXT-dynamicRenderingUnusedAttachments-08916

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMultiEXT-dynamicRenderingUnusedAttachments-08917) VUID-vkCmdDrawMultiEXT-dynamicRenderingUnusedAttachments-08917

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawMultiEXT-dynamicRenderingUnusedAttachments-08918) VUID-vkCmdDrawMultiEXT-dynamicRenderingUnusedAttachments-08918

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline was not equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`, the value of
the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMultiEXT-imageView-06183) VUID-vkCmdDrawMultiEXT-imageView-06183

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentShadingRateAttachmentInfoKHR](renderpass.html#VkRenderingFragmentShadingRateAttachmentInfoKHR)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR`

[](#VUID-vkCmdDrawMultiEXT-imageView-06184) VUID-vkCmdDrawMultiEXT-imageView-06184

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentDensityMapAttachmentInfoEXT](renderpass.html#VkRenderingFragmentDensityMapAttachmentInfoEXT)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT`

[](#VUID-vkCmdDrawMultiEXT-colorAttachmentCount-06185) VUID-vkCmdDrawMultiEXT-colorAttachmentCount-06185

If the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and the current render
pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
`0`, then each element of the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with a sample count equal to the corresponding element of the
`pColorAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline

[](#VUID-vkCmdDrawMultiEXT-pDepthAttachment-06186) VUID-vkCmdDrawMultiEXT-pDepthAttachment-06186

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawMultiEXT-pStencilAttachment-06187) VUID-vkCmdDrawMultiEXT-pStencilAttachment-06187

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawMultiEXT-multisampledRenderToSingleSampled-07285) VUID-vkCmdDrawMultiEXT-multisampledRenderToSingleSampled-07285

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    the current render pass instance was begun with
    [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
    `0`, then each element of the
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
    `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
    created with a sample count equal to the value of
    `rasterizationSamples` for the bound graphics pipeline

[](#VUID-vkCmdDrawMultiEXT-multisampledRenderToSingleSampled-07286) VUID-vkCmdDrawMultiEXT-multisampledRenderToSingleSampled-07286

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawMultiEXT-multisampledRenderToSingleSampled-07287) VUID-vkCmdDrawMultiEXT-multisampledRenderToSingleSampled-07287

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawMultiEXT-pNext-07935) VUID-vkCmdDrawMultiEXT-pNext-07935

If this command has been called inside a render pass instance started
with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), and the `pNext` chain of
[VkRenderingInfo](renderpass.html#VkRenderingInfo) includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the value of `rasterizationSamples` for the bound graphics
pipeline **must** be equal to
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT)::`rasterizationSamples`

[](#VUID-vkCmdDrawMultiEXT-renderPass-06198) VUID-vkCmdDrawMultiEXT-renderPass-06198

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline **must** have been created
with a [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`renderPass` equal to
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

[](#VUID-vkCmdDrawMultiEXT-pColorAttachments-08963) VUID-vkCmdDrawMultiEXT-pColorAttachments-08963

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound with a
fragment shader that statically writes to a color attachment, the color
write mask is not zero, color writes are enabled, and the corresponding
element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments->imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMultiEXT-pDepthAttachment-08964) VUID-vkCmdDrawMultiEXT-pDepthAttachment-08964

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, depth
test is enabled, depth write is enabled, and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMultiEXT-pStencilAttachment-08965) VUID-vkCmdDrawMultiEXT-pStencilAttachment-08965

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, stencil
test is enabled and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMultiEXT-flags-10582) VUID-vkCmdDrawMultiEXT-flags-10582

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), its [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`flags`
parameter **must** not have
`VK_RENDERING_CONTENTS_SECONDARY_COMMAND_BUFFERS_BIT` set
unless `VK_RENDERING_CONTENTS_INLINE_BIT_KHR` is also set

[](#VUID-vkCmdDrawMultiEXT-primitivesGeneratedQueryWithRasterizerDiscard-06708) VUID-vkCmdDrawMultiEXT-primitivesGeneratedQueryWithRasterizerDiscard-06708

If the [    `primitivesGeneratedQueryWithRasterizerDiscard`](features.html#features-primitivesGeneratedQueryWithRasterizerDiscard) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, [rasterization discard](primsrast.html#primsrast-discard) **must** not be enabled

[](#VUID-vkCmdDrawMultiEXT-primitivesGeneratedQueryWithNonZeroStreams-06709) VUID-vkCmdDrawMultiEXT-primitivesGeneratedQueryWithNonZeroStreams-06709

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, the bound graphics pipeline **must** not have been created with a
non-zero value in
`VkPipelineRasterizationStateStreamCreateInfoEXT`::`rasterizationStream`

[](#VUID-vkCmdDrawMultiEXT-None-07620) VUID-vkCmdDrawMultiEXT-None-07620

If the [`depthClamp`](features.html#features-depthClamp) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthClampEnableEXT](vertexpostproc.html#vkCmdSetDepthClampEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07621) VUID-vkCmdDrawMultiEXT-None-07621

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_POLYGON_MODE_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07622) VUID-vkCmdDrawMultiEXT-None-07622

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07623) VUID-vkCmdDrawMultiEXT-None-07623

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-alphaToCoverageEnable-08919) VUID-vkCmdDrawMultiEXT-alphaToCoverageEnable-08919

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and `alphaToCoverageEnable` was `VK_TRUE` in the last
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT), then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawMultiEXT-alphaToCoverageEnable-08920) VUID-vkCmdDrawMultiEXT-alphaToCoverageEnable-08920

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) in the current command
buffer set `alphaToCoverageEnable` to `VK_TRUE`, then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawMultiEXT-None-07624) VUID-vkCmdDrawMultiEXT-None-07624

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07625) VUID-vkCmdDrawMultiEXT-None-07625

If the [`alphaToOne`](features.html#features-alphaToOne) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_ONE_ENABLE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToOneEnableEXT](fragops.html#vkCmdSetAlphaToOneEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07626) VUID-vkCmdDrawMultiEXT-None-07626

If the [`logicOp`](features.html#features-logicOp) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetLogicOpEnableEXT](framebuffer.html#vkCmdSetLogicOpEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07627) VUID-vkCmdDrawMultiEXT-None-07627

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-08657) VUID-vkCmdDrawMultiEXT-None-08657

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have
been called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime)
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07628) VUID-vkCmdDrawMultiEXT-None-07628

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-08658) VUID-vkCmdDrawMultiEXT-None-08658

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) for any attachment set that
attachment’s value in `pColorBlendEnables` to `VK_TRUE`, then
[vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07629) VUID-vkCmdDrawMultiEXT-None-07629

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-08659) VUID-vkCmdDrawMultiEXT-None-08659

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07630) VUID-vkCmdDrawMultiEXT-None-07630

If the [`geometryStreams`](features.html#features-geometryStreams) feature is
enabled, and
a shader object is bound to the `VK_SHADER_STAGE_GEOMETRY_BIT` stage
or
a graphics pipeline is bound which was created with both a
`VK_SHADER_STAGE_GEOMETRY_BIT` stage and the
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` dynamic state enabled,
then [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07631) VUID-vkCmdDrawMultiEXT-None-07631

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07632) VUID-vkCmdDrawMultiEXT-None-07632

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXTRA_PRIMITIVE_OVERESTIMATION_SIZE_EXT` dynamic
state enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`conservativeRasterizationMode` is
`VK_CONSERVATIVE_RASTERIZATION_MODE_OVERESTIMATE_EXT`, then
[vkCmdSetExtraPrimitiveOverestimationSizeEXT](primsrast.html#vkCmdSetExtraPrimitiveOverestimationSizeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07633) VUID-vkCmdDrawMultiEXT-None-07633

If the [`depthClipEnable`](features.html#features-depthClipEnable) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_ENABLE_EXT` dynamic state, then
[vkCmdSetDepthClipEnableEXT](vertexpostproc.html#vkCmdSetDepthClipEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07635) VUID-vkCmdDrawMultiEXT-None-07635

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-rasterizerDiscardEnable-09416) VUID-vkCmdDrawMultiEXT-rasterizerDiscardEnable-09416

If the `[VK_EXT_blend_operation_advanced](../appendices/extensions.html#VK_EXT_blend_operation_advanced)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then at least one of [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT)
and [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07636) VUID-vkCmdDrawMultiEXT-None-07636

If the `[VK_EXT_provoking_vertex](../appendices/extensions.html#VK_EXT_provoking_vertex)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_PROVOKING_VERTEX_MODE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetProvokingVertexModeEXT](vertexpostproc.html#vkCmdSetProvokingVertexModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07637) VUID-vkCmdDrawMultiEXT-None-07637

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state enabled
then [vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-08666) VUID-vkCmdDrawMultiEXT-None-08666

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-08667) VUID-vkCmdDrawMultiEXT-None-08667

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-08668) VUID-vkCmdDrawMultiEXT-None-08668

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07638) VUID-vkCmdDrawMultiEXT-None-07638

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` dynamic state enabled
then [vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-08669) VUID-vkCmdDrawMultiEXT-None-08669

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-08670) VUID-vkCmdDrawMultiEXT-None-08670

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-08671) VUID-vkCmdDrawMultiEXT-None-08671

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07849) VUID-vkCmdDrawMultiEXT-None-07849

    If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled and
    a shader object is bound to any graphics stage, or
    a bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE`
    dynamic state enabled, the [current    value](pipelines.html#dynamic-state-current-value) of `rasterizerDiscardEnable` is `VK_FALSE`, and the
    [current value](pipelines.html#dynamic-state-current-value) of
    `stippledLineEnable` is `VK_TRUE`, then
[vkCmdSetLineStipple](primsrast.html#vkCmdSetLineStipple)
    **must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
    command

[](#VUID-vkCmdDrawMultiEXT-None-10608) VUID-vkCmdDrawMultiEXT-None-10608

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the current `lineRasterizationMode` is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM` or
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the current
`alphaToCoverageEnable`, `alphaToOneEnable` and
`sampleShadingEnable` states **must** all be `VK_FALSE`

[](#VUID-vkCmdDrawMultiEXT-None-07639) VUID-vkCmdDrawMultiEXT-None-07639

If the [`depthClipControl`](features.html#features-depthClipControl) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_NEGATIVE_ONE_TO_ONE_EXT` dynamic state
enabled, then [vkCmdSetDepthClipNegativeOneToOneEXT](vertexpostproc.html#vkCmdSetDepthClipNegativeOneToOneEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-09650) VUID-vkCmdDrawMultiEXT-None-09650

If the [`depthClampControl`](features.html#features-depthClampControl) feature
is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_RANGE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`depthClampEnable` is `VK_TRUE`, then
[vkCmdSetDepthClampRangeEXT](fragops.html#vkCmdSetDepthClampRangeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07640) VUID-vkCmdDrawMultiEXT-None-07640

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_ENABLE_NV` dynamic state
enabled, then [vkCmdSetViewportWScalingEnableNV](vertexpostproc.html#vkCmdSetViewportWScalingEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07641) VUID-vkCmdDrawMultiEXT-None-07641

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state enabled, then
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07642) VUID-vkCmdDrawMultiEXT-None-07642

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07643) VUID-vkCmdDrawMultiEXT-None-07643

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_LOCATION_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageToColorEnable` is `VK_TRUE`, then
[vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07644) VUID-vkCmdDrawMultiEXT-None-07644

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_MODE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageModulationModeNV](fragops.html#vkCmdSetCoverageModulationModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07645) VUID-vkCmdDrawMultiEXT-None-07645

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationMode` is any value other than
`VK_COVERAGE_MODULATION_MODE_NONE_NV`, then
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07646) VUID-vkCmdDrawMultiEXT-None-07646

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationTableEnable` is `VK_TRUE`, then
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07647) VUID-vkCmdDrawMultiEXT-None-07647

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SHADING_RATE_IMAGE_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetShadingRateImageEnableNV](primsrast.html#vkCmdSetShadingRateImageEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-pipelineFragmentShadingRate-09238) VUID-vkCmdDrawMultiEXT-pipelineFragmentShadingRate-09238

If the [    `pipelineFragmentShadingRate`](features.html#features-pipelineFragmentShadingRate) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07648) VUID-vkCmdDrawMultiEXT-None-07648

If the [    `representativeFragmentTest`](features.html#features-representativeFragmentTest) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_REPRESENTATIVE_FRAGMENT_TEST_ENABLE_NV` dynamic
state enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRepresentativeFragmentTestEnableNV](fragops.html#vkCmdSetRepresentativeFragmentTestEnableNV) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07649) VUID-vkCmdDrawMultiEXT-None-07649

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageReductionModeNV](fragops.html#vkCmdSetCoverageReductionModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-pColorBlendEnables-07470) VUID-vkCmdDrawMultiEXT-pColorBlendEnables-07470

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` state enabled and the last
call to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) set `pColorBlendEnables`
for any attachment to `VK_TRUE`, then for those attachments in the
subpass the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`

[](#VUID-vkCmdDrawMultiEXT-rasterizationSamples-07471) VUID-vkCmdDrawMultiEXT-rasterizationSamples-07471

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
current subpass does not use any color and/or depth/stencil attachments,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** follow the rules for a
[zero-attachment subpass](renderpass.html#renderpass-noattachments)

[](#VUID-vkCmdDrawMultiEXT-samples-07472) VUID-vkCmdDrawMultiEXT-samples-07472

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo)::`rasterizationSamples`
parameter used to create the bound graphics pipeline

[](#VUID-vkCmdDrawMultiEXT-samples-07473) VUID-vkCmdDrawMultiEXT-samples-07473

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state and
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` states enabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
`rasterizationSamples` parameter in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMultiEXT-rasterizationSamples-07474) VUID-vkCmdDrawMultiEXT-rasterizationSamples-07474

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and
the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
neither the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` nor the
`[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extensions are enabled, then
the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the current
subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawMultiEXT-None-09211) VUID-vkCmdDrawMultiEXT-None-09211

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled,
or a shader object is bound to any graphics stage,
and the current render pass instance includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the
`rasterizationSamples` member of that structure

[](#VUID-vkCmdDrawMultiEXT-firstAttachment-07476) VUID-vkCmdDrawMultiEXT-firstAttachment-07476

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorBlendEnableEXT` calls **must** specify an
enable for all active color attachments in the current subpass

[](#VUID-vkCmdDrawMultiEXT-rasterizerDiscardEnable-09417) VUID-vkCmdDrawMultiEXT-rasterizerDiscardEnable-09417

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEnableEXT`
calls **must** specify an enable for all active color attachments in the
current subpass

[](#VUID-vkCmdDrawMultiEXT-firstAttachment-07477) VUID-vkCmdDrawMultiEXT-firstAttachment-07477

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawMultiEXT-rasterizerDiscardEnable-09418) VUID-vkCmdDrawMultiEXT-rasterizerDiscardEnable-09418

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have
been called in the current command buffer prior to this drawing command,
and the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawMultiEXT-firstAttachment-07478) VUID-vkCmdDrawMultiEXT-firstAttachment-07478

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorWriteMaskEXT` calls **must** specify the
color write mask for all active color attachments in the current subpass

[](#VUID-vkCmdDrawMultiEXT-rasterizerDiscardEnable-09419) VUID-vkCmdDrawMultiEXT-rasterizerDiscardEnable-09419

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorWriteMaskEXT`
calls **must** specify the color write mask for all active color
attachments in the current subpass

[](#VUID-vkCmdDrawMultiEXT-firstAttachment-07479) VUID-vkCmdDrawMultiEXT-firstAttachment-07479

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendAdvancedEXT`
calls **must** specify the advanced blend equations for all active color
attachments in the current subpass where blending is enabled

[](#VUID-vkCmdDrawMultiEXT-advancedBlendMaxColorAttachments-07480) VUID-vkCmdDrawMultiEXT-advancedBlendMaxColorAttachments-07480

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` and
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic states enabled and
the last calls to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) and
[vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) have enabled advanced blending, then
the number of active color attachments in the current subpass **must** not
exceed [    `advancedBlendMaxColorAttachments`](limits.html#limits-advancedBlendMaxColorAttachments)

[](#VUID-vkCmdDrawMultiEXT-primitivesGeneratedQueryWithNonZeroStreams-07481) VUID-vkCmdDrawMultiEXT-primitivesGeneratedQueryWithNonZeroStreams-07481

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, and the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` state enabled, the last
call to [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have set the
`rasterizationStream` to zero

[](#VUID-vkCmdDrawMultiEXT-sampleLocationsPerPixel-07482) VUID-vkCmdDrawMultiEXT-sampleLocationsPerPixel-07482

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` member of the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo) structure the bound graphics
pipeline has been created with

[](#VUID-vkCmdDrawMultiEXT-sampleLocationsPerPixel-07483) VUID-vkCmdDrawMultiEXT-sampleLocationsPerPixel-07483

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` parameter of the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMultiEXT-sampleLocationsEnable-07484) VUID-vkCmdDrawMultiEXT-sampleLocationsEnable-07484

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), and the current subpass has a
depth/stencil attachment, then that attachment **must** have been created
with the `VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT`
bit set

[](#VUID-vkCmdDrawMultiEXT-sampleLocationsEnable-07485) VUID-vkCmdDrawMultiEXT-sampleLocationsEnable-07485

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.width` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawMultiEXT-sampleLocationsEnable-07486) VUID-vkCmdDrawMultiEXT-sampleLocationsEnable-07486

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.height` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawMultiEXT-sampleLocationsEnable-07487) VUID-vkCmdDrawMultiEXT-sampleLocationsEnable-07487

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), the fragment shader code **must**
not statically use the extended instruction `InterpolateAtSample`

[](#VUID-vkCmdDrawMultiEXT-sampleLocationsEnable-07936) VUID-vkCmdDrawMultiEXT-sampleLocationsEnable-07936

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.width` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMultiEXT-sampleLocationsEnable-07937) VUID-vkCmdDrawMultiEXT-sampleLocationsEnable-07937

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.height` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMultiEXT-sampleLocationsEnable-07938) VUID-vkCmdDrawMultiEXT-sampleLocationsEnable-07938

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationsPerPixel` **must** equal
`rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMultiEXT-coverageModulationTableEnable-07488) VUID-vkCmdDrawMultiEXT-coverageModulationTableEnable-07488

If
a shader object is bound to any graphics stage or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` state
enabled, and the last call to
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) set
`coverageModulationTableEnable` to `VK_TRUE`, then the
`coverageModulationTableCount` parameter in the last call to
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** equal the current
`rasterizationSamples` divided by the number of color samples in the
current subpass

[](#VUID-vkCmdDrawMultiEXT-rasterizationSamples-07489) VUID-vkCmdDrawMultiEXT-rasterizationSamples-07489

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and if current subpass has a depth/stencil attachment and depth test,
stencil test, or depth bounds test are enabled in the bound pipeline,
then the current `rasterizationSamples` **must** be the same as the
sample count of the depth/stencil attachment

[](#VUID-vkCmdDrawMultiEXT-coverageToColorEnable-07490) VUID-vkCmdDrawMultiEXT-coverageToColorEnable-07490

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` state enabled and the
last call to [vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawMultiEXT-rasterizerDiscardEnable-09420) VUID-vkCmdDrawMultiEXT-rasterizerDiscardEnable-09420

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the last call to
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawMultiEXT-coverageReductionMode-07491) VUID-vkCmdDrawMultiEXT-coverageReductionMode-07491

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` or
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic states enabled,
then the [current values](pipelines.html#dynamic-state-current-value) of
`coverageReductionMode`, `rasterizationSamples`, the sample
counts for the color and depth/stencil attachments (if the subpass has
them) **must** be a valid combination returned by
[vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV](fragops.html#vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV)

[](#VUID-vkCmdDrawMultiEXT-viewportCount-07492) VUID-vkCmdDrawMultiEXT-viewportCount-07492

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMultiEXT-viewportCount-07493) VUID-vkCmdDrawMultiEXT-viewportCount-07493

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic states enabled then
the `viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMultiEXT-viewportCount-09421) VUID-vkCmdDrawMultiEXT-viewportCount-09421

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and a
shader object is bound to any graphics stage, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMultiEXT-rasterizationSamples-07494) VUID-vkCmdDrawMultiEXT-rasterizationSamples-07494

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is not enabled, or the [current    value](pipelines.html#dynamic-state-current-value) of `coverageReductionMode` is not
`VK_COVERAGE_REDUCTION_MODE_TRUNCATE_NV`,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizationSamples` is greater than sample count of the color
attachment, then [sample shading](primsrast.html#primsrast-sampleshading) **must** be
disabled

[](#VUID-vkCmdDrawMultiEXT-stippledLineEnable-07495) VUID-vkCmdDrawMultiEXT-stippledLineEnable-07495

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled

[](#VUID-vkCmdDrawMultiEXT-stippledLineEnable-07496) VUID-vkCmdDrawMultiEXT-stippledLineEnable-07496

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM`, then the
[`stippledBresenhamLines`](features.html#features-stippledBresenhamLines)
feature **must** be enabled

[](#VUID-vkCmdDrawMultiEXT-stippledLineEnable-07497) VUID-vkCmdDrawMultiEXT-stippledLineEnable-07497

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the
[`stippledSmoothLines`](features.html#features-stippledSmoothLines) feature
**must** be enabled

[](#VUID-vkCmdDrawMultiEXT-stippledLineEnable-07498) VUID-vkCmdDrawMultiEXT-stippledLineEnable-07498

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_DEFAULT`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled and
[VkPhysicalDeviceLimits](limits.html#VkPhysicalDeviceLimits)::`strictLines` **must** be `VK_TRUE`

[](#VUID-vkCmdDrawMultiEXT-conservativePointAndLineRasterization-07499) VUID-vkCmdDrawMultiEXT-conservativePointAndLineRasterization-07499

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, [    `conservativePointAndLineRasterization`](limits.html#limits-conservativePointAndLineRasterization) is not supported, and the
effective primitive topology output by the last pre-rasterization shader
stage is a line or point, then the `conservativeRasterizationMode`
set by the last call to [vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT)
**must** be `VK_CONSERVATIVE_RASTERIZATION_MODE_DISABLED_EXT`

[](#VUID-vkCmdDrawMultiEXT-stage-07073) VUID-vkCmdDrawMultiEXT-stage-07073

If the bound pipeline was created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of an element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT`, then [Mesh    Shader Queries](queries.html#queries-mesh-shader) **must** not be active

[](#VUID-vkCmdDrawMultiEXT-None-08877) VUID-vkCmdDrawMultiEXT-None-08877

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-None-07850) VUID-vkCmdDrawMultiEXT-None-07850

If dynamic state was inherited from
[VkCommandBufferInheritanceViewportScissorInfoNV](cmdbuffers.html#VkCommandBufferInheritanceViewportScissorInfoNV), it **must** be set
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiEXT-nextStage-10745) VUID-vkCmdDrawMultiEXT-nextStage-10745

For each shader object bound to a graphics stage, except for shader
object bound to the last graphics stage in the logical pipeline, it
**must** have been created with a `nextStage` including the
corresponding bit to the shader object bound to the following graphics
stage in the logical pipeline

[](#VUID-vkCmdDrawMultiEXT-None-08684) VUID-vkCmdDrawMultiEXT-None-08684

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_VERTEX_BIT`

[](#VUID-vkCmdDrawMultiEXT-None-08685) VUID-vkCmdDrawMultiEXT-None-08685

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`

[](#VUID-vkCmdDrawMultiEXT-None-08686) VUID-vkCmdDrawMultiEXT-None-08686

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT`

[](#VUID-vkCmdDrawMultiEXT-None-08687) VUID-vkCmdDrawMultiEXT-None-08687

If there is no bound graphics pipeline, and the
[`geometryShader`](features.html#features-geometryShader) feature is enabled,
`vkCmdBindShadersEXT` **must** have been called in the current command
buffer with `pStages` with an element of
`VK_SHADER_STAGE_GEOMETRY_BIT`

[](#VUID-vkCmdDrawMultiEXT-None-08688) VUID-vkCmdDrawMultiEXT-None-08688

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_FRAGMENT_BIT`

[](#VUID-vkCmdDrawMultiEXT-None-08689) VUID-vkCmdDrawMultiEXT-None-08689

If there is no bound graphics pipeline, and the [    `taskShader`](features.html#features-taskShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_TASK_BIT_EXT`

[](#VUID-vkCmdDrawMultiEXT-None-08690) VUID-vkCmdDrawMultiEXT-None-08690

If there is no bound graphics pipeline, and the [    `meshShader`](features.html#features-meshShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_MESH_BIT_EXT`

[](#VUID-vkCmdDrawMultiEXT-None-08693) VUID-vkCmdDrawMultiEXT-None-08693

If there is no bound graphics pipeline, and at least one of the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features is enabled, one of the
`VK_SHADER_STAGE_VERTEX_BIT` or `VK_SHADER_STAGE_MESH_BIT_EXT`
stages **must** have a valid `VkShaderEXT` bound, and the other **must**
have no `VkShaderEXT` bound

[](#VUID-vkCmdDrawMultiEXT-None-08696) VUID-vkCmdDrawMultiEXT-None-08696

If there is no bound graphics pipeline, and a valid `VkShaderEXT` is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, there **must** be no
`VkShaderEXT` bound to either the `VK_SHADER_STAGE_TASK_BIT_EXT`
stage or the `VK_SHADER_STAGE_MESH_BIT_EXT` stage

[](#VUID-vkCmdDrawMultiEXT-None-08698) VUID-vkCmdDrawMultiEXT-None-08698

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, then all shaders created
with the `VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag in the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** also be bound

[](#VUID-vkCmdDrawMultiEXT-None-08699) VUID-vkCmdDrawMultiEXT-None-08699

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, any stages in between
stages whose shaders which did not create a shader with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag as part of the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** not have any `VkShaderEXT` bound

[](#VUID-vkCmdDrawMultiEXT-None-08878) VUID-vkCmdDrawMultiEXT-None-08878

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) push constant
ranges

[](#VUID-vkCmdDrawMultiEXT-None-08879) VUID-vkCmdDrawMultiEXT-None-08879

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) arrays of
descriptor set layouts

[](#VUID-vkCmdDrawMultiEXT-colorAttachmentCount-09372) VUID-vkCmdDrawMultiEXT-colorAttachmentCount-09372

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, a color
attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, and a fragment
shader is bound, it **must** not declare the `DepthReplacing` or
`StencilRefReplacingEXT` execution modes

[](#VUID-vkCmdDrawMultiEXT-pDynamicStates-08715) VUID-vkCmdDrawMultiEXT-pDynamicStates-08715

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpDepthAttachmentReadEXT`, the `depthWriteEnable` parameter
in the last call to [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawMultiEXT-pDynamicStates-08716) VUID-vkCmdDrawMultiEXT-pDynamicStates-08716

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpStencilAttachmentReadEXT`, the `writeMask` parameter in
the last call to [vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** be `0`

[](#VUID-vkCmdDrawMultiEXT-None-09116) VUID-vkCmdDrawMultiEXT-None-09116

    If
    a shader object is bound to any graphics stage
or
    the bound graphics pipeline was created with
    `VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT`,
    and the format of any color attachment is
    `VK_FORMAT_E5B9G9R9_UFLOAT_PACK32`, the corresponding element of the
    `pColorWriteMasks` parameter of [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT)
    **must** either include all of `VK_COLOR_COMPONENT_R_BIT`,
    `VK_COLOR_COMPONENT_G_BIT`, and `VK_COLOR_COMPONENT_B_BIT`, or
    none of them

[](#VUID-vkCmdDrawMultiEXT-maxFragmentDualSrcAttachments-09239) VUID-vkCmdDrawMultiEXT-maxFragmentDualSrcAttachments-09239

If [blending](framebuffer.html#framebuffer-blending) is enabled for any attachment where
either the source or destination blend factors for that attachment
[use the secondary color input](framebuffer.html#framebuffer-dsb), the maximum value of
`Location` for any output attachment [statically    used](shaders.html#shaders-staticuse) in the `Fragment` `Execution` `Model` executed by this command
**must** be less than [    `maxFragmentDualSrcAttachments`](limits.html#limits-maxFragmentDualSrcAttachments)

[](#VUID-vkCmdDrawMultiEXT-None-09548) VUID-vkCmdDrawMultiEXT-None-09548

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
the value of each element of
[VkRenderingAttachmentLocationInfo](interfaces.html#VkRenderingAttachmentLocationInfo)::`pColorAttachmentLocations`
set by [vkCmdSetRenderingAttachmentLocations](interfaces.html#vkCmdSetRenderingAttachmentLocations) **must** match the value
set for the corresponding element in the bound pipeline

[](#VUID-vkCmdDrawMultiEXT-None-09549) VUID-vkCmdDrawMultiEXT-None-09549

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
input attachment index mappings in the bound pipeline **must** match those
set for the current render pass instance via
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

[](#VUID-vkCmdDrawMultiEXT-None-09642) VUID-vkCmdDrawMultiEXT-None-09642

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with
the `VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag, the bound
graphics pipeline **must** have been created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`

[](#VUID-vkCmdDrawMultiEXT-None-09643) VUID-vkCmdDrawMultiEXT-None-09643

If the bound graphics pipeline was created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`, the current
render pass **must** have begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with the
`VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag

[](#VUID-vkCmdDrawMultiEXT-None-10677) VUID-vkCmdDrawMultiEXT-None-10677

If the [per-tile execution model](renderpass.html#renderpass-per-tile-execution-model)
is enabled, the
[tileShadingPerTileDraw](features.html#features-tileShadingPerTileDraw) feature **must**
be enabled

[](#VUID-vkCmdDrawMultiEXT-None-10772) VUID-vkCmdDrawMultiEXT-None-10772

If a shader object is bound to any graphics stage, *multiview*
functionality **must** not be enabled in the current render pass

* 
[](#VUID-vkCmdDrawMultiEXT-commandBuffer-02712) VUID-vkCmdDrawMultiEXT-commandBuffer-02712

If `commandBuffer` is a protected command buffer and
[`protectedNoFault`](devsandqueues.html#limits-protectedNoFault) is not supported,
any resource written to by the `VkPipeline` object bound to the
pipeline bind point used by this command **must** not be an unprotected
resource

* 
[](#VUID-vkCmdDrawMultiEXT-commandBuffer-02713) VUID-vkCmdDrawMultiEXT-commandBuffer-02713

If `commandBuffer` is a protected command buffer and
[`protectedNoFault`](devsandqueues.html#limits-protectedNoFault) is not supported,
pipeline stages other than the framebuffer-space and compute stages in
the `VkPipeline` object bound to the pipeline bind point used by
this command **must** not write to any resource

* 
[](#VUID-vkCmdDrawMultiEXT-commandBuffer-04617) VUID-vkCmdDrawMultiEXT-commandBuffer-04617

If any of the shader stages of the `VkPipeline` bound to the
pipeline bind point used by this command uses the
[`RayQueryKHR`](../appendices/spirvenv.html#spirvenv-capabilities-table-RayQueryKHR)
capability, then `commandBuffer` **must** not be a protected command
buffer

* 
[](#VUID-vkCmdDrawMultiEXT-None-04007) VUID-vkCmdDrawMultiEXT-None-04007

All vertex input bindings accessed via vertex input variables declared
in the vertex shader entry point’s interface **must** have either valid or
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) buffers bound

* 
[](#VUID-vkCmdDrawMultiEXT-None-04008) VUID-vkCmdDrawMultiEXT-None-04008

If the [`nullDescriptor`](features.html#features-nullDescriptor) feature is not
enabled, all vertex input bindings accessed via vertex input variables
declared in the vertex shader entry point’s interface **must** not be
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

* 
[](#VUID-vkCmdDrawMultiEXT-None-02721) VUID-vkCmdDrawMultiEXT-None-02721

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled,
and that pipeline was created without enabling
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` for
`vertexInputs`,
then for a given vertex buffer binding, any attribute data fetched **must**
be entirely contained within the corresponding vertex buffer binding, as
described in [Vertex Input Description](fxvertex.html#fxvertex-input)

* 
[](#VUID-vkCmdDrawMultiEXT-format-10389) VUID-vkCmdDrawMultiEXT-format-10389

For each vertex attribute accessed by this command, if its
[VkVertexInputAttributeDescription](fxvertex.html#VkVertexInputAttributeDescription)::`format`
or [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format`
is a [packed format](formats.html#formats-packed),
and [`legacyVertexAttributes`](features.html#features-legacyVertexAttributes) is
not enabled,
the value of `attribAddress`, calculated as described in
[Vertex Input Calculation](fxvertex.html#fxvertex-input-address-calculation), **must**
be a multiple of the [size of the `format`](formats.html#formats)

* 
[](#VUID-vkCmdDrawMultiEXT-format-10390) VUID-vkCmdDrawMultiEXT-format-10390

For each vertex attribute accessed by this command, if its
[VkVertexInputAttributeDescription](fxvertex.html#VkVertexInputAttributeDescription)::`format`
or [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format`
is not a [packed format](formats.html#formats-packed),
and either [    `legacyVertexAttributes`](features.html#features-legacyVertexAttributes) is not enabled or `format` has 64-bit
components,
the value of `attribAddress`, calculated as described in
[Vertex Input Calculation](fxvertex.html#fxvertex-input-address-calculation), **must**
be a multiple of the [component size of the `format`](formats.html#formats)

* 
[](#VUID-vkCmdDrawMultiEXT-None-07842) VUID-vkCmdDrawMultiEXT-None-07842

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY` dynamic state enabled
    then [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawMultiEXT-dynamicPrimitiveTopologyUnrestricted-07500) VUID-vkCmdDrawMultiEXT-dynamicPrimitiveTopologyUnrestricted-07500

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY` dynamic state enabled
and the [    `dynamicPrimitiveTopologyUnrestricted`](limits.html#limits-dynamicPrimitiveTopologyUnrestricted) is `VK_FALSE`,
then the `primitiveTopology` parameter of
`vkCmdSetPrimitiveTopology` **must** be of the same
[topology class](#drawing-primitive-topology-class) as the pipeline
[VkPipelineInputAssemblyStateCreateInfo](#VkPipelineInputAssemblyStateCreateInfo)::`topology` state

* 
[](#VUID-vkCmdDrawMultiEXT-primitiveTopology-10286) VUID-vkCmdDrawMultiEXT-primitiveTopology-10286

If a `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage is bound, then
the [current value](pipelines.html#dynamic-state-current-value) of
`primitiveTopology` **must** be `VK_PRIMITIVE_TOPOLOGY_PATCH_LIST`
prior to this drawing command

* 
[](#VUID-vkCmdDrawMultiEXT-primitiveTopology-10747) VUID-vkCmdDrawMultiEXT-primitiveTopology-10747

If [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) set `primitiveTopology` to
`VK_PRIMITIVE_TOPOLOGY_PATCH_LIST` prior to this drawing command,
then a `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage **must** be
bound

* 
[](#VUID-vkCmdDrawMultiEXT-primitiveTopology-10748) VUID-vkCmdDrawMultiEXT-primitiveTopology-10748

If [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) set `primitiveTopology` to
`VK_PRIMITIVE_TOPOLOGY_POINT_LIST` prior to this drawing command,
the [`maintenance5`](features.html#features-maintenance5) feature is not
enabled,
both a `VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` and
`VK_SHADER_STAGE_GEOMETRY_BIT` stage are not bound, then the
`Vertex` `Execution` `Model` **must** have a `PointSize` decorated
variable that is statically written to

* 
[](#VUID-vkCmdDrawMultiEXT-pStrides-04913) VUID-vkCmdDrawMultiEXT-pStrides-04913

If the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_VERTEX_INPUT_BINDING_STRIDE` dynamic state
enabled,
but without the `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state
enabled,
then [vkCmdBindVertexBuffers2](fxvertex.html#vkCmdBindVertexBuffers2) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this draw command, and the `pStrides`
parameter of [vkCmdBindVertexBuffers2](fxvertex.html#vkCmdBindVertexBuffers2) **must** not be `NULL`

* 
[](#VUID-vkCmdDrawMultiEXT-None-04914) VUID-vkCmdDrawMultiEXT-None-04914

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    then [vkCmdSetVertexInputEXT](fxvertex.html#vkCmdSetVertexInputEXT) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this draw command

* 
[](#VUID-vkCmdDrawMultiEXT-Input-07939) VUID-vkCmdDrawMultiEXT-Input-07939

    If
    [`vertexAttributeRobustness`](features.html#features-vertexAttributeRobustness)
    is not enabled and
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    then all variables with the `Input` storage class decorated with
    `Location` in the `Vertex` `Execution` `Model` `OpEntryPoint`
    **must** contain a location in
    [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`location`

* 
[](#VUID-vkCmdDrawMultiEXT-Input-08734) VUID-vkCmdDrawMultiEXT-Input-08734

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and either the [    `legacyVertexAttributes`](features.html#features-legacyVertexAttributes) feature is not enabled or the SPIR-V Type
    associated with a given `Input` variable of the corresponding
    `Location` in the `Vertex` `Execution` `Model` `OpEntryPoint` is
    64-bit,
    then the numeric type associated with all `Input` variables of the
    corresponding `Location` in the `Vertex` `Execution` `Model`
    `OpEntryPoint` **must** be the same as
    [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format`

* 
[](#VUID-vkCmdDrawMultiEXT-format-08936) VUID-vkCmdDrawMultiEXT-format-08936

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format` has a
    64-bit component, then the scalar width associated with all `Input`
    variables of the corresponding `Location` in the `Vertex`
    `Execution` `Model` `OpEntryPoint` **must** be 64-bit

* 
[](#VUID-vkCmdDrawMultiEXT-format-08937) VUID-vkCmdDrawMultiEXT-format-08937

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and the scalar width associated with a `Location` decorated
    `Input` variable in the `Vertex` `Execution` `Model`
    `OpEntryPoint` is 64-bit, then the corresponding
    [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format` **must** have a
    64-bit component

* 
[](#VUID-vkCmdDrawMultiEXT-None-09203) VUID-vkCmdDrawMultiEXT-None-09203

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format` has a
    64-bit component, then all `Input` variables at the corresponding
    `Location` in the `Vertex` `Execution` `Model` `OpEntryPoint`
    **must** not use components that are not present in the format

* 
[](#VUID-vkCmdDrawMultiEXT-None-04875) VUID-vkCmdDrawMultiEXT-None-04875

    If
    there is a shader object bound to the
    `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage
or
    the bound graphics pipeline state was created with both a
    `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage and the
    `VK_DYNAMIC_STATE_PATCH_CONTROL_POINTS_EXT` dynamic state enabled,
    and the [current value](pipelines.html#dynamic-state-current-value) of
    `primitiveTopology` is `VK_PRIMITIVE_TOPOLOGY_PATCH_LIST`, then
    [vkCmdSetPatchControlPointsEXT](shaders.html#vkCmdSetPatchControlPointsEXT) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawMultiEXT-None-04879) VUID-vkCmdDrawMultiEXT-None-04879

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE` dynamic state enabled
    then [vkCmdSetPrimitiveRestartEnable](#vkCmdSetPrimitiveRestartEnable) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawMultiEXT-None-09637) VUID-vkCmdDrawMultiEXT-None-09637

    If
    the [    `primitiveTopologyListRestart`](features.html#features-primitiveTopologyListRestart) feature is not enabled,
    the topology is `VK_PRIMITIVE_TOPOLOGY_POINT_LIST`,
    `VK_PRIMITIVE_TOPOLOGY_LINE_LIST`,
    `VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST`,
    `VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY`, or
    `VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY`,
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE` dynamic state enabled
    then [vkCmdSetPrimitiveRestartEnable](#vkCmdSetPrimitiveRestartEnable) **must** be `VK_FALSE`

* 
[](#VUID-vkCmdDrawMultiEXT-stage-06481) VUID-vkCmdDrawMultiEXT-stage-06481

The bound graphics pipeline **must** not have been created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of any element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_TASK_BIT_EXT` or `VK_SHADER_STAGE_MESH_BIT_EXT`

* 
[](#VUID-vkCmdDrawMultiEXT-None-08885) VUID-vkCmdDrawMultiEXT-None-08885

There **must** be no shader object bound to either of the
`VK_SHADER_STAGE_TASK_BIT_EXT` or `VK_SHADER_STAGE_MESH_BIT_EXT`
stages

* 
[](#VUID-vkCmdDrawMultiEXT-None-07619) VUID-vkCmdDrawMultiEXT-None-07619

If
a shader object is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` stage or
a graphics pipeline is bound which was created with both a
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` stage and the
`VK_DYNAMIC_STATE_TESSELLATION_DOMAIN_ORIGIN_EXT` dynamic state
enabled, then [vkCmdSetTessellationDomainOriginEXT](tessellation.html#vkCmdSetTessellationDomainOriginEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawMultiEXT-pNext-09461) VUID-vkCmdDrawMultiEXT-pNext-09461

If the bound graphics pipeline state was created with
[VkPipelineVertexInputDivisorStateCreateInfo](fxvertex.html#VkPipelineVertexInputDivisorStateCreateInfo) in the `pNext`
chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pVertexInputState`,
any member of
[VkPipelineVertexInputDivisorStateCreateInfo](fxvertex.html#VkPipelineVertexInputDivisorStateCreateInfo)::`pVertexBindingDivisors`
has a value other than `1` in `divisor`, and
[VkPhysicalDeviceVertexAttributeDivisorProperties](limits.html#VkPhysicalDeviceVertexAttributeDivisorProperties)::`supportsNonZeroFirstInstance`
is `VK_FALSE`, then `firstInstance` **must** be `0`

* 
[](#VUID-vkCmdDrawMultiEXT-None-09462) VUID-vkCmdDrawMultiEXT-None-09462

If
[shader objects](shaders.html#shaders-objects) are used for drawing or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled, any
member of the `pVertexBindingDescriptions` parameter to the
[vkCmdSetVertexInputEXT](fxvertex.html#vkCmdSetVertexInputEXT) call that sets this dynamic state has a
value other than `1` in `divisor`, and
[VkPhysicalDeviceVertexAttributeDivisorProperties](limits.html#VkPhysicalDeviceVertexAttributeDivisorProperties)::`supportsNonZeroFirstInstance`
is `VK_FALSE`, then `firstInstance` **must** be `0`

* 
[](#VUID-vkCmdDrawMultiEXT-None-04933) VUID-vkCmdDrawMultiEXT-None-04933

The [`multiDraw`](features.html#features-multiDraw) feature **must** be enabled

* 
[](#VUID-vkCmdDrawMultiEXT-drawCount-04934) VUID-vkCmdDrawMultiEXT-drawCount-04934

`drawCount` **must** be less than
`VkPhysicalDeviceMultiDrawPropertiesEXT`::`maxMultiDrawCount`

* 
[](#VUID-vkCmdDrawMultiEXT-drawCount-04935) VUID-vkCmdDrawMultiEXT-drawCount-04935

If `drawCount` is greater than zero, `pVertexInfo` **must** be a
valid pointer to memory containing one or more valid instances of
[VkMultiDrawInfoEXT](#VkMultiDrawInfoEXT) structures

* 
[](#VUID-vkCmdDrawMultiEXT-drawCount-09628) VUID-vkCmdDrawMultiEXT-drawCount-09628

If `drawCount` is greater than `1`, `stride` **must** be a multiple
of `4` and **must** be greater than or equal to
`sizeof`(`VkMultiDrawInfoEXT`)

Valid Usage (Implicit)

* 
[](#VUID-vkCmdDrawMultiEXT-commandBuffer-parameter) VUID-vkCmdDrawMultiEXT-commandBuffer-parameter

 `commandBuffer` **must** be a valid [VkCommandBuffer](cmdbuffers.html#VkCommandBuffer) handle

* 
[](#VUID-vkCmdDrawMultiEXT-commandBuffer-recording) VUID-vkCmdDrawMultiEXT-commandBuffer-recording

 `commandBuffer` **must** be in the [recording state](cmdbuffers.html#commandbuffers-lifecycle)

* 
[](#VUID-vkCmdDrawMultiEXT-commandBuffer-cmdpool) VUID-vkCmdDrawMultiEXT-commandBuffer-cmdpool

 The `VkCommandPool` that `commandBuffer` was allocated from **must** support graphics operations

* 
[](#VUID-vkCmdDrawMultiEXT-renderpass) VUID-vkCmdDrawMultiEXT-renderpass

 This command **must** only be called inside of a render pass instance

* 
[](#VUID-vkCmdDrawMultiEXT-videocoding) VUID-vkCmdDrawMultiEXT-videocoding

 This command **must** only be called outside of a video coding scope

Host Synchronization

* 
Host access to `commandBuffer` **must** be externally synchronized

* 
Host access to the `VkCommandPool` that `commandBuffer` was allocated from **must** be externally synchronized

Command Properties
| [Command Buffer Levels](cmdbuffers.html#VkCommandBufferLevel) | [Render Pass Scope](renderpass.html#vkCmdBeginRenderPass) | [Video Coding Scope](videocoding.html#vkCmdBeginVideoCodingKHR) | [Supported Queue Types](devsandqueues.html#VkQueueFlagBits) | [Command Type](fundamentals.html#fundamentals-queueoperation-command-types) |
| --- | --- | --- | --- | --- |
| Primary

Secondary | Inside | Outside | Graphics | Action |

To record an ordered sequence of indexed draws which have no state changes
between them, call:

// Provided by VK_EXT_multi_draw
void vkCmdDrawMultiIndexedEXT(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    drawCount,
    const VkMultiDrawIndexedInfoEXT*            pIndexInfo,
    uint32_t                                    instanceCount,
    uint32_t                                    firstInstance,
    uint32_t                                    stride,
    const int32_t*                              pVertexOffset);

* 
`commandBuffer` is the command buffer into which the command is
recorded.

* 
`drawCount` is the number of draws to execute, and **can** be zero.

* 
`pIndexInfo` is a pointer to an array of
[VkMultiDrawIndexedInfoEXT](#VkMultiDrawIndexedInfoEXT) with index information to be drawn.

* 
`instanceCount` is the number of instances per draw.

* 
`firstInstance` is the instance ID of the first instance in each
draw.

* 
`stride` is the byte stride between consecutive elements of
`pIndexInfo`.

* 
`pVertexOffset` is `NULL` or a pointer to the value added to the
vertex index before indexing into the vertex buffer.
When specified, `VkMultiDrawIndexedInfoEXT`::`offset` is
ignored.

The number of draws recorded is `drawCount`, with each draw reading,
sequentially, a `firstIndex` and an `indexCount` from
`pIndexInfo`.
For each recorded draw, primitives are assembled as for
[vkCmdDrawIndexed](#vkCmdDrawIndexed), and drawn `instanceCount` times with
`instanceIndex` starting with `firstInstance` and sequentially for
each instance.
If `pVertexOffset` is `NULL`, a `vertexOffset` is also read from
`pIndexInfo`, otherwise the value from dereferencing `pVertexOffset`
is used.

Valid Usage

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-magFilter-04553) VUID-vkCmdDrawMultiIndexedEXT-magFilter-04553

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-magFilter-09598) VUID-vkCmdDrawMultiIndexedEXT-magFilter-09598

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR` and `reductionMode` equal to either
`VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-mipmapMode-04770) VUID-vkCmdDrawMultiIndexedEXT-mipmapMode-04770

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-mipmapMode-09599) VUID-vkCmdDrawMultiIndexedEXT-mipmapMode-09599

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR` and `reductionMode` equal to
either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-unnormalizedCoordinates-09635) VUID-vkCmdDrawMultiIndexedEXT-unnormalizedCoordinates-09635

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `levelCount` and `layerCount`
**must** be 1

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-08609) VUID-vkCmdDrawMultiIndexedEXT-None-08609

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `viewType` **must** be
`VK_IMAGE_VIEW_TYPE_1D` or `VK_IMAGE_VIEW_TYPE_2D`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-08610) VUID-vkCmdDrawMultiIndexedEXT-None-08610

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions with
`ImplicitLod`, `Dref` or `Proj` in their name

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-08611) VUID-vkCmdDrawMultiIndexedEXT-None-08611

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions that includes a
LOD bias or any offset values

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-06479) VUID-vkCmdDrawMultiIndexedEXT-None-06479

If a [VkImageView](resources.html#VkImageView) is sampled with
[depth comparison](textures.html#textures-depth-compare-operation), the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_SAMPLED_IMAGE_DEPTH_COMPARISON_BIT`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-02691) VUID-vkCmdDrawMultiIndexedEXT-None-02691

If a [VkImageView](resources.html#VkImageView) is accessed using atomic operations as a result
of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-07888) VUID-vkCmdDrawMultiIndexedEXT-None-07888

If a `VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER` descriptor is
accessed using atomic operations as a result of this command, then the
storage texel buffer’s [format    features](resources.html#resources-buffer-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-02692) VUID-vkCmdDrawMultiIndexedEXT-None-02692

If a [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_CUBIC_BIT_EXT`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-02693) VUID-vkCmdDrawMultiIndexedEXT-None-02693

If
the [VK_EXT_filter_cubic](../appendices/extensions.html#VK_EXT_filter_cubic) extension is not enabled and
any [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, it **must** not have a [VkImageViewType](resources.html#VkImageViewType) of
`VK_IMAGE_VIEW_TYPE_3D`, `VK_IMAGE_VIEW_TYPE_CUBE`, or
`VK_IMAGE_VIEW_TYPE_CUBE_ARRAY`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-filterCubic-02694) VUID-vkCmdDrawMultiIndexedEXT-filterCubic-02694

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command **must** have a [VkImageViewType](resources.html#VkImageViewType) and format
that supports cubic filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubic`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-filterCubicMinmax-02695) VUID-vkCmdDrawMultiIndexedEXT-filterCubicMinmax-02695

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` with
a reduction mode of either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` as a result of this command **must**
have a [VkImageViewType](resources.html#VkImageViewType) and format that supports cubic filtering
together with minmax filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubicMinmax`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-cubicRangeClamp-09212) VUID-vkCmdDrawMultiIndexedEXT-cubicRangeClamp-09212

If the [`cubicRangeClamp`](features.html#features-cubicRangeClamp) feature is
not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** not have a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-reductionMode-09213) VUID-vkCmdDrawMultiIndexedEXT-reductionMode-09213

Any [VkImageView](resources.html#VkImageView) being sampled with a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM` as a
result of this command **must** sample with `VK_FILTER_CUBIC_EXT`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-selectableCubicWeights-09214) VUID-vkCmdDrawMultiIndexedEXT-selectableCubicWeights-09214

If the [`selectableCubicWeights`](features.html#features-selectableCubicWeights)
feature is not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** have
[VkSamplerCubicWeightsCreateInfoQCOM](samplers.html#VkSamplerCubicWeightsCreateInfoQCOM)::`cubicWeights` equal to
`VK_CUBIC_FILTER_WEIGHTS_CATMULL_ROM_QCOM`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-flags-02696) VUID-vkCmdDrawMultiIndexedEXT-flags-02696

Any [VkImage](resources.html#VkImage) created with a [VkImageCreateInfo](resources.html#VkImageCreateInfo)::`flags`
containing `VK_IMAGE_CREATE_CORNER_SAMPLED_BIT_NV` sampled as a
result of this command **must** only be sampled using a
[VkSamplerAddressMode](samplers.html#VkSamplerAddressMode) of
`VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-OpTypeImage-07027) VUID-vkCmdDrawMultiIndexedEXT-OpTypeImage-07027

For any [VkImageView](resources.html#VkImageView) being written as a storage image where the
image format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-OpTypeImage-07028) VUID-vkCmdDrawMultiIndexedEXT-OpTypeImage-07028

For any [VkImageView](resources.html#VkImageView) being read as a storage image where the image
format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-OpTypeImage-07029) VUID-vkCmdDrawMultiIndexedEXT-OpTypeImage-07029

For any [VkBufferView](resources.html#VkBufferView) being written as a storage texel buffer where
the image format field of the `OpTypeImage` is `Unknown`, the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-OpTypeImage-07030) VUID-vkCmdDrawMultiIndexedEXT-OpTypeImage-07030

Any [VkBufferView](resources.html#VkBufferView) being read as a storage texel buffer where the
image format field of the `OpTypeImage` is `Unknown` then the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-08600) VUID-vkCmdDrawMultiIndexedEXT-None-08600

For each set *n* that is statically used by [a bound    shader](shaders.html#shaders-binding), a descriptor set **must** have been bound to *n* at the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for set *n*, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the current
[VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-08601) VUID-vkCmdDrawMultiIndexedEXT-None-08601

For each push constant that is statically used by [a    bound shader](shaders.html#shaders-binding), a push constant value **must** have been set for the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the
current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-10068) VUID-vkCmdDrawMultiIndexedEXT-None-10068

For each array of resources that is used by [a bound    shader](shaders.html#shaders-binding), the indices used to access members of the array **must** be less
than the descriptor count for the identified binding in the descriptor
sets used by this command

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-maintenance4-08602) VUID-vkCmdDrawMultiIndexedEXT-maintenance4-08602

If the [`maintenance4`](features.html#features-maintenance4) feature is not
enabled, then for each push constant that is statically used by
[a bound shader](shaders.html#shaders-binding), a push constant value **must** have
been set for the same pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
that is compatible for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
used to create the current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) and [VkPushConstantRange](descriptorsets.html#VkPushConstantRange) arrays
used to create the current [VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-08114) VUID-vkCmdDrawMultiIndexedEXT-None-08114

Descriptors in each bound descriptor set, specified via
[vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), **must** be valid as described by
[descriptor validity](descriptorsets.html#descriptor-validity) if they are statically used
by
the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind point used by this
command and the bound [VkPipeline](pipelines.html#VkPipeline) was not created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-08115) VUID-vkCmdDrawMultiIndexedEXT-None-08115

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), the bound
[VkPipeline](pipelines.html#VkPipeline) **must** have been created without
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-08116) VUID-vkCmdDrawMultiIndexedEXT-None-08116

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind
point used by this command and the bound [VkPipeline](pipelines.html#VkPipeline) was created
with `VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-08604) VUID-vkCmdDrawMultiIndexedEXT-None-08604

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-08117) VUID-vkCmdDrawMultiIndexedEXT-None-08117

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT),
the bound [VkPipeline](pipelines.html#VkPipeline) **must** have been created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-08119) VUID-vkCmdDrawMultiIndexedEXT-None-08119

If a descriptor is dynamically used with a [VkPipeline](pipelines.html#VkPipeline) created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the descriptor
memory **must** be resident

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-08605) VUID-vkCmdDrawMultiIndexedEXT-None-08605

If a descriptor is dynamically used with a [VkShaderEXT](shaders.html#VkShaderEXT) created
with a `VkDescriptorSetLayout` that was created with
`VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the
descriptor memory **must** be resident

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-08606) VUID-vkCmdDrawMultiIndexedEXT-None-08606

If the [`shaderObject`](features.html#features-shaderObject) feature is not
enabled, a
valid pipeline **must** be bound to the pipeline bind point used by this
command

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-08608) VUID-vkCmdDrawMultiIndexedEXT-None-08608

If a pipeline is bound to the pipeline bind point used by this command,
there
**must** not have been any calls to dynamic state setting commands for any
state specified statically in the [VkPipeline](pipelines.html#VkPipeline) object bound to the
pipeline bind point used by this command, since that pipeline was bound

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-uniformBuffers-06935) VUID-vkCmdDrawMultiIndexedEXT-uniformBuffers-06935

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a uniform buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`uniformBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-08612) VUID-vkCmdDrawMultiIndexedEXT-None-08612

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a uniform
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-storageBuffers-06936) VUID-vkCmdDrawMultiIndexedEXT-storageBuffers-06936

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a storage buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`storageBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-08613) VUID-vkCmdDrawMultiIndexedEXT-None-08613

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a storage
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-commandBuffer-02707) VUID-vkCmdDrawMultiIndexedEXT-commandBuffer-02707

If `commandBuffer` is an unprotected command buffer and
[`protectedNoFault`](devsandqueues.html#limits-protectedNoFault) is not supported,
any resource accessed by [bound shaders](shaders.html#shaders-binding) **must** not be
a protected resource

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-viewType-07752) VUID-vkCmdDrawMultiIndexedEXT-viewType-07752

If a [VkImageView](resources.html#VkImageView) is accessed as a result of this command, then the
image view’s `viewType` **must** match the `Dim` operand of the
`OpTypeImage` as described in [Compatibility Between SPIR-V Image Dimensions and Vulkan ImageView Types](../appendices/spirvenv.html#spirvenv-image-dimensions)

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-format-07753) VUID-vkCmdDrawMultiIndexedEXT-format-07753

If a [VkImageView](resources.html#VkImageView) or [VkBufferView](resources.html#VkBufferView) is accessed as a result of
this command, then the [numeric type](formats.html#formats-numericformat) of the
view’s `format` and the `Sampled` `Type` operand of the
`OpTypeImage` **must** match

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-OpImageWrite-08795) VUID-vkCmdDrawMultiIndexedEXT-OpImageWrite-08795

If a [VkImageView](resources.html#VkImageView)
created with a format other than `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
at least as many components as the image view’s format

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-OpImageWrite-08796) VUID-vkCmdDrawMultiIndexedEXT-OpImageWrite-08796

If a [VkImageView](resources.html#VkImageView) created with the format `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
four components

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-OpImageWrite-04469) VUID-vkCmdDrawMultiIndexedEXT-OpImageWrite-04469

If a [VkBufferView](resources.html#VkBufferView) is accessed using `OpImageWrite` as a result
of this command, then the `Type` of the `Texel` operand of that
instruction **must** have at least as many components as the buffer view’s
format

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-SampledType-04470) VUID-vkCmdDrawMultiIndexedEXT-SampledType-04470

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit component
width is accessed as a result of this command, the `SampledType` of
the `OpTypeImage` operand of that instruction **must** have a `Width`
of 64

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-SampledType-04471) VUID-vkCmdDrawMultiIndexedEXT-SampledType-04471

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-SampledType-04472) VUID-vkCmdDrawMultiIndexedEXT-SampledType-04472

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit
component width is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 64

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-SampledType-04473) VUID-vkCmdDrawMultiIndexedEXT-SampledType-04473

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-sparseImageInt64Atomics-04474) VUID-vkCmdDrawMultiIndexedEXT-sparseImageInt64Atomics-04474

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkImage](resources.html#VkImage)
objects created with the `VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT` flag
**must** not be accessed by atomic instructions through an `OpTypeImage`
with a `SampledType` with a `Width` of 64 by this command

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-sparseImageInt64Atomics-04475) VUID-vkCmdDrawMultiIndexedEXT-sparseImageInt64Atomics-04475

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkBuffer](resources.html#VkBuffer)
objects created with the `VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT`
flag **must** not be accessed by atomic instructions through an
`OpTypeImage` with a `SampledType` with a `Width` of 64 by this
command

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-OpImageWeightedSampleQCOM-06971) VUID-vkCmdDrawMultiIndexedEXT-OpImageWeightedSampleQCOM-06971

If `OpImageWeightedSampleQCOM` is used to sample a [VkImageView](resources.html#VkImageView)
as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_SAMPLED_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-OpImageWeightedSampleQCOM-06972) VUID-vkCmdDrawMultiIndexedEXT-OpImageWeightedSampleQCOM-06972

If `OpImageWeightedSampleQCOM` uses a [VkImageView](resources.html#VkImageView) as a sample
weight image as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-OpImageBoxFilterQCOM-06973) VUID-vkCmdDrawMultiIndexedEXT-OpImageBoxFilterQCOM-06973

If `OpImageBoxFilterQCOM` is used to sample a [VkImageView](resources.html#VkImageView) as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BOX_FILTER_SAMPLED_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-OpImageBlockMatchSSDQCOM-06974) VUID-vkCmdDrawMultiIndexedEXT-OpImageBlockMatchSSDQCOM-06974

If `OpImageBlockMatchSSDQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-OpImageBlockMatchSADQCOM-06975) VUID-vkCmdDrawMultiIndexedEXT-OpImageBlockMatchSADQCOM-06975

If `OpImageBlockMatchSADQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-OpImageBlockMatchSADQCOM-06976) VUID-vkCmdDrawMultiIndexedEXT-OpImageBlockMatchSADQCOM-06976

If `OpImageBlockMatchSADQCOM` or OpImageBlockMatchSSDQCOM is used to
read from a reference image as result of this command, then the
specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-OpImageWeightedSampleQCOM-06977) VUID-vkCmdDrawMultiIndexedEXT-OpImageWeightedSampleQCOM-06977

If `OpImageWeightedSampleQCOM`, `OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** have
been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-OpImageWeightedSampleQCOM-06978) VUID-vkCmdDrawMultiIndexedEXT-OpImageWeightedSampleQCOM-06978

If any command other than `OpImageWeightedSampleQCOM`,
`OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** not
have been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-OpImageBlockMatchWindow-09215) VUID-vkCmdDrawMultiIndexedEXT-OpImageBlockMatchWindow-09215

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-OpImageBlockMatchWindow-09216) VUID-vkCmdDrawMultiIndexedEXT-OpImageBlockMatchWindow-09216

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
format **must** be a single-component format

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-OpImageBlockMatchWindow-09217) VUID-vkCmdDrawMultiIndexedEXT-OpImageBlockMatchWindow-09217

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` read from a reference image as result
of this command, then the specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-07288) VUID-vkCmdDrawMultiIndexedEXT-None-07288

Any shader invocation executed by this command **must**
[terminate](shaders.html#shaders-termination)

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-09600) VUID-vkCmdDrawMultiIndexedEXT-None-09600

If a descriptor with type equal to any of
`VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE`,
`VK_DESCRIPTOR_TYPE_STORAGE_IMAGE`, or
`VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT` is accessed as a result of
this command, all image subresources identified by that descriptor **must**
be in the image layout identified when the descriptor was written

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-commandBuffer-10746) VUID-vkCmdDrawMultiIndexedEXT-commandBuffer-10746

The `VkDeviceMemory` object allocated from a `VkMemoryHeap` with
the `VK_MEMORY_HEAP_TILE_MEMORY_BIT_QCOM` property that is bound to
a resource accessed as a result of this command **must** be the active
bound [bound tile memory object](memory.html#memory-bind-tile-memory) in
`commandBuffer`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-10678) VUID-vkCmdDrawMultiIndexedEXT-None-10678

If this command is recorded inside a [tile    shading render pass](renderpass.html#renderpass-tile-shading) instance, the stages corresponding to the pipeline
bind point used by this command **must** only include
`VK_SHADER_STAGE_VERTEX_BIT`, `VK_SHADER_STAGE_FRAGMENT_BIT`,
and/or `VK_SHADER_STAGE_COMPUTE_BIT`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-10679) VUID-vkCmdDrawMultiIndexedEXT-None-10679

If this command is recorded where
[per-tile execution model](renderpass.html#renderpass-per-tile-execution-model) is
enabled, there **must** be no access to any image while the image was be
transitioned to the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` layout

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-renderPass-02684) VUID-vkCmdDrawMultiIndexedEXT-renderPass-02684

The current render pass **must** be [compatible](renderpass.html#renderpass-compatibility)
with the `renderPass` member of the
`VkGraphicsPipelineCreateInfo` structure specified when creating the
`VkPipeline` bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-subpass-02685) VUID-vkCmdDrawMultiIndexedEXT-subpass-02685

The subpass index of the current render pass **must** be equal to the
`subpass` member of the `VkGraphicsPipelineCreateInfo` structure
specified when creating the `VkPipeline` bound to
`VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-07748) VUID-vkCmdDrawMultiIndexedEXT-None-07748

If any shader statically accesses an input attachment, a valid
descriptor **must** be bound to the pipeline via a descriptor set

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-OpTypeImage-07468) VUID-vkCmdDrawMultiIndexedEXT-OpTypeImage-07468

If any shader executed by this pipeline accesses an `OpTypeImage`
variable with a `Dim` operand of `SubpassData`, it **must** be
decorated with an `InputAttachmentIndex` that corresponds to a valid
input attachment in the current subpass

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-07469) VUID-vkCmdDrawMultiIndexedEXT-None-07469

Input attachment views accessed in a subpass **must** be created with the
same [VkFormat](formats.html#VkFormat) as the corresponding subpass definition, and be
created with a [VkImageView](resources.html#VkImageView) that is compatible with the attachment
referenced by the subpass'
`pInputAttachments`[`InputAttachmentIndex`] in the bound
[VkFramebuffer](renderpass.html#VkFramebuffer) as specified by
[Fragment Input Attachment    Compatibility](interfaces.html#compatibility-inputattachment)

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-pDepthInputAttachmentIndex-09595) VUID-vkCmdDrawMultiIndexedEXT-pDepthInputAttachmentIndex-09595

Input attachment views accessed in a dynamic render pass with a
`InputAttachmentIndex` referenced by
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo), or no
`InputAttachmentIndex` if
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
or
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are `NULL`, **must** be created with a [VkImageView](resources.html#VkImageView) that is compatible
with the corresponding color, depth, or stencil attachment in
[VkRenderingInfo](renderpass.html#VkRenderingInfo)

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-pDepthInputAttachmentIndex-09596) VUID-vkCmdDrawMultiIndexedEXT-pDepthInputAttachmentIndex-09596

Input attachment views accessed in a dynamic render pass via a shader
object **must** have an `InputAttachmentIndex` if both
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
and
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are non-`NULL`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-InputAttachmentIndex-09597) VUID-vkCmdDrawMultiIndexedEXT-InputAttachmentIndex-09597

If an input attachment view accessed in a dynamic render pass via a
shader object has an `InputAttachmentIndex`, the
`InputAttachmentIndex` **must** match an index in
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-06537) VUID-vkCmdDrawMultiIndexedEXT-None-06537

Memory backing image subresources used as attachments in the current
render pass **must** not be written in any way other than as an attachment
by this command

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-09000) VUID-vkCmdDrawMultiIndexedEXT-None-09000

If a color attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

the `VK_PIPELINE_CREATE_COLOR_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT` is
set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_COLOR_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-09001) VUID-vkCmdDrawMultiIndexedEXT-None-09001

If a depth attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_DEPTH_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-09002) VUID-vkCmdDrawMultiIndexedEXT-None-09002

If a stencil attachment is written by any prior command in this subpass
or by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_STENCIL_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-09003) VUID-vkCmdDrawMultiIndexedEXT-None-09003

If an attachment is written by any prior command in this subpass or by
the load, store, or resolve operations for this subpass, it **must** not be
accessed in any way other than as an attachment, storage image, or
sampled image by this command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-06539) VUID-vkCmdDrawMultiIndexedEXT-None-06539

If any previously recorded command in the current subpass accessed an
image subresource used as an attachment in this subpass in any way other
than as an attachment, this command **must** not write to that image
subresource as an attachment

[](#VUID-vkCmdDrawMultiIndexedEXT-None-06886) VUID-vkCmdDrawMultiIndexedEXT-None-06886

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the depth aspect, [depth    writes](fragops.html#fragops-depth-write) **must** be disabled

[](#VUID-vkCmdDrawMultiIndexedEXT-None-06887) VUID-vkCmdDrawMultiIndexedEXT-None-06887

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the stencil aspect, both front and back
`writeMask` are not zero, and stencil test is enabled,
[all stencil ops](fragops.html#fragops-stencil) **must** be `VK_STENCIL_OP_KEEP`

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07831) VUID-vkCmdDrawMultiIndexedEXT-None-07831

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT` dynamic state enabled then
[vkCmdSetViewport](vertexpostproc.html#vkCmdSetViewport) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07832) VUID-vkCmdDrawMultiIndexedEXT-None-07832

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SCISSOR` dynamic state enabled then
[vkCmdSetScissor](fragops.html#vkCmdSetScissor) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07833) VUID-vkCmdDrawMultiIndexedEXT-None-07833

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_WIDTH` dynamic state enabled then
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08617) VUID-vkCmdDrawMultiIndexedEXT-None-08617

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command
buffer set `polygonMode` to `VK_POLYGON_MODE_LINE`,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08618) VUID-vkCmdDrawMultiIndexedEXT-None-08618

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08619) VUID-vkCmdDrawMultiIndexedEXT-None-08619

If a shader object that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, [vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07834) VUID-vkCmdDrawMultiIndexedEXT-None-07834

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthBiasEnable`
is `VK_TRUE`, then [vkCmdSetDepthBias](primsrast.html#vkCmdSetDepthBias)
or [vkCmdSetDepthBias2EXT](primsrast.html#vkCmdSetDepthBias2EXT)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07835) VUID-vkCmdDrawMultiIndexedEXT-None-07835

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_BLEND_CONSTANTS` dynamic state enabled then
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08621) VUID-vkCmdDrawMultiIndexedEXT-None-08621

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) in the current command buffer set any
element of `pColorBlendEnables` to `VK_TRUE`, and the most
recent call to [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) in the current
command buffer set the same element of `pColorBlendEquations` to a
`VkColorBlendEquationEXT` structure with any [VkBlendFactor](framebuffer.html#VkBlendFactor)
member with a value of `VK_BLEND_FACTOR_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_CONSTANT_ALPHA`, or
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_ALPHA`,
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07836) VUID-vkCmdDrawMultiIndexedEXT-None-07836

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`depthBoundsTestEnable` is `VK_TRUE`, then
[vkCmdSetDepthBounds](fragops.html#vkCmdSetDepthBounds) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07837) VUID-vkCmdDrawMultiIndexedEXT-None-07837

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilCompareMask](fragops.html#vkCmdSetStencilCompareMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07838) VUID-vkCmdDrawMultiIndexedEXT-None-07838

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07839) VUID-vkCmdDrawMultiIndexedEXT-None-07839

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_REFERENCE` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of and
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilReference](fragops.html#vkCmdSetStencilReference) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-maxMultiviewInstanceIndex-02688) VUID-vkCmdDrawMultiIndexedEXT-maxMultiviewInstanceIndex-02688

If the draw is recorded in a render pass instance with multiview
enabled, the maximum instance index **must** be less than or equal to
[VkPhysicalDeviceMultiviewProperties](limits.html#VkPhysicalDeviceMultiviewProperties)::`maxMultiviewInstanceIndex`

[](#VUID-vkCmdDrawMultiIndexedEXT-sampleLocationsEnable-02689) VUID-vkCmdDrawMultiIndexedEXT-sampleLocationsEnable-02689

If the bound graphics pipeline was created with
[VkPipelineSampleLocationsStateCreateInfoEXT](primsrast.html#VkPipelineSampleLocationsStateCreateInfoEXT)::`sampleLocationsEnable`
set to `VK_TRUE` and the current subpass has a depth/stencil
attachment, then that attachment **must** have been created with the
`VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT` bit set

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07634) VUID-vkCmdDrawMultiIndexedEXT-None-07634

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-06666) VUID-vkCmdDrawMultiIndexedEXT-None-06666

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
[vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07840) VUID-vkCmdDrawMultiIndexedEXT-None-07840

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CULL_MODE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCullMode](primsrast.html#vkCmdSetCullMode) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07841) VUID-vkCmdDrawMultiIndexedEXT-None-07841

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRONT_FACE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFrontFace](primsrast.html#vkCmdSetFrontFace) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07843) VUID-vkCmdDrawMultiIndexedEXT-None-07843

 If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`,
[vkCmdSetDepthTestEnable](fragops.html#vkCmdSetDepthTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07844) VUID-vkCmdDrawMultiIndexedEXT-None-07844

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07845) VUID-vkCmdDrawMultiIndexedEXT-None-07845

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_COMPARE_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthCompareOp](fragops.html#vkCmdSetDepthCompareOp) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07846) VUID-vkCmdDrawMultiIndexedEXT-None-07846

If the [`depthBounds`](features.html#features-depthBounds) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBoundsTestEnable](fragops.html#vkCmdSetDepthBoundsTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07847) VUID-vkCmdDrawMultiIndexedEXT-None-07847

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetStencilTestEnable](fragops.html#vkCmdSetStencilTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07848) VUID-vkCmdDrawMultiIndexedEXT-None-07848

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then [vkCmdSetStencilOp](fragops.html#vkCmdSetStencilOp)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawMultiIndexedEXT-viewportCount-03417) VUID-vkCmdDrawMultiIndexedEXT-viewportCount-03417

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-scissorCount-03418) VUID-vkCmdDrawMultiIndexedEXT-scissorCount-03418

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetScissorWithCount](vertexpostproc.html#vkCmdSetScissorWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing

[](#VUID-vkCmdDrawMultiIndexedEXT-viewportCount-03419) VUID-vkCmdDrawMultiIndexedEXT-viewportCount-03419

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with both the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic states enabled,
and the state is not inherited,
then the `viewportCount` parameter of
`vkCmdSetViewportWithCount` **must** match the `scissorCount`
parameter of `vkCmdSetScissorWithCount`

[](#VUID-vkCmdDrawMultiIndexedEXT-viewportCount-04137) VUID-vkCmdDrawMultiIndexedEXT-viewportCount-04137

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportWScalingStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportWScalingStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMultiIndexedEXT-viewportCount-04138) VUID-vkCmdDrawMultiIndexedEXT-viewportCount-04138

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08636) VUID-vkCmdDrawMultiIndexedEXT-None-08636

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMultiIndexedEXT-viewportCount-04139) VUID-vkCmdDrawMultiIndexedEXT-viewportCount-04139

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic
state enabled, then the bound graphics pipeline **must** have been created
with
[VkPipelineViewportShadingRateImageStateCreateInfoNV](primsrast.html#VkPipelineViewportShadingRateImageStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMultiIndexedEXT-shadingRateImage-09233) VUID-vkCmdDrawMultiIndexedEXT-shadingRateImage-09233

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_COARSE_SAMPLE_ORDER_NV` and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoarseSampleOrderNV](primsrast.html#vkCmdSetCoarseSampleOrderNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-shadingRateImage-09234) VUID-vkCmdDrawMultiIndexedEXT-shadingRateImage-09234

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08637) VUID-vkCmdDrawMultiIndexedEXT-None-08637

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** be greater than or
equal to the `viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMultiIndexedEXT-VkPipelineVieportCreateInfo-04141) VUID-vkCmdDrawMultiIndexedEXT-VkPipelineVieportCreateInfo-04141

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV) structure chained from
[VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound graphics
pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMultiIndexedEXT-VkPipelineVieportCreateInfo-04142) VUID-vkCmdDrawMultiIndexedEXT-VkPipelineVieportCreateInfo-04142

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV) structure
chained from [VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound
graphics pipeline **must** have been created with
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV)::`exclusiveScissorCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07878) VUID-vkCmdDrawMultiIndexedEXT-None-07878

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_ENABLE_NV` dynamic state
enabled, then [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07879) VUID-vkCmdDrawMultiIndexedEXT-None-07879

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_NV` dynamic state enabled, and
the most recent call to [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) in the
current command buffer set any element of `pExclusiveScissorEnables`
to `VK_TRUE`, then [vkCmdSetExclusiveScissorNV](fragops.html#vkCmdSetExclusiveScissorNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-04876) VUID-vkCmdDrawMultiIndexedEXT-None-04876

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE` dynamic state enabled,
then [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-04877) VUID-vkCmdDrawMultiIndexedEXT-None-04877

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBiasEnable](primsrast.html#vkCmdSetDepthBiasEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-logicOp-04878) VUID-vkCmdDrawMultiIndexedEXT-logicOp-04878

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `logicOpEnable` is
`VK_TRUE`, then [vkCmdSetLogicOpEXT](framebuffer.html#vkCmdSetLogicOpEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-primitiveFragmentShadingRateWithMultipleViewports-04552) VUID-vkCmdDrawMultiIndexedEXT-primitiveFragmentShadingRateWithMultipleViewports-04552

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, and
any of the shader stages of the bound graphics pipeline write to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawMultiIndexedEXT-primitiveFragmentShadingRateWithMultipleViewports-08642) VUID-vkCmdDrawMultiIndexedEXT-primitiveFragmentShadingRateWithMultipleViewports-08642

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, and any shader object bound to a graphics stage writes to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawMultiIndexedEXT-blendEnable-04727) VUID-vkCmdDrawMultiIndexedEXT-blendEnable-04727

If rasterization is not disabled in the bound graphics pipeline, then
for each color attachment in the subpass, if the corresponding image
view’s [format features](resources.html#resources-image-view-format-features) do not
contain `VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
`blendEnable` member of the corresponding element of the
`pAttachments` member of `pColorBlendState` **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08643) VUID-vkCmdDrawMultiIndexedEXT-None-08643

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then for each color attachment in the render pass, if
the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) do not contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
corresponding member of `pColorBlendEnables` in the most recent call
to `vkCmdSetColorBlendEnableEXT` in the current command buffer that
affected that attachment index **must** have been `VK_FALSE`

[](#VUID-vkCmdDrawMultiIndexedEXT-multisampledRenderToSingleSampled-07284) VUID-vkCmdDrawMultiIndexedEXT-multisampledRenderToSingleSampled-07284

If rasterization is not disabled in the bound graphics pipeline,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then `rasterizationSamples` for the bound graphics pipeline **must** be the
same as the current subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08644) VUID-vkCmdDrawMultiIndexedEXT-None-08644

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then the most recent call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) in the
current command buffer **must** have set `rasterizationSamples` to be the
same as the number of samples for the current render pass color and/or
depth/stencil attachments

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08876) VUID-vkCmdDrawMultiIndexedEXT-None-08876

If a shader object is bound to any graphics stage, the current render
pass instance **must** have been begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)

[](#VUID-vkCmdDrawMultiIndexedEXT-imageView-06172) VUID-vkCmdDrawMultiIndexedEXT-imageView-06172

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the depth attachment

[](#VUID-vkCmdDrawMultiIndexedEXT-imageView-06173) VUID-vkCmdDrawMultiIndexedEXT-imageView-06173

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawMultiIndexedEXT-imageView-06174) VUID-vkCmdDrawMultiIndexedEXT-imageView-06174

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL`, this
command **must** not write any values to the depth attachment

[](#VUID-vkCmdDrawMultiIndexedEXT-imageView-06175) VUID-vkCmdDrawMultiIndexedEXT-imageView-06175

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL`, this
command **must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawMultiIndexedEXT-imageView-06176) VUID-vkCmdDrawMultiIndexedEXT-imageView-06176

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the depth attachment

[](#VUID-vkCmdDrawMultiIndexedEXT-imageView-06177) VUID-vkCmdDrawMultiIndexedEXT-imageView-06177

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the stencil attachment

[](#VUID-vkCmdDrawMultiIndexedEXT-viewMask-06178) VUID-vkCmdDrawMultiIndexedEXT-viewMask-06178

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a [VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`viewMask` equal
to [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`viewMask`

[](#VUID-vkCmdDrawMultiIndexedEXT-colorAttachmentCount-06179) VUID-vkCmdDrawMultiIndexedEXT-colorAttachmentCount-06179

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`colorAttachmentCount` equal to
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount`

[](#VUID-vkCmdDrawMultiIndexedEXT-dynamicRenderingUnusedAttachments-08910) VUID-vkCmdDrawMultiIndexedEXT-dynamicRenderingUnusedAttachments-08910

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have
been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline

[](#VUID-vkCmdDrawMultiIndexedEXT-dynamicRenderingUnusedAttachments-08912) VUID-vkCmdDrawMultiIndexedEXT-dynamicRenderingUnusedAttachments-08912

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have the
corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound pipeline equal to `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMultiIndexedEXT-dynamicRenderingUnusedAttachments-08911) VUID-vkCmdDrawMultiIndexedEXT-dynamicRenderingUnusedAttachments-08911

If the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled, and the
current render pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`,
then each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments`
array with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must**
have been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding
element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline, or the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats`, if
it exists, **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMultiIndexedEXT-colorAttachmentCount-09362) VUID-vkCmdDrawMultiIndexedEXT-colorAttachmentCount-09362

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`,
there is no shader object bound to any graphics stage,
and a color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`resolveImageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawMultiIndexedEXT-None-09363) VUID-vkCmdDrawMultiIndexedEXT-None-09363

If
there is no shader object bound to any graphics stage,
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, and a
color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawMultiIndexedEXT-None-09364) VUID-vkCmdDrawMultiIndexedEXT-None-09364

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set the blend enable
to `VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-09365) VUID-vkCmdDrawMultiIndexedEXT-None-09365

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-09366) VUID-vkCmdDrawMultiIndexedEXT-None-09366

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set blend enable to
`VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-rasterizationSamples-09367) VUID-vkCmdDrawMultiIndexedEXT-rasterizationSamples-09367

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-09368) VUID-vkCmdDrawMultiIndexedEXT-None-09368

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-09369) VUID-vkCmdDrawMultiIndexedEXT-None-09369

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-pFragmentSize-09370) VUID-vkCmdDrawMultiIndexedEXT-pFragmentSize-09370

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-pFragmentSize-09371) VUID-vkCmdDrawMultiIndexedEXT-pFragmentSize-09371

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07749) VUID-vkCmdDrawMultiIndexedEXT-None-07749

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08646) VUID-vkCmdDrawMultiIndexedEXT-None-08646

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-attachmentCount-07750) VUID-vkCmdDrawMultiIndexedEXT-attachmentCount-07750

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
the `attachmentCount` parameter of `vkCmdSetColorWriteEnableEXT`
**must** be greater than or equal to the
`VkPipelineColorBlendStateCreateInfo`::`attachmentCount` of the
bound graphics pipeline

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08647) VUID-vkCmdDrawMultiIndexedEXT-None-08647

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then the
`attachmentCount` parameter of most recent call to
`vkCmdSetColorWriteEnableEXT` in the current command buffer **must** be
greater than or equal to the number of color attachments in the current
render pass instance

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07751) VUID-vkCmdDrawMultiIndexedEXT-None-07751

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled, a
graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) included a
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT)::`discardRectangleCount`

[](#VUID-vkCmdDrawMultiIndexedEXT-rasterizerDiscardEnable-09236) VUID-vkCmdDrawMultiIndexedEXT-rasterizerDiscardEnable-09236

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) did not
include a [VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPhysicalDeviceDiscardRectanglePropertiesEXT](limits.html#VkPhysicalDeviceDiscardRectanglePropertiesEXT)::`maxDiscardRectangles`

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07880) VUID-vkCmdDrawMultiIndexedEXT-None-07880

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_ENABLE_EXT` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDiscardRectangleEnableEXT](fragops.html#vkCmdSetDiscardRectangleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07881) VUID-vkCmdDrawMultiIndexedEXT-None-07881

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_MODE_EXT` dynamic state enabled,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleModeEXT](fragops.html#vkCmdSetDiscardRectangleModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-dynamicRenderingUnusedAttachments-08913) VUID-vkCmdDrawMultiIndexedEXT-dynamicRenderingUnusedAttachments-08913

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMultiIndexedEXT-dynamicRenderingUnusedAttachments-08914) VUID-vkCmdDrawMultiIndexedEXT-dynamicRenderingUnusedAttachments-08914

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawMultiIndexedEXT-dynamicRenderingUnusedAttachments-08915) VUID-vkCmdDrawMultiIndexedEXT-dynamicRenderingUnusedAttachments-08915

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline was not equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`,
the value of the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMultiIndexedEXT-dynamicRenderingUnusedAttachments-08916) VUID-vkCmdDrawMultiIndexedEXT-dynamicRenderingUnusedAttachments-08916

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMultiIndexedEXT-dynamicRenderingUnusedAttachments-08917) VUID-vkCmdDrawMultiIndexedEXT-dynamicRenderingUnusedAttachments-08917

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawMultiIndexedEXT-dynamicRenderingUnusedAttachments-08918) VUID-vkCmdDrawMultiIndexedEXT-dynamicRenderingUnusedAttachments-08918

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline was not equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`, the value of
the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMultiIndexedEXT-imageView-06183) VUID-vkCmdDrawMultiIndexedEXT-imageView-06183

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentShadingRateAttachmentInfoKHR](renderpass.html#VkRenderingFragmentShadingRateAttachmentInfoKHR)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR`

[](#VUID-vkCmdDrawMultiIndexedEXT-imageView-06184) VUID-vkCmdDrawMultiIndexedEXT-imageView-06184

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentDensityMapAttachmentInfoEXT](renderpass.html#VkRenderingFragmentDensityMapAttachmentInfoEXT)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT`

[](#VUID-vkCmdDrawMultiIndexedEXT-colorAttachmentCount-06185) VUID-vkCmdDrawMultiIndexedEXT-colorAttachmentCount-06185

If the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and the current render
pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
`0`, then each element of the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with a sample count equal to the corresponding element of the
`pColorAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline

[](#VUID-vkCmdDrawMultiIndexedEXT-pDepthAttachment-06186) VUID-vkCmdDrawMultiIndexedEXT-pDepthAttachment-06186

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawMultiIndexedEXT-pStencilAttachment-06187) VUID-vkCmdDrawMultiIndexedEXT-pStencilAttachment-06187

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawMultiIndexedEXT-multisampledRenderToSingleSampled-07285) VUID-vkCmdDrawMultiIndexedEXT-multisampledRenderToSingleSampled-07285

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    the current render pass instance was begun with
    [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
    `0`, then each element of the
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
    `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
    created with a sample count equal to the value of
    `rasterizationSamples` for the bound graphics pipeline

[](#VUID-vkCmdDrawMultiIndexedEXT-multisampledRenderToSingleSampled-07286) VUID-vkCmdDrawMultiIndexedEXT-multisampledRenderToSingleSampled-07286

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawMultiIndexedEXT-multisampledRenderToSingleSampled-07287) VUID-vkCmdDrawMultiIndexedEXT-multisampledRenderToSingleSampled-07287

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawMultiIndexedEXT-pNext-07935) VUID-vkCmdDrawMultiIndexedEXT-pNext-07935

If this command has been called inside a render pass instance started
with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), and the `pNext` chain of
[VkRenderingInfo](renderpass.html#VkRenderingInfo) includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the value of `rasterizationSamples` for the bound graphics
pipeline **must** be equal to
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT)::`rasterizationSamples`

[](#VUID-vkCmdDrawMultiIndexedEXT-renderPass-06198) VUID-vkCmdDrawMultiIndexedEXT-renderPass-06198

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline **must** have been created
with a [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`renderPass` equal to
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

[](#VUID-vkCmdDrawMultiIndexedEXT-pColorAttachments-08963) VUID-vkCmdDrawMultiIndexedEXT-pColorAttachments-08963

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound with a
fragment shader that statically writes to a color attachment, the color
write mask is not zero, color writes are enabled, and the corresponding
element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments->imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMultiIndexedEXT-pDepthAttachment-08964) VUID-vkCmdDrawMultiIndexedEXT-pDepthAttachment-08964

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, depth
test is enabled, depth write is enabled, and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMultiIndexedEXT-pStencilAttachment-08965) VUID-vkCmdDrawMultiIndexedEXT-pStencilAttachment-08965

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, stencil
test is enabled and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMultiIndexedEXT-flags-10582) VUID-vkCmdDrawMultiIndexedEXT-flags-10582

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), its [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`flags`
parameter **must** not have
`VK_RENDERING_CONTENTS_SECONDARY_COMMAND_BUFFERS_BIT` set
unless `VK_RENDERING_CONTENTS_INLINE_BIT_KHR` is also set

[](#VUID-vkCmdDrawMultiIndexedEXT-primitivesGeneratedQueryWithRasterizerDiscard-06708) VUID-vkCmdDrawMultiIndexedEXT-primitivesGeneratedQueryWithRasterizerDiscard-06708

If the [    `primitivesGeneratedQueryWithRasterizerDiscard`](features.html#features-primitivesGeneratedQueryWithRasterizerDiscard) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, [rasterization discard](primsrast.html#primsrast-discard) **must** not be enabled

[](#VUID-vkCmdDrawMultiIndexedEXT-primitivesGeneratedQueryWithNonZeroStreams-06709) VUID-vkCmdDrawMultiIndexedEXT-primitivesGeneratedQueryWithNonZeroStreams-06709

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, the bound graphics pipeline **must** not have been created with a
non-zero value in
`VkPipelineRasterizationStateStreamCreateInfoEXT`::`rasterizationStream`

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07620) VUID-vkCmdDrawMultiIndexedEXT-None-07620

If the [`depthClamp`](features.html#features-depthClamp) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthClampEnableEXT](vertexpostproc.html#vkCmdSetDepthClampEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07621) VUID-vkCmdDrawMultiIndexedEXT-None-07621

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_POLYGON_MODE_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07622) VUID-vkCmdDrawMultiIndexedEXT-None-07622

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07623) VUID-vkCmdDrawMultiIndexedEXT-None-07623

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-alphaToCoverageEnable-08919) VUID-vkCmdDrawMultiIndexedEXT-alphaToCoverageEnable-08919

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and `alphaToCoverageEnable` was `VK_TRUE` in the last
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT), then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawMultiIndexedEXT-alphaToCoverageEnable-08920) VUID-vkCmdDrawMultiIndexedEXT-alphaToCoverageEnable-08920

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) in the current command
buffer set `alphaToCoverageEnable` to `VK_TRUE`, then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07624) VUID-vkCmdDrawMultiIndexedEXT-None-07624

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07625) VUID-vkCmdDrawMultiIndexedEXT-None-07625

If the [`alphaToOne`](features.html#features-alphaToOne) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_ONE_ENABLE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToOneEnableEXT](fragops.html#vkCmdSetAlphaToOneEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07626) VUID-vkCmdDrawMultiIndexedEXT-None-07626

If the [`logicOp`](features.html#features-logicOp) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetLogicOpEnableEXT](framebuffer.html#vkCmdSetLogicOpEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07627) VUID-vkCmdDrawMultiIndexedEXT-None-07627

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08657) VUID-vkCmdDrawMultiIndexedEXT-None-08657

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have
been called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime)
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07628) VUID-vkCmdDrawMultiIndexedEXT-None-07628

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08658) VUID-vkCmdDrawMultiIndexedEXT-None-08658

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) for any attachment set that
attachment’s value in `pColorBlendEnables` to `VK_TRUE`, then
[vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07629) VUID-vkCmdDrawMultiIndexedEXT-None-07629

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08659) VUID-vkCmdDrawMultiIndexedEXT-None-08659

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07630) VUID-vkCmdDrawMultiIndexedEXT-None-07630

If the [`geometryStreams`](features.html#features-geometryStreams) feature is
enabled, and
a shader object is bound to the `VK_SHADER_STAGE_GEOMETRY_BIT` stage
or
a graphics pipeline is bound which was created with both a
`VK_SHADER_STAGE_GEOMETRY_BIT` stage and the
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` dynamic state enabled,
then [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07631) VUID-vkCmdDrawMultiIndexedEXT-None-07631

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07632) VUID-vkCmdDrawMultiIndexedEXT-None-07632

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXTRA_PRIMITIVE_OVERESTIMATION_SIZE_EXT` dynamic
state enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`conservativeRasterizationMode` is
`VK_CONSERVATIVE_RASTERIZATION_MODE_OVERESTIMATE_EXT`, then
[vkCmdSetExtraPrimitiveOverestimationSizeEXT](primsrast.html#vkCmdSetExtraPrimitiveOverestimationSizeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07633) VUID-vkCmdDrawMultiIndexedEXT-None-07633

If the [`depthClipEnable`](features.html#features-depthClipEnable) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_ENABLE_EXT` dynamic state, then
[vkCmdSetDepthClipEnableEXT](vertexpostproc.html#vkCmdSetDepthClipEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07635) VUID-vkCmdDrawMultiIndexedEXT-None-07635

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-rasterizerDiscardEnable-09416) VUID-vkCmdDrawMultiIndexedEXT-rasterizerDiscardEnable-09416

If the `[VK_EXT_blend_operation_advanced](../appendices/extensions.html#VK_EXT_blend_operation_advanced)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then at least one of [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT)
and [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07636) VUID-vkCmdDrawMultiIndexedEXT-None-07636

If the `[VK_EXT_provoking_vertex](../appendices/extensions.html#VK_EXT_provoking_vertex)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_PROVOKING_VERTEX_MODE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetProvokingVertexModeEXT](vertexpostproc.html#vkCmdSetProvokingVertexModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07637) VUID-vkCmdDrawMultiIndexedEXT-None-07637

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state enabled
then [vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08666) VUID-vkCmdDrawMultiIndexedEXT-None-08666

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08667) VUID-vkCmdDrawMultiIndexedEXT-None-08667

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08668) VUID-vkCmdDrawMultiIndexedEXT-None-08668

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07638) VUID-vkCmdDrawMultiIndexedEXT-None-07638

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` dynamic state enabled
then [vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08669) VUID-vkCmdDrawMultiIndexedEXT-None-08669

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08670) VUID-vkCmdDrawMultiIndexedEXT-None-08670

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08671) VUID-vkCmdDrawMultiIndexedEXT-None-08671

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07849) VUID-vkCmdDrawMultiIndexedEXT-None-07849

    If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled and
    a shader object is bound to any graphics stage, or
    a bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE`
    dynamic state enabled, the [current    value](pipelines.html#dynamic-state-current-value) of `rasterizerDiscardEnable` is `VK_FALSE`, and the
    [current value](pipelines.html#dynamic-state-current-value) of
    `stippledLineEnable` is `VK_TRUE`, then
[vkCmdSetLineStipple](primsrast.html#vkCmdSetLineStipple)
    **must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
    command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-10608) VUID-vkCmdDrawMultiIndexedEXT-None-10608

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the current `lineRasterizationMode` is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM` or
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the current
`alphaToCoverageEnable`, `alphaToOneEnable` and
`sampleShadingEnable` states **must** all be `VK_FALSE`

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07639) VUID-vkCmdDrawMultiIndexedEXT-None-07639

If the [`depthClipControl`](features.html#features-depthClipControl) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_NEGATIVE_ONE_TO_ONE_EXT` dynamic state
enabled, then [vkCmdSetDepthClipNegativeOneToOneEXT](vertexpostproc.html#vkCmdSetDepthClipNegativeOneToOneEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-09650) VUID-vkCmdDrawMultiIndexedEXT-None-09650

If the [`depthClampControl`](features.html#features-depthClampControl) feature
is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_RANGE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`depthClampEnable` is `VK_TRUE`, then
[vkCmdSetDepthClampRangeEXT](fragops.html#vkCmdSetDepthClampRangeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07640) VUID-vkCmdDrawMultiIndexedEXT-None-07640

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_ENABLE_NV` dynamic state
enabled, then [vkCmdSetViewportWScalingEnableNV](vertexpostproc.html#vkCmdSetViewportWScalingEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07641) VUID-vkCmdDrawMultiIndexedEXT-None-07641

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state enabled, then
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07642) VUID-vkCmdDrawMultiIndexedEXT-None-07642

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07643) VUID-vkCmdDrawMultiIndexedEXT-None-07643

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_LOCATION_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageToColorEnable` is `VK_TRUE`, then
[vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07644) VUID-vkCmdDrawMultiIndexedEXT-None-07644

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_MODE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageModulationModeNV](fragops.html#vkCmdSetCoverageModulationModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07645) VUID-vkCmdDrawMultiIndexedEXT-None-07645

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationMode` is any value other than
`VK_COVERAGE_MODULATION_MODE_NONE_NV`, then
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07646) VUID-vkCmdDrawMultiIndexedEXT-None-07646

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationTableEnable` is `VK_TRUE`, then
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07647) VUID-vkCmdDrawMultiIndexedEXT-None-07647

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SHADING_RATE_IMAGE_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetShadingRateImageEnableNV](primsrast.html#vkCmdSetShadingRateImageEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-pipelineFragmentShadingRate-09238) VUID-vkCmdDrawMultiIndexedEXT-pipelineFragmentShadingRate-09238

If the [    `pipelineFragmentShadingRate`](features.html#features-pipelineFragmentShadingRate) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07648) VUID-vkCmdDrawMultiIndexedEXT-None-07648

If the [    `representativeFragmentTest`](features.html#features-representativeFragmentTest) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_REPRESENTATIVE_FRAGMENT_TEST_ENABLE_NV` dynamic
state enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRepresentativeFragmentTestEnableNV](fragops.html#vkCmdSetRepresentativeFragmentTestEnableNV) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07649) VUID-vkCmdDrawMultiIndexedEXT-None-07649

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageReductionModeNV](fragops.html#vkCmdSetCoverageReductionModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-pColorBlendEnables-07470) VUID-vkCmdDrawMultiIndexedEXT-pColorBlendEnables-07470

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` state enabled and the last
call to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) set `pColorBlendEnables`
for any attachment to `VK_TRUE`, then for those attachments in the
subpass the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`

[](#VUID-vkCmdDrawMultiIndexedEXT-rasterizationSamples-07471) VUID-vkCmdDrawMultiIndexedEXT-rasterizationSamples-07471

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
current subpass does not use any color and/or depth/stencil attachments,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** follow the rules for a
[zero-attachment subpass](renderpass.html#renderpass-noattachments)

[](#VUID-vkCmdDrawMultiIndexedEXT-samples-07472) VUID-vkCmdDrawMultiIndexedEXT-samples-07472

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo)::`rasterizationSamples`
parameter used to create the bound graphics pipeline

[](#VUID-vkCmdDrawMultiIndexedEXT-samples-07473) VUID-vkCmdDrawMultiIndexedEXT-samples-07473

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state and
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` states enabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
`rasterizationSamples` parameter in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMultiIndexedEXT-rasterizationSamples-07474) VUID-vkCmdDrawMultiIndexedEXT-rasterizationSamples-07474

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and
the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
neither the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` nor the
`[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extensions are enabled, then
the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the current
subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawMultiIndexedEXT-None-09211) VUID-vkCmdDrawMultiIndexedEXT-None-09211

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled,
or a shader object is bound to any graphics stage,
and the current render pass instance includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the
`rasterizationSamples` member of that structure

[](#VUID-vkCmdDrawMultiIndexedEXT-firstAttachment-07476) VUID-vkCmdDrawMultiIndexedEXT-firstAttachment-07476

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorBlendEnableEXT` calls **must** specify an
enable for all active color attachments in the current subpass

[](#VUID-vkCmdDrawMultiIndexedEXT-rasterizerDiscardEnable-09417) VUID-vkCmdDrawMultiIndexedEXT-rasterizerDiscardEnable-09417

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEnableEXT`
calls **must** specify an enable for all active color attachments in the
current subpass

[](#VUID-vkCmdDrawMultiIndexedEXT-firstAttachment-07477) VUID-vkCmdDrawMultiIndexedEXT-firstAttachment-07477

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawMultiIndexedEXT-rasterizerDiscardEnable-09418) VUID-vkCmdDrawMultiIndexedEXT-rasterizerDiscardEnable-09418

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have
been called in the current command buffer prior to this drawing command,
and the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawMultiIndexedEXT-firstAttachment-07478) VUID-vkCmdDrawMultiIndexedEXT-firstAttachment-07478

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorWriteMaskEXT` calls **must** specify the
color write mask for all active color attachments in the current subpass

[](#VUID-vkCmdDrawMultiIndexedEXT-rasterizerDiscardEnable-09419) VUID-vkCmdDrawMultiIndexedEXT-rasterizerDiscardEnable-09419

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorWriteMaskEXT`
calls **must** specify the color write mask for all active color
attachments in the current subpass

[](#VUID-vkCmdDrawMultiIndexedEXT-firstAttachment-07479) VUID-vkCmdDrawMultiIndexedEXT-firstAttachment-07479

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendAdvancedEXT`
calls **must** specify the advanced blend equations for all active color
attachments in the current subpass where blending is enabled

[](#VUID-vkCmdDrawMultiIndexedEXT-advancedBlendMaxColorAttachments-07480) VUID-vkCmdDrawMultiIndexedEXT-advancedBlendMaxColorAttachments-07480

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` and
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic states enabled and
the last calls to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) and
[vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) have enabled advanced blending, then
the number of active color attachments in the current subpass **must** not
exceed [    `advancedBlendMaxColorAttachments`](limits.html#limits-advancedBlendMaxColorAttachments)

[](#VUID-vkCmdDrawMultiIndexedEXT-primitivesGeneratedQueryWithNonZeroStreams-07481) VUID-vkCmdDrawMultiIndexedEXT-primitivesGeneratedQueryWithNonZeroStreams-07481

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, and the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` state enabled, the last
call to [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have set the
`rasterizationStream` to zero

[](#VUID-vkCmdDrawMultiIndexedEXT-sampleLocationsPerPixel-07482) VUID-vkCmdDrawMultiIndexedEXT-sampleLocationsPerPixel-07482

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` member of the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo) structure the bound graphics
pipeline has been created with

[](#VUID-vkCmdDrawMultiIndexedEXT-sampleLocationsPerPixel-07483) VUID-vkCmdDrawMultiIndexedEXT-sampleLocationsPerPixel-07483

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` parameter of the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMultiIndexedEXT-sampleLocationsEnable-07484) VUID-vkCmdDrawMultiIndexedEXT-sampleLocationsEnable-07484

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), and the current subpass has a
depth/stencil attachment, then that attachment **must** have been created
with the `VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT`
bit set

[](#VUID-vkCmdDrawMultiIndexedEXT-sampleLocationsEnable-07485) VUID-vkCmdDrawMultiIndexedEXT-sampleLocationsEnable-07485

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.width` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawMultiIndexedEXT-sampleLocationsEnable-07486) VUID-vkCmdDrawMultiIndexedEXT-sampleLocationsEnable-07486

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.height` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawMultiIndexedEXT-sampleLocationsEnable-07487) VUID-vkCmdDrawMultiIndexedEXT-sampleLocationsEnable-07487

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), the fragment shader code **must**
not statically use the extended instruction `InterpolateAtSample`

[](#VUID-vkCmdDrawMultiIndexedEXT-sampleLocationsEnable-07936) VUID-vkCmdDrawMultiIndexedEXT-sampleLocationsEnable-07936

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.width` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMultiIndexedEXT-sampleLocationsEnable-07937) VUID-vkCmdDrawMultiIndexedEXT-sampleLocationsEnable-07937

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.height` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMultiIndexedEXT-sampleLocationsEnable-07938) VUID-vkCmdDrawMultiIndexedEXT-sampleLocationsEnable-07938

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationsPerPixel` **must** equal
`rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMultiIndexedEXT-coverageModulationTableEnable-07488) VUID-vkCmdDrawMultiIndexedEXT-coverageModulationTableEnable-07488

If
a shader object is bound to any graphics stage or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` state
enabled, and the last call to
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) set
`coverageModulationTableEnable` to `VK_TRUE`, then the
`coverageModulationTableCount` parameter in the last call to
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** equal the current
`rasterizationSamples` divided by the number of color samples in the
current subpass

[](#VUID-vkCmdDrawMultiIndexedEXT-rasterizationSamples-07489) VUID-vkCmdDrawMultiIndexedEXT-rasterizationSamples-07489

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and if current subpass has a depth/stencil attachment and depth test,
stencil test, or depth bounds test are enabled in the bound pipeline,
then the current `rasterizationSamples` **must** be the same as the
sample count of the depth/stencil attachment

[](#VUID-vkCmdDrawMultiIndexedEXT-coverageToColorEnable-07490) VUID-vkCmdDrawMultiIndexedEXT-coverageToColorEnable-07490

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` state enabled and the
last call to [vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawMultiIndexedEXT-rasterizerDiscardEnable-09420) VUID-vkCmdDrawMultiIndexedEXT-rasterizerDiscardEnable-09420

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the last call to
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawMultiIndexedEXT-coverageReductionMode-07491) VUID-vkCmdDrawMultiIndexedEXT-coverageReductionMode-07491

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` or
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic states enabled,
then the [current values](pipelines.html#dynamic-state-current-value) of
`coverageReductionMode`, `rasterizationSamples`, the sample
counts for the color and depth/stencil attachments (if the subpass has
them) **must** be a valid combination returned by
[vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV](fragops.html#vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV)

[](#VUID-vkCmdDrawMultiIndexedEXT-viewportCount-07492) VUID-vkCmdDrawMultiIndexedEXT-viewportCount-07492

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMultiIndexedEXT-viewportCount-07493) VUID-vkCmdDrawMultiIndexedEXT-viewportCount-07493

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic states enabled then
the `viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMultiIndexedEXT-viewportCount-09421) VUID-vkCmdDrawMultiIndexedEXT-viewportCount-09421

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and a
shader object is bound to any graphics stage, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMultiIndexedEXT-rasterizationSamples-07494) VUID-vkCmdDrawMultiIndexedEXT-rasterizationSamples-07494

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is not enabled, or the [current    value](pipelines.html#dynamic-state-current-value) of `coverageReductionMode` is not
`VK_COVERAGE_REDUCTION_MODE_TRUNCATE_NV`,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizationSamples` is greater than sample count of the color
attachment, then [sample shading](primsrast.html#primsrast-sampleshading) **must** be
disabled

[](#VUID-vkCmdDrawMultiIndexedEXT-stippledLineEnable-07495) VUID-vkCmdDrawMultiIndexedEXT-stippledLineEnable-07495

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled

[](#VUID-vkCmdDrawMultiIndexedEXT-stippledLineEnable-07496) VUID-vkCmdDrawMultiIndexedEXT-stippledLineEnable-07496

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM`, then the
[`stippledBresenhamLines`](features.html#features-stippledBresenhamLines)
feature **must** be enabled

[](#VUID-vkCmdDrawMultiIndexedEXT-stippledLineEnable-07497) VUID-vkCmdDrawMultiIndexedEXT-stippledLineEnable-07497

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the
[`stippledSmoothLines`](features.html#features-stippledSmoothLines) feature
**must** be enabled

[](#VUID-vkCmdDrawMultiIndexedEXT-stippledLineEnable-07498) VUID-vkCmdDrawMultiIndexedEXT-stippledLineEnable-07498

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_DEFAULT`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled and
[VkPhysicalDeviceLimits](limits.html#VkPhysicalDeviceLimits)::`strictLines` **must** be `VK_TRUE`

[](#VUID-vkCmdDrawMultiIndexedEXT-conservativePointAndLineRasterization-07499) VUID-vkCmdDrawMultiIndexedEXT-conservativePointAndLineRasterization-07499

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, [    `conservativePointAndLineRasterization`](limits.html#limits-conservativePointAndLineRasterization) is not supported, and the
effective primitive topology output by the last pre-rasterization shader
stage is a line or point, then the `conservativeRasterizationMode`
set by the last call to [vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT)
**must** be `VK_CONSERVATIVE_RASTERIZATION_MODE_DISABLED_EXT`

[](#VUID-vkCmdDrawMultiIndexedEXT-stage-07073) VUID-vkCmdDrawMultiIndexedEXT-stage-07073

If the bound pipeline was created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of an element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT`, then [Mesh    Shader Queries](queries.html#queries-mesh-shader) **must** not be active

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08877) VUID-vkCmdDrawMultiIndexedEXT-None-08877

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-None-07850) VUID-vkCmdDrawMultiIndexedEXT-None-07850

If dynamic state was inherited from
[VkCommandBufferInheritanceViewportScissorInfoNV](cmdbuffers.html#VkCommandBufferInheritanceViewportScissorInfoNV), it **must** be set
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMultiIndexedEXT-nextStage-10745) VUID-vkCmdDrawMultiIndexedEXT-nextStage-10745

For each shader object bound to a graphics stage, except for shader
object bound to the last graphics stage in the logical pipeline, it
**must** have been created with a `nextStage` including the
corresponding bit to the shader object bound to the following graphics
stage in the logical pipeline

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08684) VUID-vkCmdDrawMultiIndexedEXT-None-08684

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_VERTEX_BIT`

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08685) VUID-vkCmdDrawMultiIndexedEXT-None-08685

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08686) VUID-vkCmdDrawMultiIndexedEXT-None-08686

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT`

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08687) VUID-vkCmdDrawMultiIndexedEXT-None-08687

If there is no bound graphics pipeline, and the
[`geometryShader`](features.html#features-geometryShader) feature is enabled,
`vkCmdBindShadersEXT` **must** have been called in the current command
buffer with `pStages` with an element of
`VK_SHADER_STAGE_GEOMETRY_BIT`

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08688) VUID-vkCmdDrawMultiIndexedEXT-None-08688

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_FRAGMENT_BIT`

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08689) VUID-vkCmdDrawMultiIndexedEXT-None-08689

If there is no bound graphics pipeline, and the [    `taskShader`](features.html#features-taskShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_TASK_BIT_EXT`

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08690) VUID-vkCmdDrawMultiIndexedEXT-None-08690

If there is no bound graphics pipeline, and the [    `meshShader`](features.html#features-meshShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_MESH_BIT_EXT`

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08693) VUID-vkCmdDrawMultiIndexedEXT-None-08693

If there is no bound graphics pipeline, and at least one of the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features is enabled, one of the
`VK_SHADER_STAGE_VERTEX_BIT` or `VK_SHADER_STAGE_MESH_BIT_EXT`
stages **must** have a valid `VkShaderEXT` bound, and the other **must**
have no `VkShaderEXT` bound

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08696) VUID-vkCmdDrawMultiIndexedEXT-None-08696

If there is no bound graphics pipeline, and a valid `VkShaderEXT` is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, there **must** be no
`VkShaderEXT` bound to either the `VK_SHADER_STAGE_TASK_BIT_EXT`
stage or the `VK_SHADER_STAGE_MESH_BIT_EXT` stage

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08698) VUID-vkCmdDrawMultiIndexedEXT-None-08698

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, then all shaders created
with the `VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag in the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** also be bound

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08699) VUID-vkCmdDrawMultiIndexedEXT-None-08699

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, any stages in between
stages whose shaders which did not create a shader with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag as part of the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** not have any `VkShaderEXT` bound

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08878) VUID-vkCmdDrawMultiIndexedEXT-None-08878

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) push constant
ranges

[](#VUID-vkCmdDrawMultiIndexedEXT-None-08879) VUID-vkCmdDrawMultiIndexedEXT-None-08879

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) arrays of
descriptor set layouts

[](#VUID-vkCmdDrawMultiIndexedEXT-colorAttachmentCount-09372) VUID-vkCmdDrawMultiIndexedEXT-colorAttachmentCount-09372

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, a color
attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, and a fragment
shader is bound, it **must** not declare the `DepthReplacing` or
`StencilRefReplacingEXT` execution modes

[](#VUID-vkCmdDrawMultiIndexedEXT-pDynamicStates-08715) VUID-vkCmdDrawMultiIndexedEXT-pDynamicStates-08715

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpDepthAttachmentReadEXT`, the `depthWriteEnable` parameter
in the last call to [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawMultiIndexedEXT-pDynamicStates-08716) VUID-vkCmdDrawMultiIndexedEXT-pDynamicStates-08716

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpStencilAttachmentReadEXT`, the `writeMask` parameter in
the last call to [vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** be `0`

[](#VUID-vkCmdDrawMultiIndexedEXT-None-09116) VUID-vkCmdDrawMultiIndexedEXT-None-09116

    If
    a shader object is bound to any graphics stage
or
    the bound graphics pipeline was created with
    `VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT`,
    and the format of any color attachment is
    `VK_FORMAT_E5B9G9R9_UFLOAT_PACK32`, the corresponding element of the
    `pColorWriteMasks` parameter of [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT)
    **must** either include all of `VK_COLOR_COMPONENT_R_BIT`,
    `VK_COLOR_COMPONENT_G_BIT`, and `VK_COLOR_COMPONENT_B_BIT`, or
    none of them

[](#VUID-vkCmdDrawMultiIndexedEXT-maxFragmentDualSrcAttachments-09239) VUID-vkCmdDrawMultiIndexedEXT-maxFragmentDualSrcAttachments-09239

If [blending](framebuffer.html#framebuffer-blending) is enabled for any attachment where
either the source or destination blend factors for that attachment
[use the secondary color input](framebuffer.html#framebuffer-dsb), the maximum value of
`Location` for any output attachment [statically    used](shaders.html#shaders-staticuse) in the `Fragment` `Execution` `Model` executed by this command
**must** be less than [    `maxFragmentDualSrcAttachments`](limits.html#limits-maxFragmentDualSrcAttachments)

[](#VUID-vkCmdDrawMultiIndexedEXT-None-09548) VUID-vkCmdDrawMultiIndexedEXT-None-09548

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
the value of each element of
[VkRenderingAttachmentLocationInfo](interfaces.html#VkRenderingAttachmentLocationInfo)::`pColorAttachmentLocations`
set by [vkCmdSetRenderingAttachmentLocations](interfaces.html#vkCmdSetRenderingAttachmentLocations) **must** match the value
set for the corresponding element in the bound pipeline

[](#VUID-vkCmdDrawMultiIndexedEXT-None-09549) VUID-vkCmdDrawMultiIndexedEXT-None-09549

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
input attachment index mappings in the bound pipeline **must** match those
set for the current render pass instance via
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

[](#VUID-vkCmdDrawMultiIndexedEXT-None-09642) VUID-vkCmdDrawMultiIndexedEXT-None-09642

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with
the `VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag, the bound
graphics pipeline **must** have been created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`

[](#VUID-vkCmdDrawMultiIndexedEXT-None-09643) VUID-vkCmdDrawMultiIndexedEXT-None-09643

If the bound graphics pipeline was created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`, the current
render pass **must** have begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with the
`VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag

[](#VUID-vkCmdDrawMultiIndexedEXT-None-10677) VUID-vkCmdDrawMultiIndexedEXT-None-10677

If the [per-tile execution model](renderpass.html#renderpass-per-tile-execution-model)
is enabled, the
[tileShadingPerTileDraw](features.html#features-tileShadingPerTileDraw) feature **must**
be enabled

[](#VUID-vkCmdDrawMultiIndexedEXT-None-10772) VUID-vkCmdDrawMultiIndexedEXT-None-10772

If a shader object is bound to any graphics stage, *multiview*
functionality **must** not be enabled in the current render pass

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-commandBuffer-02712) VUID-vkCmdDrawMultiIndexedEXT-commandBuffer-02712

If `commandBuffer` is a protected command buffer and
[`protectedNoFault`](devsandqueues.html#limits-protectedNoFault) is not supported,
any resource written to by the `VkPipeline` object bound to the
pipeline bind point used by this command **must** not be an unprotected
resource

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-commandBuffer-02713) VUID-vkCmdDrawMultiIndexedEXT-commandBuffer-02713

If `commandBuffer` is a protected command buffer and
[`protectedNoFault`](devsandqueues.html#limits-protectedNoFault) is not supported,
pipeline stages other than the framebuffer-space and compute stages in
the `VkPipeline` object bound to the pipeline bind point used by
this command **must** not write to any resource

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-commandBuffer-04617) VUID-vkCmdDrawMultiIndexedEXT-commandBuffer-04617

If any of the shader stages of the `VkPipeline` bound to the
pipeline bind point used by this command uses the
[`RayQueryKHR`](../appendices/spirvenv.html#spirvenv-capabilities-table-RayQueryKHR)
capability, then `commandBuffer` **must** not be a protected command
buffer

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-04007) VUID-vkCmdDrawMultiIndexedEXT-None-04007

All vertex input bindings accessed via vertex input variables declared
in the vertex shader entry point’s interface **must** have either valid or
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) buffers bound

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-04008) VUID-vkCmdDrawMultiIndexedEXT-None-04008

If the [`nullDescriptor`](features.html#features-nullDescriptor) feature is not
enabled, all vertex input bindings accessed via vertex input variables
declared in the vertex shader entry point’s interface **must** not be
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-02721) VUID-vkCmdDrawMultiIndexedEXT-None-02721

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled,
and that pipeline was created without enabling
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` for
`vertexInputs`,
then for a given vertex buffer binding, any attribute data fetched **must**
be entirely contained within the corresponding vertex buffer binding, as
described in [Vertex Input Description](fxvertex.html#fxvertex-input)

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-format-10389) VUID-vkCmdDrawMultiIndexedEXT-format-10389

For each vertex attribute accessed by this command, if its
[VkVertexInputAttributeDescription](fxvertex.html#VkVertexInputAttributeDescription)::`format`
or [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format`
is a [packed format](formats.html#formats-packed),
and [`legacyVertexAttributes`](features.html#features-legacyVertexAttributes) is
not enabled,
the value of `attribAddress`, calculated as described in
[Vertex Input Calculation](fxvertex.html#fxvertex-input-address-calculation), **must**
be a multiple of the [size of the `format`](formats.html#formats)

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-format-10390) VUID-vkCmdDrawMultiIndexedEXT-format-10390

For each vertex attribute accessed by this command, if its
[VkVertexInputAttributeDescription](fxvertex.html#VkVertexInputAttributeDescription)::`format`
or [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format`
is not a [packed format](formats.html#formats-packed),
and either [    `legacyVertexAttributes`](features.html#features-legacyVertexAttributes) is not enabled or `format` has 64-bit
components,
the value of `attribAddress`, calculated as described in
[Vertex Input Calculation](fxvertex.html#fxvertex-input-address-calculation), **must**
be a multiple of the [component size of the `format`](formats.html#formats)

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-07842) VUID-vkCmdDrawMultiIndexedEXT-None-07842

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY` dynamic state enabled
    then [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-dynamicPrimitiveTopologyUnrestricted-07500) VUID-vkCmdDrawMultiIndexedEXT-dynamicPrimitiveTopologyUnrestricted-07500

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY` dynamic state enabled
and the [    `dynamicPrimitiveTopologyUnrestricted`](limits.html#limits-dynamicPrimitiveTopologyUnrestricted) is `VK_FALSE`,
then the `primitiveTopology` parameter of
`vkCmdSetPrimitiveTopology` **must** be of the same
[topology class](#drawing-primitive-topology-class) as the pipeline
[VkPipelineInputAssemblyStateCreateInfo](#VkPipelineInputAssemblyStateCreateInfo)::`topology` state

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-primitiveTopology-10286) VUID-vkCmdDrawMultiIndexedEXT-primitiveTopology-10286

If a `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage is bound, then
the [current value](pipelines.html#dynamic-state-current-value) of
`primitiveTopology` **must** be `VK_PRIMITIVE_TOPOLOGY_PATCH_LIST`
prior to this drawing command

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-primitiveTopology-10747) VUID-vkCmdDrawMultiIndexedEXT-primitiveTopology-10747

If [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) set `primitiveTopology` to
`VK_PRIMITIVE_TOPOLOGY_PATCH_LIST` prior to this drawing command,
then a `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage **must** be
bound

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-primitiveTopology-10748) VUID-vkCmdDrawMultiIndexedEXT-primitiveTopology-10748

If [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) set `primitiveTopology` to
`VK_PRIMITIVE_TOPOLOGY_POINT_LIST` prior to this drawing command,
the [`maintenance5`](features.html#features-maintenance5) feature is not
enabled,
both a `VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` and
`VK_SHADER_STAGE_GEOMETRY_BIT` stage are not bound, then the
`Vertex` `Execution` `Model` **must** have a `PointSize` decorated
variable that is statically written to

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-pStrides-04913) VUID-vkCmdDrawMultiIndexedEXT-pStrides-04913

If the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_VERTEX_INPUT_BINDING_STRIDE` dynamic state
enabled,
but without the `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state
enabled,
then [vkCmdBindVertexBuffers2](fxvertex.html#vkCmdBindVertexBuffers2) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this draw command, and the `pStrides`
parameter of [vkCmdBindVertexBuffers2](fxvertex.html#vkCmdBindVertexBuffers2) **must** not be `NULL`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-04914) VUID-vkCmdDrawMultiIndexedEXT-None-04914

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    then [vkCmdSetVertexInputEXT](fxvertex.html#vkCmdSetVertexInputEXT) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this draw command

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-Input-07939) VUID-vkCmdDrawMultiIndexedEXT-Input-07939

    If
    [`vertexAttributeRobustness`](features.html#features-vertexAttributeRobustness)
    is not enabled and
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    then all variables with the `Input` storage class decorated with
    `Location` in the `Vertex` `Execution` `Model` `OpEntryPoint`
    **must** contain a location in
    [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`location`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-Input-08734) VUID-vkCmdDrawMultiIndexedEXT-Input-08734

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and either the [    `legacyVertexAttributes`](features.html#features-legacyVertexAttributes) feature is not enabled or the SPIR-V Type
    associated with a given `Input` variable of the corresponding
    `Location` in the `Vertex` `Execution` `Model` `OpEntryPoint` is
    64-bit,
    then the numeric type associated with all `Input` variables of the
    corresponding `Location` in the `Vertex` `Execution` `Model`
    `OpEntryPoint` **must** be the same as
    [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-format-08936) VUID-vkCmdDrawMultiIndexedEXT-format-08936

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format` has a
    64-bit component, then the scalar width associated with all `Input`
    variables of the corresponding `Location` in the `Vertex`
    `Execution` `Model` `OpEntryPoint` **must** be 64-bit

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-format-08937) VUID-vkCmdDrawMultiIndexedEXT-format-08937

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and the scalar width associated with a `Location` decorated
    `Input` variable in the `Vertex` `Execution` `Model`
    `OpEntryPoint` is 64-bit, then the corresponding
    [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format` **must** have a
    64-bit component

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-09203) VUID-vkCmdDrawMultiIndexedEXT-None-09203

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format` has a
    64-bit component, then all `Input` variables at the corresponding
    `Location` in the `Vertex` `Execution` `Model` `OpEntryPoint`
    **must** not use components that are not present in the format

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-04875) VUID-vkCmdDrawMultiIndexedEXT-None-04875

    If
    there is a shader object bound to the
    `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage
or
    the bound graphics pipeline state was created with both a
    `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage and the
    `VK_DYNAMIC_STATE_PATCH_CONTROL_POINTS_EXT` dynamic state enabled,
    and the [current value](pipelines.html#dynamic-state-current-value) of
    `primitiveTopology` is `VK_PRIMITIVE_TOPOLOGY_PATCH_LIST`, then
    [vkCmdSetPatchControlPointsEXT](shaders.html#vkCmdSetPatchControlPointsEXT) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-04879) VUID-vkCmdDrawMultiIndexedEXT-None-04879

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE` dynamic state enabled
    then [vkCmdSetPrimitiveRestartEnable](#vkCmdSetPrimitiveRestartEnable) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-09637) VUID-vkCmdDrawMultiIndexedEXT-None-09637

    If
    the [    `primitiveTopologyListRestart`](features.html#features-primitiveTopologyListRestart) feature is not enabled,
    the topology is `VK_PRIMITIVE_TOPOLOGY_POINT_LIST`,
    `VK_PRIMITIVE_TOPOLOGY_LINE_LIST`,
    `VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST`,
    `VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY`, or
    `VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY`,
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE` dynamic state enabled
    then [vkCmdSetPrimitiveRestartEnable](#vkCmdSetPrimitiveRestartEnable) **must** be `VK_FALSE`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-stage-06481) VUID-vkCmdDrawMultiIndexedEXT-stage-06481

The bound graphics pipeline **must** not have been created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of any element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_TASK_BIT_EXT` or `VK_SHADER_STAGE_MESH_BIT_EXT`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-08885) VUID-vkCmdDrawMultiIndexedEXT-None-08885

There **must** be no shader object bound to either of the
`VK_SHADER_STAGE_TASK_BIT_EXT` or `VK_SHADER_STAGE_MESH_BIT_EXT`
stages

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-07619) VUID-vkCmdDrawMultiIndexedEXT-None-07619

If
a shader object is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` stage or
a graphics pipeline is bound which was created with both a
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` stage and the
`VK_DYNAMIC_STATE_TESSELLATION_DOMAIN_ORIGIN_EXT` dynamic state
enabled, then [vkCmdSetTessellationDomainOriginEXT](tessellation.html#vkCmdSetTessellationDomainOriginEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-07312) VUID-vkCmdDrawMultiIndexedEXT-None-07312

If the [`maintenance6`](features.html#features-maintenance6) feature is not
enabled, a
valid index buffer **must** be bound

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-pNext-09461) VUID-vkCmdDrawMultiIndexedEXT-pNext-09461

If the bound graphics pipeline state was created with
[VkPipelineVertexInputDivisorStateCreateInfo](fxvertex.html#VkPipelineVertexInputDivisorStateCreateInfo) in the `pNext`
chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pVertexInputState`,
any member of
[VkPipelineVertexInputDivisorStateCreateInfo](fxvertex.html#VkPipelineVertexInputDivisorStateCreateInfo)::`pVertexBindingDivisors`
has a value other than `1` in `divisor`, and
[VkPhysicalDeviceVertexAttributeDivisorProperties](limits.html#VkPhysicalDeviceVertexAttributeDivisorProperties)::`supportsNonZeroFirstInstance`
is `VK_FALSE`, then `firstInstance` **must** be `0`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-09462) VUID-vkCmdDrawMultiIndexedEXT-None-09462

If
[shader objects](shaders.html#shaders-objects) are used for drawing or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled, any
member of the `pVertexBindingDescriptions` parameter to the
[vkCmdSetVertexInputEXT](fxvertex.html#vkCmdSetVertexInputEXT) call that sets this dynamic state has a
value other than `1` in `divisor`, and
[VkPhysicalDeviceVertexAttributeDivisorProperties](limits.html#VkPhysicalDeviceVertexAttributeDivisorProperties)::`supportsNonZeroFirstInstance`
is `VK_FALSE`, then `firstInstance` **must** be `0`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-robustBufferAccess2-08798) VUID-vkCmdDrawMultiIndexedEXT-robustBufferAccess2-08798

If the [`robustBufferAccess2`](features.html#features-robustBufferAccess2)
feature is not enabled, (`indexSize` × (`firstIndex`
+  `indexCount`) +  `offset`) **must** be less than or
equal to the size of the bound index buffer, with `indexSize` being
based on the type specified by `indexType`, where the index buffer,
`indexType`, and `offset` are specified via
`vkCmdBindIndexBuffer`
or `vkCmdBindIndexBuffer2`.
If `vkCmdBindIndexBuffer2` is used to bind the index buffer, the
size of the bound index buffer is
[vkCmdBindIndexBuffer2](#vkCmdBindIndexBuffer2)::`size`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-None-04937) VUID-vkCmdDrawMultiIndexedEXT-None-04937

The [`multiDraw`](features.html#features-multiDraw) feature **must** be enabled

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-drawCount-04939) VUID-vkCmdDrawMultiIndexedEXT-drawCount-04939

`drawCount` **must** be less than
`VkPhysicalDeviceMultiDrawPropertiesEXT`::`maxMultiDrawCount`

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-drawCount-04940) VUID-vkCmdDrawMultiIndexedEXT-drawCount-04940

If `drawCount` is greater than zero, `pIndexInfo` **must** be a
valid pointer to memory containing one or more valid instances of
[VkMultiDrawIndexedInfoEXT](#VkMultiDrawIndexedInfoEXT) structures

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-drawCount-09629) VUID-vkCmdDrawMultiIndexedEXT-drawCount-09629

If `drawCount` is greater than `1`, `stride` **must** be a multiple
of `4` and **must** be greater than or equal to
`sizeof`(`VkMultiDrawIndexedInfoEXT`)

Valid Usage (Implicit)

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-commandBuffer-parameter) VUID-vkCmdDrawMultiIndexedEXT-commandBuffer-parameter

 `commandBuffer` **must** be a valid [VkCommandBuffer](cmdbuffers.html#VkCommandBuffer) handle

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-pVertexOffset-parameter) VUID-vkCmdDrawMultiIndexedEXT-pVertexOffset-parameter

 If `pVertexOffset` is not `NULL`, `pVertexOffset` **must** be a valid pointer to a valid `int32_t` value

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-commandBuffer-recording) VUID-vkCmdDrawMultiIndexedEXT-commandBuffer-recording

 `commandBuffer` **must** be in the [recording state](cmdbuffers.html#commandbuffers-lifecycle)

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-commandBuffer-cmdpool) VUID-vkCmdDrawMultiIndexedEXT-commandBuffer-cmdpool

 The `VkCommandPool` that `commandBuffer` was allocated from **must** support graphics operations

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-renderpass) VUID-vkCmdDrawMultiIndexedEXT-renderpass

 This command **must** only be called inside of a render pass instance

* 
[](#VUID-vkCmdDrawMultiIndexedEXT-videocoding) VUID-vkCmdDrawMultiIndexedEXT-videocoding

 This command **must** only be called outside of a video coding scope

Host Synchronization

* 
Host access to `commandBuffer` **must** be externally synchronized

* 
Host access to the `VkCommandPool` that `commandBuffer` was allocated from **must** be externally synchronized

Command Properties
| [Command Buffer Levels](cmdbuffers.html#VkCommandBufferLevel) | [Render Pass Scope](renderpass.html#vkCmdBeginRenderPass) | [Video Coding Scope](videocoding.html#vkCmdBeginVideoCodingKHR) | [Supported Queue Types](devsandqueues.html#VkQueueFlagBits) | [Command Type](fundamentals.html#fundamentals-queueoperation-command-types) |
| --- | --- | --- | --- | --- |
| Primary

Secondary | Inside | Outside | Graphics | Action |

The `VkMultiDrawInfoEXT` structure is defined as:

// Provided by VK_EXT_multi_draw
typedef struct VkMultiDrawInfoEXT {
    uint32_t    firstVertex;
    uint32_t    vertexCount;
} VkMultiDrawInfoEXT;

* 
`firstVertex` is the first vertex to draw.

* 
`vertexCount` is the number of vertices to draw.

The members of `VkMultiDrawInfoEXT` have the same meaning as the
`firstVertex` and `vertexCount` parameters in [vkCmdDraw](#vkCmdDraw).

The `VkMultiDrawIndexedInfoEXT` structure is defined as:

// Provided by VK_EXT_multi_draw
typedef struct VkMultiDrawIndexedInfoEXT {
    uint32_t    firstIndex;
    uint32_t    indexCount;
    int32_t     vertexOffset;
} VkMultiDrawIndexedInfoEXT;

* 
`firstIndex` is the first index to draw.

* 
`indexCount` is the number of vertices to draw.

* 
`vertexOffset` is the value added to the vertex index before
indexing into the vertex buffer for indexed multidraws.

The `firstIndex`, `indexCount`, and `vertexOffset` members of
`VkMultiDrawIndexedInfoEXT` have the same meaning as the
`firstIndex`, `indexCount`, and `vertexOffset` parameters,
respectively, of [vkCmdDrawIndexed](#vkCmdDrawIndexed).

To record a non-indexed indirect drawing command, call:

// Provided by VK_VERSION_1_0
void vkCmdDrawIndirect(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    buffer,
    VkDeviceSize                                offset,
    uint32_t                                    drawCount,
    uint32_t                                    stride);

* 
`commandBuffer` is the command buffer into which the command is
recorded.

* 
`buffer` is the buffer containing draw parameters.

* 
`offset` is the byte offset into `buffer` where parameters
begin.

* 
`drawCount` is the number of draws to execute, and **can** be zero.

* 
`stride` is the byte stride between successive sets of draw
parameters.

`vkCmdDrawIndirect` behaves similarly to [vkCmdDraw](#vkCmdDraw) except that the
parameters are read by the device from a buffer during execution.
`drawCount` draws are executed by the command, with parameters taken
from `buffer` starting at `offset` and increasing by `stride`
bytes for each successive draw.
The parameters of each draw are encoded in an array of
[VkDrawIndirectCommand](#VkDrawIndirectCommand) structures.
If `drawCount` is less than or equal to one, `stride` is ignored.

Valid Usage

* 
[](#VUID-vkCmdDrawIndirect-magFilter-04553) VUID-vkCmdDrawIndirect-magFilter-04553

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawIndirect-magFilter-09598) VUID-vkCmdDrawIndirect-magFilter-09598

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR` and `reductionMode` equal to either
`VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawIndirect-mipmapMode-04770) VUID-vkCmdDrawIndirect-mipmapMode-04770

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawIndirect-mipmapMode-09599) VUID-vkCmdDrawIndirect-mipmapMode-09599

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR` and `reductionMode` equal to
either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawIndirect-unnormalizedCoordinates-09635) VUID-vkCmdDrawIndirect-unnormalizedCoordinates-09635

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `levelCount` and `layerCount`
**must** be 1

* 
[](#VUID-vkCmdDrawIndirect-None-08609) VUID-vkCmdDrawIndirect-None-08609

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `viewType` **must** be
`VK_IMAGE_VIEW_TYPE_1D` or `VK_IMAGE_VIEW_TYPE_2D`

* 
[](#VUID-vkCmdDrawIndirect-None-08610) VUID-vkCmdDrawIndirect-None-08610

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions with
`ImplicitLod`, `Dref` or `Proj` in their name

* 
[](#VUID-vkCmdDrawIndirect-None-08611) VUID-vkCmdDrawIndirect-None-08611

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions that includes a
LOD bias or any offset values

* 
[](#VUID-vkCmdDrawIndirect-None-06479) VUID-vkCmdDrawIndirect-None-06479

If a [VkImageView](resources.html#VkImageView) is sampled with
[depth comparison](textures.html#textures-depth-compare-operation), the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_SAMPLED_IMAGE_DEPTH_COMPARISON_BIT`

* 
[](#VUID-vkCmdDrawIndirect-None-02691) VUID-vkCmdDrawIndirect-None-02691

If a [VkImageView](resources.html#VkImageView) is accessed using atomic operations as a result
of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawIndirect-None-07888) VUID-vkCmdDrawIndirect-None-07888

If a `VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER` descriptor is
accessed using atomic operations as a result of this command, then the
storage texel buffer’s [format    features](resources.html#resources-buffer-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawIndirect-None-02692) VUID-vkCmdDrawIndirect-None-02692

If a [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_CUBIC_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndirect-None-02693) VUID-vkCmdDrawIndirect-None-02693

If
the [VK_EXT_filter_cubic](../appendices/extensions.html#VK_EXT_filter_cubic) extension is not enabled and
any [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, it **must** not have a [VkImageViewType](resources.html#VkImageViewType) of
`VK_IMAGE_VIEW_TYPE_3D`, `VK_IMAGE_VIEW_TYPE_CUBE`, or
`VK_IMAGE_VIEW_TYPE_CUBE_ARRAY`

* 
[](#VUID-vkCmdDrawIndirect-filterCubic-02694) VUID-vkCmdDrawIndirect-filterCubic-02694

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command **must** have a [VkImageViewType](resources.html#VkImageViewType) and format
that supports cubic filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubic`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawIndirect-filterCubicMinmax-02695) VUID-vkCmdDrawIndirect-filterCubicMinmax-02695

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` with
a reduction mode of either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` as a result of this command **must**
have a [VkImageViewType](resources.html#VkImageViewType) and format that supports cubic filtering
together with minmax filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubicMinmax`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawIndirect-cubicRangeClamp-09212) VUID-vkCmdDrawIndirect-cubicRangeClamp-09212

If the [`cubicRangeClamp`](features.html#features-cubicRangeClamp) feature is
not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** not have a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM`

* 
[](#VUID-vkCmdDrawIndirect-reductionMode-09213) VUID-vkCmdDrawIndirect-reductionMode-09213

Any [VkImageView](resources.html#VkImageView) being sampled with a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM` as a
result of this command **must** sample with `VK_FILTER_CUBIC_EXT`

* 
[](#VUID-vkCmdDrawIndirect-selectableCubicWeights-09214) VUID-vkCmdDrawIndirect-selectableCubicWeights-09214

If the [`selectableCubicWeights`](features.html#features-selectableCubicWeights)
feature is not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** have
[VkSamplerCubicWeightsCreateInfoQCOM](samplers.html#VkSamplerCubicWeightsCreateInfoQCOM)::`cubicWeights` equal to
`VK_CUBIC_FILTER_WEIGHTS_CATMULL_ROM_QCOM`

* 
[](#VUID-vkCmdDrawIndirect-flags-02696) VUID-vkCmdDrawIndirect-flags-02696

Any [VkImage](resources.html#VkImage) created with a [VkImageCreateInfo](resources.html#VkImageCreateInfo)::`flags`
containing `VK_IMAGE_CREATE_CORNER_SAMPLED_BIT_NV` sampled as a
result of this command **must** only be sampled using a
[VkSamplerAddressMode](samplers.html#VkSamplerAddressMode) of
`VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE`

* 
[](#VUID-vkCmdDrawIndirect-OpTypeImage-07027) VUID-vkCmdDrawIndirect-OpTypeImage-07027

For any [VkImageView](resources.html#VkImageView) being written as a storage image where the
image format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawIndirect-OpTypeImage-07028) VUID-vkCmdDrawIndirect-OpTypeImage-07028

For any [VkImageView](resources.html#VkImageView) being read as a storage image where the image
format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawIndirect-OpTypeImage-07029) VUID-vkCmdDrawIndirect-OpTypeImage-07029

For any [VkBufferView](resources.html#VkBufferView) being written as a storage texel buffer where
the image format field of the `OpTypeImage` is `Unknown`, the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawIndirect-OpTypeImage-07030) VUID-vkCmdDrawIndirect-OpTypeImage-07030

Any [VkBufferView](resources.html#VkBufferView) being read as a storage texel buffer where the
image format field of the `OpTypeImage` is `Unknown` then the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawIndirect-None-08600) VUID-vkCmdDrawIndirect-None-08600

For each set *n* that is statically used by [a bound    shader](shaders.html#shaders-binding), a descriptor set **must** have been bound to *n* at the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for set *n*, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the current
[VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawIndirect-None-08601) VUID-vkCmdDrawIndirect-None-08601

For each push constant that is statically used by [a    bound shader](shaders.html#shaders-binding), a push constant value **must** have been set for the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the
current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawIndirect-None-10068) VUID-vkCmdDrawIndirect-None-10068

For each array of resources that is used by [a bound    shader](shaders.html#shaders-binding), the indices used to access members of the array **must** be less
than the descriptor count for the identified binding in the descriptor
sets used by this command

* 
[](#VUID-vkCmdDrawIndirect-maintenance4-08602) VUID-vkCmdDrawIndirect-maintenance4-08602

If the [`maintenance4`](features.html#features-maintenance4) feature is not
enabled, then for each push constant that is statically used by
[a bound shader](shaders.html#shaders-binding), a push constant value **must** have
been set for the same pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
that is compatible for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
used to create the current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) and [VkPushConstantRange](descriptorsets.html#VkPushConstantRange) arrays
used to create the current [VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawIndirect-None-08114) VUID-vkCmdDrawIndirect-None-08114

Descriptors in each bound descriptor set, specified via
[vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), **must** be valid as described by
[descriptor validity](descriptorsets.html#descriptor-validity) if they are statically used
by
the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind point used by this
command and the bound [VkPipeline](pipelines.html#VkPipeline) was not created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndirect-None-08115) VUID-vkCmdDrawIndirect-None-08115

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), the bound
[VkPipeline](pipelines.html#VkPipeline) **must** have been created without
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndirect-None-08116) VUID-vkCmdDrawIndirect-None-08116

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind
point used by this command and the bound [VkPipeline](pipelines.html#VkPipeline) was created
with `VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndirect-None-08604) VUID-vkCmdDrawIndirect-None-08604

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command

* 
[](#VUID-vkCmdDrawIndirect-None-08117) VUID-vkCmdDrawIndirect-None-08117

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT),
the bound [VkPipeline](pipelines.html#VkPipeline) **must** have been created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndirect-None-08119) VUID-vkCmdDrawIndirect-None-08119

If a descriptor is dynamically used with a [VkPipeline](pipelines.html#VkPipeline) created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the descriptor
memory **must** be resident

* 
[](#VUID-vkCmdDrawIndirect-None-08605) VUID-vkCmdDrawIndirect-None-08605

If a descriptor is dynamically used with a [VkShaderEXT](shaders.html#VkShaderEXT) created
with a `VkDescriptorSetLayout` that was created with
`VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the
descriptor memory **must** be resident

* 
[](#VUID-vkCmdDrawIndirect-None-08606) VUID-vkCmdDrawIndirect-None-08606

If the [`shaderObject`](features.html#features-shaderObject) feature is not
enabled, a
valid pipeline **must** be bound to the pipeline bind point used by this
command

* 
[](#VUID-vkCmdDrawIndirect-None-08608) VUID-vkCmdDrawIndirect-None-08608

If a pipeline is bound to the pipeline bind point used by this command,
there
**must** not have been any calls to dynamic state setting commands for any
state specified statically in the [VkPipeline](pipelines.html#VkPipeline) object bound to the
pipeline bind point used by this command, since that pipeline was bound

* 
[](#VUID-vkCmdDrawIndirect-uniformBuffers-06935) VUID-vkCmdDrawIndirect-uniformBuffers-06935

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a uniform buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`uniformBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawIndirect-None-08612) VUID-vkCmdDrawIndirect-None-08612

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a uniform
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawIndirect-storageBuffers-06936) VUID-vkCmdDrawIndirect-storageBuffers-06936

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a storage buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`storageBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawIndirect-None-08613) VUID-vkCmdDrawIndirect-None-08613

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a storage
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawIndirect-commandBuffer-02707) VUID-vkCmdDrawIndirect-commandBuffer-02707

If `commandBuffer` is an unprotected command buffer and
[`protectedNoFault`](devsandqueues.html#limits-protectedNoFault) is not supported,
any resource accessed by [bound shaders](shaders.html#shaders-binding) **must** not be
a protected resource

* 
[](#VUID-vkCmdDrawIndirect-viewType-07752) VUID-vkCmdDrawIndirect-viewType-07752

If a [VkImageView](resources.html#VkImageView) is accessed as a result of this command, then the
image view’s `viewType` **must** match the `Dim` operand of the
`OpTypeImage` as described in [Compatibility Between SPIR-V Image Dimensions and Vulkan ImageView Types](../appendices/spirvenv.html#spirvenv-image-dimensions)

* 
[](#VUID-vkCmdDrawIndirect-format-07753) VUID-vkCmdDrawIndirect-format-07753

If a [VkImageView](resources.html#VkImageView) or [VkBufferView](resources.html#VkBufferView) is accessed as a result of
this command, then the [numeric type](formats.html#formats-numericformat) of the
view’s `format` and the `Sampled` `Type` operand of the
`OpTypeImage` **must** match

* 
[](#VUID-vkCmdDrawIndirect-OpImageWrite-08795) VUID-vkCmdDrawIndirect-OpImageWrite-08795

If a [VkImageView](resources.html#VkImageView)
created with a format other than `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
at least as many components as the image view’s format

* 
[](#VUID-vkCmdDrawIndirect-OpImageWrite-08796) VUID-vkCmdDrawIndirect-OpImageWrite-08796

If a [VkImageView](resources.html#VkImageView) created with the format `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
four components

* 
[](#VUID-vkCmdDrawIndirect-OpImageWrite-04469) VUID-vkCmdDrawIndirect-OpImageWrite-04469

If a [VkBufferView](resources.html#VkBufferView) is accessed using `OpImageWrite` as a result
of this command, then the `Type` of the `Texel` operand of that
instruction **must** have at least as many components as the buffer view’s
format

* 
[](#VUID-vkCmdDrawIndirect-SampledType-04470) VUID-vkCmdDrawIndirect-SampledType-04470

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit component
width is accessed as a result of this command, the `SampledType` of
the `OpTypeImage` operand of that instruction **must** have a `Width`
of 64

* 
[](#VUID-vkCmdDrawIndirect-SampledType-04471) VUID-vkCmdDrawIndirect-SampledType-04471

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawIndirect-SampledType-04472) VUID-vkCmdDrawIndirect-SampledType-04472

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit
component width is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 64

* 
[](#VUID-vkCmdDrawIndirect-SampledType-04473) VUID-vkCmdDrawIndirect-SampledType-04473

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawIndirect-sparseImageInt64Atomics-04474) VUID-vkCmdDrawIndirect-sparseImageInt64Atomics-04474

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkImage](resources.html#VkImage)
objects created with the `VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT` flag
**must** not be accessed by atomic instructions through an `OpTypeImage`
with a `SampledType` with a `Width` of 64 by this command

* 
[](#VUID-vkCmdDrawIndirect-sparseImageInt64Atomics-04475) VUID-vkCmdDrawIndirect-sparseImageInt64Atomics-04475

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkBuffer](resources.html#VkBuffer)
objects created with the `VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT`
flag **must** not be accessed by atomic instructions through an
`OpTypeImage` with a `SampledType` with a `Width` of 64 by this
command

* 
[](#VUID-vkCmdDrawIndirect-OpImageWeightedSampleQCOM-06971) VUID-vkCmdDrawIndirect-OpImageWeightedSampleQCOM-06971

If `OpImageWeightedSampleQCOM` is used to sample a [VkImageView](resources.html#VkImageView)
as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_SAMPLED_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndirect-OpImageWeightedSampleQCOM-06972) VUID-vkCmdDrawIndirect-OpImageWeightedSampleQCOM-06972

If `OpImageWeightedSampleQCOM` uses a [VkImageView](resources.html#VkImageView) as a sample
weight image as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndirect-OpImageBoxFilterQCOM-06973) VUID-vkCmdDrawIndirect-OpImageBoxFilterQCOM-06973

If `OpImageBoxFilterQCOM` is used to sample a [VkImageView](resources.html#VkImageView) as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BOX_FILTER_SAMPLED_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndirect-OpImageBlockMatchSSDQCOM-06974) VUID-vkCmdDrawIndirect-OpImageBlockMatchSSDQCOM-06974

If `OpImageBlockMatchSSDQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndirect-OpImageBlockMatchSADQCOM-06975) VUID-vkCmdDrawIndirect-OpImageBlockMatchSADQCOM-06975

If `OpImageBlockMatchSADQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndirect-OpImageBlockMatchSADQCOM-06976) VUID-vkCmdDrawIndirect-OpImageBlockMatchSADQCOM-06976

If `OpImageBlockMatchSADQCOM` or OpImageBlockMatchSSDQCOM is used to
read from a reference image as result of this command, then the
specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawIndirect-OpImageWeightedSampleQCOM-06977) VUID-vkCmdDrawIndirect-OpImageWeightedSampleQCOM-06977

If `OpImageWeightedSampleQCOM`, `OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** have
been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndirect-OpImageWeightedSampleQCOM-06978) VUID-vkCmdDrawIndirect-OpImageWeightedSampleQCOM-06978

If any command other than `OpImageWeightedSampleQCOM`,
`OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** not
have been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndirect-OpImageBlockMatchWindow-09215) VUID-vkCmdDrawIndirect-OpImageBlockMatchWindow-09215

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndirect-OpImageBlockMatchWindow-09216) VUID-vkCmdDrawIndirect-OpImageBlockMatchWindow-09216

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
format **must** be a single-component format

* 
[](#VUID-vkCmdDrawIndirect-OpImageBlockMatchWindow-09217) VUID-vkCmdDrawIndirect-OpImageBlockMatchWindow-09217

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` read from a reference image as result
of this command, then the specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawIndirect-None-07288) VUID-vkCmdDrawIndirect-None-07288

Any shader invocation executed by this command **must**
[terminate](shaders.html#shaders-termination)

* 
[](#VUID-vkCmdDrawIndirect-None-09600) VUID-vkCmdDrawIndirect-None-09600

If a descriptor with type equal to any of
`VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE`,
`VK_DESCRIPTOR_TYPE_STORAGE_IMAGE`, or
`VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT` is accessed as a result of
this command, all image subresources identified by that descriptor **must**
be in the image layout identified when the descriptor was written

* 
[](#VUID-vkCmdDrawIndirect-commandBuffer-10746) VUID-vkCmdDrawIndirect-commandBuffer-10746

The `VkDeviceMemory` object allocated from a `VkMemoryHeap` with
the `VK_MEMORY_HEAP_TILE_MEMORY_BIT_QCOM` property that is bound to
a resource accessed as a result of this command **must** be the active
bound [bound tile memory object](memory.html#memory-bind-tile-memory) in
`commandBuffer`

* 
[](#VUID-vkCmdDrawIndirect-None-10678) VUID-vkCmdDrawIndirect-None-10678

If this command is recorded inside a [tile    shading render pass](renderpass.html#renderpass-tile-shading) instance, the stages corresponding to the pipeline
bind point used by this command **must** only include
`VK_SHADER_STAGE_VERTEX_BIT`, `VK_SHADER_STAGE_FRAGMENT_BIT`,
and/or `VK_SHADER_STAGE_COMPUTE_BIT`

* 
[](#VUID-vkCmdDrawIndirect-None-10679) VUID-vkCmdDrawIndirect-None-10679

If this command is recorded where
[per-tile execution model](renderpass.html#renderpass-per-tile-execution-model) is
enabled, there **must** be no access to any image while the image was be
transitioned to the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` layout

* 
[](#VUID-vkCmdDrawIndirect-renderPass-02684) VUID-vkCmdDrawIndirect-renderPass-02684

The current render pass **must** be [compatible](renderpass.html#renderpass-compatibility)
with the `renderPass` member of the
`VkGraphicsPipelineCreateInfo` structure specified when creating the
`VkPipeline` bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawIndirect-subpass-02685) VUID-vkCmdDrawIndirect-subpass-02685

The subpass index of the current render pass **must** be equal to the
`subpass` member of the `VkGraphicsPipelineCreateInfo` structure
specified when creating the `VkPipeline` bound to
`VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawIndirect-None-07748) VUID-vkCmdDrawIndirect-None-07748

If any shader statically accesses an input attachment, a valid
descriptor **must** be bound to the pipeline via a descriptor set

* 
[](#VUID-vkCmdDrawIndirect-OpTypeImage-07468) VUID-vkCmdDrawIndirect-OpTypeImage-07468

If any shader executed by this pipeline accesses an `OpTypeImage`
variable with a `Dim` operand of `SubpassData`, it **must** be
decorated with an `InputAttachmentIndex` that corresponds to a valid
input attachment in the current subpass

* 
[](#VUID-vkCmdDrawIndirect-None-07469) VUID-vkCmdDrawIndirect-None-07469

Input attachment views accessed in a subpass **must** be created with the
same [VkFormat](formats.html#VkFormat) as the corresponding subpass definition, and be
created with a [VkImageView](resources.html#VkImageView) that is compatible with the attachment
referenced by the subpass'
`pInputAttachments`[`InputAttachmentIndex`] in the bound
[VkFramebuffer](renderpass.html#VkFramebuffer) as specified by
[Fragment Input Attachment    Compatibility](interfaces.html#compatibility-inputattachment)

* 
[](#VUID-vkCmdDrawIndirect-pDepthInputAttachmentIndex-09595) VUID-vkCmdDrawIndirect-pDepthInputAttachmentIndex-09595

Input attachment views accessed in a dynamic render pass with a
`InputAttachmentIndex` referenced by
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo), or no
`InputAttachmentIndex` if
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
or
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are `NULL`, **must** be created with a [VkImageView](resources.html#VkImageView) that is compatible
with the corresponding color, depth, or stencil attachment in
[VkRenderingInfo](renderpass.html#VkRenderingInfo)

* 
[](#VUID-vkCmdDrawIndirect-pDepthInputAttachmentIndex-09596) VUID-vkCmdDrawIndirect-pDepthInputAttachmentIndex-09596

Input attachment views accessed in a dynamic render pass via a shader
object **must** have an `InputAttachmentIndex` if both
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
and
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are non-`NULL`

* 
[](#VUID-vkCmdDrawIndirect-InputAttachmentIndex-09597) VUID-vkCmdDrawIndirect-InputAttachmentIndex-09597

If an input attachment view accessed in a dynamic render pass via a
shader object has an `InputAttachmentIndex`, the
`InputAttachmentIndex` **must** match an index in
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

* 
[](#VUID-vkCmdDrawIndirect-None-06537) VUID-vkCmdDrawIndirect-None-06537

Memory backing image subresources used as attachments in the current
render pass **must** not be written in any way other than as an attachment
by this command

* 
[](#VUID-vkCmdDrawIndirect-None-09000) VUID-vkCmdDrawIndirect-None-09000

If a color attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

the `VK_PIPELINE_CREATE_COLOR_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT` is
set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_COLOR_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawIndirect-None-09001) VUID-vkCmdDrawIndirect-None-09001

If a depth attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_DEPTH_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawIndirect-None-09002) VUID-vkCmdDrawIndirect-None-09002

If a stencil attachment is written by any prior command in this subpass
or by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_STENCIL_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawIndirect-None-09003) VUID-vkCmdDrawIndirect-None-09003

If an attachment is written by any prior command in this subpass or by
the load, store, or resolve operations for this subpass, it **must** not be
accessed in any way other than as an attachment, storage image, or
sampled image by this command

[](#VUID-vkCmdDrawIndirect-None-06539) VUID-vkCmdDrawIndirect-None-06539

If any previously recorded command in the current subpass accessed an
image subresource used as an attachment in this subpass in any way other
than as an attachment, this command **must** not write to that image
subresource as an attachment

[](#VUID-vkCmdDrawIndirect-None-06886) VUID-vkCmdDrawIndirect-None-06886

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the depth aspect, [depth    writes](fragops.html#fragops-depth-write) **must** be disabled

[](#VUID-vkCmdDrawIndirect-None-06887) VUID-vkCmdDrawIndirect-None-06887

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the stencil aspect, both front and back
`writeMask` are not zero, and stencil test is enabled,
[all stencil ops](fragops.html#fragops-stencil) **must** be `VK_STENCIL_OP_KEEP`

[](#VUID-vkCmdDrawIndirect-None-07831) VUID-vkCmdDrawIndirect-None-07831

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT` dynamic state enabled then
[vkCmdSetViewport](vertexpostproc.html#vkCmdSetViewport) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07832) VUID-vkCmdDrawIndirect-None-07832

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SCISSOR` dynamic state enabled then
[vkCmdSetScissor](fragops.html#vkCmdSetScissor) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07833) VUID-vkCmdDrawIndirect-None-07833

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_WIDTH` dynamic state enabled then
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-08617) VUID-vkCmdDrawIndirect-None-08617

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command
buffer set `polygonMode` to `VK_POLYGON_MODE_LINE`,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-08618) VUID-vkCmdDrawIndirect-None-08618

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-08619) VUID-vkCmdDrawIndirect-None-08619

If a shader object that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, [vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawIndirect-None-07834) VUID-vkCmdDrawIndirect-None-07834

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthBiasEnable`
is `VK_TRUE`, then [vkCmdSetDepthBias](primsrast.html#vkCmdSetDepthBias)
or [vkCmdSetDepthBias2EXT](primsrast.html#vkCmdSetDepthBias2EXT)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawIndirect-None-07835) VUID-vkCmdDrawIndirect-None-07835

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_BLEND_CONSTANTS` dynamic state enabled then
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-08621) VUID-vkCmdDrawIndirect-None-08621

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) in the current command buffer set any
element of `pColorBlendEnables` to `VK_TRUE`, and the most
recent call to [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) in the current
command buffer set the same element of `pColorBlendEquations` to a
`VkColorBlendEquationEXT` structure with any [VkBlendFactor](framebuffer.html#VkBlendFactor)
member with a value of `VK_BLEND_FACTOR_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_CONSTANT_ALPHA`, or
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_ALPHA`,
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07836) VUID-vkCmdDrawIndirect-None-07836

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`depthBoundsTestEnable` is `VK_TRUE`, then
[vkCmdSetDepthBounds](fragops.html#vkCmdSetDepthBounds) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07837) VUID-vkCmdDrawIndirect-None-07837

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilCompareMask](fragops.html#vkCmdSetStencilCompareMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07838) VUID-vkCmdDrawIndirect-None-07838

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07839) VUID-vkCmdDrawIndirect-None-07839

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_REFERENCE` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of and
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilReference](fragops.html#vkCmdSetStencilReference) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-maxMultiviewInstanceIndex-02688) VUID-vkCmdDrawIndirect-maxMultiviewInstanceIndex-02688

If the draw is recorded in a render pass instance with multiview
enabled, the maximum instance index **must** be less than or equal to
[VkPhysicalDeviceMultiviewProperties](limits.html#VkPhysicalDeviceMultiviewProperties)::`maxMultiviewInstanceIndex`

[](#VUID-vkCmdDrawIndirect-sampleLocationsEnable-02689) VUID-vkCmdDrawIndirect-sampleLocationsEnable-02689

If the bound graphics pipeline was created with
[VkPipelineSampleLocationsStateCreateInfoEXT](primsrast.html#VkPipelineSampleLocationsStateCreateInfoEXT)::`sampleLocationsEnable`
set to `VK_TRUE` and the current subpass has a depth/stencil
attachment, then that attachment **must** have been created with the
`VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT` bit set

[](#VUID-vkCmdDrawIndirect-None-07634) VUID-vkCmdDrawIndirect-None-07634

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-06666) VUID-vkCmdDrawIndirect-None-06666

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
[vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07840) VUID-vkCmdDrawIndirect-None-07840

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CULL_MODE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCullMode](primsrast.html#vkCmdSetCullMode) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07841) VUID-vkCmdDrawIndirect-None-07841

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRONT_FACE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFrontFace](primsrast.html#vkCmdSetFrontFace) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07843) VUID-vkCmdDrawIndirect-None-07843

 If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`,
[vkCmdSetDepthTestEnable](fragops.html#vkCmdSetDepthTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07844) VUID-vkCmdDrawIndirect-None-07844

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07845) VUID-vkCmdDrawIndirect-None-07845

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_COMPARE_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthCompareOp](fragops.html#vkCmdSetDepthCompareOp) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07846) VUID-vkCmdDrawIndirect-None-07846

If the [`depthBounds`](features.html#features-depthBounds) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBoundsTestEnable](fragops.html#vkCmdSetDepthBoundsTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07847) VUID-vkCmdDrawIndirect-None-07847

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetStencilTestEnable](fragops.html#vkCmdSetStencilTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07848) VUID-vkCmdDrawIndirect-None-07848

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then [vkCmdSetStencilOp](fragops.html#vkCmdSetStencilOp)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawIndirect-viewportCount-03417) VUID-vkCmdDrawIndirect-viewportCount-03417

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-scissorCount-03418) VUID-vkCmdDrawIndirect-scissorCount-03418

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetScissorWithCount](vertexpostproc.html#vkCmdSetScissorWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing

[](#VUID-vkCmdDrawIndirect-viewportCount-03419) VUID-vkCmdDrawIndirect-viewportCount-03419

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with both the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic states enabled,
and the state is not inherited,
then the `viewportCount` parameter of
`vkCmdSetViewportWithCount` **must** match the `scissorCount`
parameter of `vkCmdSetScissorWithCount`

[](#VUID-vkCmdDrawIndirect-viewportCount-04137) VUID-vkCmdDrawIndirect-viewportCount-04137

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportWScalingStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportWScalingStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndirect-viewportCount-04138) VUID-vkCmdDrawIndirect-viewportCount-04138

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-08636) VUID-vkCmdDrawIndirect-None-08636

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndirect-viewportCount-04139) VUID-vkCmdDrawIndirect-viewportCount-04139

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic
state enabled, then the bound graphics pipeline **must** have been created
with
[VkPipelineViewportShadingRateImageStateCreateInfoNV](primsrast.html#VkPipelineViewportShadingRateImageStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndirect-shadingRateImage-09233) VUID-vkCmdDrawIndirect-shadingRateImage-09233

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_COARSE_SAMPLE_ORDER_NV` and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoarseSampleOrderNV](primsrast.html#vkCmdSetCoarseSampleOrderNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-shadingRateImage-09234) VUID-vkCmdDrawIndirect-shadingRateImage-09234

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-08637) VUID-vkCmdDrawIndirect-None-08637

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** be greater than or
equal to the `viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndirect-VkPipelineVieportCreateInfo-04141) VUID-vkCmdDrawIndirect-VkPipelineVieportCreateInfo-04141

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV) structure chained from
[VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound graphics
pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndirect-VkPipelineVieportCreateInfo-04142) VUID-vkCmdDrawIndirect-VkPipelineVieportCreateInfo-04142

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV) structure
chained from [VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound
graphics pipeline **must** have been created with
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV)::`exclusiveScissorCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndirect-None-07878) VUID-vkCmdDrawIndirect-None-07878

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_ENABLE_NV` dynamic state
enabled, then [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07879) VUID-vkCmdDrawIndirect-None-07879

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_NV` dynamic state enabled, and
the most recent call to [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) in the
current command buffer set any element of `pExclusiveScissorEnables`
to `VK_TRUE`, then [vkCmdSetExclusiveScissorNV](fragops.html#vkCmdSetExclusiveScissorNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-04876) VUID-vkCmdDrawIndirect-None-04876

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE` dynamic state enabled,
then [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-04877) VUID-vkCmdDrawIndirect-None-04877

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBiasEnable](primsrast.html#vkCmdSetDepthBiasEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-logicOp-04878) VUID-vkCmdDrawIndirect-logicOp-04878

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `logicOpEnable` is
`VK_TRUE`, then [vkCmdSetLogicOpEXT](framebuffer.html#vkCmdSetLogicOpEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-primitiveFragmentShadingRateWithMultipleViewports-04552) VUID-vkCmdDrawIndirect-primitiveFragmentShadingRateWithMultipleViewports-04552

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, and
any of the shader stages of the bound graphics pipeline write to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawIndirect-primitiveFragmentShadingRateWithMultipleViewports-08642) VUID-vkCmdDrawIndirect-primitiveFragmentShadingRateWithMultipleViewports-08642

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, and any shader object bound to a graphics stage writes to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawIndirect-blendEnable-04727) VUID-vkCmdDrawIndirect-blendEnable-04727

If rasterization is not disabled in the bound graphics pipeline, then
for each color attachment in the subpass, if the corresponding image
view’s [format features](resources.html#resources-image-view-format-features) do not
contain `VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
`blendEnable` member of the corresponding element of the
`pAttachments` member of `pColorBlendState` **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawIndirect-None-08643) VUID-vkCmdDrawIndirect-None-08643

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then for each color attachment in the render pass, if
the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) do not contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
corresponding member of `pColorBlendEnables` in the most recent call
to `vkCmdSetColorBlendEnableEXT` in the current command buffer that
affected that attachment index **must** have been `VK_FALSE`

[](#VUID-vkCmdDrawIndirect-multisampledRenderToSingleSampled-07284) VUID-vkCmdDrawIndirect-multisampledRenderToSingleSampled-07284

If rasterization is not disabled in the bound graphics pipeline,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then `rasterizationSamples` for the bound graphics pipeline **must** be the
same as the current subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawIndirect-None-08644) VUID-vkCmdDrawIndirect-None-08644

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then the most recent call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) in the
current command buffer **must** have set `rasterizationSamples` to be the
same as the number of samples for the current render pass color and/or
depth/stencil attachments

[](#VUID-vkCmdDrawIndirect-None-08876) VUID-vkCmdDrawIndirect-None-08876

If a shader object is bound to any graphics stage, the current render
pass instance **must** have been begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)

[](#VUID-vkCmdDrawIndirect-imageView-06172) VUID-vkCmdDrawIndirect-imageView-06172

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the depth attachment

[](#VUID-vkCmdDrawIndirect-imageView-06173) VUID-vkCmdDrawIndirect-imageView-06173

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawIndirect-imageView-06174) VUID-vkCmdDrawIndirect-imageView-06174

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL`, this
command **must** not write any values to the depth attachment

[](#VUID-vkCmdDrawIndirect-imageView-06175) VUID-vkCmdDrawIndirect-imageView-06175

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL`, this
command **must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawIndirect-imageView-06176) VUID-vkCmdDrawIndirect-imageView-06176

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the depth attachment

[](#VUID-vkCmdDrawIndirect-imageView-06177) VUID-vkCmdDrawIndirect-imageView-06177

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the stencil attachment

[](#VUID-vkCmdDrawIndirect-viewMask-06178) VUID-vkCmdDrawIndirect-viewMask-06178

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a [VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`viewMask` equal
to [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`viewMask`

[](#VUID-vkCmdDrawIndirect-colorAttachmentCount-06179) VUID-vkCmdDrawIndirect-colorAttachmentCount-06179

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`colorAttachmentCount` equal to
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount`

[](#VUID-vkCmdDrawIndirect-dynamicRenderingUnusedAttachments-08910) VUID-vkCmdDrawIndirect-dynamicRenderingUnusedAttachments-08910

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have
been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline

[](#VUID-vkCmdDrawIndirect-dynamicRenderingUnusedAttachments-08912) VUID-vkCmdDrawIndirect-dynamicRenderingUnusedAttachments-08912

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have the
corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound pipeline equal to `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndirect-dynamicRenderingUnusedAttachments-08911) VUID-vkCmdDrawIndirect-dynamicRenderingUnusedAttachments-08911

If the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled, and the
current render pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`,
then each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments`
array with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must**
have been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding
element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline, or the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats`, if
it exists, **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndirect-colorAttachmentCount-09362) VUID-vkCmdDrawIndirect-colorAttachmentCount-09362

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`,
there is no shader object bound to any graphics stage,
and a color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`resolveImageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawIndirect-None-09363) VUID-vkCmdDrawIndirect-None-09363

If
there is no shader object bound to any graphics stage,
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, and a
color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawIndirect-None-09364) VUID-vkCmdDrawIndirect-None-09364

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set the blend enable
to `VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-09365) VUID-vkCmdDrawIndirect-None-09365

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawIndirect-None-09366) VUID-vkCmdDrawIndirect-None-09366

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set blend enable to
`VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawIndirect-rasterizationSamples-09367) VUID-vkCmdDrawIndirect-rasterizationSamples-09367

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawIndirect-None-09368) VUID-vkCmdDrawIndirect-None-09368

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-09369) VUID-vkCmdDrawIndirect-None-09369

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawIndirect-pFragmentSize-09370) VUID-vkCmdDrawIndirect-pFragmentSize-09370

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawIndirect-pFragmentSize-09371) VUID-vkCmdDrawIndirect-pFragmentSize-09371

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07749) VUID-vkCmdDrawIndirect-None-07749

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-08646) VUID-vkCmdDrawIndirect-None-08646

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-attachmentCount-07750) VUID-vkCmdDrawIndirect-attachmentCount-07750

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
the `attachmentCount` parameter of `vkCmdSetColorWriteEnableEXT`
**must** be greater than or equal to the
`VkPipelineColorBlendStateCreateInfo`::`attachmentCount` of the
bound graphics pipeline

[](#VUID-vkCmdDrawIndirect-None-08647) VUID-vkCmdDrawIndirect-None-08647

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then the
`attachmentCount` parameter of most recent call to
`vkCmdSetColorWriteEnableEXT` in the current command buffer **must** be
greater than or equal to the number of color attachments in the current
render pass instance

[](#VUID-vkCmdDrawIndirect-None-07751) VUID-vkCmdDrawIndirect-None-07751

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled, a
graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) included a
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT)::`discardRectangleCount`

[](#VUID-vkCmdDrawIndirect-rasterizerDiscardEnable-09236) VUID-vkCmdDrawIndirect-rasterizerDiscardEnable-09236

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) did not
include a [VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPhysicalDeviceDiscardRectanglePropertiesEXT](limits.html#VkPhysicalDeviceDiscardRectanglePropertiesEXT)::`maxDiscardRectangles`

[](#VUID-vkCmdDrawIndirect-None-07880) VUID-vkCmdDrawIndirect-None-07880

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_ENABLE_EXT` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDiscardRectangleEnableEXT](fragops.html#vkCmdSetDiscardRectangleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07881) VUID-vkCmdDrawIndirect-None-07881

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_MODE_EXT` dynamic state enabled,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleModeEXT](fragops.html#vkCmdSetDiscardRectangleModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-dynamicRenderingUnusedAttachments-08913) VUID-vkCmdDrawIndirect-dynamicRenderingUnusedAttachments-08913

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndirect-dynamicRenderingUnusedAttachments-08914) VUID-vkCmdDrawIndirect-dynamicRenderingUnusedAttachments-08914

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawIndirect-dynamicRenderingUnusedAttachments-08915) VUID-vkCmdDrawIndirect-dynamicRenderingUnusedAttachments-08915

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline was not equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`,
the value of the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndirect-dynamicRenderingUnusedAttachments-08916) VUID-vkCmdDrawIndirect-dynamicRenderingUnusedAttachments-08916

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndirect-dynamicRenderingUnusedAttachments-08917) VUID-vkCmdDrawIndirect-dynamicRenderingUnusedAttachments-08917

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawIndirect-dynamicRenderingUnusedAttachments-08918) VUID-vkCmdDrawIndirect-dynamicRenderingUnusedAttachments-08918

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline was not equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`, the value of
the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndirect-imageView-06183) VUID-vkCmdDrawIndirect-imageView-06183

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentShadingRateAttachmentInfoKHR](renderpass.html#VkRenderingFragmentShadingRateAttachmentInfoKHR)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR`

[](#VUID-vkCmdDrawIndirect-imageView-06184) VUID-vkCmdDrawIndirect-imageView-06184

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentDensityMapAttachmentInfoEXT](renderpass.html#VkRenderingFragmentDensityMapAttachmentInfoEXT)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT`

[](#VUID-vkCmdDrawIndirect-colorAttachmentCount-06185) VUID-vkCmdDrawIndirect-colorAttachmentCount-06185

If the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and the current render
pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
`0`, then each element of the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with a sample count equal to the corresponding element of the
`pColorAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline

[](#VUID-vkCmdDrawIndirect-pDepthAttachment-06186) VUID-vkCmdDrawIndirect-pDepthAttachment-06186

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawIndirect-pStencilAttachment-06187) VUID-vkCmdDrawIndirect-pStencilAttachment-06187

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawIndirect-multisampledRenderToSingleSampled-07285) VUID-vkCmdDrawIndirect-multisampledRenderToSingleSampled-07285

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    the current render pass instance was begun with
    [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
    `0`, then each element of the
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
    `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
    created with a sample count equal to the value of
    `rasterizationSamples` for the bound graphics pipeline

[](#VUID-vkCmdDrawIndirect-multisampledRenderToSingleSampled-07286) VUID-vkCmdDrawIndirect-multisampledRenderToSingleSampled-07286

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawIndirect-multisampledRenderToSingleSampled-07287) VUID-vkCmdDrawIndirect-multisampledRenderToSingleSampled-07287

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawIndirect-pNext-07935) VUID-vkCmdDrawIndirect-pNext-07935

If this command has been called inside a render pass instance started
with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), and the `pNext` chain of
[VkRenderingInfo](renderpass.html#VkRenderingInfo) includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the value of `rasterizationSamples` for the bound graphics
pipeline **must** be equal to
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT)::`rasterizationSamples`

[](#VUID-vkCmdDrawIndirect-renderPass-06198) VUID-vkCmdDrawIndirect-renderPass-06198

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline **must** have been created
with a [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`renderPass` equal to
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

[](#VUID-vkCmdDrawIndirect-pColorAttachments-08963) VUID-vkCmdDrawIndirect-pColorAttachments-08963

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound with a
fragment shader that statically writes to a color attachment, the color
write mask is not zero, color writes are enabled, and the corresponding
element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments->imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndirect-pDepthAttachment-08964) VUID-vkCmdDrawIndirect-pDepthAttachment-08964

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, depth
test is enabled, depth write is enabled, and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndirect-pStencilAttachment-08965) VUID-vkCmdDrawIndirect-pStencilAttachment-08965

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, stencil
test is enabled and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndirect-flags-10582) VUID-vkCmdDrawIndirect-flags-10582

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), its [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`flags`
parameter **must** not have
`VK_RENDERING_CONTENTS_SECONDARY_COMMAND_BUFFERS_BIT` set
unless `VK_RENDERING_CONTENTS_INLINE_BIT_KHR` is also set

[](#VUID-vkCmdDrawIndirect-primitivesGeneratedQueryWithRasterizerDiscard-06708) VUID-vkCmdDrawIndirect-primitivesGeneratedQueryWithRasterizerDiscard-06708

If the [    `primitivesGeneratedQueryWithRasterizerDiscard`](features.html#features-primitivesGeneratedQueryWithRasterizerDiscard) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, [rasterization discard](primsrast.html#primsrast-discard) **must** not be enabled

[](#VUID-vkCmdDrawIndirect-primitivesGeneratedQueryWithNonZeroStreams-06709) VUID-vkCmdDrawIndirect-primitivesGeneratedQueryWithNonZeroStreams-06709

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, the bound graphics pipeline **must** not have been created with a
non-zero value in
`VkPipelineRasterizationStateStreamCreateInfoEXT`::`rasterizationStream`

[](#VUID-vkCmdDrawIndirect-None-07620) VUID-vkCmdDrawIndirect-None-07620

If the [`depthClamp`](features.html#features-depthClamp) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthClampEnableEXT](vertexpostproc.html#vkCmdSetDepthClampEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07621) VUID-vkCmdDrawIndirect-None-07621

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_POLYGON_MODE_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07622) VUID-vkCmdDrawIndirect-None-07622

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07623) VUID-vkCmdDrawIndirect-None-07623

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirect-alphaToCoverageEnable-08919) VUID-vkCmdDrawIndirect-alphaToCoverageEnable-08919

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and `alphaToCoverageEnable` was `VK_TRUE` in the last
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT), then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawIndirect-alphaToCoverageEnable-08920) VUID-vkCmdDrawIndirect-alphaToCoverageEnable-08920

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) in the current command
buffer set `alphaToCoverageEnable` to `VK_TRUE`, then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawIndirect-None-07624) VUID-vkCmdDrawIndirect-None-07624

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07625) VUID-vkCmdDrawIndirect-None-07625

If the [`alphaToOne`](features.html#features-alphaToOne) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_ONE_ENABLE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToOneEnableEXT](fragops.html#vkCmdSetAlphaToOneEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07626) VUID-vkCmdDrawIndirect-None-07626

If the [`logicOp`](features.html#features-logicOp) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetLogicOpEnableEXT](framebuffer.html#vkCmdSetLogicOpEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07627) VUID-vkCmdDrawIndirect-None-07627

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-08657) VUID-vkCmdDrawIndirect-None-08657

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have
been called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime)
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07628) VUID-vkCmdDrawIndirect-None-07628

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-08658) VUID-vkCmdDrawIndirect-None-08658

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) for any attachment set that
attachment’s value in `pColorBlendEnables` to `VK_TRUE`, then
[vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07629) VUID-vkCmdDrawIndirect-None-07629

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-08659) VUID-vkCmdDrawIndirect-None-08659

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07630) VUID-vkCmdDrawIndirect-None-07630

If the [`geometryStreams`](features.html#features-geometryStreams) feature is
enabled, and
a shader object is bound to the `VK_SHADER_STAGE_GEOMETRY_BIT` stage
or
a graphics pipeline is bound which was created with both a
`VK_SHADER_STAGE_GEOMETRY_BIT` stage and the
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` dynamic state enabled,
then [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07631) VUID-vkCmdDrawIndirect-None-07631

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07632) VUID-vkCmdDrawIndirect-None-07632

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXTRA_PRIMITIVE_OVERESTIMATION_SIZE_EXT` dynamic
state enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`conservativeRasterizationMode` is
`VK_CONSERVATIVE_RASTERIZATION_MODE_OVERESTIMATE_EXT`, then
[vkCmdSetExtraPrimitiveOverestimationSizeEXT](primsrast.html#vkCmdSetExtraPrimitiveOverestimationSizeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07633) VUID-vkCmdDrawIndirect-None-07633

If the [`depthClipEnable`](features.html#features-depthClipEnable) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_ENABLE_EXT` dynamic state, then
[vkCmdSetDepthClipEnableEXT](vertexpostproc.html#vkCmdSetDepthClipEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07635) VUID-vkCmdDrawIndirect-None-07635

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-rasterizerDiscardEnable-09416) VUID-vkCmdDrawIndirect-rasterizerDiscardEnable-09416

If the `[VK_EXT_blend_operation_advanced](../appendices/extensions.html#VK_EXT_blend_operation_advanced)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then at least one of [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT)
and [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07636) VUID-vkCmdDrawIndirect-None-07636

If the `[VK_EXT_provoking_vertex](../appendices/extensions.html#VK_EXT_provoking_vertex)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_PROVOKING_VERTEX_MODE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetProvokingVertexModeEXT](vertexpostproc.html#vkCmdSetProvokingVertexModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07637) VUID-vkCmdDrawIndirect-None-07637

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state enabled
then [vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-08666) VUID-vkCmdDrawIndirect-None-08666

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-08667) VUID-vkCmdDrawIndirect-None-08667

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-08668) VUID-vkCmdDrawIndirect-None-08668

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07638) VUID-vkCmdDrawIndirect-None-07638

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` dynamic state enabled
then [vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-08669) VUID-vkCmdDrawIndirect-None-08669

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-08670) VUID-vkCmdDrawIndirect-None-08670

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-08671) VUID-vkCmdDrawIndirect-None-08671

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07849) VUID-vkCmdDrawIndirect-None-07849

    If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled and
    a shader object is bound to any graphics stage, or
    a bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE`
    dynamic state enabled, the [current    value](pipelines.html#dynamic-state-current-value) of `rasterizerDiscardEnable` is `VK_FALSE`, and the
    [current value](pipelines.html#dynamic-state-current-value) of
    `stippledLineEnable` is `VK_TRUE`, then
[vkCmdSetLineStipple](primsrast.html#vkCmdSetLineStipple)
    **must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
    command

[](#VUID-vkCmdDrawIndirect-None-10608) VUID-vkCmdDrawIndirect-None-10608

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the current `lineRasterizationMode` is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM` or
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the current
`alphaToCoverageEnable`, `alphaToOneEnable` and
`sampleShadingEnable` states **must** all be `VK_FALSE`

[](#VUID-vkCmdDrawIndirect-None-07639) VUID-vkCmdDrawIndirect-None-07639

If the [`depthClipControl`](features.html#features-depthClipControl) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_NEGATIVE_ONE_TO_ONE_EXT` dynamic state
enabled, then [vkCmdSetDepthClipNegativeOneToOneEXT](vertexpostproc.html#vkCmdSetDepthClipNegativeOneToOneEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-09650) VUID-vkCmdDrawIndirect-None-09650

If the [`depthClampControl`](features.html#features-depthClampControl) feature
is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_RANGE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`depthClampEnable` is `VK_TRUE`, then
[vkCmdSetDepthClampRangeEXT](fragops.html#vkCmdSetDepthClampRangeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07640) VUID-vkCmdDrawIndirect-None-07640

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_ENABLE_NV` dynamic state
enabled, then [vkCmdSetViewportWScalingEnableNV](vertexpostproc.html#vkCmdSetViewportWScalingEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07641) VUID-vkCmdDrawIndirect-None-07641

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state enabled, then
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07642) VUID-vkCmdDrawIndirect-None-07642

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07643) VUID-vkCmdDrawIndirect-None-07643

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_LOCATION_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageToColorEnable` is `VK_TRUE`, then
[vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07644) VUID-vkCmdDrawIndirect-None-07644

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_MODE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageModulationModeNV](fragops.html#vkCmdSetCoverageModulationModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07645) VUID-vkCmdDrawIndirect-None-07645

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationMode` is any value other than
`VK_COVERAGE_MODULATION_MODE_NONE_NV`, then
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07646) VUID-vkCmdDrawIndirect-None-07646

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationTableEnable` is `VK_TRUE`, then
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07647) VUID-vkCmdDrawIndirect-None-07647

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SHADING_RATE_IMAGE_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetShadingRateImageEnableNV](primsrast.html#vkCmdSetShadingRateImageEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-pipelineFragmentShadingRate-09238) VUID-vkCmdDrawIndirect-pipelineFragmentShadingRate-09238

If the [    `pipelineFragmentShadingRate`](features.html#features-pipelineFragmentShadingRate) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07648) VUID-vkCmdDrawIndirect-None-07648

If the [    `representativeFragmentTest`](features.html#features-representativeFragmentTest) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_REPRESENTATIVE_FRAGMENT_TEST_ENABLE_NV` dynamic
state enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRepresentativeFragmentTestEnableNV](fragops.html#vkCmdSetRepresentativeFragmentTestEnableNV) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07649) VUID-vkCmdDrawIndirect-None-07649

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageReductionModeNV](fragops.html#vkCmdSetCoverageReductionModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-pColorBlendEnables-07470) VUID-vkCmdDrawIndirect-pColorBlendEnables-07470

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` state enabled and the last
call to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) set `pColorBlendEnables`
for any attachment to `VK_TRUE`, then for those attachments in the
subpass the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`

[](#VUID-vkCmdDrawIndirect-rasterizationSamples-07471) VUID-vkCmdDrawIndirect-rasterizationSamples-07471

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
current subpass does not use any color and/or depth/stencil attachments,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** follow the rules for a
[zero-attachment subpass](renderpass.html#renderpass-noattachments)

[](#VUID-vkCmdDrawIndirect-samples-07472) VUID-vkCmdDrawIndirect-samples-07472

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo)::`rasterizationSamples`
parameter used to create the bound graphics pipeline

[](#VUID-vkCmdDrawIndirect-samples-07473) VUID-vkCmdDrawIndirect-samples-07473

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state and
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` states enabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
`rasterizationSamples` parameter in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndirect-rasterizationSamples-07474) VUID-vkCmdDrawIndirect-rasterizationSamples-07474

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and
the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
neither the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` nor the
`[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extensions are enabled, then
the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the current
subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawIndirect-None-09211) VUID-vkCmdDrawIndirect-None-09211

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled,
or a shader object is bound to any graphics stage,
and the current render pass instance includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the
`rasterizationSamples` member of that structure

[](#VUID-vkCmdDrawIndirect-firstAttachment-07476) VUID-vkCmdDrawIndirect-firstAttachment-07476

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorBlendEnableEXT` calls **must** specify an
enable for all active color attachments in the current subpass

[](#VUID-vkCmdDrawIndirect-rasterizerDiscardEnable-09417) VUID-vkCmdDrawIndirect-rasterizerDiscardEnable-09417

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEnableEXT`
calls **must** specify an enable for all active color attachments in the
current subpass

[](#VUID-vkCmdDrawIndirect-firstAttachment-07477) VUID-vkCmdDrawIndirect-firstAttachment-07477

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawIndirect-rasterizerDiscardEnable-09418) VUID-vkCmdDrawIndirect-rasterizerDiscardEnable-09418

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have
been called in the current command buffer prior to this drawing command,
and the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawIndirect-firstAttachment-07478) VUID-vkCmdDrawIndirect-firstAttachment-07478

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorWriteMaskEXT` calls **must** specify the
color write mask for all active color attachments in the current subpass

[](#VUID-vkCmdDrawIndirect-rasterizerDiscardEnable-09419) VUID-vkCmdDrawIndirect-rasterizerDiscardEnable-09419

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorWriteMaskEXT`
calls **must** specify the color write mask for all active color
attachments in the current subpass

[](#VUID-vkCmdDrawIndirect-firstAttachment-07479) VUID-vkCmdDrawIndirect-firstAttachment-07479

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendAdvancedEXT`
calls **must** specify the advanced blend equations for all active color
attachments in the current subpass where blending is enabled

[](#VUID-vkCmdDrawIndirect-advancedBlendMaxColorAttachments-07480) VUID-vkCmdDrawIndirect-advancedBlendMaxColorAttachments-07480

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` and
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic states enabled and
the last calls to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) and
[vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) have enabled advanced blending, then
the number of active color attachments in the current subpass **must** not
exceed [    `advancedBlendMaxColorAttachments`](limits.html#limits-advancedBlendMaxColorAttachments)

[](#VUID-vkCmdDrawIndirect-primitivesGeneratedQueryWithNonZeroStreams-07481) VUID-vkCmdDrawIndirect-primitivesGeneratedQueryWithNonZeroStreams-07481

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, and the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` state enabled, the last
call to [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have set the
`rasterizationStream` to zero

[](#VUID-vkCmdDrawIndirect-sampleLocationsPerPixel-07482) VUID-vkCmdDrawIndirect-sampleLocationsPerPixel-07482

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` member of the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo) structure the bound graphics
pipeline has been created with

[](#VUID-vkCmdDrawIndirect-sampleLocationsPerPixel-07483) VUID-vkCmdDrawIndirect-sampleLocationsPerPixel-07483

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` parameter of the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndirect-sampleLocationsEnable-07484) VUID-vkCmdDrawIndirect-sampleLocationsEnable-07484

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), and the current subpass has a
depth/stencil attachment, then that attachment **must** have been created
with the `VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT`
bit set

[](#VUID-vkCmdDrawIndirect-sampleLocationsEnable-07485) VUID-vkCmdDrawIndirect-sampleLocationsEnable-07485

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.width` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawIndirect-sampleLocationsEnable-07486) VUID-vkCmdDrawIndirect-sampleLocationsEnable-07486

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.height` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawIndirect-sampleLocationsEnable-07487) VUID-vkCmdDrawIndirect-sampleLocationsEnable-07487

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), the fragment shader code **must**
not statically use the extended instruction `InterpolateAtSample`

[](#VUID-vkCmdDrawIndirect-sampleLocationsEnable-07936) VUID-vkCmdDrawIndirect-sampleLocationsEnable-07936

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.width` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndirect-sampleLocationsEnable-07937) VUID-vkCmdDrawIndirect-sampleLocationsEnable-07937

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.height` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndirect-sampleLocationsEnable-07938) VUID-vkCmdDrawIndirect-sampleLocationsEnable-07938

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationsPerPixel` **must** equal
`rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndirect-coverageModulationTableEnable-07488) VUID-vkCmdDrawIndirect-coverageModulationTableEnable-07488

If
a shader object is bound to any graphics stage or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` state
enabled, and the last call to
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) set
`coverageModulationTableEnable` to `VK_TRUE`, then the
`coverageModulationTableCount` parameter in the last call to
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** equal the current
`rasterizationSamples` divided by the number of color samples in the
current subpass

[](#VUID-vkCmdDrawIndirect-rasterizationSamples-07489) VUID-vkCmdDrawIndirect-rasterizationSamples-07489

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and if current subpass has a depth/stencil attachment and depth test,
stencil test, or depth bounds test are enabled in the bound pipeline,
then the current `rasterizationSamples` **must** be the same as the
sample count of the depth/stencil attachment

[](#VUID-vkCmdDrawIndirect-coverageToColorEnable-07490) VUID-vkCmdDrawIndirect-coverageToColorEnable-07490

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` state enabled and the
last call to [vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawIndirect-rasterizerDiscardEnable-09420) VUID-vkCmdDrawIndirect-rasterizerDiscardEnable-09420

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the last call to
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawIndirect-coverageReductionMode-07491) VUID-vkCmdDrawIndirect-coverageReductionMode-07491

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` or
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic states enabled,
then the [current values](pipelines.html#dynamic-state-current-value) of
`coverageReductionMode`, `rasterizationSamples`, the sample
counts for the color and depth/stencil attachments (if the subpass has
them) **must** be a valid combination returned by
[vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV](fragops.html#vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV)

[](#VUID-vkCmdDrawIndirect-viewportCount-07492) VUID-vkCmdDrawIndirect-viewportCount-07492

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndirect-viewportCount-07493) VUID-vkCmdDrawIndirect-viewportCount-07493

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic states enabled then
the `viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndirect-viewportCount-09421) VUID-vkCmdDrawIndirect-viewportCount-09421

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and a
shader object is bound to any graphics stage, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndirect-rasterizationSamples-07494) VUID-vkCmdDrawIndirect-rasterizationSamples-07494

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is not enabled, or the [current    value](pipelines.html#dynamic-state-current-value) of `coverageReductionMode` is not
`VK_COVERAGE_REDUCTION_MODE_TRUNCATE_NV`,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizationSamples` is greater than sample count of the color
attachment, then [sample shading](primsrast.html#primsrast-sampleshading) **must** be
disabled

[](#VUID-vkCmdDrawIndirect-stippledLineEnable-07495) VUID-vkCmdDrawIndirect-stippledLineEnable-07495

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled

[](#VUID-vkCmdDrawIndirect-stippledLineEnable-07496) VUID-vkCmdDrawIndirect-stippledLineEnable-07496

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM`, then the
[`stippledBresenhamLines`](features.html#features-stippledBresenhamLines)
feature **must** be enabled

[](#VUID-vkCmdDrawIndirect-stippledLineEnable-07497) VUID-vkCmdDrawIndirect-stippledLineEnable-07497

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the
[`stippledSmoothLines`](features.html#features-stippledSmoothLines) feature
**must** be enabled

[](#VUID-vkCmdDrawIndirect-stippledLineEnable-07498) VUID-vkCmdDrawIndirect-stippledLineEnable-07498

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_DEFAULT`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled and
[VkPhysicalDeviceLimits](limits.html#VkPhysicalDeviceLimits)::`strictLines` **must** be `VK_TRUE`

[](#VUID-vkCmdDrawIndirect-conservativePointAndLineRasterization-07499) VUID-vkCmdDrawIndirect-conservativePointAndLineRasterization-07499

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, [    `conservativePointAndLineRasterization`](limits.html#limits-conservativePointAndLineRasterization) is not supported, and the
effective primitive topology output by the last pre-rasterization shader
stage is a line or point, then the `conservativeRasterizationMode`
set by the last call to [vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT)
**must** be `VK_CONSERVATIVE_RASTERIZATION_MODE_DISABLED_EXT`

[](#VUID-vkCmdDrawIndirect-stage-07073) VUID-vkCmdDrawIndirect-stage-07073

If the bound pipeline was created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of an element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT`, then [Mesh    Shader Queries](queries.html#queries-mesh-shader) **must** not be active

[](#VUID-vkCmdDrawIndirect-None-08877) VUID-vkCmdDrawIndirect-None-08877

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-None-07850) VUID-vkCmdDrawIndirect-None-07850

If dynamic state was inherited from
[VkCommandBufferInheritanceViewportScissorInfoNV](cmdbuffers.html#VkCommandBufferInheritanceViewportScissorInfoNV), it **must** be set
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirect-nextStage-10745) VUID-vkCmdDrawIndirect-nextStage-10745

For each shader object bound to a graphics stage, except for shader
object bound to the last graphics stage in the logical pipeline, it
**must** have been created with a `nextStage` including the
corresponding bit to the shader object bound to the following graphics
stage in the logical pipeline

[](#VUID-vkCmdDrawIndirect-None-08684) VUID-vkCmdDrawIndirect-None-08684

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_VERTEX_BIT`

[](#VUID-vkCmdDrawIndirect-None-08685) VUID-vkCmdDrawIndirect-None-08685

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`

[](#VUID-vkCmdDrawIndirect-None-08686) VUID-vkCmdDrawIndirect-None-08686

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT`

[](#VUID-vkCmdDrawIndirect-None-08687) VUID-vkCmdDrawIndirect-None-08687

If there is no bound graphics pipeline, and the
[`geometryShader`](features.html#features-geometryShader) feature is enabled,
`vkCmdBindShadersEXT` **must** have been called in the current command
buffer with `pStages` with an element of
`VK_SHADER_STAGE_GEOMETRY_BIT`

[](#VUID-vkCmdDrawIndirect-None-08688) VUID-vkCmdDrawIndirect-None-08688

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_FRAGMENT_BIT`

[](#VUID-vkCmdDrawIndirect-None-08689) VUID-vkCmdDrawIndirect-None-08689

If there is no bound graphics pipeline, and the [    `taskShader`](features.html#features-taskShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_TASK_BIT_EXT`

[](#VUID-vkCmdDrawIndirect-None-08690) VUID-vkCmdDrawIndirect-None-08690

If there is no bound graphics pipeline, and the [    `meshShader`](features.html#features-meshShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_MESH_BIT_EXT`

[](#VUID-vkCmdDrawIndirect-None-08693) VUID-vkCmdDrawIndirect-None-08693

If there is no bound graphics pipeline, and at least one of the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features is enabled, one of the
`VK_SHADER_STAGE_VERTEX_BIT` or `VK_SHADER_STAGE_MESH_BIT_EXT`
stages **must** have a valid `VkShaderEXT` bound, and the other **must**
have no `VkShaderEXT` bound

[](#VUID-vkCmdDrawIndirect-None-08696) VUID-vkCmdDrawIndirect-None-08696

If there is no bound graphics pipeline, and a valid `VkShaderEXT` is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, there **must** be no
`VkShaderEXT` bound to either the `VK_SHADER_STAGE_TASK_BIT_EXT`
stage or the `VK_SHADER_STAGE_MESH_BIT_EXT` stage

[](#VUID-vkCmdDrawIndirect-None-08698) VUID-vkCmdDrawIndirect-None-08698

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, then all shaders created
with the `VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag in the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** also be bound

[](#VUID-vkCmdDrawIndirect-None-08699) VUID-vkCmdDrawIndirect-None-08699

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, any stages in between
stages whose shaders which did not create a shader with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag as part of the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** not have any `VkShaderEXT` bound

[](#VUID-vkCmdDrawIndirect-None-08878) VUID-vkCmdDrawIndirect-None-08878

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) push constant
ranges

[](#VUID-vkCmdDrawIndirect-None-08879) VUID-vkCmdDrawIndirect-None-08879

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) arrays of
descriptor set layouts

[](#VUID-vkCmdDrawIndirect-colorAttachmentCount-09372) VUID-vkCmdDrawIndirect-colorAttachmentCount-09372

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, a color
attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, and a fragment
shader is bound, it **must** not declare the `DepthReplacing` or
`StencilRefReplacingEXT` execution modes

[](#VUID-vkCmdDrawIndirect-pDynamicStates-08715) VUID-vkCmdDrawIndirect-pDynamicStates-08715

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpDepthAttachmentReadEXT`, the `depthWriteEnable` parameter
in the last call to [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawIndirect-pDynamicStates-08716) VUID-vkCmdDrawIndirect-pDynamicStates-08716

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpStencilAttachmentReadEXT`, the `writeMask` parameter in
the last call to [vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** be `0`

[](#VUID-vkCmdDrawIndirect-None-09116) VUID-vkCmdDrawIndirect-None-09116

    If
    a shader object is bound to any graphics stage
or
    the bound graphics pipeline was created with
    `VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT`,
    and the format of any color attachment is
    `VK_FORMAT_E5B9G9R9_UFLOAT_PACK32`, the corresponding element of the
    `pColorWriteMasks` parameter of [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT)
    **must** either include all of `VK_COLOR_COMPONENT_R_BIT`,
    `VK_COLOR_COMPONENT_G_BIT`, and `VK_COLOR_COMPONENT_B_BIT`, or
    none of them

[](#VUID-vkCmdDrawIndirect-maxFragmentDualSrcAttachments-09239) VUID-vkCmdDrawIndirect-maxFragmentDualSrcAttachments-09239

If [blending](framebuffer.html#framebuffer-blending) is enabled for any attachment where
either the source or destination blend factors for that attachment
[use the secondary color input](framebuffer.html#framebuffer-dsb), the maximum value of
`Location` for any output attachment [statically    used](shaders.html#shaders-staticuse) in the `Fragment` `Execution` `Model` executed by this command
**must** be less than [    `maxFragmentDualSrcAttachments`](limits.html#limits-maxFragmentDualSrcAttachments)

[](#VUID-vkCmdDrawIndirect-None-09548) VUID-vkCmdDrawIndirect-None-09548

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
the value of each element of
[VkRenderingAttachmentLocationInfo](interfaces.html#VkRenderingAttachmentLocationInfo)::`pColorAttachmentLocations`
set by [vkCmdSetRenderingAttachmentLocations](interfaces.html#vkCmdSetRenderingAttachmentLocations) **must** match the value
set for the corresponding element in the bound pipeline

[](#VUID-vkCmdDrawIndirect-None-09549) VUID-vkCmdDrawIndirect-None-09549

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
input attachment index mappings in the bound pipeline **must** match those
set for the current render pass instance via
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

[](#VUID-vkCmdDrawIndirect-None-09642) VUID-vkCmdDrawIndirect-None-09642

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with
the `VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag, the bound
graphics pipeline **must** have been created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`

[](#VUID-vkCmdDrawIndirect-None-09643) VUID-vkCmdDrawIndirect-None-09643

If the bound graphics pipeline was created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`, the current
render pass **must** have begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with the
`VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag

[](#VUID-vkCmdDrawIndirect-None-10677) VUID-vkCmdDrawIndirect-None-10677

If the [per-tile execution model](renderpass.html#renderpass-per-tile-execution-model)
is enabled, the
[tileShadingPerTileDraw](features.html#features-tileShadingPerTileDraw) feature **must**
be enabled

[](#VUID-vkCmdDrawIndirect-None-10772) VUID-vkCmdDrawIndirect-None-10772

If a shader object is bound to any graphics stage, *multiview*
functionality **must** not be enabled in the current render pass

* 
[](#VUID-vkCmdDrawIndirect-None-04007) VUID-vkCmdDrawIndirect-None-04007

All vertex input bindings accessed via vertex input variables declared
in the vertex shader entry point’s interface **must** have either valid or
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) buffers bound

* 
[](#VUID-vkCmdDrawIndirect-None-04008) VUID-vkCmdDrawIndirect-None-04008

If the [`nullDescriptor`](features.html#features-nullDescriptor) feature is not
enabled, all vertex input bindings accessed via vertex input variables
declared in the vertex shader entry point’s interface **must** not be
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

* 
[](#VUID-vkCmdDrawIndirect-None-02721) VUID-vkCmdDrawIndirect-None-02721

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled,
and that pipeline was created without enabling
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` for
`vertexInputs`,
then for a given vertex buffer binding, any attribute data fetched **must**
be entirely contained within the corresponding vertex buffer binding, as
described in [Vertex Input Description](fxvertex.html#fxvertex-input)

* 
[](#VUID-vkCmdDrawIndirect-format-10389) VUID-vkCmdDrawIndirect-format-10389

For each vertex attribute accessed by this command, if its
[VkVertexInputAttributeDescription](fxvertex.html#VkVertexInputAttributeDescription)::`format`
or [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format`
is a [packed format](formats.html#formats-packed),
and [`legacyVertexAttributes`](features.html#features-legacyVertexAttributes) is
not enabled,
the value of `attribAddress`, calculated as described in
[Vertex Input Calculation](fxvertex.html#fxvertex-input-address-calculation), **must**
be a multiple of the [size of the `format`](formats.html#formats)

* 
[](#VUID-vkCmdDrawIndirect-format-10390) VUID-vkCmdDrawIndirect-format-10390

For each vertex attribute accessed by this command, if its
[VkVertexInputAttributeDescription](fxvertex.html#VkVertexInputAttributeDescription)::`format`
or [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format`
is not a [packed format](formats.html#formats-packed),
and either [    `legacyVertexAttributes`](features.html#features-legacyVertexAttributes) is not enabled or `format` has 64-bit
components,
the value of `attribAddress`, calculated as described in
[Vertex Input Calculation](fxvertex.html#fxvertex-input-address-calculation), **must**
be a multiple of the [component size of the `format`](formats.html#formats)

* 
[](#VUID-vkCmdDrawIndirect-None-07842) VUID-vkCmdDrawIndirect-None-07842

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY` dynamic state enabled
    then [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawIndirect-dynamicPrimitiveTopologyUnrestricted-07500) VUID-vkCmdDrawIndirect-dynamicPrimitiveTopologyUnrestricted-07500

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY` dynamic state enabled
and the [    `dynamicPrimitiveTopologyUnrestricted`](limits.html#limits-dynamicPrimitiveTopologyUnrestricted) is `VK_FALSE`,
then the `primitiveTopology` parameter of
`vkCmdSetPrimitiveTopology` **must** be of the same
[topology class](#drawing-primitive-topology-class) as the pipeline
[VkPipelineInputAssemblyStateCreateInfo](#VkPipelineInputAssemblyStateCreateInfo)::`topology` state

* 
[](#VUID-vkCmdDrawIndirect-primitiveTopology-10286) VUID-vkCmdDrawIndirect-primitiveTopology-10286

If a `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage is bound, then
the [current value](pipelines.html#dynamic-state-current-value) of
`primitiveTopology` **must** be `VK_PRIMITIVE_TOPOLOGY_PATCH_LIST`
prior to this drawing command

* 
[](#VUID-vkCmdDrawIndirect-primitiveTopology-10747) VUID-vkCmdDrawIndirect-primitiveTopology-10747

If [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) set `primitiveTopology` to
`VK_PRIMITIVE_TOPOLOGY_PATCH_LIST` prior to this drawing command,
then a `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage **must** be
bound

* 
[](#VUID-vkCmdDrawIndirect-primitiveTopology-10748) VUID-vkCmdDrawIndirect-primitiveTopology-10748

If [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) set `primitiveTopology` to
`VK_PRIMITIVE_TOPOLOGY_POINT_LIST` prior to this drawing command,
the [`maintenance5`](features.html#features-maintenance5) feature is not
enabled,
both a `VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` and
`VK_SHADER_STAGE_GEOMETRY_BIT` stage are not bound, then the
`Vertex` `Execution` `Model` **must** have a `PointSize` decorated
variable that is statically written to

* 
[](#VUID-vkCmdDrawIndirect-pStrides-04913) VUID-vkCmdDrawIndirect-pStrides-04913

If the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_VERTEX_INPUT_BINDING_STRIDE` dynamic state
enabled,
but without the `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state
enabled,
then [vkCmdBindVertexBuffers2](fxvertex.html#vkCmdBindVertexBuffers2) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this draw command, and the `pStrides`
parameter of [vkCmdBindVertexBuffers2](fxvertex.html#vkCmdBindVertexBuffers2) **must** not be `NULL`

* 
[](#VUID-vkCmdDrawIndirect-None-04914) VUID-vkCmdDrawIndirect-None-04914

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    then [vkCmdSetVertexInputEXT](fxvertex.html#vkCmdSetVertexInputEXT) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this draw command

* 
[](#VUID-vkCmdDrawIndirect-Input-07939) VUID-vkCmdDrawIndirect-Input-07939

    If
    [`vertexAttributeRobustness`](features.html#features-vertexAttributeRobustness)
    is not enabled and
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    then all variables with the `Input` storage class decorated with
    `Location` in the `Vertex` `Execution` `Model` `OpEntryPoint`
    **must** contain a location in
    [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`location`

* 
[](#VUID-vkCmdDrawIndirect-Input-08734) VUID-vkCmdDrawIndirect-Input-08734

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and either the [    `legacyVertexAttributes`](features.html#features-legacyVertexAttributes) feature is not enabled or the SPIR-V Type
    associated with a given `Input` variable of the corresponding
    `Location` in the `Vertex` `Execution` `Model` `OpEntryPoint` is
    64-bit,
    then the numeric type associated with all `Input` variables of the
    corresponding `Location` in the `Vertex` `Execution` `Model`
    `OpEntryPoint` **must** be the same as
    [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format`

* 
[](#VUID-vkCmdDrawIndirect-format-08936) VUID-vkCmdDrawIndirect-format-08936

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format` has a
    64-bit component, then the scalar width associated with all `Input`
    variables of the corresponding `Location` in the `Vertex`
    `Execution` `Model` `OpEntryPoint` **must** be 64-bit

* 
[](#VUID-vkCmdDrawIndirect-format-08937) VUID-vkCmdDrawIndirect-format-08937

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and the scalar width associated with a `Location` decorated
    `Input` variable in the `Vertex` `Execution` `Model`
    `OpEntryPoint` is 64-bit, then the corresponding
    [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format` **must** have a
    64-bit component

* 
[](#VUID-vkCmdDrawIndirect-None-09203) VUID-vkCmdDrawIndirect-None-09203

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format` has a
    64-bit component, then all `Input` variables at the corresponding
    `Location` in the `Vertex` `Execution` `Model` `OpEntryPoint`
    **must** not use components that are not present in the format

* 
[](#VUID-vkCmdDrawIndirect-None-04875) VUID-vkCmdDrawIndirect-None-04875

    If
    there is a shader object bound to the
    `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage
or
    the bound graphics pipeline state was created with both a
    `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage and the
    `VK_DYNAMIC_STATE_PATCH_CONTROL_POINTS_EXT` dynamic state enabled,
    and the [current value](pipelines.html#dynamic-state-current-value) of
    `primitiveTopology` is `VK_PRIMITIVE_TOPOLOGY_PATCH_LIST`, then
    [vkCmdSetPatchControlPointsEXT](shaders.html#vkCmdSetPatchControlPointsEXT) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawIndirect-None-04879) VUID-vkCmdDrawIndirect-None-04879

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE` dynamic state enabled
    then [vkCmdSetPrimitiveRestartEnable](#vkCmdSetPrimitiveRestartEnable) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawIndirect-None-09637) VUID-vkCmdDrawIndirect-None-09637

    If
    the [    `primitiveTopologyListRestart`](features.html#features-primitiveTopologyListRestart) feature is not enabled,
    the topology is `VK_PRIMITIVE_TOPOLOGY_POINT_LIST`,
    `VK_PRIMITIVE_TOPOLOGY_LINE_LIST`,
    `VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST`,
    `VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY`, or
    `VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY`,
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE` dynamic state enabled
    then [vkCmdSetPrimitiveRestartEnable](#vkCmdSetPrimitiveRestartEnable) **must** be `VK_FALSE`

* 
[](#VUID-vkCmdDrawIndirect-stage-06481) VUID-vkCmdDrawIndirect-stage-06481

The bound graphics pipeline **must** not have been created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of any element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_TASK_BIT_EXT` or `VK_SHADER_STAGE_MESH_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndirect-None-08885) VUID-vkCmdDrawIndirect-None-08885

There **must** be no shader object bound to either of the
`VK_SHADER_STAGE_TASK_BIT_EXT` or `VK_SHADER_STAGE_MESH_BIT_EXT`
stages

* 
[](#VUID-vkCmdDrawIndirect-None-07619) VUID-vkCmdDrawIndirect-None-07619

If
a shader object is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` stage or
a graphics pipeline is bound which was created with both a
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` stage and the
`VK_DYNAMIC_STATE_TESSELLATION_DOMAIN_ORIGIN_EXT` dynamic state
enabled, then [vkCmdSetTessellationDomainOriginEXT](tessellation.html#vkCmdSetTessellationDomainOriginEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawIndirect-buffer-02708) VUID-vkCmdDrawIndirect-buffer-02708

If `buffer` is non-sparse then it **must** be bound completely and
contiguously to a single `VkDeviceMemory` object

* 
[](#VUID-vkCmdDrawIndirect-buffer-02709) VUID-vkCmdDrawIndirect-buffer-02709

`buffer` **must** have been created with the
`VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT` bit set

* 
[](#VUID-vkCmdDrawIndirect-offset-02710) VUID-vkCmdDrawIndirect-offset-02710

`offset` **must** be a multiple of `4`

* 
[](#VUID-vkCmdDrawIndirect-commandBuffer-02711) VUID-vkCmdDrawIndirect-commandBuffer-02711

`commandBuffer` **must** not be a protected command buffer

* 
[](#VUID-vkCmdDrawIndirect-drawCount-02718) VUID-vkCmdDrawIndirect-drawCount-02718

If the [`multiDrawIndirect`](features.html#features-multiDrawIndirect) feature
is not enabled, `drawCount` **must** be `0` or `1`

* 
[](#VUID-vkCmdDrawIndirect-drawCount-02719) VUID-vkCmdDrawIndirect-drawCount-02719

`drawCount` **must** be less than or equal to
`VkPhysicalDeviceLimits`::`maxDrawIndirectCount`

* 
[](#VUID-vkCmdDrawIndirect-drawCount-00476) VUID-vkCmdDrawIndirect-drawCount-00476

If `drawCount` is greater than `1`, `stride` **must** be a multiple
of `4` and **must** be greater than or equal to
`sizeof`(`VkDrawIndirectCommand`)

* 
[](#VUID-vkCmdDrawIndirect-drawCount-00487) VUID-vkCmdDrawIndirect-drawCount-00487

If `drawCount` is equal to `1`, (`offset` + 
`sizeof`([VkDrawIndirectCommand](#VkDrawIndirectCommand))) **must** be less than or equal
to the size of `buffer`

* 
[](#VUID-vkCmdDrawIndirect-drawCount-00488) VUID-vkCmdDrawIndirect-drawCount-00488

If `drawCount` is greater than `1`, (`stride` ×
(`drawCount` - 1) +  `offset` + 
`sizeof`([VkDrawIndirectCommand](#VkDrawIndirectCommand))) **must** be less than or equal
to the size of `buffer`

Valid Usage (Implicit)

* 
[](#VUID-vkCmdDrawIndirect-commandBuffer-parameter) VUID-vkCmdDrawIndirect-commandBuffer-parameter

 `commandBuffer` **must** be a valid [VkCommandBuffer](cmdbuffers.html#VkCommandBuffer) handle

* 
[](#VUID-vkCmdDrawIndirect-buffer-parameter) VUID-vkCmdDrawIndirect-buffer-parameter

 `buffer` **must** be a valid [VkBuffer](resources.html#VkBuffer) handle

* 
[](#VUID-vkCmdDrawIndirect-commandBuffer-recording) VUID-vkCmdDrawIndirect-commandBuffer-recording

 `commandBuffer` **must** be in the [recording state](cmdbuffers.html#commandbuffers-lifecycle)

* 
[](#VUID-vkCmdDrawIndirect-commandBuffer-cmdpool) VUID-vkCmdDrawIndirect-commandBuffer-cmdpool

 The `VkCommandPool` that `commandBuffer` was allocated from **must** support graphics operations

* 
[](#VUID-vkCmdDrawIndirect-renderpass) VUID-vkCmdDrawIndirect-renderpass

 This command **must** only be called inside of a render pass instance

* 
[](#VUID-vkCmdDrawIndirect-videocoding) VUID-vkCmdDrawIndirect-videocoding

 This command **must** only be called outside of a video coding scope

* 
[](#VUID-vkCmdDrawIndirect-commonparent) VUID-vkCmdDrawIndirect-commonparent

 Both of `buffer`, and `commandBuffer` **must** have been created, allocated, or retrieved from the same [VkDevice](devsandqueues.html#VkDevice)

Host Synchronization

* 
Host access to `commandBuffer` **must** be externally synchronized

* 
Host access to the `VkCommandPool` that `commandBuffer` was allocated from **must** be externally synchronized

Command Properties
| [Command Buffer Levels](cmdbuffers.html#VkCommandBufferLevel) | [Render Pass Scope](renderpass.html#vkCmdBeginRenderPass) | [Video Coding Scope](videocoding.html#vkCmdBeginVideoCodingKHR) | [Supported Queue Types](devsandqueues.html#VkQueueFlagBits) | [Command Type](fundamentals.html#fundamentals-queueoperation-command-types) |
| --- | --- | --- | --- | --- |
| Primary

Secondary | Inside | Outside | Graphics | Action |

The `VkDrawIndirectCommand` structure is defined as:

// Provided by VK_VERSION_1_0
typedef struct VkDrawIndirectCommand {
    uint32_t    vertexCount;
    uint32_t    instanceCount;
    uint32_t    firstVertex;
    uint32_t    firstInstance;
} VkDrawIndirectCommand;

* 
`vertexCount` is the number of vertices to draw.

* 
`instanceCount` is the number of instances to draw.

* 
`firstVertex` is the index of the first vertex to draw.

* 
`firstInstance` is the instance ID of the first instance to draw.

The members of `VkDrawIndirectCommand` have the same meaning as the
similarly named parameters of [vkCmdDraw](#vkCmdDraw).

Valid Usage

* 
[](#VUID-VkDrawIndirectCommand-pNext-09461) VUID-VkDrawIndirectCommand-pNext-09461

If the bound graphics pipeline state was created with
[VkPipelineVertexInputDivisorStateCreateInfo](fxvertex.html#VkPipelineVertexInputDivisorStateCreateInfo) in the `pNext`
chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pVertexInputState`,
any member of
[VkPipelineVertexInputDivisorStateCreateInfo](fxvertex.html#VkPipelineVertexInputDivisorStateCreateInfo)::`pVertexBindingDivisors`
has a value other than `1` in `divisor`, and
[VkPhysicalDeviceVertexAttributeDivisorProperties](limits.html#VkPhysicalDeviceVertexAttributeDivisorProperties)::`supportsNonZeroFirstInstance`
is `VK_FALSE`, then `firstInstance` **must** be `0`

* 
[](#VUID-VkDrawIndirectCommand-None-09462) VUID-VkDrawIndirectCommand-None-09462

If
[shader objects](shaders.html#shaders-objects) are used for drawing or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled, any
member of the `pVertexBindingDescriptions` parameter to the
[vkCmdSetVertexInputEXT](fxvertex.html#vkCmdSetVertexInputEXT) call that sets this dynamic state has a
value other than `1` in `divisor`, and
[VkPhysicalDeviceVertexAttributeDivisorProperties](limits.html#VkPhysicalDeviceVertexAttributeDivisorProperties)::`supportsNonZeroFirstInstance`
is `VK_FALSE`, then `firstInstance` **must** be `0`

* 
[](#VUID-VkDrawIndirectCommand-firstInstance-00501) VUID-VkDrawIndirectCommand-firstInstance-00501

If the [    `drawIndirectFirstInstance`](features.html#features-drawIndirectFirstInstance) feature is not enabled,
`firstInstance` **must** be `0`

To record a non-indexed draw call with a draw call count sourced from a
buffer, call:

// Provided by VK_VERSION_1_2
void vkCmdDrawIndirectCount(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    buffer,
    VkDeviceSize                                offset,
    VkBuffer                                    countBuffer,
    VkDeviceSize                                countBufferOffset,
    uint32_t                                    maxDrawCount,
    uint32_t                                    stride);

or the equivalent command

// Provided by VK_KHR_draw_indirect_count
void vkCmdDrawIndirectCountKHR(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    buffer,
    VkDeviceSize                                offset,
    VkBuffer                                    countBuffer,
    VkDeviceSize                                countBufferOffset,
    uint32_t                                    maxDrawCount,
    uint32_t                                    stride);

or the equivalent command

// Provided by VK_AMD_draw_indirect_count
void vkCmdDrawIndirectCountAMD(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    buffer,
    VkDeviceSize                                offset,
    VkBuffer                                    countBuffer,
    VkDeviceSize                                countBufferOffset,
    uint32_t                                    maxDrawCount,
    uint32_t                                    stride);

* 
`commandBuffer` is the command buffer into which the command is
recorded.

* 
`buffer` is the buffer containing draw parameters.

* 
`offset` is the byte offset into `buffer` where parameters
begin.

* 
`countBuffer` is the buffer containing the draw count.

* 
`countBufferOffset` is the byte offset into `countBuffer` where
the draw count begins.

* 
`maxDrawCount` specifies the maximum number of draws that will be
executed.
The actual number of executed draw calls is the minimum of the count
specified in `countBuffer` and `maxDrawCount`.

* 
`stride` is the byte stride between successive sets of draw
parameters.

`vkCmdDrawIndirectCount` behaves similarly to [vkCmdDrawIndirect](#vkCmdDrawIndirect)
except that the draw count is read by the device from a buffer during
execution.
The command will read an unsigned 32-bit integer from `countBuffer`
located at `countBufferOffset` and use this as the draw count.

Valid Usage

* 
[](#VUID-vkCmdDrawIndirectCount-magFilter-04553) VUID-vkCmdDrawIndirectCount-magFilter-04553

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawIndirectCount-magFilter-09598) VUID-vkCmdDrawIndirectCount-magFilter-09598

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR` and `reductionMode` equal to either
`VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawIndirectCount-mipmapMode-04770) VUID-vkCmdDrawIndirectCount-mipmapMode-04770

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawIndirectCount-mipmapMode-09599) VUID-vkCmdDrawIndirectCount-mipmapMode-09599

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR` and `reductionMode` equal to
either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawIndirectCount-unnormalizedCoordinates-09635) VUID-vkCmdDrawIndirectCount-unnormalizedCoordinates-09635

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `levelCount` and `layerCount`
**must** be 1

* 
[](#VUID-vkCmdDrawIndirectCount-None-08609) VUID-vkCmdDrawIndirectCount-None-08609

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `viewType` **must** be
`VK_IMAGE_VIEW_TYPE_1D` or `VK_IMAGE_VIEW_TYPE_2D`

* 
[](#VUID-vkCmdDrawIndirectCount-None-08610) VUID-vkCmdDrawIndirectCount-None-08610

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions with
`ImplicitLod`, `Dref` or `Proj` in their name

* 
[](#VUID-vkCmdDrawIndirectCount-None-08611) VUID-vkCmdDrawIndirectCount-None-08611

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions that includes a
LOD bias or any offset values

* 
[](#VUID-vkCmdDrawIndirectCount-None-06479) VUID-vkCmdDrawIndirectCount-None-06479

If a [VkImageView](resources.html#VkImageView) is sampled with
[depth comparison](textures.html#textures-depth-compare-operation), the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_SAMPLED_IMAGE_DEPTH_COMPARISON_BIT`

* 
[](#VUID-vkCmdDrawIndirectCount-None-02691) VUID-vkCmdDrawIndirectCount-None-02691

If a [VkImageView](resources.html#VkImageView) is accessed using atomic operations as a result
of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawIndirectCount-None-07888) VUID-vkCmdDrawIndirectCount-None-07888

If a `VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER` descriptor is
accessed using atomic operations as a result of this command, then the
storage texel buffer’s [format    features](resources.html#resources-buffer-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawIndirectCount-None-02692) VUID-vkCmdDrawIndirectCount-None-02692

If a [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_CUBIC_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndirectCount-None-02693) VUID-vkCmdDrawIndirectCount-None-02693

If
the [VK_EXT_filter_cubic](../appendices/extensions.html#VK_EXT_filter_cubic) extension is not enabled and
any [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, it **must** not have a [VkImageViewType](resources.html#VkImageViewType) of
`VK_IMAGE_VIEW_TYPE_3D`, `VK_IMAGE_VIEW_TYPE_CUBE`, or
`VK_IMAGE_VIEW_TYPE_CUBE_ARRAY`

* 
[](#VUID-vkCmdDrawIndirectCount-filterCubic-02694) VUID-vkCmdDrawIndirectCount-filterCubic-02694

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command **must** have a [VkImageViewType](resources.html#VkImageViewType) and format
that supports cubic filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubic`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawIndirectCount-filterCubicMinmax-02695) VUID-vkCmdDrawIndirectCount-filterCubicMinmax-02695

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` with
a reduction mode of either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` as a result of this command **must**
have a [VkImageViewType](resources.html#VkImageViewType) and format that supports cubic filtering
together with minmax filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubicMinmax`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawIndirectCount-cubicRangeClamp-09212) VUID-vkCmdDrawIndirectCount-cubicRangeClamp-09212

If the [`cubicRangeClamp`](features.html#features-cubicRangeClamp) feature is
not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** not have a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM`

* 
[](#VUID-vkCmdDrawIndirectCount-reductionMode-09213) VUID-vkCmdDrawIndirectCount-reductionMode-09213

Any [VkImageView](resources.html#VkImageView) being sampled with a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM` as a
result of this command **must** sample with `VK_FILTER_CUBIC_EXT`

* 
[](#VUID-vkCmdDrawIndirectCount-selectableCubicWeights-09214) VUID-vkCmdDrawIndirectCount-selectableCubicWeights-09214

If the [`selectableCubicWeights`](features.html#features-selectableCubicWeights)
feature is not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** have
[VkSamplerCubicWeightsCreateInfoQCOM](samplers.html#VkSamplerCubicWeightsCreateInfoQCOM)::`cubicWeights` equal to
`VK_CUBIC_FILTER_WEIGHTS_CATMULL_ROM_QCOM`

* 
[](#VUID-vkCmdDrawIndirectCount-flags-02696) VUID-vkCmdDrawIndirectCount-flags-02696

Any [VkImage](resources.html#VkImage) created with a [VkImageCreateInfo](resources.html#VkImageCreateInfo)::`flags`
containing `VK_IMAGE_CREATE_CORNER_SAMPLED_BIT_NV` sampled as a
result of this command **must** only be sampled using a
[VkSamplerAddressMode](samplers.html#VkSamplerAddressMode) of
`VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE`

* 
[](#VUID-vkCmdDrawIndirectCount-OpTypeImage-07027) VUID-vkCmdDrawIndirectCount-OpTypeImage-07027

For any [VkImageView](resources.html#VkImageView) being written as a storage image where the
image format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawIndirectCount-OpTypeImage-07028) VUID-vkCmdDrawIndirectCount-OpTypeImage-07028

For any [VkImageView](resources.html#VkImageView) being read as a storage image where the image
format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawIndirectCount-OpTypeImage-07029) VUID-vkCmdDrawIndirectCount-OpTypeImage-07029

For any [VkBufferView](resources.html#VkBufferView) being written as a storage texel buffer where
the image format field of the `OpTypeImage` is `Unknown`, the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawIndirectCount-OpTypeImage-07030) VUID-vkCmdDrawIndirectCount-OpTypeImage-07030

Any [VkBufferView](resources.html#VkBufferView) being read as a storage texel buffer where the
image format field of the `OpTypeImage` is `Unknown` then the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawIndirectCount-None-08600) VUID-vkCmdDrawIndirectCount-None-08600

For each set *n* that is statically used by [a bound    shader](shaders.html#shaders-binding), a descriptor set **must** have been bound to *n* at the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for set *n*, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the current
[VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawIndirectCount-None-08601) VUID-vkCmdDrawIndirectCount-None-08601

For each push constant that is statically used by [a    bound shader](shaders.html#shaders-binding), a push constant value **must** have been set for the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the
current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawIndirectCount-None-10068) VUID-vkCmdDrawIndirectCount-None-10068

For each array of resources that is used by [a bound    shader](shaders.html#shaders-binding), the indices used to access members of the array **must** be less
than the descriptor count for the identified binding in the descriptor
sets used by this command

* 
[](#VUID-vkCmdDrawIndirectCount-maintenance4-08602) VUID-vkCmdDrawIndirectCount-maintenance4-08602

If the [`maintenance4`](features.html#features-maintenance4) feature is not
enabled, then for each push constant that is statically used by
[a bound shader](shaders.html#shaders-binding), a push constant value **must** have
been set for the same pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
that is compatible for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
used to create the current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) and [VkPushConstantRange](descriptorsets.html#VkPushConstantRange) arrays
used to create the current [VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawIndirectCount-None-08114) VUID-vkCmdDrawIndirectCount-None-08114

Descriptors in each bound descriptor set, specified via
[vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), **must** be valid as described by
[descriptor validity](descriptorsets.html#descriptor-validity) if they are statically used
by
the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind point used by this
command and the bound [VkPipeline](pipelines.html#VkPipeline) was not created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndirectCount-None-08115) VUID-vkCmdDrawIndirectCount-None-08115

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), the bound
[VkPipeline](pipelines.html#VkPipeline) **must** have been created without
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndirectCount-None-08116) VUID-vkCmdDrawIndirectCount-None-08116

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind
point used by this command and the bound [VkPipeline](pipelines.html#VkPipeline) was created
with `VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndirectCount-None-08604) VUID-vkCmdDrawIndirectCount-None-08604

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command

* 
[](#VUID-vkCmdDrawIndirectCount-None-08117) VUID-vkCmdDrawIndirectCount-None-08117

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT),
the bound [VkPipeline](pipelines.html#VkPipeline) **must** have been created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndirectCount-None-08119) VUID-vkCmdDrawIndirectCount-None-08119

If a descriptor is dynamically used with a [VkPipeline](pipelines.html#VkPipeline) created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the descriptor
memory **must** be resident

* 
[](#VUID-vkCmdDrawIndirectCount-None-08605) VUID-vkCmdDrawIndirectCount-None-08605

If a descriptor is dynamically used with a [VkShaderEXT](shaders.html#VkShaderEXT) created
with a `VkDescriptorSetLayout` that was created with
`VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the
descriptor memory **must** be resident

* 
[](#VUID-vkCmdDrawIndirectCount-None-08606) VUID-vkCmdDrawIndirectCount-None-08606

If the [`shaderObject`](features.html#features-shaderObject) feature is not
enabled, a
valid pipeline **must** be bound to the pipeline bind point used by this
command

* 
[](#VUID-vkCmdDrawIndirectCount-None-08608) VUID-vkCmdDrawIndirectCount-None-08608

If a pipeline is bound to the pipeline bind point used by this command,
there
**must** not have been any calls to dynamic state setting commands for any
state specified statically in the [VkPipeline](pipelines.html#VkPipeline) object bound to the
pipeline bind point used by this command, since that pipeline was bound

* 
[](#VUID-vkCmdDrawIndirectCount-uniformBuffers-06935) VUID-vkCmdDrawIndirectCount-uniformBuffers-06935

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a uniform buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`uniformBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawIndirectCount-None-08612) VUID-vkCmdDrawIndirectCount-None-08612

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a uniform
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawIndirectCount-storageBuffers-06936) VUID-vkCmdDrawIndirectCount-storageBuffers-06936

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a storage buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`storageBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawIndirectCount-None-08613) VUID-vkCmdDrawIndirectCount-None-08613

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a storage
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawIndirectCount-commandBuffer-02707) VUID-vkCmdDrawIndirectCount-commandBuffer-02707

If `commandBuffer` is an unprotected command buffer and
[`protectedNoFault`](devsandqueues.html#limits-protectedNoFault) is not supported,
any resource accessed by [bound shaders](shaders.html#shaders-binding) **must** not be
a protected resource

* 
[](#VUID-vkCmdDrawIndirectCount-viewType-07752) VUID-vkCmdDrawIndirectCount-viewType-07752

If a [VkImageView](resources.html#VkImageView) is accessed as a result of this command, then the
image view’s `viewType` **must** match the `Dim` operand of the
`OpTypeImage` as described in [Compatibility Between SPIR-V Image Dimensions and Vulkan ImageView Types](../appendices/spirvenv.html#spirvenv-image-dimensions)

* 
[](#VUID-vkCmdDrawIndirectCount-format-07753) VUID-vkCmdDrawIndirectCount-format-07753

If a [VkImageView](resources.html#VkImageView) or [VkBufferView](resources.html#VkBufferView) is accessed as a result of
this command, then the [numeric type](formats.html#formats-numericformat) of the
view’s `format` and the `Sampled` `Type` operand of the
`OpTypeImage` **must** match

* 
[](#VUID-vkCmdDrawIndirectCount-OpImageWrite-08795) VUID-vkCmdDrawIndirectCount-OpImageWrite-08795

If a [VkImageView](resources.html#VkImageView)
created with a format other than `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
at least as many components as the image view’s format

* 
[](#VUID-vkCmdDrawIndirectCount-OpImageWrite-08796) VUID-vkCmdDrawIndirectCount-OpImageWrite-08796

If a [VkImageView](resources.html#VkImageView) created with the format `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
four components

* 
[](#VUID-vkCmdDrawIndirectCount-OpImageWrite-04469) VUID-vkCmdDrawIndirectCount-OpImageWrite-04469

If a [VkBufferView](resources.html#VkBufferView) is accessed using `OpImageWrite` as a result
of this command, then the `Type` of the `Texel` operand of that
instruction **must** have at least as many components as the buffer view’s
format

* 
[](#VUID-vkCmdDrawIndirectCount-SampledType-04470) VUID-vkCmdDrawIndirectCount-SampledType-04470

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit component
width is accessed as a result of this command, the `SampledType` of
the `OpTypeImage` operand of that instruction **must** have a `Width`
of 64

* 
[](#VUID-vkCmdDrawIndirectCount-SampledType-04471) VUID-vkCmdDrawIndirectCount-SampledType-04471

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawIndirectCount-SampledType-04472) VUID-vkCmdDrawIndirectCount-SampledType-04472

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit
component width is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 64

* 
[](#VUID-vkCmdDrawIndirectCount-SampledType-04473) VUID-vkCmdDrawIndirectCount-SampledType-04473

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawIndirectCount-sparseImageInt64Atomics-04474) VUID-vkCmdDrawIndirectCount-sparseImageInt64Atomics-04474

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkImage](resources.html#VkImage)
objects created with the `VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT` flag
**must** not be accessed by atomic instructions through an `OpTypeImage`
with a `SampledType` with a `Width` of 64 by this command

* 
[](#VUID-vkCmdDrawIndirectCount-sparseImageInt64Atomics-04475) VUID-vkCmdDrawIndirectCount-sparseImageInt64Atomics-04475

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkBuffer](resources.html#VkBuffer)
objects created with the `VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT`
flag **must** not be accessed by atomic instructions through an
`OpTypeImage` with a `SampledType` with a `Width` of 64 by this
command

* 
[](#VUID-vkCmdDrawIndirectCount-OpImageWeightedSampleQCOM-06971) VUID-vkCmdDrawIndirectCount-OpImageWeightedSampleQCOM-06971

If `OpImageWeightedSampleQCOM` is used to sample a [VkImageView](resources.html#VkImageView)
as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_SAMPLED_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndirectCount-OpImageWeightedSampleQCOM-06972) VUID-vkCmdDrawIndirectCount-OpImageWeightedSampleQCOM-06972

If `OpImageWeightedSampleQCOM` uses a [VkImageView](resources.html#VkImageView) as a sample
weight image as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndirectCount-OpImageBoxFilterQCOM-06973) VUID-vkCmdDrawIndirectCount-OpImageBoxFilterQCOM-06973

If `OpImageBoxFilterQCOM` is used to sample a [VkImageView](resources.html#VkImageView) as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BOX_FILTER_SAMPLED_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndirectCount-OpImageBlockMatchSSDQCOM-06974) VUID-vkCmdDrawIndirectCount-OpImageBlockMatchSSDQCOM-06974

If `OpImageBlockMatchSSDQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndirectCount-OpImageBlockMatchSADQCOM-06975) VUID-vkCmdDrawIndirectCount-OpImageBlockMatchSADQCOM-06975

If `OpImageBlockMatchSADQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndirectCount-OpImageBlockMatchSADQCOM-06976) VUID-vkCmdDrawIndirectCount-OpImageBlockMatchSADQCOM-06976

If `OpImageBlockMatchSADQCOM` or OpImageBlockMatchSSDQCOM is used to
read from a reference image as result of this command, then the
specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawIndirectCount-OpImageWeightedSampleQCOM-06977) VUID-vkCmdDrawIndirectCount-OpImageWeightedSampleQCOM-06977

If `OpImageWeightedSampleQCOM`, `OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** have
been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndirectCount-OpImageWeightedSampleQCOM-06978) VUID-vkCmdDrawIndirectCount-OpImageWeightedSampleQCOM-06978

If any command other than `OpImageWeightedSampleQCOM`,
`OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** not
have been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndirectCount-OpImageBlockMatchWindow-09215) VUID-vkCmdDrawIndirectCount-OpImageBlockMatchWindow-09215

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndirectCount-OpImageBlockMatchWindow-09216) VUID-vkCmdDrawIndirectCount-OpImageBlockMatchWindow-09216

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
format **must** be a single-component format

* 
[](#VUID-vkCmdDrawIndirectCount-OpImageBlockMatchWindow-09217) VUID-vkCmdDrawIndirectCount-OpImageBlockMatchWindow-09217

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` read from a reference image as result
of this command, then the specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawIndirectCount-None-07288) VUID-vkCmdDrawIndirectCount-None-07288

Any shader invocation executed by this command **must**
[terminate](shaders.html#shaders-termination)

* 
[](#VUID-vkCmdDrawIndirectCount-None-09600) VUID-vkCmdDrawIndirectCount-None-09600

If a descriptor with type equal to any of
`VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE`,
`VK_DESCRIPTOR_TYPE_STORAGE_IMAGE`, or
`VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT` is accessed as a result of
this command, all image subresources identified by that descriptor **must**
be in the image layout identified when the descriptor was written

* 
[](#VUID-vkCmdDrawIndirectCount-commandBuffer-10746) VUID-vkCmdDrawIndirectCount-commandBuffer-10746

The `VkDeviceMemory` object allocated from a `VkMemoryHeap` with
the `VK_MEMORY_HEAP_TILE_MEMORY_BIT_QCOM` property that is bound to
a resource accessed as a result of this command **must** be the active
bound [bound tile memory object](memory.html#memory-bind-tile-memory) in
`commandBuffer`

* 
[](#VUID-vkCmdDrawIndirectCount-None-10678) VUID-vkCmdDrawIndirectCount-None-10678

If this command is recorded inside a [tile    shading render pass](renderpass.html#renderpass-tile-shading) instance, the stages corresponding to the pipeline
bind point used by this command **must** only include
`VK_SHADER_STAGE_VERTEX_BIT`, `VK_SHADER_STAGE_FRAGMENT_BIT`,
and/or `VK_SHADER_STAGE_COMPUTE_BIT`

* 
[](#VUID-vkCmdDrawIndirectCount-None-10679) VUID-vkCmdDrawIndirectCount-None-10679

If this command is recorded where
[per-tile execution model](renderpass.html#renderpass-per-tile-execution-model) is
enabled, there **must** be no access to any image while the image was be
transitioned to the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` layout

* 
[](#VUID-vkCmdDrawIndirectCount-renderPass-02684) VUID-vkCmdDrawIndirectCount-renderPass-02684

The current render pass **must** be [compatible](renderpass.html#renderpass-compatibility)
with the `renderPass` member of the
`VkGraphicsPipelineCreateInfo` structure specified when creating the
`VkPipeline` bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawIndirectCount-subpass-02685) VUID-vkCmdDrawIndirectCount-subpass-02685

The subpass index of the current render pass **must** be equal to the
`subpass` member of the `VkGraphicsPipelineCreateInfo` structure
specified when creating the `VkPipeline` bound to
`VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawIndirectCount-None-07748) VUID-vkCmdDrawIndirectCount-None-07748

If any shader statically accesses an input attachment, a valid
descriptor **must** be bound to the pipeline via a descriptor set

* 
[](#VUID-vkCmdDrawIndirectCount-OpTypeImage-07468) VUID-vkCmdDrawIndirectCount-OpTypeImage-07468

If any shader executed by this pipeline accesses an `OpTypeImage`
variable with a `Dim` operand of `SubpassData`, it **must** be
decorated with an `InputAttachmentIndex` that corresponds to a valid
input attachment in the current subpass

* 
[](#VUID-vkCmdDrawIndirectCount-None-07469) VUID-vkCmdDrawIndirectCount-None-07469

Input attachment views accessed in a subpass **must** be created with the
same [VkFormat](formats.html#VkFormat) as the corresponding subpass definition, and be
created with a [VkImageView](resources.html#VkImageView) that is compatible with the attachment
referenced by the subpass'
`pInputAttachments`[`InputAttachmentIndex`] in the bound
[VkFramebuffer](renderpass.html#VkFramebuffer) as specified by
[Fragment Input Attachment    Compatibility](interfaces.html#compatibility-inputattachment)

* 
[](#VUID-vkCmdDrawIndirectCount-pDepthInputAttachmentIndex-09595) VUID-vkCmdDrawIndirectCount-pDepthInputAttachmentIndex-09595

Input attachment views accessed in a dynamic render pass with a
`InputAttachmentIndex` referenced by
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo), or no
`InputAttachmentIndex` if
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
or
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are `NULL`, **must** be created with a [VkImageView](resources.html#VkImageView) that is compatible
with the corresponding color, depth, or stencil attachment in
[VkRenderingInfo](renderpass.html#VkRenderingInfo)

* 
[](#VUID-vkCmdDrawIndirectCount-pDepthInputAttachmentIndex-09596) VUID-vkCmdDrawIndirectCount-pDepthInputAttachmentIndex-09596

Input attachment views accessed in a dynamic render pass via a shader
object **must** have an `InputAttachmentIndex` if both
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
and
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are non-`NULL`

* 
[](#VUID-vkCmdDrawIndirectCount-InputAttachmentIndex-09597) VUID-vkCmdDrawIndirectCount-InputAttachmentIndex-09597

If an input attachment view accessed in a dynamic render pass via a
shader object has an `InputAttachmentIndex`, the
`InputAttachmentIndex` **must** match an index in
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

* 
[](#VUID-vkCmdDrawIndirectCount-None-06537) VUID-vkCmdDrawIndirectCount-None-06537

Memory backing image subresources used as attachments in the current
render pass **must** not be written in any way other than as an attachment
by this command

* 
[](#VUID-vkCmdDrawIndirectCount-None-09000) VUID-vkCmdDrawIndirectCount-None-09000

If a color attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

the `VK_PIPELINE_CREATE_COLOR_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT` is
set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_COLOR_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawIndirectCount-None-09001) VUID-vkCmdDrawIndirectCount-None-09001

If a depth attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_DEPTH_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawIndirectCount-None-09002) VUID-vkCmdDrawIndirectCount-None-09002

If a stencil attachment is written by any prior command in this subpass
or by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_STENCIL_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawIndirectCount-None-09003) VUID-vkCmdDrawIndirectCount-None-09003

If an attachment is written by any prior command in this subpass or by
the load, store, or resolve operations for this subpass, it **must** not be
accessed in any way other than as an attachment, storage image, or
sampled image by this command

[](#VUID-vkCmdDrawIndirectCount-None-06539) VUID-vkCmdDrawIndirectCount-None-06539

If any previously recorded command in the current subpass accessed an
image subresource used as an attachment in this subpass in any way other
than as an attachment, this command **must** not write to that image
subresource as an attachment

[](#VUID-vkCmdDrawIndirectCount-None-06886) VUID-vkCmdDrawIndirectCount-None-06886

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the depth aspect, [depth    writes](fragops.html#fragops-depth-write) **must** be disabled

[](#VUID-vkCmdDrawIndirectCount-None-06887) VUID-vkCmdDrawIndirectCount-None-06887

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the stencil aspect, both front and back
`writeMask` are not zero, and stencil test is enabled,
[all stencil ops](fragops.html#fragops-stencil) **must** be `VK_STENCIL_OP_KEEP`

[](#VUID-vkCmdDrawIndirectCount-None-07831) VUID-vkCmdDrawIndirectCount-None-07831

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT` dynamic state enabled then
[vkCmdSetViewport](vertexpostproc.html#vkCmdSetViewport) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07832) VUID-vkCmdDrawIndirectCount-None-07832

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SCISSOR` dynamic state enabled then
[vkCmdSetScissor](fragops.html#vkCmdSetScissor) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07833) VUID-vkCmdDrawIndirectCount-None-07833

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_WIDTH` dynamic state enabled then
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-08617) VUID-vkCmdDrawIndirectCount-None-08617

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command
buffer set `polygonMode` to `VK_POLYGON_MODE_LINE`,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-08618) VUID-vkCmdDrawIndirectCount-None-08618

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-08619) VUID-vkCmdDrawIndirectCount-None-08619

If a shader object that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, [vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawIndirectCount-None-07834) VUID-vkCmdDrawIndirectCount-None-07834

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthBiasEnable`
is `VK_TRUE`, then [vkCmdSetDepthBias](primsrast.html#vkCmdSetDepthBias)
or [vkCmdSetDepthBias2EXT](primsrast.html#vkCmdSetDepthBias2EXT)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawIndirectCount-None-07835) VUID-vkCmdDrawIndirectCount-None-07835

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_BLEND_CONSTANTS` dynamic state enabled then
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-08621) VUID-vkCmdDrawIndirectCount-None-08621

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) in the current command buffer set any
element of `pColorBlendEnables` to `VK_TRUE`, and the most
recent call to [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) in the current
command buffer set the same element of `pColorBlendEquations` to a
`VkColorBlendEquationEXT` structure with any [VkBlendFactor](framebuffer.html#VkBlendFactor)
member with a value of `VK_BLEND_FACTOR_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_CONSTANT_ALPHA`, or
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_ALPHA`,
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07836) VUID-vkCmdDrawIndirectCount-None-07836

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`depthBoundsTestEnable` is `VK_TRUE`, then
[vkCmdSetDepthBounds](fragops.html#vkCmdSetDepthBounds) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07837) VUID-vkCmdDrawIndirectCount-None-07837

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilCompareMask](fragops.html#vkCmdSetStencilCompareMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07838) VUID-vkCmdDrawIndirectCount-None-07838

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07839) VUID-vkCmdDrawIndirectCount-None-07839

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_REFERENCE` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of and
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilReference](fragops.html#vkCmdSetStencilReference) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-maxMultiviewInstanceIndex-02688) VUID-vkCmdDrawIndirectCount-maxMultiviewInstanceIndex-02688

If the draw is recorded in a render pass instance with multiview
enabled, the maximum instance index **must** be less than or equal to
[VkPhysicalDeviceMultiviewProperties](limits.html#VkPhysicalDeviceMultiviewProperties)::`maxMultiviewInstanceIndex`

[](#VUID-vkCmdDrawIndirectCount-sampleLocationsEnable-02689) VUID-vkCmdDrawIndirectCount-sampleLocationsEnable-02689

If the bound graphics pipeline was created with
[VkPipelineSampleLocationsStateCreateInfoEXT](primsrast.html#VkPipelineSampleLocationsStateCreateInfoEXT)::`sampleLocationsEnable`
set to `VK_TRUE` and the current subpass has a depth/stencil
attachment, then that attachment **must** have been created with the
`VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT` bit set

[](#VUID-vkCmdDrawIndirectCount-None-07634) VUID-vkCmdDrawIndirectCount-None-07634

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-06666) VUID-vkCmdDrawIndirectCount-None-06666

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
[vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07840) VUID-vkCmdDrawIndirectCount-None-07840

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CULL_MODE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCullMode](primsrast.html#vkCmdSetCullMode) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07841) VUID-vkCmdDrawIndirectCount-None-07841

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRONT_FACE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFrontFace](primsrast.html#vkCmdSetFrontFace) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07843) VUID-vkCmdDrawIndirectCount-None-07843

 If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`,
[vkCmdSetDepthTestEnable](fragops.html#vkCmdSetDepthTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07844) VUID-vkCmdDrawIndirectCount-None-07844

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07845) VUID-vkCmdDrawIndirectCount-None-07845

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_COMPARE_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthCompareOp](fragops.html#vkCmdSetDepthCompareOp) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07846) VUID-vkCmdDrawIndirectCount-None-07846

If the [`depthBounds`](features.html#features-depthBounds) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBoundsTestEnable](fragops.html#vkCmdSetDepthBoundsTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07847) VUID-vkCmdDrawIndirectCount-None-07847

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetStencilTestEnable](fragops.html#vkCmdSetStencilTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07848) VUID-vkCmdDrawIndirectCount-None-07848

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then [vkCmdSetStencilOp](fragops.html#vkCmdSetStencilOp)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawIndirectCount-viewportCount-03417) VUID-vkCmdDrawIndirectCount-viewportCount-03417

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-scissorCount-03418) VUID-vkCmdDrawIndirectCount-scissorCount-03418

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetScissorWithCount](vertexpostproc.html#vkCmdSetScissorWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing

[](#VUID-vkCmdDrawIndirectCount-viewportCount-03419) VUID-vkCmdDrawIndirectCount-viewportCount-03419

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with both the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic states enabled,
and the state is not inherited,
then the `viewportCount` parameter of
`vkCmdSetViewportWithCount` **must** match the `scissorCount`
parameter of `vkCmdSetScissorWithCount`

[](#VUID-vkCmdDrawIndirectCount-viewportCount-04137) VUID-vkCmdDrawIndirectCount-viewportCount-04137

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportWScalingStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportWScalingStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndirectCount-viewportCount-04138) VUID-vkCmdDrawIndirectCount-viewportCount-04138

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-08636) VUID-vkCmdDrawIndirectCount-None-08636

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndirectCount-viewportCount-04139) VUID-vkCmdDrawIndirectCount-viewportCount-04139

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic
state enabled, then the bound graphics pipeline **must** have been created
with
[VkPipelineViewportShadingRateImageStateCreateInfoNV](primsrast.html#VkPipelineViewportShadingRateImageStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndirectCount-shadingRateImage-09233) VUID-vkCmdDrawIndirectCount-shadingRateImage-09233

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_COARSE_SAMPLE_ORDER_NV` and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoarseSampleOrderNV](primsrast.html#vkCmdSetCoarseSampleOrderNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-shadingRateImage-09234) VUID-vkCmdDrawIndirectCount-shadingRateImage-09234

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-08637) VUID-vkCmdDrawIndirectCount-None-08637

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** be greater than or
equal to the `viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndirectCount-VkPipelineVieportCreateInfo-04141) VUID-vkCmdDrawIndirectCount-VkPipelineVieportCreateInfo-04141

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV) structure chained from
[VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound graphics
pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndirectCount-VkPipelineVieportCreateInfo-04142) VUID-vkCmdDrawIndirectCount-VkPipelineVieportCreateInfo-04142

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV) structure
chained from [VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound
graphics pipeline **must** have been created with
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV)::`exclusiveScissorCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndirectCount-None-07878) VUID-vkCmdDrawIndirectCount-None-07878

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_ENABLE_NV` dynamic state
enabled, then [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07879) VUID-vkCmdDrawIndirectCount-None-07879

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_NV` dynamic state enabled, and
the most recent call to [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) in the
current command buffer set any element of `pExclusiveScissorEnables`
to `VK_TRUE`, then [vkCmdSetExclusiveScissorNV](fragops.html#vkCmdSetExclusiveScissorNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-04876) VUID-vkCmdDrawIndirectCount-None-04876

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE` dynamic state enabled,
then [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-04877) VUID-vkCmdDrawIndirectCount-None-04877

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBiasEnable](primsrast.html#vkCmdSetDepthBiasEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-logicOp-04878) VUID-vkCmdDrawIndirectCount-logicOp-04878

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `logicOpEnable` is
`VK_TRUE`, then [vkCmdSetLogicOpEXT](framebuffer.html#vkCmdSetLogicOpEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-primitiveFragmentShadingRateWithMultipleViewports-04552) VUID-vkCmdDrawIndirectCount-primitiveFragmentShadingRateWithMultipleViewports-04552

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, and
any of the shader stages of the bound graphics pipeline write to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawIndirectCount-primitiveFragmentShadingRateWithMultipleViewports-08642) VUID-vkCmdDrawIndirectCount-primitiveFragmentShadingRateWithMultipleViewports-08642

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, and any shader object bound to a graphics stage writes to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawIndirectCount-blendEnable-04727) VUID-vkCmdDrawIndirectCount-blendEnable-04727

If rasterization is not disabled in the bound graphics pipeline, then
for each color attachment in the subpass, if the corresponding image
view’s [format features](resources.html#resources-image-view-format-features) do not
contain `VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
`blendEnable` member of the corresponding element of the
`pAttachments` member of `pColorBlendState` **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawIndirectCount-None-08643) VUID-vkCmdDrawIndirectCount-None-08643

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then for each color attachment in the render pass, if
the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) do not contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
corresponding member of `pColorBlendEnables` in the most recent call
to `vkCmdSetColorBlendEnableEXT` in the current command buffer that
affected that attachment index **must** have been `VK_FALSE`

[](#VUID-vkCmdDrawIndirectCount-multisampledRenderToSingleSampled-07284) VUID-vkCmdDrawIndirectCount-multisampledRenderToSingleSampled-07284

If rasterization is not disabled in the bound graphics pipeline,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then `rasterizationSamples` for the bound graphics pipeline **must** be the
same as the current subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawIndirectCount-None-08644) VUID-vkCmdDrawIndirectCount-None-08644

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then the most recent call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) in the
current command buffer **must** have set `rasterizationSamples` to be the
same as the number of samples for the current render pass color and/or
depth/stencil attachments

[](#VUID-vkCmdDrawIndirectCount-None-08876) VUID-vkCmdDrawIndirectCount-None-08876

If a shader object is bound to any graphics stage, the current render
pass instance **must** have been begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)

[](#VUID-vkCmdDrawIndirectCount-imageView-06172) VUID-vkCmdDrawIndirectCount-imageView-06172

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the depth attachment

[](#VUID-vkCmdDrawIndirectCount-imageView-06173) VUID-vkCmdDrawIndirectCount-imageView-06173

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawIndirectCount-imageView-06174) VUID-vkCmdDrawIndirectCount-imageView-06174

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL`, this
command **must** not write any values to the depth attachment

[](#VUID-vkCmdDrawIndirectCount-imageView-06175) VUID-vkCmdDrawIndirectCount-imageView-06175

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL`, this
command **must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawIndirectCount-imageView-06176) VUID-vkCmdDrawIndirectCount-imageView-06176

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the depth attachment

[](#VUID-vkCmdDrawIndirectCount-imageView-06177) VUID-vkCmdDrawIndirectCount-imageView-06177

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the stencil attachment

[](#VUID-vkCmdDrawIndirectCount-viewMask-06178) VUID-vkCmdDrawIndirectCount-viewMask-06178

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a [VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`viewMask` equal
to [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`viewMask`

[](#VUID-vkCmdDrawIndirectCount-colorAttachmentCount-06179) VUID-vkCmdDrawIndirectCount-colorAttachmentCount-06179

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`colorAttachmentCount` equal to
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount`

[](#VUID-vkCmdDrawIndirectCount-dynamicRenderingUnusedAttachments-08910) VUID-vkCmdDrawIndirectCount-dynamicRenderingUnusedAttachments-08910

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have
been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline

[](#VUID-vkCmdDrawIndirectCount-dynamicRenderingUnusedAttachments-08912) VUID-vkCmdDrawIndirectCount-dynamicRenderingUnusedAttachments-08912

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have the
corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound pipeline equal to `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndirectCount-dynamicRenderingUnusedAttachments-08911) VUID-vkCmdDrawIndirectCount-dynamicRenderingUnusedAttachments-08911

If the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled, and the
current render pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`,
then each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments`
array with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must**
have been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding
element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline, or the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats`, if
it exists, **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndirectCount-colorAttachmentCount-09362) VUID-vkCmdDrawIndirectCount-colorAttachmentCount-09362

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`,
there is no shader object bound to any graphics stage,
and a color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`resolveImageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawIndirectCount-None-09363) VUID-vkCmdDrawIndirectCount-None-09363

If
there is no shader object bound to any graphics stage,
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, and a
color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawIndirectCount-None-09364) VUID-vkCmdDrawIndirectCount-None-09364

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set the blend enable
to `VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-09365) VUID-vkCmdDrawIndirectCount-None-09365

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawIndirectCount-None-09366) VUID-vkCmdDrawIndirectCount-None-09366

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set blend enable to
`VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-rasterizationSamples-09367) VUID-vkCmdDrawIndirectCount-rasterizationSamples-09367

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawIndirectCount-None-09368) VUID-vkCmdDrawIndirectCount-None-09368

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-09369) VUID-vkCmdDrawIndirectCount-None-09369

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-pFragmentSize-09370) VUID-vkCmdDrawIndirectCount-pFragmentSize-09370

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-pFragmentSize-09371) VUID-vkCmdDrawIndirectCount-pFragmentSize-09371

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07749) VUID-vkCmdDrawIndirectCount-None-07749

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-08646) VUID-vkCmdDrawIndirectCount-None-08646

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-attachmentCount-07750) VUID-vkCmdDrawIndirectCount-attachmentCount-07750

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
the `attachmentCount` parameter of `vkCmdSetColorWriteEnableEXT`
**must** be greater than or equal to the
`VkPipelineColorBlendStateCreateInfo`::`attachmentCount` of the
bound graphics pipeline

[](#VUID-vkCmdDrawIndirectCount-None-08647) VUID-vkCmdDrawIndirectCount-None-08647

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then the
`attachmentCount` parameter of most recent call to
`vkCmdSetColorWriteEnableEXT` in the current command buffer **must** be
greater than or equal to the number of color attachments in the current
render pass instance

[](#VUID-vkCmdDrawIndirectCount-None-07751) VUID-vkCmdDrawIndirectCount-None-07751

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled, a
graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) included a
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT)::`discardRectangleCount`

[](#VUID-vkCmdDrawIndirectCount-rasterizerDiscardEnable-09236) VUID-vkCmdDrawIndirectCount-rasterizerDiscardEnable-09236

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) did not
include a [VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPhysicalDeviceDiscardRectanglePropertiesEXT](limits.html#VkPhysicalDeviceDiscardRectanglePropertiesEXT)::`maxDiscardRectangles`

[](#VUID-vkCmdDrawIndirectCount-None-07880) VUID-vkCmdDrawIndirectCount-None-07880

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_ENABLE_EXT` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDiscardRectangleEnableEXT](fragops.html#vkCmdSetDiscardRectangleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07881) VUID-vkCmdDrawIndirectCount-None-07881

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_MODE_EXT` dynamic state enabled,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleModeEXT](fragops.html#vkCmdSetDiscardRectangleModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-dynamicRenderingUnusedAttachments-08913) VUID-vkCmdDrawIndirectCount-dynamicRenderingUnusedAttachments-08913

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndirectCount-dynamicRenderingUnusedAttachments-08914) VUID-vkCmdDrawIndirectCount-dynamicRenderingUnusedAttachments-08914

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawIndirectCount-dynamicRenderingUnusedAttachments-08915) VUID-vkCmdDrawIndirectCount-dynamicRenderingUnusedAttachments-08915

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline was not equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`,
the value of the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndirectCount-dynamicRenderingUnusedAttachments-08916) VUID-vkCmdDrawIndirectCount-dynamicRenderingUnusedAttachments-08916

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndirectCount-dynamicRenderingUnusedAttachments-08917) VUID-vkCmdDrawIndirectCount-dynamicRenderingUnusedAttachments-08917

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawIndirectCount-dynamicRenderingUnusedAttachments-08918) VUID-vkCmdDrawIndirectCount-dynamicRenderingUnusedAttachments-08918

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline was not equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`, the value of
the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndirectCount-imageView-06183) VUID-vkCmdDrawIndirectCount-imageView-06183

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentShadingRateAttachmentInfoKHR](renderpass.html#VkRenderingFragmentShadingRateAttachmentInfoKHR)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR`

[](#VUID-vkCmdDrawIndirectCount-imageView-06184) VUID-vkCmdDrawIndirectCount-imageView-06184

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentDensityMapAttachmentInfoEXT](renderpass.html#VkRenderingFragmentDensityMapAttachmentInfoEXT)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT`

[](#VUID-vkCmdDrawIndirectCount-colorAttachmentCount-06185) VUID-vkCmdDrawIndirectCount-colorAttachmentCount-06185

If the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and the current render
pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
`0`, then each element of the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with a sample count equal to the corresponding element of the
`pColorAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline

[](#VUID-vkCmdDrawIndirectCount-pDepthAttachment-06186) VUID-vkCmdDrawIndirectCount-pDepthAttachment-06186

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawIndirectCount-pStencilAttachment-06187) VUID-vkCmdDrawIndirectCount-pStencilAttachment-06187

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawIndirectCount-multisampledRenderToSingleSampled-07285) VUID-vkCmdDrawIndirectCount-multisampledRenderToSingleSampled-07285

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    the current render pass instance was begun with
    [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
    `0`, then each element of the
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
    `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
    created with a sample count equal to the value of
    `rasterizationSamples` for the bound graphics pipeline

[](#VUID-vkCmdDrawIndirectCount-multisampledRenderToSingleSampled-07286) VUID-vkCmdDrawIndirectCount-multisampledRenderToSingleSampled-07286

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawIndirectCount-multisampledRenderToSingleSampled-07287) VUID-vkCmdDrawIndirectCount-multisampledRenderToSingleSampled-07287

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawIndirectCount-pNext-07935) VUID-vkCmdDrawIndirectCount-pNext-07935

If this command has been called inside a render pass instance started
with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), and the `pNext` chain of
[VkRenderingInfo](renderpass.html#VkRenderingInfo) includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the value of `rasterizationSamples` for the bound graphics
pipeline **must** be equal to
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT)::`rasterizationSamples`

[](#VUID-vkCmdDrawIndirectCount-renderPass-06198) VUID-vkCmdDrawIndirectCount-renderPass-06198

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline **must** have been created
with a [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`renderPass` equal to
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

[](#VUID-vkCmdDrawIndirectCount-pColorAttachments-08963) VUID-vkCmdDrawIndirectCount-pColorAttachments-08963

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound with a
fragment shader that statically writes to a color attachment, the color
write mask is not zero, color writes are enabled, and the corresponding
element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments->imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndirectCount-pDepthAttachment-08964) VUID-vkCmdDrawIndirectCount-pDepthAttachment-08964

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, depth
test is enabled, depth write is enabled, and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndirectCount-pStencilAttachment-08965) VUID-vkCmdDrawIndirectCount-pStencilAttachment-08965

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, stencil
test is enabled and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndirectCount-flags-10582) VUID-vkCmdDrawIndirectCount-flags-10582

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), its [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`flags`
parameter **must** not have
`VK_RENDERING_CONTENTS_SECONDARY_COMMAND_BUFFERS_BIT` set
unless `VK_RENDERING_CONTENTS_INLINE_BIT_KHR` is also set

[](#VUID-vkCmdDrawIndirectCount-primitivesGeneratedQueryWithRasterizerDiscard-06708) VUID-vkCmdDrawIndirectCount-primitivesGeneratedQueryWithRasterizerDiscard-06708

If the [    `primitivesGeneratedQueryWithRasterizerDiscard`](features.html#features-primitivesGeneratedQueryWithRasterizerDiscard) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, [rasterization discard](primsrast.html#primsrast-discard) **must** not be enabled

[](#VUID-vkCmdDrawIndirectCount-primitivesGeneratedQueryWithNonZeroStreams-06709) VUID-vkCmdDrawIndirectCount-primitivesGeneratedQueryWithNonZeroStreams-06709

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, the bound graphics pipeline **must** not have been created with a
non-zero value in
`VkPipelineRasterizationStateStreamCreateInfoEXT`::`rasterizationStream`

[](#VUID-vkCmdDrawIndirectCount-None-07620) VUID-vkCmdDrawIndirectCount-None-07620

If the [`depthClamp`](features.html#features-depthClamp) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthClampEnableEXT](vertexpostproc.html#vkCmdSetDepthClampEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07621) VUID-vkCmdDrawIndirectCount-None-07621

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_POLYGON_MODE_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07622) VUID-vkCmdDrawIndirectCount-None-07622

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07623) VUID-vkCmdDrawIndirectCount-None-07623

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-alphaToCoverageEnable-08919) VUID-vkCmdDrawIndirectCount-alphaToCoverageEnable-08919

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and `alphaToCoverageEnable` was `VK_TRUE` in the last
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT), then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawIndirectCount-alphaToCoverageEnable-08920) VUID-vkCmdDrawIndirectCount-alphaToCoverageEnable-08920

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) in the current command
buffer set `alphaToCoverageEnable` to `VK_TRUE`, then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawIndirectCount-None-07624) VUID-vkCmdDrawIndirectCount-None-07624

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07625) VUID-vkCmdDrawIndirectCount-None-07625

If the [`alphaToOne`](features.html#features-alphaToOne) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_ONE_ENABLE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToOneEnableEXT](fragops.html#vkCmdSetAlphaToOneEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07626) VUID-vkCmdDrawIndirectCount-None-07626

If the [`logicOp`](features.html#features-logicOp) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetLogicOpEnableEXT](framebuffer.html#vkCmdSetLogicOpEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07627) VUID-vkCmdDrawIndirectCount-None-07627

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-08657) VUID-vkCmdDrawIndirectCount-None-08657

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have
been called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime)
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07628) VUID-vkCmdDrawIndirectCount-None-07628

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-08658) VUID-vkCmdDrawIndirectCount-None-08658

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) for any attachment set that
attachment’s value in `pColorBlendEnables` to `VK_TRUE`, then
[vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07629) VUID-vkCmdDrawIndirectCount-None-07629

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-08659) VUID-vkCmdDrawIndirectCount-None-08659

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07630) VUID-vkCmdDrawIndirectCount-None-07630

If the [`geometryStreams`](features.html#features-geometryStreams) feature is
enabled, and
a shader object is bound to the `VK_SHADER_STAGE_GEOMETRY_BIT` stage
or
a graphics pipeline is bound which was created with both a
`VK_SHADER_STAGE_GEOMETRY_BIT` stage and the
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` dynamic state enabled,
then [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07631) VUID-vkCmdDrawIndirectCount-None-07631

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07632) VUID-vkCmdDrawIndirectCount-None-07632

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXTRA_PRIMITIVE_OVERESTIMATION_SIZE_EXT` dynamic
state enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`conservativeRasterizationMode` is
`VK_CONSERVATIVE_RASTERIZATION_MODE_OVERESTIMATE_EXT`, then
[vkCmdSetExtraPrimitiveOverestimationSizeEXT](primsrast.html#vkCmdSetExtraPrimitiveOverestimationSizeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07633) VUID-vkCmdDrawIndirectCount-None-07633

If the [`depthClipEnable`](features.html#features-depthClipEnable) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_ENABLE_EXT` dynamic state, then
[vkCmdSetDepthClipEnableEXT](vertexpostproc.html#vkCmdSetDepthClipEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07635) VUID-vkCmdDrawIndirectCount-None-07635

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-rasterizerDiscardEnable-09416) VUID-vkCmdDrawIndirectCount-rasterizerDiscardEnable-09416

If the `[VK_EXT_blend_operation_advanced](../appendices/extensions.html#VK_EXT_blend_operation_advanced)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then at least one of [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT)
and [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07636) VUID-vkCmdDrawIndirectCount-None-07636

If the `[VK_EXT_provoking_vertex](../appendices/extensions.html#VK_EXT_provoking_vertex)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_PROVOKING_VERTEX_MODE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetProvokingVertexModeEXT](vertexpostproc.html#vkCmdSetProvokingVertexModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07637) VUID-vkCmdDrawIndirectCount-None-07637

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state enabled
then [vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-08666) VUID-vkCmdDrawIndirectCount-None-08666

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-08667) VUID-vkCmdDrawIndirectCount-None-08667

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-08668) VUID-vkCmdDrawIndirectCount-None-08668

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07638) VUID-vkCmdDrawIndirectCount-None-07638

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` dynamic state enabled
then [vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-08669) VUID-vkCmdDrawIndirectCount-None-08669

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-08670) VUID-vkCmdDrawIndirectCount-None-08670

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-08671) VUID-vkCmdDrawIndirectCount-None-08671

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07849) VUID-vkCmdDrawIndirectCount-None-07849

    If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled and
    a shader object is bound to any graphics stage, or
    a bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE`
    dynamic state enabled, the [current    value](pipelines.html#dynamic-state-current-value) of `rasterizerDiscardEnable` is `VK_FALSE`, and the
    [current value](pipelines.html#dynamic-state-current-value) of
    `stippledLineEnable` is `VK_TRUE`, then
[vkCmdSetLineStipple](primsrast.html#vkCmdSetLineStipple)
    **must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
    command

[](#VUID-vkCmdDrawIndirectCount-None-10608) VUID-vkCmdDrawIndirectCount-None-10608

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the current `lineRasterizationMode` is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM` or
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the current
`alphaToCoverageEnable`, `alphaToOneEnable` and
`sampleShadingEnable` states **must** all be `VK_FALSE`

[](#VUID-vkCmdDrawIndirectCount-None-07639) VUID-vkCmdDrawIndirectCount-None-07639

If the [`depthClipControl`](features.html#features-depthClipControl) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_NEGATIVE_ONE_TO_ONE_EXT` dynamic state
enabled, then [vkCmdSetDepthClipNegativeOneToOneEXT](vertexpostproc.html#vkCmdSetDepthClipNegativeOneToOneEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-09650) VUID-vkCmdDrawIndirectCount-None-09650

If the [`depthClampControl`](features.html#features-depthClampControl) feature
is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_RANGE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`depthClampEnable` is `VK_TRUE`, then
[vkCmdSetDepthClampRangeEXT](fragops.html#vkCmdSetDepthClampRangeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07640) VUID-vkCmdDrawIndirectCount-None-07640

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_ENABLE_NV` dynamic state
enabled, then [vkCmdSetViewportWScalingEnableNV](vertexpostproc.html#vkCmdSetViewportWScalingEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07641) VUID-vkCmdDrawIndirectCount-None-07641

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state enabled, then
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07642) VUID-vkCmdDrawIndirectCount-None-07642

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07643) VUID-vkCmdDrawIndirectCount-None-07643

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_LOCATION_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageToColorEnable` is `VK_TRUE`, then
[vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07644) VUID-vkCmdDrawIndirectCount-None-07644

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_MODE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageModulationModeNV](fragops.html#vkCmdSetCoverageModulationModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07645) VUID-vkCmdDrawIndirectCount-None-07645

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationMode` is any value other than
`VK_COVERAGE_MODULATION_MODE_NONE_NV`, then
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07646) VUID-vkCmdDrawIndirectCount-None-07646

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationTableEnable` is `VK_TRUE`, then
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07647) VUID-vkCmdDrawIndirectCount-None-07647

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SHADING_RATE_IMAGE_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetShadingRateImageEnableNV](primsrast.html#vkCmdSetShadingRateImageEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-pipelineFragmentShadingRate-09238) VUID-vkCmdDrawIndirectCount-pipelineFragmentShadingRate-09238

If the [    `pipelineFragmentShadingRate`](features.html#features-pipelineFragmentShadingRate) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07648) VUID-vkCmdDrawIndirectCount-None-07648

If the [    `representativeFragmentTest`](features.html#features-representativeFragmentTest) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_REPRESENTATIVE_FRAGMENT_TEST_ENABLE_NV` dynamic
state enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRepresentativeFragmentTestEnableNV](fragops.html#vkCmdSetRepresentativeFragmentTestEnableNV) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07649) VUID-vkCmdDrawIndirectCount-None-07649

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageReductionModeNV](fragops.html#vkCmdSetCoverageReductionModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-pColorBlendEnables-07470) VUID-vkCmdDrawIndirectCount-pColorBlendEnables-07470

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` state enabled and the last
call to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) set `pColorBlendEnables`
for any attachment to `VK_TRUE`, then for those attachments in the
subpass the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`

[](#VUID-vkCmdDrawIndirectCount-rasterizationSamples-07471) VUID-vkCmdDrawIndirectCount-rasterizationSamples-07471

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
current subpass does not use any color and/or depth/stencil attachments,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** follow the rules for a
[zero-attachment subpass](renderpass.html#renderpass-noattachments)

[](#VUID-vkCmdDrawIndirectCount-samples-07472) VUID-vkCmdDrawIndirectCount-samples-07472

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo)::`rasterizationSamples`
parameter used to create the bound graphics pipeline

[](#VUID-vkCmdDrawIndirectCount-samples-07473) VUID-vkCmdDrawIndirectCount-samples-07473

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state and
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` states enabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
`rasterizationSamples` parameter in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndirectCount-rasterizationSamples-07474) VUID-vkCmdDrawIndirectCount-rasterizationSamples-07474

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and
the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
neither the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` nor the
`[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extensions are enabled, then
the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the current
subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawIndirectCount-None-09211) VUID-vkCmdDrawIndirectCount-None-09211

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled,
or a shader object is bound to any graphics stage,
and the current render pass instance includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the
`rasterizationSamples` member of that structure

[](#VUID-vkCmdDrawIndirectCount-firstAttachment-07476) VUID-vkCmdDrawIndirectCount-firstAttachment-07476

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorBlendEnableEXT` calls **must** specify an
enable for all active color attachments in the current subpass

[](#VUID-vkCmdDrawIndirectCount-rasterizerDiscardEnable-09417) VUID-vkCmdDrawIndirectCount-rasterizerDiscardEnable-09417

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEnableEXT`
calls **must** specify an enable for all active color attachments in the
current subpass

[](#VUID-vkCmdDrawIndirectCount-firstAttachment-07477) VUID-vkCmdDrawIndirectCount-firstAttachment-07477

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawIndirectCount-rasterizerDiscardEnable-09418) VUID-vkCmdDrawIndirectCount-rasterizerDiscardEnable-09418

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have
been called in the current command buffer prior to this drawing command,
and the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawIndirectCount-firstAttachment-07478) VUID-vkCmdDrawIndirectCount-firstAttachment-07478

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorWriteMaskEXT` calls **must** specify the
color write mask for all active color attachments in the current subpass

[](#VUID-vkCmdDrawIndirectCount-rasterizerDiscardEnable-09419) VUID-vkCmdDrawIndirectCount-rasterizerDiscardEnable-09419

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorWriteMaskEXT`
calls **must** specify the color write mask for all active color
attachments in the current subpass

[](#VUID-vkCmdDrawIndirectCount-firstAttachment-07479) VUID-vkCmdDrawIndirectCount-firstAttachment-07479

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendAdvancedEXT`
calls **must** specify the advanced blend equations for all active color
attachments in the current subpass where blending is enabled

[](#VUID-vkCmdDrawIndirectCount-advancedBlendMaxColorAttachments-07480) VUID-vkCmdDrawIndirectCount-advancedBlendMaxColorAttachments-07480

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` and
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic states enabled and
the last calls to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) and
[vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) have enabled advanced blending, then
the number of active color attachments in the current subpass **must** not
exceed [    `advancedBlendMaxColorAttachments`](limits.html#limits-advancedBlendMaxColorAttachments)

[](#VUID-vkCmdDrawIndirectCount-primitivesGeneratedQueryWithNonZeroStreams-07481) VUID-vkCmdDrawIndirectCount-primitivesGeneratedQueryWithNonZeroStreams-07481

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, and the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` state enabled, the last
call to [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have set the
`rasterizationStream` to zero

[](#VUID-vkCmdDrawIndirectCount-sampleLocationsPerPixel-07482) VUID-vkCmdDrawIndirectCount-sampleLocationsPerPixel-07482

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` member of the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo) structure the bound graphics
pipeline has been created with

[](#VUID-vkCmdDrawIndirectCount-sampleLocationsPerPixel-07483) VUID-vkCmdDrawIndirectCount-sampleLocationsPerPixel-07483

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` parameter of the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndirectCount-sampleLocationsEnable-07484) VUID-vkCmdDrawIndirectCount-sampleLocationsEnable-07484

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), and the current subpass has a
depth/stencil attachment, then that attachment **must** have been created
with the `VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT`
bit set

[](#VUID-vkCmdDrawIndirectCount-sampleLocationsEnable-07485) VUID-vkCmdDrawIndirectCount-sampleLocationsEnable-07485

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.width` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawIndirectCount-sampleLocationsEnable-07486) VUID-vkCmdDrawIndirectCount-sampleLocationsEnable-07486

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.height` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawIndirectCount-sampleLocationsEnable-07487) VUID-vkCmdDrawIndirectCount-sampleLocationsEnable-07487

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), the fragment shader code **must**
not statically use the extended instruction `InterpolateAtSample`

[](#VUID-vkCmdDrawIndirectCount-sampleLocationsEnable-07936) VUID-vkCmdDrawIndirectCount-sampleLocationsEnable-07936

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.width` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndirectCount-sampleLocationsEnable-07937) VUID-vkCmdDrawIndirectCount-sampleLocationsEnable-07937

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.height` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndirectCount-sampleLocationsEnable-07938) VUID-vkCmdDrawIndirectCount-sampleLocationsEnable-07938

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationsPerPixel` **must** equal
`rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndirectCount-coverageModulationTableEnable-07488) VUID-vkCmdDrawIndirectCount-coverageModulationTableEnable-07488

If
a shader object is bound to any graphics stage or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` state
enabled, and the last call to
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) set
`coverageModulationTableEnable` to `VK_TRUE`, then the
`coverageModulationTableCount` parameter in the last call to
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** equal the current
`rasterizationSamples` divided by the number of color samples in the
current subpass

[](#VUID-vkCmdDrawIndirectCount-rasterizationSamples-07489) VUID-vkCmdDrawIndirectCount-rasterizationSamples-07489

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and if current subpass has a depth/stencil attachment and depth test,
stencil test, or depth bounds test are enabled in the bound pipeline,
then the current `rasterizationSamples` **must** be the same as the
sample count of the depth/stencil attachment

[](#VUID-vkCmdDrawIndirectCount-coverageToColorEnable-07490) VUID-vkCmdDrawIndirectCount-coverageToColorEnable-07490

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` state enabled and the
last call to [vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawIndirectCount-rasterizerDiscardEnable-09420) VUID-vkCmdDrawIndirectCount-rasterizerDiscardEnable-09420

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the last call to
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawIndirectCount-coverageReductionMode-07491) VUID-vkCmdDrawIndirectCount-coverageReductionMode-07491

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` or
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic states enabled,
then the [current values](pipelines.html#dynamic-state-current-value) of
`coverageReductionMode`, `rasterizationSamples`, the sample
counts for the color and depth/stencil attachments (if the subpass has
them) **must** be a valid combination returned by
[vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV](fragops.html#vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV)

[](#VUID-vkCmdDrawIndirectCount-viewportCount-07492) VUID-vkCmdDrawIndirectCount-viewportCount-07492

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndirectCount-viewportCount-07493) VUID-vkCmdDrawIndirectCount-viewportCount-07493

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic states enabled then
the `viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndirectCount-viewportCount-09421) VUID-vkCmdDrawIndirectCount-viewportCount-09421

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and a
shader object is bound to any graphics stage, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndirectCount-rasterizationSamples-07494) VUID-vkCmdDrawIndirectCount-rasterizationSamples-07494

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is not enabled, or the [current    value](pipelines.html#dynamic-state-current-value) of `coverageReductionMode` is not
`VK_COVERAGE_REDUCTION_MODE_TRUNCATE_NV`,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizationSamples` is greater than sample count of the color
attachment, then [sample shading](primsrast.html#primsrast-sampleshading) **must** be
disabled

[](#VUID-vkCmdDrawIndirectCount-stippledLineEnable-07495) VUID-vkCmdDrawIndirectCount-stippledLineEnable-07495

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled

[](#VUID-vkCmdDrawIndirectCount-stippledLineEnable-07496) VUID-vkCmdDrawIndirectCount-stippledLineEnable-07496

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM`, then the
[`stippledBresenhamLines`](features.html#features-stippledBresenhamLines)
feature **must** be enabled

[](#VUID-vkCmdDrawIndirectCount-stippledLineEnable-07497) VUID-vkCmdDrawIndirectCount-stippledLineEnable-07497

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the
[`stippledSmoothLines`](features.html#features-stippledSmoothLines) feature
**must** be enabled

[](#VUID-vkCmdDrawIndirectCount-stippledLineEnable-07498) VUID-vkCmdDrawIndirectCount-stippledLineEnable-07498

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_DEFAULT`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled and
[VkPhysicalDeviceLimits](limits.html#VkPhysicalDeviceLimits)::`strictLines` **must** be `VK_TRUE`

[](#VUID-vkCmdDrawIndirectCount-conservativePointAndLineRasterization-07499) VUID-vkCmdDrawIndirectCount-conservativePointAndLineRasterization-07499

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, [    `conservativePointAndLineRasterization`](limits.html#limits-conservativePointAndLineRasterization) is not supported, and the
effective primitive topology output by the last pre-rasterization shader
stage is a line or point, then the `conservativeRasterizationMode`
set by the last call to [vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT)
**must** be `VK_CONSERVATIVE_RASTERIZATION_MODE_DISABLED_EXT`

[](#VUID-vkCmdDrawIndirectCount-stage-07073) VUID-vkCmdDrawIndirectCount-stage-07073

If the bound pipeline was created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of an element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT`, then [Mesh    Shader Queries](queries.html#queries-mesh-shader) **must** not be active

[](#VUID-vkCmdDrawIndirectCount-None-08877) VUID-vkCmdDrawIndirectCount-None-08877

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-None-07850) VUID-vkCmdDrawIndirectCount-None-07850

If dynamic state was inherited from
[VkCommandBufferInheritanceViewportScissorInfoNV](cmdbuffers.html#VkCommandBufferInheritanceViewportScissorInfoNV), it **must** be set
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectCount-nextStage-10745) VUID-vkCmdDrawIndirectCount-nextStage-10745

For each shader object bound to a graphics stage, except for shader
object bound to the last graphics stage in the logical pipeline, it
**must** have been created with a `nextStage` including the
corresponding bit to the shader object bound to the following graphics
stage in the logical pipeline

[](#VUID-vkCmdDrawIndirectCount-None-08684) VUID-vkCmdDrawIndirectCount-None-08684

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_VERTEX_BIT`

[](#VUID-vkCmdDrawIndirectCount-None-08685) VUID-vkCmdDrawIndirectCount-None-08685

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`

[](#VUID-vkCmdDrawIndirectCount-None-08686) VUID-vkCmdDrawIndirectCount-None-08686

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT`

[](#VUID-vkCmdDrawIndirectCount-None-08687) VUID-vkCmdDrawIndirectCount-None-08687

If there is no bound graphics pipeline, and the
[`geometryShader`](features.html#features-geometryShader) feature is enabled,
`vkCmdBindShadersEXT` **must** have been called in the current command
buffer with `pStages` with an element of
`VK_SHADER_STAGE_GEOMETRY_BIT`

[](#VUID-vkCmdDrawIndirectCount-None-08688) VUID-vkCmdDrawIndirectCount-None-08688

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_FRAGMENT_BIT`

[](#VUID-vkCmdDrawIndirectCount-None-08689) VUID-vkCmdDrawIndirectCount-None-08689

If there is no bound graphics pipeline, and the [    `taskShader`](features.html#features-taskShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_TASK_BIT_EXT`

[](#VUID-vkCmdDrawIndirectCount-None-08690) VUID-vkCmdDrawIndirectCount-None-08690

If there is no bound graphics pipeline, and the [    `meshShader`](features.html#features-meshShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_MESH_BIT_EXT`

[](#VUID-vkCmdDrawIndirectCount-None-08693) VUID-vkCmdDrawIndirectCount-None-08693

If there is no bound graphics pipeline, and at least one of the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features is enabled, one of the
`VK_SHADER_STAGE_VERTEX_BIT` or `VK_SHADER_STAGE_MESH_BIT_EXT`
stages **must** have a valid `VkShaderEXT` bound, and the other **must**
have no `VkShaderEXT` bound

[](#VUID-vkCmdDrawIndirectCount-None-08696) VUID-vkCmdDrawIndirectCount-None-08696

If there is no bound graphics pipeline, and a valid `VkShaderEXT` is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, there **must** be no
`VkShaderEXT` bound to either the `VK_SHADER_STAGE_TASK_BIT_EXT`
stage or the `VK_SHADER_STAGE_MESH_BIT_EXT` stage

[](#VUID-vkCmdDrawIndirectCount-None-08698) VUID-vkCmdDrawIndirectCount-None-08698

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, then all shaders created
with the `VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag in the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** also be bound

[](#VUID-vkCmdDrawIndirectCount-None-08699) VUID-vkCmdDrawIndirectCount-None-08699

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, any stages in between
stages whose shaders which did not create a shader with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag as part of the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** not have any `VkShaderEXT` bound

[](#VUID-vkCmdDrawIndirectCount-None-08878) VUID-vkCmdDrawIndirectCount-None-08878

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) push constant
ranges

[](#VUID-vkCmdDrawIndirectCount-None-08879) VUID-vkCmdDrawIndirectCount-None-08879

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) arrays of
descriptor set layouts

[](#VUID-vkCmdDrawIndirectCount-colorAttachmentCount-09372) VUID-vkCmdDrawIndirectCount-colorAttachmentCount-09372

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, a color
attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, and a fragment
shader is bound, it **must** not declare the `DepthReplacing` or
`StencilRefReplacingEXT` execution modes

[](#VUID-vkCmdDrawIndirectCount-pDynamicStates-08715) VUID-vkCmdDrawIndirectCount-pDynamicStates-08715

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpDepthAttachmentReadEXT`, the `depthWriteEnable` parameter
in the last call to [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawIndirectCount-pDynamicStates-08716) VUID-vkCmdDrawIndirectCount-pDynamicStates-08716

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpStencilAttachmentReadEXT`, the `writeMask` parameter in
the last call to [vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** be `0`

[](#VUID-vkCmdDrawIndirectCount-None-09116) VUID-vkCmdDrawIndirectCount-None-09116

    If
    a shader object is bound to any graphics stage
or
    the bound graphics pipeline was created with
    `VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT`,
    and the format of any color attachment is
    `VK_FORMAT_E5B9G9R9_UFLOAT_PACK32`, the corresponding element of the
    `pColorWriteMasks` parameter of [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT)
    **must** either include all of `VK_COLOR_COMPONENT_R_BIT`,
    `VK_COLOR_COMPONENT_G_BIT`, and `VK_COLOR_COMPONENT_B_BIT`, or
    none of them

[](#VUID-vkCmdDrawIndirectCount-maxFragmentDualSrcAttachments-09239) VUID-vkCmdDrawIndirectCount-maxFragmentDualSrcAttachments-09239

If [blending](framebuffer.html#framebuffer-blending) is enabled for any attachment where
either the source or destination blend factors for that attachment
[use the secondary color input](framebuffer.html#framebuffer-dsb), the maximum value of
`Location` for any output attachment [statically    used](shaders.html#shaders-staticuse) in the `Fragment` `Execution` `Model` executed by this command
**must** be less than [    `maxFragmentDualSrcAttachments`](limits.html#limits-maxFragmentDualSrcAttachments)

[](#VUID-vkCmdDrawIndirectCount-None-09548) VUID-vkCmdDrawIndirectCount-None-09548

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
the value of each element of
[VkRenderingAttachmentLocationInfo](interfaces.html#VkRenderingAttachmentLocationInfo)::`pColorAttachmentLocations`
set by [vkCmdSetRenderingAttachmentLocations](interfaces.html#vkCmdSetRenderingAttachmentLocations) **must** match the value
set for the corresponding element in the bound pipeline

[](#VUID-vkCmdDrawIndirectCount-None-09549) VUID-vkCmdDrawIndirectCount-None-09549

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
input attachment index mappings in the bound pipeline **must** match those
set for the current render pass instance via
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

[](#VUID-vkCmdDrawIndirectCount-None-09642) VUID-vkCmdDrawIndirectCount-None-09642

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with
the `VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag, the bound
graphics pipeline **must** have been created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`

[](#VUID-vkCmdDrawIndirectCount-None-09643) VUID-vkCmdDrawIndirectCount-None-09643

If the bound graphics pipeline was created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`, the current
render pass **must** have begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with the
`VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag

[](#VUID-vkCmdDrawIndirectCount-None-10677) VUID-vkCmdDrawIndirectCount-None-10677

If the [per-tile execution model](renderpass.html#renderpass-per-tile-execution-model)
is enabled, the
[tileShadingPerTileDraw](features.html#features-tileShadingPerTileDraw) feature **must**
be enabled

[](#VUID-vkCmdDrawIndirectCount-None-10772) VUID-vkCmdDrawIndirectCount-None-10772

If a shader object is bound to any graphics stage, *multiview*
functionality **must** not be enabled in the current render pass

* 
[](#VUID-vkCmdDrawIndirectCount-None-04007) VUID-vkCmdDrawIndirectCount-None-04007

All vertex input bindings accessed via vertex input variables declared
in the vertex shader entry point’s interface **must** have either valid or
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) buffers bound

* 
[](#VUID-vkCmdDrawIndirectCount-None-04008) VUID-vkCmdDrawIndirectCount-None-04008

If the [`nullDescriptor`](features.html#features-nullDescriptor) feature is not
enabled, all vertex input bindings accessed via vertex input variables
declared in the vertex shader entry point’s interface **must** not be
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

* 
[](#VUID-vkCmdDrawIndirectCount-None-02721) VUID-vkCmdDrawIndirectCount-None-02721

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled,
and that pipeline was created without enabling
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` for
`vertexInputs`,
then for a given vertex buffer binding, any attribute data fetched **must**
be entirely contained within the corresponding vertex buffer binding, as
described in [Vertex Input Description](fxvertex.html#fxvertex-input)

* 
[](#VUID-vkCmdDrawIndirectCount-format-10389) VUID-vkCmdDrawIndirectCount-format-10389

For each vertex attribute accessed by this command, if its
[VkVertexInputAttributeDescription](fxvertex.html#VkVertexInputAttributeDescription)::`format`
or [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format`
is a [packed format](formats.html#formats-packed),
and [`legacyVertexAttributes`](features.html#features-legacyVertexAttributes) is
not enabled,
the value of `attribAddress`, calculated as described in
[Vertex Input Calculation](fxvertex.html#fxvertex-input-address-calculation), **must**
be a multiple of the [size of the `format`](formats.html#formats)

* 
[](#VUID-vkCmdDrawIndirectCount-format-10390) VUID-vkCmdDrawIndirectCount-format-10390

For each vertex attribute accessed by this command, if its
[VkVertexInputAttributeDescription](fxvertex.html#VkVertexInputAttributeDescription)::`format`
or [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format`
is not a [packed format](formats.html#formats-packed),
and either [    `legacyVertexAttributes`](features.html#features-legacyVertexAttributes) is not enabled or `format` has 64-bit
components,
the value of `attribAddress`, calculated as described in
[Vertex Input Calculation](fxvertex.html#fxvertex-input-address-calculation), **must**
be a multiple of the [component size of the `format`](formats.html#formats)

* 
[](#VUID-vkCmdDrawIndirectCount-None-07842) VUID-vkCmdDrawIndirectCount-None-07842

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY` dynamic state enabled
    then [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawIndirectCount-dynamicPrimitiveTopologyUnrestricted-07500) VUID-vkCmdDrawIndirectCount-dynamicPrimitiveTopologyUnrestricted-07500

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY` dynamic state enabled
and the [    `dynamicPrimitiveTopologyUnrestricted`](limits.html#limits-dynamicPrimitiveTopologyUnrestricted) is `VK_FALSE`,
then the `primitiveTopology` parameter of
`vkCmdSetPrimitiveTopology` **must** be of the same
[topology class](#drawing-primitive-topology-class) as the pipeline
[VkPipelineInputAssemblyStateCreateInfo](#VkPipelineInputAssemblyStateCreateInfo)::`topology` state

* 
[](#VUID-vkCmdDrawIndirectCount-primitiveTopology-10286) VUID-vkCmdDrawIndirectCount-primitiveTopology-10286

If a `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage is bound, then
the [current value](pipelines.html#dynamic-state-current-value) of
`primitiveTopology` **must** be `VK_PRIMITIVE_TOPOLOGY_PATCH_LIST`
prior to this drawing command

* 
[](#VUID-vkCmdDrawIndirectCount-primitiveTopology-10747) VUID-vkCmdDrawIndirectCount-primitiveTopology-10747

If [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) set `primitiveTopology` to
`VK_PRIMITIVE_TOPOLOGY_PATCH_LIST` prior to this drawing command,
then a `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage **must** be
bound

* 
[](#VUID-vkCmdDrawIndirectCount-primitiveTopology-10748) VUID-vkCmdDrawIndirectCount-primitiveTopology-10748

If [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) set `primitiveTopology` to
`VK_PRIMITIVE_TOPOLOGY_POINT_LIST` prior to this drawing command,
the [`maintenance5`](features.html#features-maintenance5) feature is not
enabled,
both a `VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` and
`VK_SHADER_STAGE_GEOMETRY_BIT` stage are not bound, then the
`Vertex` `Execution` `Model` **must** have a `PointSize` decorated
variable that is statically written to

* 
[](#VUID-vkCmdDrawIndirectCount-pStrides-04913) VUID-vkCmdDrawIndirectCount-pStrides-04913

If the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_VERTEX_INPUT_BINDING_STRIDE` dynamic state
enabled,
but without the `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state
enabled,
then [vkCmdBindVertexBuffers2](fxvertex.html#vkCmdBindVertexBuffers2) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this draw command, and the `pStrides`
parameter of [vkCmdBindVertexBuffers2](fxvertex.html#vkCmdBindVertexBuffers2) **must** not be `NULL`

* 
[](#VUID-vkCmdDrawIndirectCount-None-04914) VUID-vkCmdDrawIndirectCount-None-04914

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    then [vkCmdSetVertexInputEXT](fxvertex.html#vkCmdSetVertexInputEXT) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this draw command

* 
[](#VUID-vkCmdDrawIndirectCount-Input-07939) VUID-vkCmdDrawIndirectCount-Input-07939

    If
    [`vertexAttributeRobustness`](features.html#features-vertexAttributeRobustness)
    is not enabled and
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    then all variables with the `Input` storage class decorated with
    `Location` in the `Vertex` `Execution` `Model` `OpEntryPoint`
    **must** contain a location in
    [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`location`

* 
[](#VUID-vkCmdDrawIndirectCount-Input-08734) VUID-vkCmdDrawIndirectCount-Input-08734

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and either the [    `legacyVertexAttributes`](features.html#features-legacyVertexAttributes) feature is not enabled or the SPIR-V Type
    associated with a given `Input` variable of the corresponding
    `Location` in the `Vertex` `Execution` `Model` `OpEntryPoint` is
    64-bit,
    then the numeric type associated with all `Input` variables of the
    corresponding `Location` in the `Vertex` `Execution` `Model`
    `OpEntryPoint` **must** be the same as
    [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format`

* 
[](#VUID-vkCmdDrawIndirectCount-format-08936) VUID-vkCmdDrawIndirectCount-format-08936

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format` has a
    64-bit component, then the scalar width associated with all `Input`
    variables of the corresponding `Location` in the `Vertex`
    `Execution` `Model` `OpEntryPoint` **must** be 64-bit

* 
[](#VUID-vkCmdDrawIndirectCount-format-08937) VUID-vkCmdDrawIndirectCount-format-08937

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and the scalar width associated with a `Location` decorated
    `Input` variable in the `Vertex` `Execution` `Model`
    `OpEntryPoint` is 64-bit, then the corresponding
    [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format` **must** have a
    64-bit component

* 
[](#VUID-vkCmdDrawIndirectCount-None-09203) VUID-vkCmdDrawIndirectCount-None-09203

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format` has a
    64-bit component, then all `Input` variables at the corresponding
    `Location` in the `Vertex` `Execution` `Model` `OpEntryPoint`
    **must** not use components that are not present in the format

* 
[](#VUID-vkCmdDrawIndirectCount-None-04875) VUID-vkCmdDrawIndirectCount-None-04875

    If
    there is a shader object bound to the
    `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage
or
    the bound graphics pipeline state was created with both a
    `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage and the
    `VK_DYNAMIC_STATE_PATCH_CONTROL_POINTS_EXT` dynamic state enabled,
    and the [current value](pipelines.html#dynamic-state-current-value) of
    `primitiveTopology` is `VK_PRIMITIVE_TOPOLOGY_PATCH_LIST`, then
    [vkCmdSetPatchControlPointsEXT](shaders.html#vkCmdSetPatchControlPointsEXT) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawIndirectCount-None-04879) VUID-vkCmdDrawIndirectCount-None-04879

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE` dynamic state enabled
    then [vkCmdSetPrimitiveRestartEnable](#vkCmdSetPrimitiveRestartEnable) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawIndirectCount-None-09637) VUID-vkCmdDrawIndirectCount-None-09637

    If
    the [    `primitiveTopologyListRestart`](features.html#features-primitiveTopologyListRestart) feature is not enabled,
    the topology is `VK_PRIMITIVE_TOPOLOGY_POINT_LIST`,
    `VK_PRIMITIVE_TOPOLOGY_LINE_LIST`,
    `VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST`,
    `VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY`, or
    `VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY`,
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE` dynamic state enabled
    then [vkCmdSetPrimitiveRestartEnable](#vkCmdSetPrimitiveRestartEnable) **must** be `VK_FALSE`

* 
[](#VUID-vkCmdDrawIndirectCount-stage-06481) VUID-vkCmdDrawIndirectCount-stage-06481

The bound graphics pipeline **must** not have been created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of any element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_TASK_BIT_EXT` or `VK_SHADER_STAGE_MESH_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndirectCount-None-08885) VUID-vkCmdDrawIndirectCount-None-08885

There **must** be no shader object bound to either of the
`VK_SHADER_STAGE_TASK_BIT_EXT` or `VK_SHADER_STAGE_MESH_BIT_EXT`
stages

* 
[](#VUID-vkCmdDrawIndirectCount-None-07619) VUID-vkCmdDrawIndirectCount-None-07619

If
a shader object is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` stage or
a graphics pipeline is bound which was created with both a
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` stage and the
`VK_DYNAMIC_STATE_TESSELLATION_DOMAIN_ORIGIN_EXT` dynamic state
enabled, then [vkCmdSetTessellationDomainOriginEXT](tessellation.html#vkCmdSetTessellationDomainOriginEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawIndirectCount-buffer-02708) VUID-vkCmdDrawIndirectCount-buffer-02708

If `buffer` is non-sparse then it **must** be bound completely and
contiguously to a single `VkDeviceMemory` object

* 
[](#VUID-vkCmdDrawIndirectCount-buffer-02709) VUID-vkCmdDrawIndirectCount-buffer-02709

`buffer` **must** have been created with the
`VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT` bit set

* 
[](#VUID-vkCmdDrawIndirectCount-offset-02710) VUID-vkCmdDrawIndirectCount-offset-02710

`offset` **must** be a multiple of `4`

* 
[](#VUID-vkCmdDrawIndirectCount-commandBuffer-02711) VUID-vkCmdDrawIndirectCount-commandBuffer-02711

`commandBuffer` **must** not be a protected command buffer

* 
[](#VUID-vkCmdDrawIndirectCount-countBuffer-02714) VUID-vkCmdDrawIndirectCount-countBuffer-02714

If `countBuffer` is non-sparse then it **must** be bound completely and
contiguously to a single `VkDeviceMemory` object

* 
[](#VUID-vkCmdDrawIndirectCount-countBuffer-02715) VUID-vkCmdDrawIndirectCount-countBuffer-02715

`countBuffer` **must** have been created with the
`VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT` bit set

* 
[](#VUID-vkCmdDrawIndirectCount-countBufferOffset-02716) VUID-vkCmdDrawIndirectCount-countBufferOffset-02716

`countBufferOffset` **must** be a multiple of `4`

* 
[](#VUID-vkCmdDrawIndirectCount-countBuffer-02717) VUID-vkCmdDrawIndirectCount-countBuffer-02717

The count stored in `countBuffer` **must** be less than or equal to
`VkPhysicalDeviceLimits`::`maxDrawIndirectCount`

* 
[](#VUID-vkCmdDrawIndirectCount-countBufferOffset-04129) VUID-vkCmdDrawIndirectCount-countBufferOffset-04129

(`countBufferOffset` +  `sizeof`(uint32_t)) **must** be
less than or equal to the size of `countBuffer`

* 
[](#VUID-vkCmdDrawIndirectCount-None-04445) VUID-vkCmdDrawIndirectCount-None-04445

If the [`drawIndirectCount`](features.html#features-drawIndirectCount) feature
is not enabled this function **must** not be used

* 
[](#VUID-vkCmdDrawIndirectCount-stride-03110) VUID-vkCmdDrawIndirectCount-stride-03110

`stride` **must** be a multiple of `4` and **must** be greater than or
equal to sizeof(`VkDrawIndirectCommand`)

* 
[](#VUID-vkCmdDrawIndirectCount-maxDrawCount-03111) VUID-vkCmdDrawIndirectCount-maxDrawCount-03111

If `maxDrawCount` is greater than or equal to `1`,
(`stride` × (`maxDrawCount` - 1) +  `offset`
+  sizeof(`VkDrawIndirectCommand`)) **must** be less than or equal
to the size of `buffer`

Valid Usage (Implicit)

* 
[](#VUID-vkCmdDrawIndirectCount-commandBuffer-parameter) VUID-vkCmdDrawIndirectCount-commandBuffer-parameter

 `commandBuffer` **must** be a valid [VkCommandBuffer](cmdbuffers.html#VkCommandBuffer) handle

* 
[](#VUID-vkCmdDrawIndirectCount-buffer-parameter) VUID-vkCmdDrawIndirectCount-buffer-parameter

 `buffer` **must** be a valid [VkBuffer](resources.html#VkBuffer) handle

* 
[](#VUID-vkCmdDrawIndirectCount-countBuffer-parameter) VUID-vkCmdDrawIndirectCount-countBuffer-parameter

 `countBuffer` **must** be a valid [VkBuffer](resources.html#VkBuffer) handle

* 
[](#VUID-vkCmdDrawIndirectCount-commandBuffer-recording) VUID-vkCmdDrawIndirectCount-commandBuffer-recording

 `commandBuffer` **must** be in the [recording state](cmdbuffers.html#commandbuffers-lifecycle)

* 
[](#VUID-vkCmdDrawIndirectCount-commandBuffer-cmdpool) VUID-vkCmdDrawIndirectCount-commandBuffer-cmdpool

 The `VkCommandPool` that `commandBuffer` was allocated from **must** support graphics operations

* 
[](#VUID-vkCmdDrawIndirectCount-renderpass) VUID-vkCmdDrawIndirectCount-renderpass

 This command **must** only be called inside of a render pass instance

* 
[](#VUID-vkCmdDrawIndirectCount-videocoding) VUID-vkCmdDrawIndirectCount-videocoding

 This command **must** only be called outside of a video coding scope

* 
[](#VUID-vkCmdDrawIndirectCount-commonparent) VUID-vkCmdDrawIndirectCount-commonparent

 Each of `buffer`, `commandBuffer`, and `countBuffer` **must** have been created, allocated, or retrieved from the same [VkDevice](devsandqueues.html#VkDevice)

Host Synchronization

* 
Host access to `commandBuffer` **must** be externally synchronized

* 
Host access to the `VkCommandPool` that `commandBuffer` was allocated from **must** be externally synchronized

Command Properties
| [Command Buffer Levels](cmdbuffers.html#VkCommandBufferLevel) | [Render Pass Scope](renderpass.html#vkCmdBeginRenderPass) | [Video Coding Scope](videocoding.html#vkCmdBeginVideoCodingKHR) | [Supported Queue Types](devsandqueues.html#VkQueueFlagBits) | [Command Type](fundamentals.html#fundamentals-queueoperation-command-types) |
| --- | --- | --- | --- | --- |
| Primary

Secondary | Inside | Outside | Graphics | Action |

To record an indexed indirect drawing command, call:

// Provided by VK_VERSION_1_0
void vkCmdDrawIndexedIndirect(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    buffer,
    VkDeviceSize                                offset,
    uint32_t                                    drawCount,
    uint32_t                                    stride);

* 
`commandBuffer` is the command buffer into which the command is
recorded.

* 
`buffer` is the buffer containing draw parameters.

* 
`offset` is the byte offset into `buffer` where parameters
begin.

* 
`drawCount` is the number of draws to execute, and **can** be zero.

* 
`stride` is the byte stride between successive sets of draw
parameters.

`vkCmdDrawIndexedIndirect` behaves similarly to [vkCmdDrawIndexed](#vkCmdDrawIndexed)
except that the parameters are read by the device from a buffer during
execution.
`drawCount` draws are executed by the command, with parameters taken
from `buffer` starting at `offset` and increasing by `stride`
bytes for each successive draw.
The parameters of each draw are encoded in an array of
[VkDrawIndexedIndirectCommand](#VkDrawIndexedIndirectCommand) structures.
If `drawCount` is less than or equal to one, `stride` is ignored.

Valid Usage

* 
[](#VUID-vkCmdDrawIndexedIndirect-magFilter-04553) VUID-vkCmdDrawIndexedIndirect-magFilter-04553

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawIndexedIndirect-magFilter-09598) VUID-vkCmdDrawIndexedIndirect-magFilter-09598

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR` and `reductionMode` equal to either
`VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawIndexedIndirect-mipmapMode-04770) VUID-vkCmdDrawIndexedIndirect-mipmapMode-04770

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawIndexedIndirect-mipmapMode-09599) VUID-vkCmdDrawIndexedIndirect-mipmapMode-09599

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR` and `reductionMode` equal to
either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawIndexedIndirect-unnormalizedCoordinates-09635) VUID-vkCmdDrawIndexedIndirect-unnormalizedCoordinates-09635

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `levelCount` and `layerCount`
**must** be 1

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-08609) VUID-vkCmdDrawIndexedIndirect-None-08609

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `viewType` **must** be
`VK_IMAGE_VIEW_TYPE_1D` or `VK_IMAGE_VIEW_TYPE_2D`

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-08610) VUID-vkCmdDrawIndexedIndirect-None-08610

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions with
`ImplicitLod`, `Dref` or `Proj` in their name

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-08611) VUID-vkCmdDrawIndexedIndirect-None-08611

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions that includes a
LOD bias or any offset values

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-06479) VUID-vkCmdDrawIndexedIndirect-None-06479

If a [VkImageView](resources.html#VkImageView) is sampled with
[depth comparison](textures.html#textures-depth-compare-operation), the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_SAMPLED_IMAGE_DEPTH_COMPARISON_BIT`

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-02691) VUID-vkCmdDrawIndexedIndirect-None-02691

If a [VkImageView](resources.html#VkImageView) is accessed using atomic operations as a result
of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-07888) VUID-vkCmdDrawIndexedIndirect-None-07888

If a `VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER` descriptor is
accessed using atomic operations as a result of this command, then the
storage texel buffer’s [format    features](resources.html#resources-buffer-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-02692) VUID-vkCmdDrawIndexedIndirect-None-02692

If a [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_CUBIC_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-02693) VUID-vkCmdDrawIndexedIndirect-None-02693

If
the [VK_EXT_filter_cubic](../appendices/extensions.html#VK_EXT_filter_cubic) extension is not enabled and
any [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, it **must** not have a [VkImageViewType](resources.html#VkImageViewType) of
`VK_IMAGE_VIEW_TYPE_3D`, `VK_IMAGE_VIEW_TYPE_CUBE`, or
`VK_IMAGE_VIEW_TYPE_CUBE_ARRAY`

* 
[](#VUID-vkCmdDrawIndexedIndirect-filterCubic-02694) VUID-vkCmdDrawIndexedIndirect-filterCubic-02694

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command **must** have a [VkImageViewType](resources.html#VkImageViewType) and format
that supports cubic filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubic`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawIndexedIndirect-filterCubicMinmax-02695) VUID-vkCmdDrawIndexedIndirect-filterCubicMinmax-02695

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` with
a reduction mode of either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` as a result of this command **must**
have a [VkImageViewType](resources.html#VkImageViewType) and format that supports cubic filtering
together with minmax filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubicMinmax`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawIndexedIndirect-cubicRangeClamp-09212) VUID-vkCmdDrawIndexedIndirect-cubicRangeClamp-09212

If the [`cubicRangeClamp`](features.html#features-cubicRangeClamp) feature is
not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** not have a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM`

* 
[](#VUID-vkCmdDrawIndexedIndirect-reductionMode-09213) VUID-vkCmdDrawIndexedIndirect-reductionMode-09213

Any [VkImageView](resources.html#VkImageView) being sampled with a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM` as a
result of this command **must** sample with `VK_FILTER_CUBIC_EXT`

* 
[](#VUID-vkCmdDrawIndexedIndirect-selectableCubicWeights-09214) VUID-vkCmdDrawIndexedIndirect-selectableCubicWeights-09214

If the [`selectableCubicWeights`](features.html#features-selectableCubicWeights)
feature is not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** have
[VkSamplerCubicWeightsCreateInfoQCOM](samplers.html#VkSamplerCubicWeightsCreateInfoQCOM)::`cubicWeights` equal to
`VK_CUBIC_FILTER_WEIGHTS_CATMULL_ROM_QCOM`

* 
[](#VUID-vkCmdDrawIndexedIndirect-flags-02696) VUID-vkCmdDrawIndexedIndirect-flags-02696

Any [VkImage](resources.html#VkImage) created with a [VkImageCreateInfo](resources.html#VkImageCreateInfo)::`flags`
containing `VK_IMAGE_CREATE_CORNER_SAMPLED_BIT_NV` sampled as a
result of this command **must** only be sampled using a
[VkSamplerAddressMode](samplers.html#VkSamplerAddressMode) of
`VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE`

* 
[](#VUID-vkCmdDrawIndexedIndirect-OpTypeImage-07027) VUID-vkCmdDrawIndexedIndirect-OpTypeImage-07027

For any [VkImageView](resources.html#VkImageView) being written as a storage image where the
image format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawIndexedIndirect-OpTypeImage-07028) VUID-vkCmdDrawIndexedIndirect-OpTypeImage-07028

For any [VkImageView](resources.html#VkImageView) being read as a storage image where the image
format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawIndexedIndirect-OpTypeImage-07029) VUID-vkCmdDrawIndexedIndirect-OpTypeImage-07029

For any [VkBufferView](resources.html#VkBufferView) being written as a storage texel buffer where
the image format field of the `OpTypeImage` is `Unknown`, the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawIndexedIndirect-OpTypeImage-07030) VUID-vkCmdDrawIndexedIndirect-OpTypeImage-07030

Any [VkBufferView](resources.html#VkBufferView) being read as a storage texel buffer where the
image format field of the `OpTypeImage` is `Unknown` then the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-08600) VUID-vkCmdDrawIndexedIndirect-None-08600

For each set *n* that is statically used by [a bound    shader](shaders.html#shaders-binding), a descriptor set **must** have been bound to *n* at the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for set *n*, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the current
[VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-08601) VUID-vkCmdDrawIndexedIndirect-None-08601

For each push constant that is statically used by [a    bound shader](shaders.html#shaders-binding), a push constant value **must** have been set for the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the
current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-10068) VUID-vkCmdDrawIndexedIndirect-None-10068

For each array of resources that is used by [a bound    shader](shaders.html#shaders-binding), the indices used to access members of the array **must** be less
than the descriptor count for the identified binding in the descriptor
sets used by this command

* 
[](#VUID-vkCmdDrawIndexedIndirect-maintenance4-08602) VUID-vkCmdDrawIndexedIndirect-maintenance4-08602

If the [`maintenance4`](features.html#features-maintenance4) feature is not
enabled, then for each push constant that is statically used by
[a bound shader](shaders.html#shaders-binding), a push constant value **must** have
been set for the same pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
that is compatible for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
used to create the current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) and [VkPushConstantRange](descriptorsets.html#VkPushConstantRange) arrays
used to create the current [VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-08114) VUID-vkCmdDrawIndexedIndirect-None-08114

Descriptors in each bound descriptor set, specified via
[vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), **must** be valid as described by
[descriptor validity](descriptorsets.html#descriptor-validity) if they are statically used
by
the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind point used by this
command and the bound [VkPipeline](pipelines.html#VkPipeline) was not created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-08115) VUID-vkCmdDrawIndexedIndirect-None-08115

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), the bound
[VkPipeline](pipelines.html#VkPipeline) **must** have been created without
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-08116) VUID-vkCmdDrawIndexedIndirect-None-08116

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind
point used by this command and the bound [VkPipeline](pipelines.html#VkPipeline) was created
with `VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-08604) VUID-vkCmdDrawIndexedIndirect-None-08604

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-08117) VUID-vkCmdDrawIndexedIndirect-None-08117

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT),
the bound [VkPipeline](pipelines.html#VkPipeline) **must** have been created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-08119) VUID-vkCmdDrawIndexedIndirect-None-08119

If a descriptor is dynamically used with a [VkPipeline](pipelines.html#VkPipeline) created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the descriptor
memory **must** be resident

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-08605) VUID-vkCmdDrawIndexedIndirect-None-08605

If a descriptor is dynamically used with a [VkShaderEXT](shaders.html#VkShaderEXT) created
with a `VkDescriptorSetLayout` that was created with
`VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the
descriptor memory **must** be resident

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-08606) VUID-vkCmdDrawIndexedIndirect-None-08606

If the [`shaderObject`](features.html#features-shaderObject) feature is not
enabled, a
valid pipeline **must** be bound to the pipeline bind point used by this
command

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-08608) VUID-vkCmdDrawIndexedIndirect-None-08608

If a pipeline is bound to the pipeline bind point used by this command,
there
**must** not have been any calls to dynamic state setting commands for any
state specified statically in the [VkPipeline](pipelines.html#VkPipeline) object bound to the
pipeline bind point used by this command, since that pipeline was bound

* 
[](#VUID-vkCmdDrawIndexedIndirect-uniformBuffers-06935) VUID-vkCmdDrawIndexedIndirect-uniformBuffers-06935

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a uniform buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`uniformBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-08612) VUID-vkCmdDrawIndexedIndirect-None-08612

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a uniform
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawIndexedIndirect-storageBuffers-06936) VUID-vkCmdDrawIndexedIndirect-storageBuffers-06936

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a storage buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`storageBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-08613) VUID-vkCmdDrawIndexedIndirect-None-08613

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a storage
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawIndexedIndirect-commandBuffer-02707) VUID-vkCmdDrawIndexedIndirect-commandBuffer-02707

If `commandBuffer` is an unprotected command buffer and
[`protectedNoFault`](devsandqueues.html#limits-protectedNoFault) is not supported,
any resource accessed by [bound shaders](shaders.html#shaders-binding) **must** not be
a protected resource

* 
[](#VUID-vkCmdDrawIndexedIndirect-viewType-07752) VUID-vkCmdDrawIndexedIndirect-viewType-07752

If a [VkImageView](resources.html#VkImageView) is accessed as a result of this command, then the
image view’s `viewType` **must** match the `Dim` operand of the
`OpTypeImage` as described in [Compatibility Between SPIR-V Image Dimensions and Vulkan ImageView Types](../appendices/spirvenv.html#spirvenv-image-dimensions)

* 
[](#VUID-vkCmdDrawIndexedIndirect-format-07753) VUID-vkCmdDrawIndexedIndirect-format-07753

If a [VkImageView](resources.html#VkImageView) or [VkBufferView](resources.html#VkBufferView) is accessed as a result of
this command, then the [numeric type](formats.html#formats-numericformat) of the
view’s `format` and the `Sampled` `Type` operand of the
`OpTypeImage` **must** match

* 
[](#VUID-vkCmdDrawIndexedIndirect-OpImageWrite-08795) VUID-vkCmdDrawIndexedIndirect-OpImageWrite-08795

If a [VkImageView](resources.html#VkImageView)
created with a format other than `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
at least as many components as the image view’s format

* 
[](#VUID-vkCmdDrawIndexedIndirect-OpImageWrite-08796) VUID-vkCmdDrawIndexedIndirect-OpImageWrite-08796

If a [VkImageView](resources.html#VkImageView) created with the format `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
four components

* 
[](#VUID-vkCmdDrawIndexedIndirect-OpImageWrite-04469) VUID-vkCmdDrawIndexedIndirect-OpImageWrite-04469

If a [VkBufferView](resources.html#VkBufferView) is accessed using `OpImageWrite` as a result
of this command, then the `Type` of the `Texel` operand of that
instruction **must** have at least as many components as the buffer view’s
format

* 
[](#VUID-vkCmdDrawIndexedIndirect-SampledType-04470) VUID-vkCmdDrawIndexedIndirect-SampledType-04470

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit component
width is accessed as a result of this command, the `SampledType` of
the `OpTypeImage` operand of that instruction **must** have a `Width`
of 64

* 
[](#VUID-vkCmdDrawIndexedIndirect-SampledType-04471) VUID-vkCmdDrawIndexedIndirect-SampledType-04471

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawIndexedIndirect-SampledType-04472) VUID-vkCmdDrawIndexedIndirect-SampledType-04472

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit
component width is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 64

* 
[](#VUID-vkCmdDrawIndexedIndirect-SampledType-04473) VUID-vkCmdDrawIndexedIndirect-SampledType-04473

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawIndexedIndirect-sparseImageInt64Atomics-04474) VUID-vkCmdDrawIndexedIndirect-sparseImageInt64Atomics-04474

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkImage](resources.html#VkImage)
objects created with the `VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT` flag
**must** not be accessed by atomic instructions through an `OpTypeImage`
with a `SampledType` with a `Width` of 64 by this command

* 
[](#VUID-vkCmdDrawIndexedIndirect-sparseImageInt64Atomics-04475) VUID-vkCmdDrawIndexedIndirect-sparseImageInt64Atomics-04475

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkBuffer](resources.html#VkBuffer)
objects created with the `VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT`
flag **must** not be accessed by atomic instructions through an
`OpTypeImage` with a `SampledType` with a `Width` of 64 by this
command

* 
[](#VUID-vkCmdDrawIndexedIndirect-OpImageWeightedSampleQCOM-06971) VUID-vkCmdDrawIndexedIndirect-OpImageWeightedSampleQCOM-06971

If `OpImageWeightedSampleQCOM` is used to sample a [VkImageView](resources.html#VkImageView)
as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_SAMPLED_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndexedIndirect-OpImageWeightedSampleQCOM-06972) VUID-vkCmdDrawIndexedIndirect-OpImageWeightedSampleQCOM-06972

If `OpImageWeightedSampleQCOM` uses a [VkImageView](resources.html#VkImageView) as a sample
weight image as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndexedIndirect-OpImageBoxFilterQCOM-06973) VUID-vkCmdDrawIndexedIndirect-OpImageBoxFilterQCOM-06973

If `OpImageBoxFilterQCOM` is used to sample a [VkImageView](resources.html#VkImageView) as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BOX_FILTER_SAMPLED_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndexedIndirect-OpImageBlockMatchSSDQCOM-06974) VUID-vkCmdDrawIndexedIndirect-OpImageBlockMatchSSDQCOM-06974

If `OpImageBlockMatchSSDQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndexedIndirect-OpImageBlockMatchSADQCOM-06975) VUID-vkCmdDrawIndexedIndirect-OpImageBlockMatchSADQCOM-06975

If `OpImageBlockMatchSADQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndexedIndirect-OpImageBlockMatchSADQCOM-06976) VUID-vkCmdDrawIndexedIndirect-OpImageBlockMatchSADQCOM-06976

If `OpImageBlockMatchSADQCOM` or OpImageBlockMatchSSDQCOM is used to
read from a reference image as result of this command, then the
specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawIndexedIndirect-OpImageWeightedSampleQCOM-06977) VUID-vkCmdDrawIndexedIndirect-OpImageWeightedSampleQCOM-06977

If `OpImageWeightedSampleQCOM`, `OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** have
been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndexedIndirect-OpImageWeightedSampleQCOM-06978) VUID-vkCmdDrawIndexedIndirect-OpImageWeightedSampleQCOM-06978

If any command other than `OpImageWeightedSampleQCOM`,
`OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** not
have been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndexedIndirect-OpImageBlockMatchWindow-09215) VUID-vkCmdDrawIndexedIndirect-OpImageBlockMatchWindow-09215

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndexedIndirect-OpImageBlockMatchWindow-09216) VUID-vkCmdDrawIndexedIndirect-OpImageBlockMatchWindow-09216

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
format **must** be a single-component format

* 
[](#VUID-vkCmdDrawIndexedIndirect-OpImageBlockMatchWindow-09217) VUID-vkCmdDrawIndexedIndirect-OpImageBlockMatchWindow-09217

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` read from a reference image as result
of this command, then the specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-07288) VUID-vkCmdDrawIndexedIndirect-None-07288

Any shader invocation executed by this command **must**
[terminate](shaders.html#shaders-termination)

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-09600) VUID-vkCmdDrawIndexedIndirect-None-09600

If a descriptor with type equal to any of
`VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE`,
`VK_DESCRIPTOR_TYPE_STORAGE_IMAGE`, or
`VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT` is accessed as a result of
this command, all image subresources identified by that descriptor **must**
be in the image layout identified when the descriptor was written

* 
[](#VUID-vkCmdDrawIndexedIndirect-commandBuffer-10746) VUID-vkCmdDrawIndexedIndirect-commandBuffer-10746

The `VkDeviceMemory` object allocated from a `VkMemoryHeap` with
the `VK_MEMORY_HEAP_TILE_MEMORY_BIT_QCOM` property that is bound to
a resource accessed as a result of this command **must** be the active
bound [bound tile memory object](memory.html#memory-bind-tile-memory) in
`commandBuffer`

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-10678) VUID-vkCmdDrawIndexedIndirect-None-10678

If this command is recorded inside a [tile    shading render pass](renderpass.html#renderpass-tile-shading) instance, the stages corresponding to the pipeline
bind point used by this command **must** only include
`VK_SHADER_STAGE_VERTEX_BIT`, `VK_SHADER_STAGE_FRAGMENT_BIT`,
and/or `VK_SHADER_STAGE_COMPUTE_BIT`

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-10679) VUID-vkCmdDrawIndexedIndirect-None-10679

If this command is recorded where
[per-tile execution model](renderpass.html#renderpass-per-tile-execution-model) is
enabled, there **must** be no access to any image while the image was be
transitioned to the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` layout

* 
[](#VUID-vkCmdDrawIndexedIndirect-renderPass-02684) VUID-vkCmdDrawIndexedIndirect-renderPass-02684

The current render pass **must** be [compatible](renderpass.html#renderpass-compatibility)
with the `renderPass` member of the
`VkGraphicsPipelineCreateInfo` structure specified when creating the
`VkPipeline` bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawIndexedIndirect-subpass-02685) VUID-vkCmdDrawIndexedIndirect-subpass-02685

The subpass index of the current render pass **must** be equal to the
`subpass` member of the `VkGraphicsPipelineCreateInfo` structure
specified when creating the `VkPipeline` bound to
`VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-07748) VUID-vkCmdDrawIndexedIndirect-None-07748

If any shader statically accesses an input attachment, a valid
descriptor **must** be bound to the pipeline via a descriptor set

* 
[](#VUID-vkCmdDrawIndexedIndirect-OpTypeImage-07468) VUID-vkCmdDrawIndexedIndirect-OpTypeImage-07468

If any shader executed by this pipeline accesses an `OpTypeImage`
variable with a `Dim` operand of `SubpassData`, it **must** be
decorated with an `InputAttachmentIndex` that corresponds to a valid
input attachment in the current subpass

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-07469) VUID-vkCmdDrawIndexedIndirect-None-07469

Input attachment views accessed in a subpass **must** be created with the
same [VkFormat](formats.html#VkFormat) as the corresponding subpass definition, and be
created with a [VkImageView](resources.html#VkImageView) that is compatible with the attachment
referenced by the subpass'
`pInputAttachments`[`InputAttachmentIndex`] in the bound
[VkFramebuffer](renderpass.html#VkFramebuffer) as specified by
[Fragment Input Attachment    Compatibility](interfaces.html#compatibility-inputattachment)

* 
[](#VUID-vkCmdDrawIndexedIndirect-pDepthInputAttachmentIndex-09595) VUID-vkCmdDrawIndexedIndirect-pDepthInputAttachmentIndex-09595

Input attachment views accessed in a dynamic render pass with a
`InputAttachmentIndex` referenced by
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo), or no
`InputAttachmentIndex` if
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
or
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are `NULL`, **must** be created with a [VkImageView](resources.html#VkImageView) that is compatible
with the corresponding color, depth, or stencil attachment in
[VkRenderingInfo](renderpass.html#VkRenderingInfo)

* 
[](#VUID-vkCmdDrawIndexedIndirect-pDepthInputAttachmentIndex-09596) VUID-vkCmdDrawIndexedIndirect-pDepthInputAttachmentIndex-09596

Input attachment views accessed in a dynamic render pass via a shader
object **must** have an `InputAttachmentIndex` if both
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
and
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are non-`NULL`

* 
[](#VUID-vkCmdDrawIndexedIndirect-InputAttachmentIndex-09597) VUID-vkCmdDrawIndexedIndirect-InputAttachmentIndex-09597

If an input attachment view accessed in a dynamic render pass via a
shader object has an `InputAttachmentIndex`, the
`InputAttachmentIndex` **must** match an index in
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-06537) VUID-vkCmdDrawIndexedIndirect-None-06537

Memory backing image subresources used as attachments in the current
render pass **must** not be written in any way other than as an attachment
by this command

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-09000) VUID-vkCmdDrawIndexedIndirect-None-09000

If a color attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

the `VK_PIPELINE_CREATE_COLOR_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT` is
set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_COLOR_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawIndexedIndirect-None-09001) VUID-vkCmdDrawIndexedIndirect-None-09001

If a depth attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_DEPTH_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawIndexedIndirect-None-09002) VUID-vkCmdDrawIndexedIndirect-None-09002

If a stencil attachment is written by any prior command in this subpass
or by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_STENCIL_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawIndexedIndirect-None-09003) VUID-vkCmdDrawIndexedIndirect-None-09003

If an attachment is written by any prior command in this subpass or by
the load, store, or resolve operations for this subpass, it **must** not be
accessed in any way other than as an attachment, storage image, or
sampled image by this command

[](#VUID-vkCmdDrawIndexedIndirect-None-06539) VUID-vkCmdDrawIndexedIndirect-None-06539

If any previously recorded command in the current subpass accessed an
image subresource used as an attachment in this subpass in any way other
than as an attachment, this command **must** not write to that image
subresource as an attachment

[](#VUID-vkCmdDrawIndexedIndirect-None-06886) VUID-vkCmdDrawIndexedIndirect-None-06886

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the depth aspect, [depth    writes](fragops.html#fragops-depth-write) **must** be disabled

[](#VUID-vkCmdDrawIndexedIndirect-None-06887) VUID-vkCmdDrawIndexedIndirect-None-06887

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the stencil aspect, both front and back
`writeMask` are not zero, and stencil test is enabled,
[all stencil ops](fragops.html#fragops-stencil) **must** be `VK_STENCIL_OP_KEEP`

[](#VUID-vkCmdDrawIndexedIndirect-None-07831) VUID-vkCmdDrawIndexedIndirect-None-07831

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT` dynamic state enabled then
[vkCmdSetViewport](vertexpostproc.html#vkCmdSetViewport) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07832) VUID-vkCmdDrawIndexedIndirect-None-07832

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SCISSOR` dynamic state enabled then
[vkCmdSetScissor](fragops.html#vkCmdSetScissor) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07833) VUID-vkCmdDrawIndexedIndirect-None-07833

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_WIDTH` dynamic state enabled then
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-08617) VUID-vkCmdDrawIndexedIndirect-None-08617

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command
buffer set `polygonMode` to `VK_POLYGON_MODE_LINE`,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-08618) VUID-vkCmdDrawIndexedIndirect-None-08618

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-08619) VUID-vkCmdDrawIndexedIndirect-None-08619

If a shader object that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, [vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawIndexedIndirect-None-07834) VUID-vkCmdDrawIndexedIndirect-None-07834

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthBiasEnable`
is `VK_TRUE`, then [vkCmdSetDepthBias](primsrast.html#vkCmdSetDepthBias)
or [vkCmdSetDepthBias2EXT](primsrast.html#vkCmdSetDepthBias2EXT)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawIndexedIndirect-None-07835) VUID-vkCmdDrawIndexedIndirect-None-07835

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_BLEND_CONSTANTS` dynamic state enabled then
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-08621) VUID-vkCmdDrawIndexedIndirect-None-08621

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) in the current command buffer set any
element of `pColorBlendEnables` to `VK_TRUE`, and the most
recent call to [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) in the current
command buffer set the same element of `pColorBlendEquations` to a
`VkColorBlendEquationEXT` structure with any [VkBlendFactor](framebuffer.html#VkBlendFactor)
member with a value of `VK_BLEND_FACTOR_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_CONSTANT_ALPHA`, or
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_ALPHA`,
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07836) VUID-vkCmdDrawIndexedIndirect-None-07836

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`depthBoundsTestEnable` is `VK_TRUE`, then
[vkCmdSetDepthBounds](fragops.html#vkCmdSetDepthBounds) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07837) VUID-vkCmdDrawIndexedIndirect-None-07837

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilCompareMask](fragops.html#vkCmdSetStencilCompareMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07838) VUID-vkCmdDrawIndexedIndirect-None-07838

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07839) VUID-vkCmdDrawIndexedIndirect-None-07839

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_REFERENCE` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of and
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilReference](fragops.html#vkCmdSetStencilReference) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-maxMultiviewInstanceIndex-02688) VUID-vkCmdDrawIndexedIndirect-maxMultiviewInstanceIndex-02688

If the draw is recorded in a render pass instance with multiview
enabled, the maximum instance index **must** be less than or equal to
[VkPhysicalDeviceMultiviewProperties](limits.html#VkPhysicalDeviceMultiviewProperties)::`maxMultiviewInstanceIndex`

[](#VUID-vkCmdDrawIndexedIndirect-sampleLocationsEnable-02689) VUID-vkCmdDrawIndexedIndirect-sampleLocationsEnable-02689

If the bound graphics pipeline was created with
[VkPipelineSampleLocationsStateCreateInfoEXT](primsrast.html#VkPipelineSampleLocationsStateCreateInfoEXT)::`sampleLocationsEnable`
set to `VK_TRUE` and the current subpass has a depth/stencil
attachment, then that attachment **must** have been created with the
`VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT` bit set

[](#VUID-vkCmdDrawIndexedIndirect-None-07634) VUID-vkCmdDrawIndexedIndirect-None-07634

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-06666) VUID-vkCmdDrawIndexedIndirect-None-06666

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
[vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07840) VUID-vkCmdDrawIndexedIndirect-None-07840

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CULL_MODE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCullMode](primsrast.html#vkCmdSetCullMode) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07841) VUID-vkCmdDrawIndexedIndirect-None-07841

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRONT_FACE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFrontFace](primsrast.html#vkCmdSetFrontFace) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07843) VUID-vkCmdDrawIndexedIndirect-None-07843

 If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`,
[vkCmdSetDepthTestEnable](fragops.html#vkCmdSetDepthTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07844) VUID-vkCmdDrawIndexedIndirect-None-07844

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07845) VUID-vkCmdDrawIndexedIndirect-None-07845

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_COMPARE_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthCompareOp](fragops.html#vkCmdSetDepthCompareOp) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07846) VUID-vkCmdDrawIndexedIndirect-None-07846

If the [`depthBounds`](features.html#features-depthBounds) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBoundsTestEnable](fragops.html#vkCmdSetDepthBoundsTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07847) VUID-vkCmdDrawIndexedIndirect-None-07847

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetStencilTestEnable](fragops.html#vkCmdSetStencilTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07848) VUID-vkCmdDrawIndexedIndirect-None-07848

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then [vkCmdSetStencilOp](fragops.html#vkCmdSetStencilOp)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawIndexedIndirect-viewportCount-03417) VUID-vkCmdDrawIndexedIndirect-viewportCount-03417

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-scissorCount-03418) VUID-vkCmdDrawIndexedIndirect-scissorCount-03418

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetScissorWithCount](vertexpostproc.html#vkCmdSetScissorWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing

[](#VUID-vkCmdDrawIndexedIndirect-viewportCount-03419) VUID-vkCmdDrawIndexedIndirect-viewportCount-03419

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with both the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic states enabled,
and the state is not inherited,
then the `viewportCount` parameter of
`vkCmdSetViewportWithCount` **must** match the `scissorCount`
parameter of `vkCmdSetScissorWithCount`

[](#VUID-vkCmdDrawIndexedIndirect-viewportCount-04137) VUID-vkCmdDrawIndexedIndirect-viewportCount-04137

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportWScalingStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportWScalingStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndexedIndirect-viewportCount-04138) VUID-vkCmdDrawIndexedIndirect-viewportCount-04138

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-08636) VUID-vkCmdDrawIndexedIndirect-None-08636

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndexedIndirect-viewportCount-04139) VUID-vkCmdDrawIndexedIndirect-viewportCount-04139

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic
state enabled, then the bound graphics pipeline **must** have been created
with
[VkPipelineViewportShadingRateImageStateCreateInfoNV](primsrast.html#VkPipelineViewportShadingRateImageStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndexedIndirect-shadingRateImage-09233) VUID-vkCmdDrawIndexedIndirect-shadingRateImage-09233

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_COARSE_SAMPLE_ORDER_NV` and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoarseSampleOrderNV](primsrast.html#vkCmdSetCoarseSampleOrderNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-shadingRateImage-09234) VUID-vkCmdDrawIndexedIndirect-shadingRateImage-09234

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-08637) VUID-vkCmdDrawIndexedIndirect-None-08637

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** be greater than or
equal to the `viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndexedIndirect-VkPipelineVieportCreateInfo-04141) VUID-vkCmdDrawIndexedIndirect-VkPipelineVieportCreateInfo-04141

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV) structure chained from
[VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound graphics
pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndexedIndirect-VkPipelineVieportCreateInfo-04142) VUID-vkCmdDrawIndexedIndirect-VkPipelineVieportCreateInfo-04142

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV) structure
chained from [VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound
graphics pipeline **must** have been created with
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV)::`exclusiveScissorCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndexedIndirect-None-07878) VUID-vkCmdDrawIndexedIndirect-None-07878

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_ENABLE_NV` dynamic state
enabled, then [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07879) VUID-vkCmdDrawIndexedIndirect-None-07879

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_NV` dynamic state enabled, and
the most recent call to [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) in the
current command buffer set any element of `pExclusiveScissorEnables`
to `VK_TRUE`, then [vkCmdSetExclusiveScissorNV](fragops.html#vkCmdSetExclusiveScissorNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-04876) VUID-vkCmdDrawIndexedIndirect-None-04876

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE` dynamic state enabled,
then [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-04877) VUID-vkCmdDrawIndexedIndirect-None-04877

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBiasEnable](primsrast.html#vkCmdSetDepthBiasEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-logicOp-04878) VUID-vkCmdDrawIndexedIndirect-logicOp-04878

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `logicOpEnable` is
`VK_TRUE`, then [vkCmdSetLogicOpEXT](framebuffer.html#vkCmdSetLogicOpEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-primitiveFragmentShadingRateWithMultipleViewports-04552) VUID-vkCmdDrawIndexedIndirect-primitiveFragmentShadingRateWithMultipleViewports-04552

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, and
any of the shader stages of the bound graphics pipeline write to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawIndexedIndirect-primitiveFragmentShadingRateWithMultipleViewports-08642) VUID-vkCmdDrawIndexedIndirect-primitiveFragmentShadingRateWithMultipleViewports-08642

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, and any shader object bound to a graphics stage writes to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawIndexedIndirect-blendEnable-04727) VUID-vkCmdDrawIndexedIndirect-blendEnable-04727

If rasterization is not disabled in the bound graphics pipeline, then
for each color attachment in the subpass, if the corresponding image
view’s [format features](resources.html#resources-image-view-format-features) do not
contain `VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
`blendEnable` member of the corresponding element of the
`pAttachments` member of `pColorBlendState` **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawIndexedIndirect-None-08643) VUID-vkCmdDrawIndexedIndirect-None-08643

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then for each color attachment in the render pass, if
the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) do not contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
corresponding member of `pColorBlendEnables` in the most recent call
to `vkCmdSetColorBlendEnableEXT` in the current command buffer that
affected that attachment index **must** have been `VK_FALSE`

[](#VUID-vkCmdDrawIndexedIndirect-multisampledRenderToSingleSampled-07284) VUID-vkCmdDrawIndexedIndirect-multisampledRenderToSingleSampled-07284

If rasterization is not disabled in the bound graphics pipeline,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then `rasterizationSamples` for the bound graphics pipeline **must** be the
same as the current subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawIndexedIndirect-None-08644) VUID-vkCmdDrawIndexedIndirect-None-08644

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then the most recent call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) in the
current command buffer **must** have set `rasterizationSamples` to be the
same as the number of samples for the current render pass color and/or
depth/stencil attachments

[](#VUID-vkCmdDrawIndexedIndirect-None-08876) VUID-vkCmdDrawIndexedIndirect-None-08876

If a shader object is bound to any graphics stage, the current render
pass instance **must** have been begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)

[](#VUID-vkCmdDrawIndexedIndirect-imageView-06172) VUID-vkCmdDrawIndexedIndirect-imageView-06172

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the depth attachment

[](#VUID-vkCmdDrawIndexedIndirect-imageView-06173) VUID-vkCmdDrawIndexedIndirect-imageView-06173

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawIndexedIndirect-imageView-06174) VUID-vkCmdDrawIndexedIndirect-imageView-06174

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL`, this
command **must** not write any values to the depth attachment

[](#VUID-vkCmdDrawIndexedIndirect-imageView-06175) VUID-vkCmdDrawIndexedIndirect-imageView-06175

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL`, this
command **must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawIndexedIndirect-imageView-06176) VUID-vkCmdDrawIndexedIndirect-imageView-06176

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the depth attachment

[](#VUID-vkCmdDrawIndexedIndirect-imageView-06177) VUID-vkCmdDrawIndexedIndirect-imageView-06177

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the stencil attachment

[](#VUID-vkCmdDrawIndexedIndirect-viewMask-06178) VUID-vkCmdDrawIndexedIndirect-viewMask-06178

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a [VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`viewMask` equal
to [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`viewMask`

[](#VUID-vkCmdDrawIndexedIndirect-colorAttachmentCount-06179) VUID-vkCmdDrawIndexedIndirect-colorAttachmentCount-06179

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`colorAttachmentCount` equal to
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount`

[](#VUID-vkCmdDrawIndexedIndirect-dynamicRenderingUnusedAttachments-08910) VUID-vkCmdDrawIndexedIndirect-dynamicRenderingUnusedAttachments-08910

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have
been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline

[](#VUID-vkCmdDrawIndexedIndirect-dynamicRenderingUnusedAttachments-08912) VUID-vkCmdDrawIndexedIndirect-dynamicRenderingUnusedAttachments-08912

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have the
corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound pipeline equal to `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndexedIndirect-dynamicRenderingUnusedAttachments-08911) VUID-vkCmdDrawIndexedIndirect-dynamicRenderingUnusedAttachments-08911

If the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled, and the
current render pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`,
then each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments`
array with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must**
have been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding
element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline, or the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats`, if
it exists, **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndexedIndirect-colorAttachmentCount-09362) VUID-vkCmdDrawIndexedIndirect-colorAttachmentCount-09362

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`,
there is no shader object bound to any graphics stage,
and a color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`resolveImageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawIndexedIndirect-None-09363) VUID-vkCmdDrawIndexedIndirect-None-09363

If
there is no shader object bound to any graphics stage,
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, and a
color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawIndexedIndirect-None-09364) VUID-vkCmdDrawIndexedIndirect-None-09364

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set the blend enable
to `VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-09365) VUID-vkCmdDrawIndexedIndirect-None-09365

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-09366) VUID-vkCmdDrawIndexedIndirect-None-09366

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set blend enable to
`VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-rasterizationSamples-09367) VUID-vkCmdDrawIndexedIndirect-rasterizationSamples-09367

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-09368) VUID-vkCmdDrawIndexedIndirect-None-09368

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-09369) VUID-vkCmdDrawIndexedIndirect-None-09369

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-pFragmentSize-09370) VUID-vkCmdDrawIndexedIndirect-pFragmentSize-09370

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-pFragmentSize-09371) VUID-vkCmdDrawIndexedIndirect-pFragmentSize-09371

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07749) VUID-vkCmdDrawIndexedIndirect-None-07749

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-08646) VUID-vkCmdDrawIndexedIndirect-None-08646

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-attachmentCount-07750) VUID-vkCmdDrawIndexedIndirect-attachmentCount-07750

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
the `attachmentCount` parameter of `vkCmdSetColorWriteEnableEXT`
**must** be greater than or equal to the
`VkPipelineColorBlendStateCreateInfo`::`attachmentCount` of the
bound graphics pipeline

[](#VUID-vkCmdDrawIndexedIndirect-None-08647) VUID-vkCmdDrawIndexedIndirect-None-08647

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then the
`attachmentCount` parameter of most recent call to
`vkCmdSetColorWriteEnableEXT` in the current command buffer **must** be
greater than or equal to the number of color attachments in the current
render pass instance

[](#VUID-vkCmdDrawIndexedIndirect-None-07751) VUID-vkCmdDrawIndexedIndirect-None-07751

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled, a
graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) included a
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT)::`discardRectangleCount`

[](#VUID-vkCmdDrawIndexedIndirect-rasterizerDiscardEnable-09236) VUID-vkCmdDrawIndexedIndirect-rasterizerDiscardEnable-09236

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) did not
include a [VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPhysicalDeviceDiscardRectanglePropertiesEXT](limits.html#VkPhysicalDeviceDiscardRectanglePropertiesEXT)::`maxDiscardRectangles`

[](#VUID-vkCmdDrawIndexedIndirect-None-07880) VUID-vkCmdDrawIndexedIndirect-None-07880

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_ENABLE_EXT` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDiscardRectangleEnableEXT](fragops.html#vkCmdSetDiscardRectangleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07881) VUID-vkCmdDrawIndexedIndirect-None-07881

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_MODE_EXT` dynamic state enabled,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleModeEXT](fragops.html#vkCmdSetDiscardRectangleModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-dynamicRenderingUnusedAttachments-08913) VUID-vkCmdDrawIndexedIndirect-dynamicRenderingUnusedAttachments-08913

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndexedIndirect-dynamicRenderingUnusedAttachments-08914) VUID-vkCmdDrawIndexedIndirect-dynamicRenderingUnusedAttachments-08914

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawIndexedIndirect-dynamicRenderingUnusedAttachments-08915) VUID-vkCmdDrawIndexedIndirect-dynamicRenderingUnusedAttachments-08915

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline was not equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`,
the value of the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndexedIndirect-dynamicRenderingUnusedAttachments-08916) VUID-vkCmdDrawIndexedIndirect-dynamicRenderingUnusedAttachments-08916

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndexedIndirect-dynamicRenderingUnusedAttachments-08917) VUID-vkCmdDrawIndexedIndirect-dynamicRenderingUnusedAttachments-08917

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawIndexedIndirect-dynamicRenderingUnusedAttachments-08918) VUID-vkCmdDrawIndexedIndirect-dynamicRenderingUnusedAttachments-08918

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline was not equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`, the value of
the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndexedIndirect-imageView-06183) VUID-vkCmdDrawIndexedIndirect-imageView-06183

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentShadingRateAttachmentInfoKHR](renderpass.html#VkRenderingFragmentShadingRateAttachmentInfoKHR)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR`

[](#VUID-vkCmdDrawIndexedIndirect-imageView-06184) VUID-vkCmdDrawIndexedIndirect-imageView-06184

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentDensityMapAttachmentInfoEXT](renderpass.html#VkRenderingFragmentDensityMapAttachmentInfoEXT)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT`

[](#VUID-vkCmdDrawIndexedIndirect-colorAttachmentCount-06185) VUID-vkCmdDrawIndexedIndirect-colorAttachmentCount-06185

If the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and the current render
pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
`0`, then each element of the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with a sample count equal to the corresponding element of the
`pColorAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline

[](#VUID-vkCmdDrawIndexedIndirect-pDepthAttachment-06186) VUID-vkCmdDrawIndexedIndirect-pDepthAttachment-06186

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawIndexedIndirect-pStencilAttachment-06187) VUID-vkCmdDrawIndexedIndirect-pStencilAttachment-06187

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawIndexedIndirect-multisampledRenderToSingleSampled-07285) VUID-vkCmdDrawIndexedIndirect-multisampledRenderToSingleSampled-07285

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    the current render pass instance was begun with
    [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
    `0`, then each element of the
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
    `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
    created with a sample count equal to the value of
    `rasterizationSamples` for the bound graphics pipeline

[](#VUID-vkCmdDrawIndexedIndirect-multisampledRenderToSingleSampled-07286) VUID-vkCmdDrawIndexedIndirect-multisampledRenderToSingleSampled-07286

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawIndexedIndirect-multisampledRenderToSingleSampled-07287) VUID-vkCmdDrawIndexedIndirect-multisampledRenderToSingleSampled-07287

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawIndexedIndirect-pNext-07935) VUID-vkCmdDrawIndexedIndirect-pNext-07935

If this command has been called inside a render pass instance started
with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), and the `pNext` chain of
[VkRenderingInfo](renderpass.html#VkRenderingInfo) includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the value of `rasterizationSamples` for the bound graphics
pipeline **must** be equal to
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT)::`rasterizationSamples`

[](#VUID-vkCmdDrawIndexedIndirect-renderPass-06198) VUID-vkCmdDrawIndexedIndirect-renderPass-06198

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline **must** have been created
with a [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`renderPass` equal to
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

[](#VUID-vkCmdDrawIndexedIndirect-pColorAttachments-08963) VUID-vkCmdDrawIndexedIndirect-pColorAttachments-08963

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound with a
fragment shader that statically writes to a color attachment, the color
write mask is not zero, color writes are enabled, and the corresponding
element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments->imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndexedIndirect-pDepthAttachment-08964) VUID-vkCmdDrawIndexedIndirect-pDepthAttachment-08964

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, depth
test is enabled, depth write is enabled, and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndexedIndirect-pStencilAttachment-08965) VUID-vkCmdDrawIndexedIndirect-pStencilAttachment-08965

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, stencil
test is enabled and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndexedIndirect-flags-10582) VUID-vkCmdDrawIndexedIndirect-flags-10582

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), its [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`flags`
parameter **must** not have
`VK_RENDERING_CONTENTS_SECONDARY_COMMAND_BUFFERS_BIT` set
unless `VK_RENDERING_CONTENTS_INLINE_BIT_KHR` is also set

[](#VUID-vkCmdDrawIndexedIndirect-primitivesGeneratedQueryWithRasterizerDiscard-06708) VUID-vkCmdDrawIndexedIndirect-primitivesGeneratedQueryWithRasterizerDiscard-06708

If the [    `primitivesGeneratedQueryWithRasterizerDiscard`](features.html#features-primitivesGeneratedQueryWithRasterizerDiscard) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, [rasterization discard](primsrast.html#primsrast-discard) **must** not be enabled

[](#VUID-vkCmdDrawIndexedIndirect-primitivesGeneratedQueryWithNonZeroStreams-06709) VUID-vkCmdDrawIndexedIndirect-primitivesGeneratedQueryWithNonZeroStreams-06709

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, the bound graphics pipeline **must** not have been created with a
non-zero value in
`VkPipelineRasterizationStateStreamCreateInfoEXT`::`rasterizationStream`

[](#VUID-vkCmdDrawIndexedIndirect-None-07620) VUID-vkCmdDrawIndexedIndirect-None-07620

If the [`depthClamp`](features.html#features-depthClamp) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthClampEnableEXT](vertexpostproc.html#vkCmdSetDepthClampEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07621) VUID-vkCmdDrawIndexedIndirect-None-07621

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_POLYGON_MODE_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07622) VUID-vkCmdDrawIndexedIndirect-None-07622

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07623) VUID-vkCmdDrawIndexedIndirect-None-07623

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-alphaToCoverageEnable-08919) VUID-vkCmdDrawIndexedIndirect-alphaToCoverageEnable-08919

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and `alphaToCoverageEnable` was `VK_TRUE` in the last
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT), then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawIndexedIndirect-alphaToCoverageEnable-08920) VUID-vkCmdDrawIndexedIndirect-alphaToCoverageEnable-08920

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) in the current command
buffer set `alphaToCoverageEnable` to `VK_TRUE`, then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawIndexedIndirect-None-07624) VUID-vkCmdDrawIndexedIndirect-None-07624

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07625) VUID-vkCmdDrawIndexedIndirect-None-07625

If the [`alphaToOne`](features.html#features-alphaToOne) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_ONE_ENABLE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToOneEnableEXT](fragops.html#vkCmdSetAlphaToOneEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07626) VUID-vkCmdDrawIndexedIndirect-None-07626

If the [`logicOp`](features.html#features-logicOp) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetLogicOpEnableEXT](framebuffer.html#vkCmdSetLogicOpEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07627) VUID-vkCmdDrawIndexedIndirect-None-07627

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-08657) VUID-vkCmdDrawIndexedIndirect-None-08657

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have
been called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime)
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07628) VUID-vkCmdDrawIndexedIndirect-None-07628

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-08658) VUID-vkCmdDrawIndexedIndirect-None-08658

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) for any attachment set that
attachment’s value in `pColorBlendEnables` to `VK_TRUE`, then
[vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07629) VUID-vkCmdDrawIndexedIndirect-None-07629

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-08659) VUID-vkCmdDrawIndexedIndirect-None-08659

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07630) VUID-vkCmdDrawIndexedIndirect-None-07630

If the [`geometryStreams`](features.html#features-geometryStreams) feature is
enabled, and
a shader object is bound to the `VK_SHADER_STAGE_GEOMETRY_BIT` stage
or
a graphics pipeline is bound which was created with both a
`VK_SHADER_STAGE_GEOMETRY_BIT` stage and the
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` dynamic state enabled,
then [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07631) VUID-vkCmdDrawIndexedIndirect-None-07631

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07632) VUID-vkCmdDrawIndexedIndirect-None-07632

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXTRA_PRIMITIVE_OVERESTIMATION_SIZE_EXT` dynamic
state enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`conservativeRasterizationMode` is
`VK_CONSERVATIVE_RASTERIZATION_MODE_OVERESTIMATE_EXT`, then
[vkCmdSetExtraPrimitiveOverestimationSizeEXT](primsrast.html#vkCmdSetExtraPrimitiveOverestimationSizeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07633) VUID-vkCmdDrawIndexedIndirect-None-07633

If the [`depthClipEnable`](features.html#features-depthClipEnable) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_ENABLE_EXT` dynamic state, then
[vkCmdSetDepthClipEnableEXT](vertexpostproc.html#vkCmdSetDepthClipEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07635) VUID-vkCmdDrawIndexedIndirect-None-07635

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-rasterizerDiscardEnable-09416) VUID-vkCmdDrawIndexedIndirect-rasterizerDiscardEnable-09416

If the `[VK_EXT_blend_operation_advanced](../appendices/extensions.html#VK_EXT_blend_operation_advanced)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then at least one of [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT)
and [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07636) VUID-vkCmdDrawIndexedIndirect-None-07636

If the `[VK_EXT_provoking_vertex](../appendices/extensions.html#VK_EXT_provoking_vertex)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_PROVOKING_VERTEX_MODE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetProvokingVertexModeEXT](vertexpostproc.html#vkCmdSetProvokingVertexModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07637) VUID-vkCmdDrawIndexedIndirect-None-07637

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state enabled
then [vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-08666) VUID-vkCmdDrawIndexedIndirect-None-08666

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-08667) VUID-vkCmdDrawIndexedIndirect-None-08667

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-08668) VUID-vkCmdDrawIndexedIndirect-None-08668

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07638) VUID-vkCmdDrawIndexedIndirect-None-07638

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` dynamic state enabled
then [vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-08669) VUID-vkCmdDrawIndexedIndirect-None-08669

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-08670) VUID-vkCmdDrawIndexedIndirect-None-08670

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-08671) VUID-vkCmdDrawIndexedIndirect-None-08671

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07849) VUID-vkCmdDrawIndexedIndirect-None-07849

    If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled and
    a shader object is bound to any graphics stage, or
    a bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE`
    dynamic state enabled, the [current    value](pipelines.html#dynamic-state-current-value) of `rasterizerDiscardEnable` is `VK_FALSE`, and the
    [current value](pipelines.html#dynamic-state-current-value) of
    `stippledLineEnable` is `VK_TRUE`, then
[vkCmdSetLineStipple](primsrast.html#vkCmdSetLineStipple)
    **must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
    command

[](#VUID-vkCmdDrawIndexedIndirect-None-10608) VUID-vkCmdDrawIndexedIndirect-None-10608

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the current `lineRasterizationMode` is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM` or
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the current
`alphaToCoverageEnable`, `alphaToOneEnable` and
`sampleShadingEnable` states **must** all be `VK_FALSE`

[](#VUID-vkCmdDrawIndexedIndirect-None-07639) VUID-vkCmdDrawIndexedIndirect-None-07639

If the [`depthClipControl`](features.html#features-depthClipControl) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_NEGATIVE_ONE_TO_ONE_EXT` dynamic state
enabled, then [vkCmdSetDepthClipNegativeOneToOneEXT](vertexpostproc.html#vkCmdSetDepthClipNegativeOneToOneEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-09650) VUID-vkCmdDrawIndexedIndirect-None-09650

If the [`depthClampControl`](features.html#features-depthClampControl) feature
is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_RANGE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`depthClampEnable` is `VK_TRUE`, then
[vkCmdSetDepthClampRangeEXT](fragops.html#vkCmdSetDepthClampRangeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07640) VUID-vkCmdDrawIndexedIndirect-None-07640

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_ENABLE_NV` dynamic state
enabled, then [vkCmdSetViewportWScalingEnableNV](vertexpostproc.html#vkCmdSetViewportWScalingEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07641) VUID-vkCmdDrawIndexedIndirect-None-07641

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state enabled, then
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07642) VUID-vkCmdDrawIndexedIndirect-None-07642

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07643) VUID-vkCmdDrawIndexedIndirect-None-07643

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_LOCATION_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageToColorEnable` is `VK_TRUE`, then
[vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07644) VUID-vkCmdDrawIndexedIndirect-None-07644

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_MODE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageModulationModeNV](fragops.html#vkCmdSetCoverageModulationModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07645) VUID-vkCmdDrawIndexedIndirect-None-07645

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationMode` is any value other than
`VK_COVERAGE_MODULATION_MODE_NONE_NV`, then
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07646) VUID-vkCmdDrawIndexedIndirect-None-07646

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationTableEnable` is `VK_TRUE`, then
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07647) VUID-vkCmdDrawIndexedIndirect-None-07647

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SHADING_RATE_IMAGE_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetShadingRateImageEnableNV](primsrast.html#vkCmdSetShadingRateImageEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-pipelineFragmentShadingRate-09238) VUID-vkCmdDrawIndexedIndirect-pipelineFragmentShadingRate-09238

If the [    `pipelineFragmentShadingRate`](features.html#features-pipelineFragmentShadingRate) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07648) VUID-vkCmdDrawIndexedIndirect-None-07648

If the [    `representativeFragmentTest`](features.html#features-representativeFragmentTest) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_REPRESENTATIVE_FRAGMENT_TEST_ENABLE_NV` dynamic
state enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRepresentativeFragmentTestEnableNV](fragops.html#vkCmdSetRepresentativeFragmentTestEnableNV) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07649) VUID-vkCmdDrawIndexedIndirect-None-07649

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageReductionModeNV](fragops.html#vkCmdSetCoverageReductionModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-pColorBlendEnables-07470) VUID-vkCmdDrawIndexedIndirect-pColorBlendEnables-07470

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` state enabled and the last
call to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) set `pColorBlendEnables`
for any attachment to `VK_TRUE`, then for those attachments in the
subpass the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`

[](#VUID-vkCmdDrawIndexedIndirect-rasterizationSamples-07471) VUID-vkCmdDrawIndexedIndirect-rasterizationSamples-07471

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
current subpass does not use any color and/or depth/stencil attachments,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** follow the rules for a
[zero-attachment subpass](renderpass.html#renderpass-noattachments)

[](#VUID-vkCmdDrawIndexedIndirect-samples-07472) VUID-vkCmdDrawIndexedIndirect-samples-07472

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo)::`rasterizationSamples`
parameter used to create the bound graphics pipeline

[](#VUID-vkCmdDrawIndexedIndirect-samples-07473) VUID-vkCmdDrawIndexedIndirect-samples-07473

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state and
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` states enabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
`rasterizationSamples` parameter in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndexedIndirect-rasterizationSamples-07474) VUID-vkCmdDrawIndexedIndirect-rasterizationSamples-07474

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and
the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
neither the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` nor the
`[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extensions are enabled, then
the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the current
subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawIndexedIndirect-None-09211) VUID-vkCmdDrawIndexedIndirect-None-09211

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled,
or a shader object is bound to any graphics stage,
and the current render pass instance includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the
`rasterizationSamples` member of that structure

[](#VUID-vkCmdDrawIndexedIndirect-firstAttachment-07476) VUID-vkCmdDrawIndexedIndirect-firstAttachment-07476

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorBlendEnableEXT` calls **must** specify an
enable for all active color attachments in the current subpass

[](#VUID-vkCmdDrawIndexedIndirect-rasterizerDiscardEnable-09417) VUID-vkCmdDrawIndexedIndirect-rasterizerDiscardEnable-09417

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEnableEXT`
calls **must** specify an enable for all active color attachments in the
current subpass

[](#VUID-vkCmdDrawIndexedIndirect-firstAttachment-07477) VUID-vkCmdDrawIndexedIndirect-firstAttachment-07477

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawIndexedIndirect-rasterizerDiscardEnable-09418) VUID-vkCmdDrawIndexedIndirect-rasterizerDiscardEnable-09418

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have
been called in the current command buffer prior to this drawing command,
and the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawIndexedIndirect-firstAttachment-07478) VUID-vkCmdDrawIndexedIndirect-firstAttachment-07478

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorWriteMaskEXT` calls **must** specify the
color write mask for all active color attachments in the current subpass

[](#VUID-vkCmdDrawIndexedIndirect-rasterizerDiscardEnable-09419) VUID-vkCmdDrawIndexedIndirect-rasterizerDiscardEnable-09419

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorWriteMaskEXT`
calls **must** specify the color write mask for all active color
attachments in the current subpass

[](#VUID-vkCmdDrawIndexedIndirect-firstAttachment-07479) VUID-vkCmdDrawIndexedIndirect-firstAttachment-07479

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendAdvancedEXT`
calls **must** specify the advanced blend equations for all active color
attachments in the current subpass where blending is enabled

[](#VUID-vkCmdDrawIndexedIndirect-advancedBlendMaxColorAttachments-07480) VUID-vkCmdDrawIndexedIndirect-advancedBlendMaxColorAttachments-07480

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` and
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic states enabled and
the last calls to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) and
[vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) have enabled advanced blending, then
the number of active color attachments in the current subpass **must** not
exceed [    `advancedBlendMaxColorAttachments`](limits.html#limits-advancedBlendMaxColorAttachments)

[](#VUID-vkCmdDrawIndexedIndirect-primitivesGeneratedQueryWithNonZeroStreams-07481) VUID-vkCmdDrawIndexedIndirect-primitivesGeneratedQueryWithNonZeroStreams-07481

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, and the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` state enabled, the last
call to [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have set the
`rasterizationStream` to zero

[](#VUID-vkCmdDrawIndexedIndirect-sampleLocationsPerPixel-07482) VUID-vkCmdDrawIndexedIndirect-sampleLocationsPerPixel-07482

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` member of the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo) structure the bound graphics
pipeline has been created with

[](#VUID-vkCmdDrawIndexedIndirect-sampleLocationsPerPixel-07483) VUID-vkCmdDrawIndexedIndirect-sampleLocationsPerPixel-07483

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` parameter of the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndexedIndirect-sampleLocationsEnable-07484) VUID-vkCmdDrawIndexedIndirect-sampleLocationsEnable-07484

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), and the current subpass has a
depth/stencil attachment, then that attachment **must** have been created
with the `VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT`
bit set

[](#VUID-vkCmdDrawIndexedIndirect-sampleLocationsEnable-07485) VUID-vkCmdDrawIndexedIndirect-sampleLocationsEnable-07485

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.width` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawIndexedIndirect-sampleLocationsEnable-07486) VUID-vkCmdDrawIndexedIndirect-sampleLocationsEnable-07486

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.height` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawIndexedIndirect-sampleLocationsEnable-07487) VUID-vkCmdDrawIndexedIndirect-sampleLocationsEnable-07487

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), the fragment shader code **must**
not statically use the extended instruction `InterpolateAtSample`

[](#VUID-vkCmdDrawIndexedIndirect-sampleLocationsEnable-07936) VUID-vkCmdDrawIndexedIndirect-sampleLocationsEnable-07936

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.width` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndexedIndirect-sampleLocationsEnable-07937) VUID-vkCmdDrawIndexedIndirect-sampleLocationsEnable-07937

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.height` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndexedIndirect-sampleLocationsEnable-07938) VUID-vkCmdDrawIndexedIndirect-sampleLocationsEnable-07938

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationsPerPixel` **must** equal
`rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndexedIndirect-coverageModulationTableEnable-07488) VUID-vkCmdDrawIndexedIndirect-coverageModulationTableEnable-07488

If
a shader object is bound to any graphics stage or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` state
enabled, and the last call to
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) set
`coverageModulationTableEnable` to `VK_TRUE`, then the
`coverageModulationTableCount` parameter in the last call to
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** equal the current
`rasterizationSamples` divided by the number of color samples in the
current subpass

[](#VUID-vkCmdDrawIndexedIndirect-rasterizationSamples-07489) VUID-vkCmdDrawIndexedIndirect-rasterizationSamples-07489

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and if current subpass has a depth/stencil attachment and depth test,
stencil test, or depth bounds test are enabled in the bound pipeline,
then the current `rasterizationSamples` **must** be the same as the
sample count of the depth/stencil attachment

[](#VUID-vkCmdDrawIndexedIndirect-coverageToColorEnable-07490) VUID-vkCmdDrawIndexedIndirect-coverageToColorEnable-07490

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` state enabled and the
last call to [vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawIndexedIndirect-rasterizerDiscardEnable-09420) VUID-vkCmdDrawIndexedIndirect-rasterizerDiscardEnable-09420

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the last call to
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawIndexedIndirect-coverageReductionMode-07491) VUID-vkCmdDrawIndexedIndirect-coverageReductionMode-07491

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` or
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic states enabled,
then the [current values](pipelines.html#dynamic-state-current-value) of
`coverageReductionMode`, `rasterizationSamples`, the sample
counts for the color and depth/stencil attachments (if the subpass has
them) **must** be a valid combination returned by
[vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV](fragops.html#vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV)

[](#VUID-vkCmdDrawIndexedIndirect-viewportCount-07492) VUID-vkCmdDrawIndexedIndirect-viewportCount-07492

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndexedIndirect-viewportCount-07493) VUID-vkCmdDrawIndexedIndirect-viewportCount-07493

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic states enabled then
the `viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndexedIndirect-viewportCount-09421) VUID-vkCmdDrawIndexedIndirect-viewportCount-09421

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and a
shader object is bound to any graphics stage, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndexedIndirect-rasterizationSamples-07494) VUID-vkCmdDrawIndexedIndirect-rasterizationSamples-07494

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is not enabled, or the [current    value](pipelines.html#dynamic-state-current-value) of `coverageReductionMode` is not
`VK_COVERAGE_REDUCTION_MODE_TRUNCATE_NV`,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizationSamples` is greater than sample count of the color
attachment, then [sample shading](primsrast.html#primsrast-sampleshading) **must** be
disabled

[](#VUID-vkCmdDrawIndexedIndirect-stippledLineEnable-07495) VUID-vkCmdDrawIndexedIndirect-stippledLineEnable-07495

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled

[](#VUID-vkCmdDrawIndexedIndirect-stippledLineEnable-07496) VUID-vkCmdDrawIndexedIndirect-stippledLineEnable-07496

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM`, then the
[`stippledBresenhamLines`](features.html#features-stippledBresenhamLines)
feature **must** be enabled

[](#VUID-vkCmdDrawIndexedIndirect-stippledLineEnable-07497) VUID-vkCmdDrawIndexedIndirect-stippledLineEnable-07497

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the
[`stippledSmoothLines`](features.html#features-stippledSmoothLines) feature
**must** be enabled

[](#VUID-vkCmdDrawIndexedIndirect-stippledLineEnable-07498) VUID-vkCmdDrawIndexedIndirect-stippledLineEnable-07498

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_DEFAULT`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled and
[VkPhysicalDeviceLimits](limits.html#VkPhysicalDeviceLimits)::`strictLines` **must** be `VK_TRUE`

[](#VUID-vkCmdDrawIndexedIndirect-conservativePointAndLineRasterization-07499) VUID-vkCmdDrawIndexedIndirect-conservativePointAndLineRasterization-07499

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, [    `conservativePointAndLineRasterization`](limits.html#limits-conservativePointAndLineRasterization) is not supported, and the
effective primitive topology output by the last pre-rasterization shader
stage is a line or point, then the `conservativeRasterizationMode`
set by the last call to [vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT)
**must** be `VK_CONSERVATIVE_RASTERIZATION_MODE_DISABLED_EXT`

[](#VUID-vkCmdDrawIndexedIndirect-stage-07073) VUID-vkCmdDrawIndexedIndirect-stage-07073

If the bound pipeline was created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of an element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT`, then [Mesh    Shader Queries](queries.html#queries-mesh-shader) **must** not be active

[](#VUID-vkCmdDrawIndexedIndirect-None-08877) VUID-vkCmdDrawIndexedIndirect-None-08877

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-None-07850) VUID-vkCmdDrawIndexedIndirect-None-07850

If dynamic state was inherited from
[VkCommandBufferInheritanceViewportScissorInfoNV](cmdbuffers.html#VkCommandBufferInheritanceViewportScissorInfoNV), it **must** be set
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirect-nextStage-10745) VUID-vkCmdDrawIndexedIndirect-nextStage-10745

For each shader object bound to a graphics stage, except for shader
object bound to the last graphics stage in the logical pipeline, it
**must** have been created with a `nextStage` including the
corresponding bit to the shader object bound to the following graphics
stage in the logical pipeline

[](#VUID-vkCmdDrawIndexedIndirect-None-08684) VUID-vkCmdDrawIndexedIndirect-None-08684

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_VERTEX_BIT`

[](#VUID-vkCmdDrawIndexedIndirect-None-08685) VUID-vkCmdDrawIndexedIndirect-None-08685

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`

[](#VUID-vkCmdDrawIndexedIndirect-None-08686) VUID-vkCmdDrawIndexedIndirect-None-08686

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT`

[](#VUID-vkCmdDrawIndexedIndirect-None-08687) VUID-vkCmdDrawIndexedIndirect-None-08687

If there is no bound graphics pipeline, and the
[`geometryShader`](features.html#features-geometryShader) feature is enabled,
`vkCmdBindShadersEXT` **must** have been called in the current command
buffer with `pStages` with an element of
`VK_SHADER_STAGE_GEOMETRY_BIT`

[](#VUID-vkCmdDrawIndexedIndirect-None-08688) VUID-vkCmdDrawIndexedIndirect-None-08688

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_FRAGMENT_BIT`

[](#VUID-vkCmdDrawIndexedIndirect-None-08689) VUID-vkCmdDrawIndexedIndirect-None-08689

If there is no bound graphics pipeline, and the [    `taskShader`](features.html#features-taskShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_TASK_BIT_EXT`

[](#VUID-vkCmdDrawIndexedIndirect-None-08690) VUID-vkCmdDrawIndexedIndirect-None-08690

If there is no bound graphics pipeline, and the [    `meshShader`](features.html#features-meshShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_MESH_BIT_EXT`

[](#VUID-vkCmdDrawIndexedIndirect-None-08693) VUID-vkCmdDrawIndexedIndirect-None-08693

If there is no bound graphics pipeline, and at least one of the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features is enabled, one of the
`VK_SHADER_STAGE_VERTEX_BIT` or `VK_SHADER_STAGE_MESH_BIT_EXT`
stages **must** have a valid `VkShaderEXT` bound, and the other **must**
have no `VkShaderEXT` bound

[](#VUID-vkCmdDrawIndexedIndirect-None-08696) VUID-vkCmdDrawIndexedIndirect-None-08696

If there is no bound graphics pipeline, and a valid `VkShaderEXT` is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, there **must** be no
`VkShaderEXT` bound to either the `VK_SHADER_STAGE_TASK_BIT_EXT`
stage or the `VK_SHADER_STAGE_MESH_BIT_EXT` stage

[](#VUID-vkCmdDrawIndexedIndirect-None-08698) VUID-vkCmdDrawIndexedIndirect-None-08698

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, then all shaders created
with the `VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag in the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** also be bound

[](#VUID-vkCmdDrawIndexedIndirect-None-08699) VUID-vkCmdDrawIndexedIndirect-None-08699

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, any stages in between
stages whose shaders which did not create a shader with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag as part of the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** not have any `VkShaderEXT` bound

[](#VUID-vkCmdDrawIndexedIndirect-None-08878) VUID-vkCmdDrawIndexedIndirect-None-08878

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) push constant
ranges

[](#VUID-vkCmdDrawIndexedIndirect-None-08879) VUID-vkCmdDrawIndexedIndirect-None-08879

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) arrays of
descriptor set layouts

[](#VUID-vkCmdDrawIndexedIndirect-colorAttachmentCount-09372) VUID-vkCmdDrawIndexedIndirect-colorAttachmentCount-09372

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, a color
attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, and a fragment
shader is bound, it **must** not declare the `DepthReplacing` or
`StencilRefReplacingEXT` execution modes

[](#VUID-vkCmdDrawIndexedIndirect-pDynamicStates-08715) VUID-vkCmdDrawIndexedIndirect-pDynamicStates-08715

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpDepthAttachmentReadEXT`, the `depthWriteEnable` parameter
in the last call to [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawIndexedIndirect-pDynamicStates-08716) VUID-vkCmdDrawIndexedIndirect-pDynamicStates-08716

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpStencilAttachmentReadEXT`, the `writeMask` parameter in
the last call to [vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** be `0`

[](#VUID-vkCmdDrawIndexedIndirect-None-09116) VUID-vkCmdDrawIndexedIndirect-None-09116

    If
    a shader object is bound to any graphics stage
or
    the bound graphics pipeline was created with
    `VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT`,
    and the format of any color attachment is
    `VK_FORMAT_E5B9G9R9_UFLOAT_PACK32`, the corresponding element of the
    `pColorWriteMasks` parameter of [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT)
    **must** either include all of `VK_COLOR_COMPONENT_R_BIT`,
    `VK_COLOR_COMPONENT_G_BIT`, and `VK_COLOR_COMPONENT_B_BIT`, or
    none of them

[](#VUID-vkCmdDrawIndexedIndirect-maxFragmentDualSrcAttachments-09239) VUID-vkCmdDrawIndexedIndirect-maxFragmentDualSrcAttachments-09239

If [blending](framebuffer.html#framebuffer-blending) is enabled for any attachment where
either the source or destination blend factors for that attachment
[use the secondary color input](framebuffer.html#framebuffer-dsb), the maximum value of
`Location` for any output attachment [statically    used](shaders.html#shaders-staticuse) in the `Fragment` `Execution` `Model` executed by this command
**must** be less than [    `maxFragmentDualSrcAttachments`](limits.html#limits-maxFragmentDualSrcAttachments)

[](#VUID-vkCmdDrawIndexedIndirect-None-09548) VUID-vkCmdDrawIndexedIndirect-None-09548

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
the value of each element of
[VkRenderingAttachmentLocationInfo](interfaces.html#VkRenderingAttachmentLocationInfo)::`pColorAttachmentLocations`
set by [vkCmdSetRenderingAttachmentLocations](interfaces.html#vkCmdSetRenderingAttachmentLocations) **must** match the value
set for the corresponding element in the bound pipeline

[](#VUID-vkCmdDrawIndexedIndirect-None-09549) VUID-vkCmdDrawIndexedIndirect-None-09549

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
input attachment index mappings in the bound pipeline **must** match those
set for the current render pass instance via
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

[](#VUID-vkCmdDrawIndexedIndirect-None-09642) VUID-vkCmdDrawIndexedIndirect-None-09642

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with
the `VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag, the bound
graphics pipeline **must** have been created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`

[](#VUID-vkCmdDrawIndexedIndirect-None-09643) VUID-vkCmdDrawIndexedIndirect-None-09643

If the bound graphics pipeline was created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`, the current
render pass **must** have begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with the
`VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag

[](#VUID-vkCmdDrawIndexedIndirect-None-10677) VUID-vkCmdDrawIndexedIndirect-None-10677

If the [per-tile execution model](renderpass.html#renderpass-per-tile-execution-model)
is enabled, the
[tileShadingPerTileDraw](features.html#features-tileShadingPerTileDraw) feature **must**
be enabled

[](#VUID-vkCmdDrawIndexedIndirect-None-10772) VUID-vkCmdDrawIndexedIndirect-None-10772

If a shader object is bound to any graphics stage, *multiview*
functionality **must** not be enabled in the current render pass

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-04007) VUID-vkCmdDrawIndexedIndirect-None-04007

All vertex input bindings accessed via vertex input variables declared
in the vertex shader entry point’s interface **must** have either valid or
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) buffers bound

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-04008) VUID-vkCmdDrawIndexedIndirect-None-04008

If the [`nullDescriptor`](features.html#features-nullDescriptor) feature is not
enabled, all vertex input bindings accessed via vertex input variables
declared in the vertex shader entry point’s interface **must** not be
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-02721) VUID-vkCmdDrawIndexedIndirect-None-02721

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled,
and that pipeline was created without enabling
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` for
`vertexInputs`,
then for a given vertex buffer binding, any attribute data fetched **must**
be entirely contained within the corresponding vertex buffer binding, as
described in [Vertex Input Description](fxvertex.html#fxvertex-input)

* 
[](#VUID-vkCmdDrawIndexedIndirect-format-10389) VUID-vkCmdDrawIndexedIndirect-format-10389

For each vertex attribute accessed by this command, if its
[VkVertexInputAttributeDescription](fxvertex.html#VkVertexInputAttributeDescription)::`format`
or [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format`
is a [packed format](formats.html#formats-packed),
and [`legacyVertexAttributes`](features.html#features-legacyVertexAttributes) is
not enabled,
the value of `attribAddress`, calculated as described in
[Vertex Input Calculation](fxvertex.html#fxvertex-input-address-calculation), **must**
be a multiple of the [size of the `format`](formats.html#formats)

* 
[](#VUID-vkCmdDrawIndexedIndirect-format-10390) VUID-vkCmdDrawIndexedIndirect-format-10390

For each vertex attribute accessed by this command, if its
[VkVertexInputAttributeDescription](fxvertex.html#VkVertexInputAttributeDescription)::`format`
or [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format`
is not a [packed format](formats.html#formats-packed),
and either [    `legacyVertexAttributes`](features.html#features-legacyVertexAttributes) is not enabled or `format` has 64-bit
components,
the value of `attribAddress`, calculated as described in
[Vertex Input Calculation](fxvertex.html#fxvertex-input-address-calculation), **must**
be a multiple of the [component size of the `format`](formats.html#formats)

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-07842) VUID-vkCmdDrawIndexedIndirect-None-07842

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY` dynamic state enabled
    then [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawIndexedIndirect-dynamicPrimitiveTopologyUnrestricted-07500) VUID-vkCmdDrawIndexedIndirect-dynamicPrimitiveTopologyUnrestricted-07500

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY` dynamic state enabled
and the [    `dynamicPrimitiveTopologyUnrestricted`](limits.html#limits-dynamicPrimitiveTopologyUnrestricted) is `VK_FALSE`,
then the `primitiveTopology` parameter of
`vkCmdSetPrimitiveTopology` **must** be of the same
[topology class](#drawing-primitive-topology-class) as the pipeline
[VkPipelineInputAssemblyStateCreateInfo](#VkPipelineInputAssemblyStateCreateInfo)::`topology` state

* 
[](#VUID-vkCmdDrawIndexedIndirect-primitiveTopology-10286) VUID-vkCmdDrawIndexedIndirect-primitiveTopology-10286

If a `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage is bound, then
the [current value](pipelines.html#dynamic-state-current-value) of
`primitiveTopology` **must** be `VK_PRIMITIVE_TOPOLOGY_PATCH_LIST`
prior to this drawing command

* 
[](#VUID-vkCmdDrawIndexedIndirect-primitiveTopology-10747) VUID-vkCmdDrawIndexedIndirect-primitiveTopology-10747

If [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) set `primitiveTopology` to
`VK_PRIMITIVE_TOPOLOGY_PATCH_LIST` prior to this drawing command,
then a `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage **must** be
bound

* 
[](#VUID-vkCmdDrawIndexedIndirect-primitiveTopology-10748) VUID-vkCmdDrawIndexedIndirect-primitiveTopology-10748

If [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) set `primitiveTopology` to
`VK_PRIMITIVE_TOPOLOGY_POINT_LIST` prior to this drawing command,
the [`maintenance5`](features.html#features-maintenance5) feature is not
enabled,
both a `VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` and
`VK_SHADER_STAGE_GEOMETRY_BIT` stage are not bound, then the
`Vertex` `Execution` `Model` **must** have a `PointSize` decorated
variable that is statically written to

* 
[](#VUID-vkCmdDrawIndexedIndirect-pStrides-04913) VUID-vkCmdDrawIndexedIndirect-pStrides-04913

If the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_VERTEX_INPUT_BINDING_STRIDE` dynamic state
enabled,
but without the `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state
enabled,
then [vkCmdBindVertexBuffers2](fxvertex.html#vkCmdBindVertexBuffers2) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this draw command, and the `pStrides`
parameter of [vkCmdBindVertexBuffers2](fxvertex.html#vkCmdBindVertexBuffers2) **must** not be `NULL`

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-04914) VUID-vkCmdDrawIndexedIndirect-None-04914

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    then [vkCmdSetVertexInputEXT](fxvertex.html#vkCmdSetVertexInputEXT) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this draw command

* 
[](#VUID-vkCmdDrawIndexedIndirect-Input-07939) VUID-vkCmdDrawIndexedIndirect-Input-07939

    If
    [`vertexAttributeRobustness`](features.html#features-vertexAttributeRobustness)
    is not enabled and
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    then all variables with the `Input` storage class decorated with
    `Location` in the `Vertex` `Execution` `Model` `OpEntryPoint`
    **must** contain a location in
    [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`location`

* 
[](#VUID-vkCmdDrawIndexedIndirect-Input-08734) VUID-vkCmdDrawIndexedIndirect-Input-08734

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and either the [    `legacyVertexAttributes`](features.html#features-legacyVertexAttributes) feature is not enabled or the SPIR-V Type
    associated with a given `Input` variable of the corresponding
    `Location` in the `Vertex` `Execution` `Model` `OpEntryPoint` is
    64-bit,
    then the numeric type associated with all `Input` variables of the
    corresponding `Location` in the `Vertex` `Execution` `Model`
    `OpEntryPoint` **must** be the same as
    [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format`

* 
[](#VUID-vkCmdDrawIndexedIndirect-format-08936) VUID-vkCmdDrawIndexedIndirect-format-08936

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format` has a
    64-bit component, then the scalar width associated with all `Input`
    variables of the corresponding `Location` in the `Vertex`
    `Execution` `Model` `OpEntryPoint` **must** be 64-bit

* 
[](#VUID-vkCmdDrawIndexedIndirect-format-08937) VUID-vkCmdDrawIndexedIndirect-format-08937

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and the scalar width associated with a `Location` decorated
    `Input` variable in the `Vertex` `Execution` `Model`
    `OpEntryPoint` is 64-bit, then the corresponding
    [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format` **must** have a
    64-bit component

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-09203) VUID-vkCmdDrawIndexedIndirect-None-09203

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format` has a
    64-bit component, then all `Input` variables at the corresponding
    `Location` in the `Vertex` `Execution` `Model` `OpEntryPoint`
    **must** not use components that are not present in the format

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-04875) VUID-vkCmdDrawIndexedIndirect-None-04875

    If
    there is a shader object bound to the
    `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage
or
    the bound graphics pipeline state was created with both a
    `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage and the
    `VK_DYNAMIC_STATE_PATCH_CONTROL_POINTS_EXT` dynamic state enabled,
    and the [current value](pipelines.html#dynamic-state-current-value) of
    `primitiveTopology` is `VK_PRIMITIVE_TOPOLOGY_PATCH_LIST`, then
    [vkCmdSetPatchControlPointsEXT](shaders.html#vkCmdSetPatchControlPointsEXT) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-04879) VUID-vkCmdDrawIndexedIndirect-None-04879

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE` dynamic state enabled
    then [vkCmdSetPrimitiveRestartEnable](#vkCmdSetPrimitiveRestartEnable) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-09637) VUID-vkCmdDrawIndexedIndirect-None-09637

    If
    the [    `primitiveTopologyListRestart`](features.html#features-primitiveTopologyListRestart) feature is not enabled,
    the topology is `VK_PRIMITIVE_TOPOLOGY_POINT_LIST`,
    `VK_PRIMITIVE_TOPOLOGY_LINE_LIST`,
    `VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST`,
    `VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY`, or
    `VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY`,
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE` dynamic state enabled
    then [vkCmdSetPrimitiveRestartEnable](#vkCmdSetPrimitiveRestartEnable) **must** be `VK_FALSE`

* 
[](#VUID-vkCmdDrawIndexedIndirect-stage-06481) VUID-vkCmdDrawIndexedIndirect-stage-06481

The bound graphics pipeline **must** not have been created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of any element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_TASK_BIT_EXT` or `VK_SHADER_STAGE_MESH_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-08885) VUID-vkCmdDrawIndexedIndirect-None-08885

There **must** be no shader object bound to either of the
`VK_SHADER_STAGE_TASK_BIT_EXT` or `VK_SHADER_STAGE_MESH_BIT_EXT`
stages

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-07619) VUID-vkCmdDrawIndexedIndirect-None-07619

If
a shader object is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` stage or
a graphics pipeline is bound which was created with both a
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` stage and the
`VK_DYNAMIC_STATE_TESSELLATION_DOMAIN_ORIGIN_EXT` dynamic state
enabled, then [vkCmdSetTessellationDomainOriginEXT](tessellation.html#vkCmdSetTessellationDomainOriginEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawIndexedIndirect-buffer-02708) VUID-vkCmdDrawIndexedIndirect-buffer-02708

If `buffer` is non-sparse then it **must** be bound completely and
contiguously to a single `VkDeviceMemory` object

* 
[](#VUID-vkCmdDrawIndexedIndirect-buffer-02709) VUID-vkCmdDrawIndexedIndirect-buffer-02709

`buffer` **must** have been created with the
`VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT` bit set

* 
[](#VUID-vkCmdDrawIndexedIndirect-offset-02710) VUID-vkCmdDrawIndexedIndirect-offset-02710

`offset` **must** be a multiple of `4`

* 
[](#VUID-vkCmdDrawIndexedIndirect-commandBuffer-02711) VUID-vkCmdDrawIndexedIndirect-commandBuffer-02711

`commandBuffer` **must** not be a protected command buffer

* 
[](#VUID-vkCmdDrawIndexedIndirect-drawCount-02718) VUID-vkCmdDrawIndexedIndirect-drawCount-02718

If the [`multiDrawIndirect`](features.html#features-multiDrawIndirect) feature
is not enabled, `drawCount` **must** be `0` or `1`

* 
[](#VUID-vkCmdDrawIndexedIndirect-drawCount-02719) VUID-vkCmdDrawIndexedIndirect-drawCount-02719

`drawCount` **must** be less than or equal to
`VkPhysicalDeviceLimits`::`maxDrawIndirectCount`

* 
[](#VUID-vkCmdDrawIndexedIndirect-None-07312) VUID-vkCmdDrawIndexedIndirect-None-07312

If the [`maintenance6`](features.html#features-maintenance6) feature is not
enabled, a
valid index buffer **must** be bound

* 
[](#VUID-vkCmdDrawIndexedIndirect-drawCount-00528) VUID-vkCmdDrawIndexedIndirect-drawCount-00528

If `drawCount` is greater than `1`, `stride` **must** be a multiple
of `4` and **must** be greater than or equal to
`sizeof`(`VkDrawIndexedIndirectCommand`)

* 
[](#VUID-vkCmdDrawIndexedIndirect-drawCount-00539) VUID-vkCmdDrawIndexedIndirect-drawCount-00539

If `drawCount` is equal to `1`, (`offset` + 
`sizeof`(`VkDrawIndexedIndirectCommand`)) **must** be less than or
equal to the size of `buffer`

* 
[](#VUID-vkCmdDrawIndexedIndirect-drawCount-00540) VUID-vkCmdDrawIndexedIndirect-drawCount-00540

If `drawCount` is greater than `1`, (`stride` ×
(`drawCount` - 1) +  `offset` + 
`sizeof`(`VkDrawIndexedIndirectCommand`)) **must** be less than or
equal to the size of `buffer`

Valid Usage (Implicit)

* 
[](#VUID-vkCmdDrawIndexedIndirect-commandBuffer-parameter) VUID-vkCmdDrawIndexedIndirect-commandBuffer-parameter

 `commandBuffer` **must** be a valid [VkCommandBuffer](cmdbuffers.html#VkCommandBuffer) handle

* 
[](#VUID-vkCmdDrawIndexedIndirect-buffer-parameter) VUID-vkCmdDrawIndexedIndirect-buffer-parameter

 `buffer` **must** be a valid [VkBuffer](resources.html#VkBuffer) handle

* 
[](#VUID-vkCmdDrawIndexedIndirect-commandBuffer-recording) VUID-vkCmdDrawIndexedIndirect-commandBuffer-recording

 `commandBuffer` **must** be in the [recording state](cmdbuffers.html#commandbuffers-lifecycle)

* 
[](#VUID-vkCmdDrawIndexedIndirect-commandBuffer-cmdpool) VUID-vkCmdDrawIndexedIndirect-commandBuffer-cmdpool

 The `VkCommandPool` that `commandBuffer` was allocated from **must** support graphics operations

* 
[](#VUID-vkCmdDrawIndexedIndirect-renderpass) VUID-vkCmdDrawIndexedIndirect-renderpass

 This command **must** only be called inside of a render pass instance

* 
[](#VUID-vkCmdDrawIndexedIndirect-videocoding) VUID-vkCmdDrawIndexedIndirect-videocoding

 This command **must** only be called outside of a video coding scope

* 
[](#VUID-vkCmdDrawIndexedIndirect-commonparent) VUID-vkCmdDrawIndexedIndirect-commonparent

 Both of `buffer`, and `commandBuffer` **must** have been created, allocated, or retrieved from the same [VkDevice](devsandqueues.html#VkDevice)

Host Synchronization

* 
Host access to `commandBuffer` **must** be externally synchronized

* 
Host access to the `VkCommandPool` that `commandBuffer` was allocated from **must** be externally synchronized

Command Properties
| [Command Buffer Levels](cmdbuffers.html#VkCommandBufferLevel) | [Render Pass Scope](renderpass.html#vkCmdBeginRenderPass) | [Video Coding Scope](videocoding.html#vkCmdBeginVideoCodingKHR) | [Supported Queue Types](devsandqueues.html#VkQueueFlagBits) | [Command Type](fundamentals.html#fundamentals-queueoperation-command-types) |
| --- | --- | --- | --- | --- |
| Primary

Secondary | Inside | Outside | Graphics | Action |

The `VkDrawIndexedIndirectCommand` structure is defined as:

// Provided by VK_VERSION_1_0
typedef struct VkDrawIndexedIndirectCommand {
    uint32_t    indexCount;
    uint32_t    instanceCount;
    uint32_t    firstIndex;
    int32_t     vertexOffset;
    uint32_t    firstInstance;
} VkDrawIndexedIndirectCommand;

* 
`indexCount` is the number of vertices to draw.

* 
`instanceCount` is the number of instances to draw.

* 
`firstIndex` is the base index within the index buffer.

* 
`vertexOffset` is the value added to the vertex index before
indexing into the vertex buffer.

* 
`firstInstance` is the instance ID of the first instance to draw.

The members of `VkDrawIndexedIndirectCommand` have the same meaning as
the similarly named parameters of [vkCmdDrawIndexed](#vkCmdDrawIndexed).

Valid Usage

* 
[](#VUID-VkDrawIndexedIndirectCommand-pNext-09461) VUID-VkDrawIndexedIndirectCommand-pNext-09461

If the bound graphics pipeline state was created with
[VkPipelineVertexInputDivisorStateCreateInfo](fxvertex.html#VkPipelineVertexInputDivisorStateCreateInfo) in the `pNext`
chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pVertexInputState`,
any member of
[VkPipelineVertexInputDivisorStateCreateInfo](fxvertex.html#VkPipelineVertexInputDivisorStateCreateInfo)::`pVertexBindingDivisors`
has a value other than `1` in `divisor`, and
[VkPhysicalDeviceVertexAttributeDivisorProperties](limits.html#VkPhysicalDeviceVertexAttributeDivisorProperties)::`supportsNonZeroFirstInstance`
is `VK_FALSE`, then `firstInstance` **must** be `0`

* 
[](#VUID-VkDrawIndexedIndirectCommand-None-09462) VUID-VkDrawIndexedIndirectCommand-None-09462

If
[shader objects](shaders.html#shaders-objects) are used for drawing or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled, any
member of the `pVertexBindingDescriptions` parameter to the
[vkCmdSetVertexInputEXT](fxvertex.html#vkCmdSetVertexInputEXT) call that sets this dynamic state has a
value other than `1` in `divisor`, and
[VkPhysicalDeviceVertexAttributeDivisorProperties](limits.html#VkPhysicalDeviceVertexAttributeDivisorProperties)::`supportsNonZeroFirstInstance`
is `VK_FALSE`, then `firstInstance` **must** be `0`

* 
[](#VUID-VkDrawIndexedIndirectCommand-robustBufferAccess2-08798) VUID-VkDrawIndexedIndirectCommand-robustBufferAccess2-08798

If the [`robustBufferAccess2`](features.html#features-robustBufferAccess2)
feature is not enabled, (`indexSize` × (`firstIndex`
+  `indexCount`) +  `offset`) **must** be less than or
equal to the size of the bound index buffer, with `indexSize` being
based on the type specified by `indexType`, where the index buffer,
`indexType`, and `offset` are specified via
`vkCmdBindIndexBuffer`
or `vkCmdBindIndexBuffer2`.
If `vkCmdBindIndexBuffer2` is used to bind the index buffer, the
size of the bound index buffer is
[vkCmdBindIndexBuffer2](#vkCmdBindIndexBuffer2)::`size`

* 
[](#VUID-VkDrawIndexedIndirectCommand-firstInstance-00554) VUID-VkDrawIndexedIndirectCommand-firstInstance-00554

If the [    `drawIndirectFirstInstance`](features.html#features-drawIndirectFirstInstance) feature is not enabled,
`firstInstance` **must** be `0`

To record an indexed draw call with a draw call count sourced from a buffer,
call:

// Provided by VK_VERSION_1_2
void vkCmdDrawIndexedIndirectCount(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    buffer,
    VkDeviceSize                                offset,
    VkBuffer                                    countBuffer,
    VkDeviceSize                                countBufferOffset,
    uint32_t                                    maxDrawCount,
    uint32_t                                    stride);

or the equivalent command

// Provided by VK_KHR_draw_indirect_count
void vkCmdDrawIndexedIndirectCountKHR(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    buffer,
    VkDeviceSize                                offset,
    VkBuffer                                    countBuffer,
    VkDeviceSize                                countBufferOffset,
    uint32_t                                    maxDrawCount,
    uint32_t                                    stride);

or the equivalent command

// Provided by VK_AMD_draw_indirect_count
void vkCmdDrawIndexedIndirectCountAMD(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    buffer,
    VkDeviceSize                                offset,
    VkBuffer                                    countBuffer,
    VkDeviceSize                                countBufferOffset,
    uint32_t                                    maxDrawCount,
    uint32_t                                    stride);

* 
`commandBuffer` is the command buffer into which the command is
recorded.

* 
`buffer` is the buffer containing draw parameters.

* 
`offset` is the byte offset into `buffer` where parameters
begin.

* 
`countBuffer` is the buffer containing the draw count.

* 
`countBufferOffset` is the byte offset into `countBuffer` where
the draw count begins.

* 
`maxDrawCount` specifies the maximum number of draws that will be
executed.
The actual number of executed draw calls is the minimum of the count
specified in `countBuffer` and `maxDrawCount`.

* 
`stride` is the byte stride between successive sets of draw
parameters.

`vkCmdDrawIndexedIndirectCount` behaves similarly to
[vkCmdDrawIndexedIndirect](#vkCmdDrawIndexedIndirect) except that the draw count is read by the
device from a buffer during execution.
The command will read an unsigned 32-bit integer from `countBuffer`
located at `countBufferOffset` and use this as the draw count.

Valid Usage

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-magFilter-04553) VUID-vkCmdDrawIndexedIndirectCount-magFilter-04553

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-magFilter-09598) VUID-vkCmdDrawIndexedIndirectCount-magFilter-09598

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR` and `reductionMode` equal to either
`VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-mipmapMode-04770) VUID-vkCmdDrawIndexedIndirectCount-mipmapMode-04770

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-mipmapMode-09599) VUID-vkCmdDrawIndexedIndirectCount-mipmapMode-09599

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR` and `reductionMode` equal to
either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-unnormalizedCoordinates-09635) VUID-vkCmdDrawIndexedIndirectCount-unnormalizedCoordinates-09635

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `levelCount` and `layerCount`
**must** be 1

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-08609) VUID-vkCmdDrawIndexedIndirectCount-None-08609

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `viewType` **must** be
`VK_IMAGE_VIEW_TYPE_1D` or `VK_IMAGE_VIEW_TYPE_2D`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-08610) VUID-vkCmdDrawIndexedIndirectCount-None-08610

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions with
`ImplicitLod`, `Dref` or `Proj` in their name

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-08611) VUID-vkCmdDrawIndexedIndirectCount-None-08611

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions that includes a
LOD bias or any offset values

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-06479) VUID-vkCmdDrawIndexedIndirectCount-None-06479

If a [VkImageView](resources.html#VkImageView) is sampled with
[depth comparison](textures.html#textures-depth-compare-operation), the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_SAMPLED_IMAGE_DEPTH_COMPARISON_BIT`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-02691) VUID-vkCmdDrawIndexedIndirectCount-None-02691

If a [VkImageView](resources.html#VkImageView) is accessed using atomic operations as a result
of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-07888) VUID-vkCmdDrawIndexedIndirectCount-None-07888

If a `VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER` descriptor is
accessed using atomic operations as a result of this command, then the
storage texel buffer’s [format    features](resources.html#resources-buffer-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-02692) VUID-vkCmdDrawIndexedIndirectCount-None-02692

If a [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_CUBIC_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-02693) VUID-vkCmdDrawIndexedIndirectCount-None-02693

If
the [VK_EXT_filter_cubic](../appendices/extensions.html#VK_EXT_filter_cubic) extension is not enabled and
any [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, it **must** not have a [VkImageViewType](resources.html#VkImageViewType) of
`VK_IMAGE_VIEW_TYPE_3D`, `VK_IMAGE_VIEW_TYPE_CUBE`, or
`VK_IMAGE_VIEW_TYPE_CUBE_ARRAY`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-filterCubic-02694) VUID-vkCmdDrawIndexedIndirectCount-filterCubic-02694

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command **must** have a [VkImageViewType](resources.html#VkImageViewType) and format
that supports cubic filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubic`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-filterCubicMinmax-02695) VUID-vkCmdDrawIndexedIndirectCount-filterCubicMinmax-02695

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` with
a reduction mode of either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` as a result of this command **must**
have a [VkImageViewType](resources.html#VkImageViewType) and format that supports cubic filtering
together with minmax filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubicMinmax`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-cubicRangeClamp-09212) VUID-vkCmdDrawIndexedIndirectCount-cubicRangeClamp-09212

If the [`cubicRangeClamp`](features.html#features-cubicRangeClamp) feature is
not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** not have a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-reductionMode-09213) VUID-vkCmdDrawIndexedIndirectCount-reductionMode-09213

Any [VkImageView](resources.html#VkImageView) being sampled with a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM` as a
result of this command **must** sample with `VK_FILTER_CUBIC_EXT`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-selectableCubicWeights-09214) VUID-vkCmdDrawIndexedIndirectCount-selectableCubicWeights-09214

If the [`selectableCubicWeights`](features.html#features-selectableCubicWeights)
feature is not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** have
[VkSamplerCubicWeightsCreateInfoQCOM](samplers.html#VkSamplerCubicWeightsCreateInfoQCOM)::`cubicWeights` equal to
`VK_CUBIC_FILTER_WEIGHTS_CATMULL_ROM_QCOM`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-flags-02696) VUID-vkCmdDrawIndexedIndirectCount-flags-02696

Any [VkImage](resources.html#VkImage) created with a [VkImageCreateInfo](resources.html#VkImageCreateInfo)::`flags`
containing `VK_IMAGE_CREATE_CORNER_SAMPLED_BIT_NV` sampled as a
result of this command **must** only be sampled using a
[VkSamplerAddressMode](samplers.html#VkSamplerAddressMode) of
`VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-OpTypeImage-07027) VUID-vkCmdDrawIndexedIndirectCount-OpTypeImage-07027

For any [VkImageView](resources.html#VkImageView) being written as a storage image where the
image format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-OpTypeImage-07028) VUID-vkCmdDrawIndexedIndirectCount-OpTypeImage-07028

For any [VkImageView](resources.html#VkImageView) being read as a storage image where the image
format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-OpTypeImage-07029) VUID-vkCmdDrawIndexedIndirectCount-OpTypeImage-07029

For any [VkBufferView](resources.html#VkBufferView) being written as a storage texel buffer where
the image format field of the `OpTypeImage` is `Unknown`, the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-OpTypeImage-07030) VUID-vkCmdDrawIndexedIndirectCount-OpTypeImage-07030

Any [VkBufferView](resources.html#VkBufferView) being read as a storage texel buffer where the
image format field of the `OpTypeImage` is `Unknown` then the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-08600) VUID-vkCmdDrawIndexedIndirectCount-None-08600

For each set *n* that is statically used by [a bound    shader](shaders.html#shaders-binding), a descriptor set **must** have been bound to *n* at the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for set *n*, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the current
[VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-08601) VUID-vkCmdDrawIndexedIndirectCount-None-08601

For each push constant that is statically used by [a    bound shader](shaders.html#shaders-binding), a push constant value **must** have been set for the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the
current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-10068) VUID-vkCmdDrawIndexedIndirectCount-None-10068

For each array of resources that is used by [a bound    shader](shaders.html#shaders-binding), the indices used to access members of the array **must** be less
than the descriptor count for the identified binding in the descriptor
sets used by this command

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-maintenance4-08602) VUID-vkCmdDrawIndexedIndirectCount-maintenance4-08602

If the [`maintenance4`](features.html#features-maintenance4) feature is not
enabled, then for each push constant that is statically used by
[a bound shader](shaders.html#shaders-binding), a push constant value **must** have
been set for the same pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
that is compatible for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
used to create the current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) and [VkPushConstantRange](descriptorsets.html#VkPushConstantRange) arrays
used to create the current [VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-08114) VUID-vkCmdDrawIndexedIndirectCount-None-08114

Descriptors in each bound descriptor set, specified via
[vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), **must** be valid as described by
[descriptor validity](descriptorsets.html#descriptor-validity) if they are statically used
by
the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind point used by this
command and the bound [VkPipeline](pipelines.html#VkPipeline) was not created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-08115) VUID-vkCmdDrawIndexedIndirectCount-None-08115

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), the bound
[VkPipeline](pipelines.html#VkPipeline) **must** have been created without
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-08116) VUID-vkCmdDrawIndexedIndirectCount-None-08116

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind
point used by this command and the bound [VkPipeline](pipelines.html#VkPipeline) was created
with `VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-08604) VUID-vkCmdDrawIndexedIndirectCount-None-08604

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-08117) VUID-vkCmdDrawIndexedIndirectCount-None-08117

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT),
the bound [VkPipeline](pipelines.html#VkPipeline) **must** have been created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-08119) VUID-vkCmdDrawIndexedIndirectCount-None-08119

If a descriptor is dynamically used with a [VkPipeline](pipelines.html#VkPipeline) created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the descriptor
memory **must** be resident

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-08605) VUID-vkCmdDrawIndexedIndirectCount-None-08605

If a descriptor is dynamically used with a [VkShaderEXT](shaders.html#VkShaderEXT) created
with a `VkDescriptorSetLayout` that was created with
`VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the
descriptor memory **must** be resident

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-08606) VUID-vkCmdDrawIndexedIndirectCount-None-08606

If the [`shaderObject`](features.html#features-shaderObject) feature is not
enabled, a
valid pipeline **must** be bound to the pipeline bind point used by this
command

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-08608) VUID-vkCmdDrawIndexedIndirectCount-None-08608

If a pipeline is bound to the pipeline bind point used by this command,
there
**must** not have been any calls to dynamic state setting commands for any
state specified statically in the [VkPipeline](pipelines.html#VkPipeline) object bound to the
pipeline bind point used by this command, since that pipeline was bound

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-uniformBuffers-06935) VUID-vkCmdDrawIndexedIndirectCount-uniformBuffers-06935

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a uniform buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`uniformBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-08612) VUID-vkCmdDrawIndexedIndirectCount-None-08612

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a uniform
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-storageBuffers-06936) VUID-vkCmdDrawIndexedIndirectCount-storageBuffers-06936

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a storage buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`storageBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-08613) VUID-vkCmdDrawIndexedIndirectCount-None-08613

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a storage
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-commandBuffer-02707) VUID-vkCmdDrawIndexedIndirectCount-commandBuffer-02707

If `commandBuffer` is an unprotected command buffer and
[`protectedNoFault`](devsandqueues.html#limits-protectedNoFault) is not supported,
any resource accessed by [bound shaders](shaders.html#shaders-binding) **must** not be
a protected resource

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-viewType-07752) VUID-vkCmdDrawIndexedIndirectCount-viewType-07752

If a [VkImageView](resources.html#VkImageView) is accessed as a result of this command, then the
image view’s `viewType` **must** match the `Dim` operand of the
`OpTypeImage` as described in [Compatibility Between SPIR-V Image Dimensions and Vulkan ImageView Types](../appendices/spirvenv.html#spirvenv-image-dimensions)

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-format-07753) VUID-vkCmdDrawIndexedIndirectCount-format-07753

If a [VkImageView](resources.html#VkImageView) or [VkBufferView](resources.html#VkBufferView) is accessed as a result of
this command, then the [numeric type](formats.html#formats-numericformat) of the
view’s `format` and the `Sampled` `Type` operand of the
`OpTypeImage` **must** match

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-OpImageWrite-08795) VUID-vkCmdDrawIndexedIndirectCount-OpImageWrite-08795

If a [VkImageView](resources.html#VkImageView)
created with a format other than `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
at least as many components as the image view’s format

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-OpImageWrite-08796) VUID-vkCmdDrawIndexedIndirectCount-OpImageWrite-08796

If a [VkImageView](resources.html#VkImageView) created with the format `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
four components

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-OpImageWrite-04469) VUID-vkCmdDrawIndexedIndirectCount-OpImageWrite-04469

If a [VkBufferView](resources.html#VkBufferView) is accessed using `OpImageWrite` as a result
of this command, then the `Type` of the `Texel` operand of that
instruction **must** have at least as many components as the buffer view’s
format

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-SampledType-04470) VUID-vkCmdDrawIndexedIndirectCount-SampledType-04470

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit component
width is accessed as a result of this command, the `SampledType` of
the `OpTypeImage` operand of that instruction **must** have a `Width`
of 64

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-SampledType-04471) VUID-vkCmdDrawIndexedIndirectCount-SampledType-04471

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-SampledType-04472) VUID-vkCmdDrawIndexedIndirectCount-SampledType-04472

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit
component width is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 64

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-SampledType-04473) VUID-vkCmdDrawIndexedIndirectCount-SampledType-04473

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-sparseImageInt64Atomics-04474) VUID-vkCmdDrawIndexedIndirectCount-sparseImageInt64Atomics-04474

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkImage](resources.html#VkImage)
objects created with the `VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT` flag
**must** not be accessed by atomic instructions through an `OpTypeImage`
with a `SampledType` with a `Width` of 64 by this command

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-sparseImageInt64Atomics-04475) VUID-vkCmdDrawIndexedIndirectCount-sparseImageInt64Atomics-04475

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkBuffer](resources.html#VkBuffer)
objects created with the `VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT`
flag **must** not be accessed by atomic instructions through an
`OpTypeImage` with a `SampledType` with a `Width` of 64 by this
command

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-OpImageWeightedSampleQCOM-06971) VUID-vkCmdDrawIndexedIndirectCount-OpImageWeightedSampleQCOM-06971

If `OpImageWeightedSampleQCOM` is used to sample a [VkImageView](resources.html#VkImageView)
as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_SAMPLED_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-OpImageWeightedSampleQCOM-06972) VUID-vkCmdDrawIndexedIndirectCount-OpImageWeightedSampleQCOM-06972

If `OpImageWeightedSampleQCOM` uses a [VkImageView](resources.html#VkImageView) as a sample
weight image as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-OpImageBoxFilterQCOM-06973) VUID-vkCmdDrawIndexedIndirectCount-OpImageBoxFilterQCOM-06973

If `OpImageBoxFilterQCOM` is used to sample a [VkImageView](resources.html#VkImageView) as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BOX_FILTER_SAMPLED_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-OpImageBlockMatchSSDQCOM-06974) VUID-vkCmdDrawIndexedIndirectCount-OpImageBlockMatchSSDQCOM-06974

If `OpImageBlockMatchSSDQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-OpImageBlockMatchSADQCOM-06975) VUID-vkCmdDrawIndexedIndirectCount-OpImageBlockMatchSADQCOM-06975

If `OpImageBlockMatchSADQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-OpImageBlockMatchSADQCOM-06976) VUID-vkCmdDrawIndexedIndirectCount-OpImageBlockMatchSADQCOM-06976

If `OpImageBlockMatchSADQCOM` or OpImageBlockMatchSSDQCOM is used to
read from a reference image as result of this command, then the
specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-OpImageWeightedSampleQCOM-06977) VUID-vkCmdDrawIndexedIndirectCount-OpImageWeightedSampleQCOM-06977

If `OpImageWeightedSampleQCOM`, `OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** have
been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-OpImageWeightedSampleQCOM-06978) VUID-vkCmdDrawIndexedIndirectCount-OpImageWeightedSampleQCOM-06978

If any command other than `OpImageWeightedSampleQCOM`,
`OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** not
have been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-OpImageBlockMatchWindow-09215) VUID-vkCmdDrawIndexedIndirectCount-OpImageBlockMatchWindow-09215

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-OpImageBlockMatchWindow-09216) VUID-vkCmdDrawIndexedIndirectCount-OpImageBlockMatchWindow-09216

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
format **must** be a single-component format

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-OpImageBlockMatchWindow-09217) VUID-vkCmdDrawIndexedIndirectCount-OpImageBlockMatchWindow-09217

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` read from a reference image as result
of this command, then the specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-07288) VUID-vkCmdDrawIndexedIndirectCount-None-07288

Any shader invocation executed by this command **must**
[terminate](shaders.html#shaders-termination)

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-09600) VUID-vkCmdDrawIndexedIndirectCount-None-09600

If a descriptor with type equal to any of
`VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE`,
`VK_DESCRIPTOR_TYPE_STORAGE_IMAGE`, or
`VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT` is accessed as a result of
this command, all image subresources identified by that descriptor **must**
be in the image layout identified when the descriptor was written

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-commandBuffer-10746) VUID-vkCmdDrawIndexedIndirectCount-commandBuffer-10746

The `VkDeviceMemory` object allocated from a `VkMemoryHeap` with
the `VK_MEMORY_HEAP_TILE_MEMORY_BIT_QCOM` property that is bound to
a resource accessed as a result of this command **must** be the active
bound [bound tile memory object](memory.html#memory-bind-tile-memory) in
`commandBuffer`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-10678) VUID-vkCmdDrawIndexedIndirectCount-None-10678

If this command is recorded inside a [tile    shading render pass](renderpass.html#renderpass-tile-shading) instance, the stages corresponding to the pipeline
bind point used by this command **must** only include
`VK_SHADER_STAGE_VERTEX_BIT`, `VK_SHADER_STAGE_FRAGMENT_BIT`,
and/or `VK_SHADER_STAGE_COMPUTE_BIT`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-10679) VUID-vkCmdDrawIndexedIndirectCount-None-10679

If this command is recorded where
[per-tile execution model](renderpass.html#renderpass-per-tile-execution-model) is
enabled, there **must** be no access to any image while the image was be
transitioned to the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` layout

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-renderPass-02684) VUID-vkCmdDrawIndexedIndirectCount-renderPass-02684

The current render pass **must** be [compatible](renderpass.html#renderpass-compatibility)
with the `renderPass` member of the
`VkGraphicsPipelineCreateInfo` structure specified when creating the
`VkPipeline` bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-subpass-02685) VUID-vkCmdDrawIndexedIndirectCount-subpass-02685

The subpass index of the current render pass **must** be equal to the
`subpass` member of the `VkGraphicsPipelineCreateInfo` structure
specified when creating the `VkPipeline` bound to
`VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-07748) VUID-vkCmdDrawIndexedIndirectCount-None-07748

If any shader statically accesses an input attachment, a valid
descriptor **must** be bound to the pipeline via a descriptor set

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-OpTypeImage-07468) VUID-vkCmdDrawIndexedIndirectCount-OpTypeImage-07468

If any shader executed by this pipeline accesses an `OpTypeImage`
variable with a `Dim` operand of `SubpassData`, it **must** be
decorated with an `InputAttachmentIndex` that corresponds to a valid
input attachment in the current subpass

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-07469) VUID-vkCmdDrawIndexedIndirectCount-None-07469

Input attachment views accessed in a subpass **must** be created with the
same [VkFormat](formats.html#VkFormat) as the corresponding subpass definition, and be
created with a [VkImageView](resources.html#VkImageView) that is compatible with the attachment
referenced by the subpass'
`pInputAttachments`[`InputAttachmentIndex`] in the bound
[VkFramebuffer](renderpass.html#VkFramebuffer) as specified by
[Fragment Input Attachment    Compatibility](interfaces.html#compatibility-inputattachment)

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-pDepthInputAttachmentIndex-09595) VUID-vkCmdDrawIndexedIndirectCount-pDepthInputAttachmentIndex-09595

Input attachment views accessed in a dynamic render pass with a
`InputAttachmentIndex` referenced by
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo), or no
`InputAttachmentIndex` if
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
or
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are `NULL`, **must** be created with a [VkImageView](resources.html#VkImageView) that is compatible
with the corresponding color, depth, or stencil attachment in
[VkRenderingInfo](renderpass.html#VkRenderingInfo)

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-pDepthInputAttachmentIndex-09596) VUID-vkCmdDrawIndexedIndirectCount-pDepthInputAttachmentIndex-09596

Input attachment views accessed in a dynamic render pass via a shader
object **must** have an `InputAttachmentIndex` if both
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
and
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are non-`NULL`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-InputAttachmentIndex-09597) VUID-vkCmdDrawIndexedIndirectCount-InputAttachmentIndex-09597

If an input attachment view accessed in a dynamic render pass via a
shader object has an `InputAttachmentIndex`, the
`InputAttachmentIndex` **must** match an index in
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-06537) VUID-vkCmdDrawIndexedIndirectCount-None-06537

Memory backing image subresources used as attachments in the current
render pass **must** not be written in any way other than as an attachment
by this command

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-09000) VUID-vkCmdDrawIndexedIndirectCount-None-09000

If a color attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

the `VK_PIPELINE_CREATE_COLOR_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT` is
set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_COLOR_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-09001) VUID-vkCmdDrawIndexedIndirectCount-None-09001

If a depth attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_DEPTH_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-09002) VUID-vkCmdDrawIndexedIndirectCount-None-09002

If a stencil attachment is written by any prior command in this subpass
or by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_STENCIL_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-09003) VUID-vkCmdDrawIndexedIndirectCount-None-09003

If an attachment is written by any prior command in this subpass or by
the load, store, or resolve operations for this subpass, it **must** not be
accessed in any way other than as an attachment, storage image, or
sampled image by this command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-06539) VUID-vkCmdDrawIndexedIndirectCount-None-06539

If any previously recorded command in the current subpass accessed an
image subresource used as an attachment in this subpass in any way other
than as an attachment, this command **must** not write to that image
subresource as an attachment

[](#VUID-vkCmdDrawIndexedIndirectCount-None-06886) VUID-vkCmdDrawIndexedIndirectCount-None-06886

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the depth aspect, [depth    writes](fragops.html#fragops-depth-write) **must** be disabled

[](#VUID-vkCmdDrawIndexedIndirectCount-None-06887) VUID-vkCmdDrawIndexedIndirectCount-None-06887

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the stencil aspect, both front and back
`writeMask` are not zero, and stencil test is enabled,
[all stencil ops](fragops.html#fragops-stencil) **must** be `VK_STENCIL_OP_KEEP`

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07831) VUID-vkCmdDrawIndexedIndirectCount-None-07831

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT` dynamic state enabled then
[vkCmdSetViewport](vertexpostproc.html#vkCmdSetViewport) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07832) VUID-vkCmdDrawIndexedIndirectCount-None-07832

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SCISSOR` dynamic state enabled then
[vkCmdSetScissor](fragops.html#vkCmdSetScissor) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07833) VUID-vkCmdDrawIndexedIndirectCount-None-07833

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_WIDTH` dynamic state enabled then
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08617) VUID-vkCmdDrawIndexedIndirectCount-None-08617

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command
buffer set `polygonMode` to `VK_POLYGON_MODE_LINE`,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08618) VUID-vkCmdDrawIndexedIndirectCount-None-08618

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08619) VUID-vkCmdDrawIndexedIndirectCount-None-08619

If a shader object that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, [vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07834) VUID-vkCmdDrawIndexedIndirectCount-None-07834

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthBiasEnable`
is `VK_TRUE`, then [vkCmdSetDepthBias](primsrast.html#vkCmdSetDepthBias)
or [vkCmdSetDepthBias2EXT](primsrast.html#vkCmdSetDepthBias2EXT)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07835) VUID-vkCmdDrawIndexedIndirectCount-None-07835

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_BLEND_CONSTANTS` dynamic state enabled then
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08621) VUID-vkCmdDrawIndexedIndirectCount-None-08621

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) in the current command buffer set any
element of `pColorBlendEnables` to `VK_TRUE`, and the most
recent call to [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) in the current
command buffer set the same element of `pColorBlendEquations` to a
`VkColorBlendEquationEXT` structure with any [VkBlendFactor](framebuffer.html#VkBlendFactor)
member with a value of `VK_BLEND_FACTOR_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_CONSTANT_ALPHA`, or
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_ALPHA`,
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07836) VUID-vkCmdDrawIndexedIndirectCount-None-07836

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`depthBoundsTestEnable` is `VK_TRUE`, then
[vkCmdSetDepthBounds](fragops.html#vkCmdSetDepthBounds) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07837) VUID-vkCmdDrawIndexedIndirectCount-None-07837

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilCompareMask](fragops.html#vkCmdSetStencilCompareMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07838) VUID-vkCmdDrawIndexedIndirectCount-None-07838

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07839) VUID-vkCmdDrawIndexedIndirectCount-None-07839

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_REFERENCE` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of and
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilReference](fragops.html#vkCmdSetStencilReference) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-maxMultiviewInstanceIndex-02688) VUID-vkCmdDrawIndexedIndirectCount-maxMultiviewInstanceIndex-02688

If the draw is recorded in a render pass instance with multiview
enabled, the maximum instance index **must** be less than or equal to
[VkPhysicalDeviceMultiviewProperties](limits.html#VkPhysicalDeviceMultiviewProperties)::`maxMultiviewInstanceIndex`

[](#VUID-vkCmdDrawIndexedIndirectCount-sampleLocationsEnable-02689) VUID-vkCmdDrawIndexedIndirectCount-sampleLocationsEnable-02689

If the bound graphics pipeline was created with
[VkPipelineSampleLocationsStateCreateInfoEXT](primsrast.html#VkPipelineSampleLocationsStateCreateInfoEXT)::`sampleLocationsEnable`
set to `VK_TRUE` and the current subpass has a depth/stencil
attachment, then that attachment **must** have been created with the
`VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT` bit set

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07634) VUID-vkCmdDrawIndexedIndirectCount-None-07634

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-06666) VUID-vkCmdDrawIndexedIndirectCount-None-06666

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
[vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07840) VUID-vkCmdDrawIndexedIndirectCount-None-07840

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CULL_MODE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCullMode](primsrast.html#vkCmdSetCullMode) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07841) VUID-vkCmdDrawIndexedIndirectCount-None-07841

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRONT_FACE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFrontFace](primsrast.html#vkCmdSetFrontFace) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07843) VUID-vkCmdDrawIndexedIndirectCount-None-07843

 If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`,
[vkCmdSetDepthTestEnable](fragops.html#vkCmdSetDepthTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07844) VUID-vkCmdDrawIndexedIndirectCount-None-07844

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07845) VUID-vkCmdDrawIndexedIndirectCount-None-07845

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_COMPARE_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthCompareOp](fragops.html#vkCmdSetDepthCompareOp) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07846) VUID-vkCmdDrawIndexedIndirectCount-None-07846

If the [`depthBounds`](features.html#features-depthBounds) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBoundsTestEnable](fragops.html#vkCmdSetDepthBoundsTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07847) VUID-vkCmdDrawIndexedIndirectCount-None-07847

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetStencilTestEnable](fragops.html#vkCmdSetStencilTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07848) VUID-vkCmdDrawIndexedIndirectCount-None-07848

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then [vkCmdSetStencilOp](fragops.html#vkCmdSetStencilOp)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawIndexedIndirectCount-viewportCount-03417) VUID-vkCmdDrawIndexedIndirectCount-viewportCount-03417

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-scissorCount-03418) VUID-vkCmdDrawIndexedIndirectCount-scissorCount-03418

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetScissorWithCount](vertexpostproc.html#vkCmdSetScissorWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing

[](#VUID-vkCmdDrawIndexedIndirectCount-viewportCount-03419) VUID-vkCmdDrawIndexedIndirectCount-viewportCount-03419

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with both the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic states enabled,
and the state is not inherited,
then the `viewportCount` parameter of
`vkCmdSetViewportWithCount` **must** match the `scissorCount`
parameter of `vkCmdSetScissorWithCount`

[](#VUID-vkCmdDrawIndexedIndirectCount-viewportCount-04137) VUID-vkCmdDrawIndexedIndirectCount-viewportCount-04137

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportWScalingStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportWScalingStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndexedIndirectCount-viewportCount-04138) VUID-vkCmdDrawIndexedIndirectCount-viewportCount-04138

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08636) VUID-vkCmdDrawIndexedIndirectCount-None-08636

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndexedIndirectCount-viewportCount-04139) VUID-vkCmdDrawIndexedIndirectCount-viewportCount-04139

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic
state enabled, then the bound graphics pipeline **must** have been created
with
[VkPipelineViewportShadingRateImageStateCreateInfoNV](primsrast.html#VkPipelineViewportShadingRateImageStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndexedIndirectCount-shadingRateImage-09233) VUID-vkCmdDrawIndexedIndirectCount-shadingRateImage-09233

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_COARSE_SAMPLE_ORDER_NV` and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoarseSampleOrderNV](primsrast.html#vkCmdSetCoarseSampleOrderNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-shadingRateImage-09234) VUID-vkCmdDrawIndexedIndirectCount-shadingRateImage-09234

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08637) VUID-vkCmdDrawIndexedIndirectCount-None-08637

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** be greater than or
equal to the `viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndexedIndirectCount-VkPipelineVieportCreateInfo-04141) VUID-vkCmdDrawIndexedIndirectCount-VkPipelineVieportCreateInfo-04141

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV) structure chained from
[VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound graphics
pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndexedIndirectCount-VkPipelineVieportCreateInfo-04142) VUID-vkCmdDrawIndexedIndirectCount-VkPipelineVieportCreateInfo-04142

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV) structure
chained from [VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound
graphics pipeline **must** have been created with
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV)::`exclusiveScissorCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07878) VUID-vkCmdDrawIndexedIndirectCount-None-07878

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_ENABLE_NV` dynamic state
enabled, then [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07879) VUID-vkCmdDrawIndexedIndirectCount-None-07879

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_NV` dynamic state enabled, and
the most recent call to [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) in the
current command buffer set any element of `pExclusiveScissorEnables`
to `VK_TRUE`, then [vkCmdSetExclusiveScissorNV](fragops.html#vkCmdSetExclusiveScissorNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-04876) VUID-vkCmdDrawIndexedIndirectCount-None-04876

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE` dynamic state enabled,
then [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-04877) VUID-vkCmdDrawIndexedIndirectCount-None-04877

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBiasEnable](primsrast.html#vkCmdSetDepthBiasEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-logicOp-04878) VUID-vkCmdDrawIndexedIndirectCount-logicOp-04878

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `logicOpEnable` is
`VK_TRUE`, then [vkCmdSetLogicOpEXT](framebuffer.html#vkCmdSetLogicOpEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-primitiveFragmentShadingRateWithMultipleViewports-04552) VUID-vkCmdDrawIndexedIndirectCount-primitiveFragmentShadingRateWithMultipleViewports-04552

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, and
any of the shader stages of the bound graphics pipeline write to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawIndexedIndirectCount-primitiveFragmentShadingRateWithMultipleViewports-08642) VUID-vkCmdDrawIndexedIndirectCount-primitiveFragmentShadingRateWithMultipleViewports-08642

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, and any shader object bound to a graphics stage writes to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawIndexedIndirectCount-blendEnable-04727) VUID-vkCmdDrawIndexedIndirectCount-blendEnable-04727

If rasterization is not disabled in the bound graphics pipeline, then
for each color attachment in the subpass, if the corresponding image
view’s [format features](resources.html#resources-image-view-format-features) do not
contain `VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
`blendEnable` member of the corresponding element of the
`pAttachments` member of `pColorBlendState` **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08643) VUID-vkCmdDrawIndexedIndirectCount-None-08643

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then for each color attachment in the render pass, if
the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) do not contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
corresponding member of `pColorBlendEnables` in the most recent call
to `vkCmdSetColorBlendEnableEXT` in the current command buffer that
affected that attachment index **must** have been `VK_FALSE`

[](#VUID-vkCmdDrawIndexedIndirectCount-multisampledRenderToSingleSampled-07284) VUID-vkCmdDrawIndexedIndirectCount-multisampledRenderToSingleSampled-07284

If rasterization is not disabled in the bound graphics pipeline,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then `rasterizationSamples` for the bound graphics pipeline **must** be the
same as the current subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08644) VUID-vkCmdDrawIndexedIndirectCount-None-08644

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then the most recent call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) in the
current command buffer **must** have set `rasterizationSamples` to be the
same as the number of samples for the current render pass color and/or
depth/stencil attachments

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08876) VUID-vkCmdDrawIndexedIndirectCount-None-08876

If a shader object is bound to any graphics stage, the current render
pass instance **must** have been begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)

[](#VUID-vkCmdDrawIndexedIndirectCount-imageView-06172) VUID-vkCmdDrawIndexedIndirectCount-imageView-06172

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the depth attachment

[](#VUID-vkCmdDrawIndexedIndirectCount-imageView-06173) VUID-vkCmdDrawIndexedIndirectCount-imageView-06173

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawIndexedIndirectCount-imageView-06174) VUID-vkCmdDrawIndexedIndirectCount-imageView-06174

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL`, this
command **must** not write any values to the depth attachment

[](#VUID-vkCmdDrawIndexedIndirectCount-imageView-06175) VUID-vkCmdDrawIndexedIndirectCount-imageView-06175

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL`, this
command **must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawIndexedIndirectCount-imageView-06176) VUID-vkCmdDrawIndexedIndirectCount-imageView-06176

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the depth attachment

[](#VUID-vkCmdDrawIndexedIndirectCount-imageView-06177) VUID-vkCmdDrawIndexedIndirectCount-imageView-06177

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the stencil attachment

[](#VUID-vkCmdDrawIndexedIndirectCount-viewMask-06178) VUID-vkCmdDrawIndexedIndirectCount-viewMask-06178

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a [VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`viewMask` equal
to [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`viewMask`

[](#VUID-vkCmdDrawIndexedIndirectCount-colorAttachmentCount-06179) VUID-vkCmdDrawIndexedIndirectCount-colorAttachmentCount-06179

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`colorAttachmentCount` equal to
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount`

[](#VUID-vkCmdDrawIndexedIndirectCount-dynamicRenderingUnusedAttachments-08910) VUID-vkCmdDrawIndexedIndirectCount-dynamicRenderingUnusedAttachments-08910

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have
been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline

[](#VUID-vkCmdDrawIndexedIndirectCount-dynamicRenderingUnusedAttachments-08912) VUID-vkCmdDrawIndexedIndirectCount-dynamicRenderingUnusedAttachments-08912

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have the
corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound pipeline equal to `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndexedIndirectCount-dynamicRenderingUnusedAttachments-08911) VUID-vkCmdDrawIndexedIndirectCount-dynamicRenderingUnusedAttachments-08911

If the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled, and the
current render pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`,
then each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments`
array with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must**
have been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding
element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline, or the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats`, if
it exists, **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndexedIndirectCount-colorAttachmentCount-09362) VUID-vkCmdDrawIndexedIndirectCount-colorAttachmentCount-09362

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`,
there is no shader object bound to any graphics stage,
and a color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`resolveImageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawIndexedIndirectCount-None-09363) VUID-vkCmdDrawIndexedIndirectCount-None-09363

If
there is no shader object bound to any graphics stage,
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, and a
color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawIndexedIndirectCount-None-09364) VUID-vkCmdDrawIndexedIndirectCount-None-09364

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set the blend enable
to `VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-09365) VUID-vkCmdDrawIndexedIndirectCount-None-09365

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-09366) VUID-vkCmdDrawIndexedIndirectCount-None-09366

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set blend enable to
`VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-rasterizationSamples-09367) VUID-vkCmdDrawIndexedIndirectCount-rasterizationSamples-09367

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-09368) VUID-vkCmdDrawIndexedIndirectCount-None-09368

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-09369) VUID-vkCmdDrawIndexedIndirectCount-None-09369

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-pFragmentSize-09370) VUID-vkCmdDrawIndexedIndirectCount-pFragmentSize-09370

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-pFragmentSize-09371) VUID-vkCmdDrawIndexedIndirectCount-pFragmentSize-09371

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07749) VUID-vkCmdDrawIndexedIndirectCount-None-07749

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08646) VUID-vkCmdDrawIndexedIndirectCount-None-08646

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-attachmentCount-07750) VUID-vkCmdDrawIndexedIndirectCount-attachmentCount-07750

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
the `attachmentCount` parameter of `vkCmdSetColorWriteEnableEXT`
**must** be greater than or equal to the
`VkPipelineColorBlendStateCreateInfo`::`attachmentCount` of the
bound graphics pipeline

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08647) VUID-vkCmdDrawIndexedIndirectCount-None-08647

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then the
`attachmentCount` parameter of most recent call to
`vkCmdSetColorWriteEnableEXT` in the current command buffer **must** be
greater than or equal to the number of color attachments in the current
render pass instance

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07751) VUID-vkCmdDrawIndexedIndirectCount-None-07751

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled, a
graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) included a
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT)::`discardRectangleCount`

[](#VUID-vkCmdDrawIndexedIndirectCount-rasterizerDiscardEnable-09236) VUID-vkCmdDrawIndexedIndirectCount-rasterizerDiscardEnable-09236

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) did not
include a [VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPhysicalDeviceDiscardRectanglePropertiesEXT](limits.html#VkPhysicalDeviceDiscardRectanglePropertiesEXT)::`maxDiscardRectangles`

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07880) VUID-vkCmdDrawIndexedIndirectCount-None-07880

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_ENABLE_EXT` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDiscardRectangleEnableEXT](fragops.html#vkCmdSetDiscardRectangleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07881) VUID-vkCmdDrawIndexedIndirectCount-None-07881

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_MODE_EXT` dynamic state enabled,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleModeEXT](fragops.html#vkCmdSetDiscardRectangleModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-dynamicRenderingUnusedAttachments-08913) VUID-vkCmdDrawIndexedIndirectCount-dynamicRenderingUnusedAttachments-08913

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndexedIndirectCount-dynamicRenderingUnusedAttachments-08914) VUID-vkCmdDrawIndexedIndirectCount-dynamicRenderingUnusedAttachments-08914

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawIndexedIndirectCount-dynamicRenderingUnusedAttachments-08915) VUID-vkCmdDrawIndexedIndirectCount-dynamicRenderingUnusedAttachments-08915

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline was not equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`,
the value of the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndexedIndirectCount-dynamicRenderingUnusedAttachments-08916) VUID-vkCmdDrawIndexedIndirectCount-dynamicRenderingUnusedAttachments-08916

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndexedIndirectCount-dynamicRenderingUnusedAttachments-08917) VUID-vkCmdDrawIndexedIndirectCount-dynamicRenderingUnusedAttachments-08917

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawIndexedIndirectCount-dynamicRenderingUnusedAttachments-08918) VUID-vkCmdDrawIndexedIndirectCount-dynamicRenderingUnusedAttachments-08918

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline was not equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`, the value of
the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndexedIndirectCount-imageView-06183) VUID-vkCmdDrawIndexedIndirectCount-imageView-06183

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentShadingRateAttachmentInfoKHR](renderpass.html#VkRenderingFragmentShadingRateAttachmentInfoKHR)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR`

[](#VUID-vkCmdDrawIndexedIndirectCount-imageView-06184) VUID-vkCmdDrawIndexedIndirectCount-imageView-06184

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentDensityMapAttachmentInfoEXT](renderpass.html#VkRenderingFragmentDensityMapAttachmentInfoEXT)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT`

[](#VUID-vkCmdDrawIndexedIndirectCount-colorAttachmentCount-06185) VUID-vkCmdDrawIndexedIndirectCount-colorAttachmentCount-06185

If the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and the current render
pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
`0`, then each element of the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with a sample count equal to the corresponding element of the
`pColorAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline

[](#VUID-vkCmdDrawIndexedIndirectCount-pDepthAttachment-06186) VUID-vkCmdDrawIndexedIndirectCount-pDepthAttachment-06186

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawIndexedIndirectCount-pStencilAttachment-06187) VUID-vkCmdDrawIndexedIndirectCount-pStencilAttachment-06187

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawIndexedIndirectCount-multisampledRenderToSingleSampled-07285) VUID-vkCmdDrawIndexedIndirectCount-multisampledRenderToSingleSampled-07285

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    the current render pass instance was begun with
    [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
    `0`, then each element of the
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
    `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
    created with a sample count equal to the value of
    `rasterizationSamples` for the bound graphics pipeline

[](#VUID-vkCmdDrawIndexedIndirectCount-multisampledRenderToSingleSampled-07286) VUID-vkCmdDrawIndexedIndirectCount-multisampledRenderToSingleSampled-07286

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawIndexedIndirectCount-multisampledRenderToSingleSampled-07287) VUID-vkCmdDrawIndexedIndirectCount-multisampledRenderToSingleSampled-07287

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawIndexedIndirectCount-pNext-07935) VUID-vkCmdDrawIndexedIndirectCount-pNext-07935

If this command has been called inside a render pass instance started
with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), and the `pNext` chain of
[VkRenderingInfo](renderpass.html#VkRenderingInfo) includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the value of `rasterizationSamples` for the bound graphics
pipeline **must** be equal to
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT)::`rasterizationSamples`

[](#VUID-vkCmdDrawIndexedIndirectCount-renderPass-06198) VUID-vkCmdDrawIndexedIndirectCount-renderPass-06198

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline **must** have been created
with a [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`renderPass` equal to
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

[](#VUID-vkCmdDrawIndexedIndirectCount-pColorAttachments-08963) VUID-vkCmdDrawIndexedIndirectCount-pColorAttachments-08963

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound with a
fragment shader that statically writes to a color attachment, the color
write mask is not zero, color writes are enabled, and the corresponding
element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments->imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndexedIndirectCount-pDepthAttachment-08964) VUID-vkCmdDrawIndexedIndirectCount-pDepthAttachment-08964

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, depth
test is enabled, depth write is enabled, and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndexedIndirectCount-pStencilAttachment-08965) VUID-vkCmdDrawIndexedIndirectCount-pStencilAttachment-08965

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, stencil
test is enabled and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndexedIndirectCount-flags-10582) VUID-vkCmdDrawIndexedIndirectCount-flags-10582

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), its [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`flags`
parameter **must** not have
`VK_RENDERING_CONTENTS_SECONDARY_COMMAND_BUFFERS_BIT` set
unless `VK_RENDERING_CONTENTS_INLINE_BIT_KHR` is also set

[](#VUID-vkCmdDrawIndexedIndirectCount-primitivesGeneratedQueryWithRasterizerDiscard-06708) VUID-vkCmdDrawIndexedIndirectCount-primitivesGeneratedQueryWithRasterizerDiscard-06708

If the [    `primitivesGeneratedQueryWithRasterizerDiscard`](features.html#features-primitivesGeneratedQueryWithRasterizerDiscard) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, [rasterization discard](primsrast.html#primsrast-discard) **must** not be enabled

[](#VUID-vkCmdDrawIndexedIndirectCount-primitivesGeneratedQueryWithNonZeroStreams-06709) VUID-vkCmdDrawIndexedIndirectCount-primitivesGeneratedQueryWithNonZeroStreams-06709

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, the bound graphics pipeline **must** not have been created with a
non-zero value in
`VkPipelineRasterizationStateStreamCreateInfoEXT`::`rasterizationStream`

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07620) VUID-vkCmdDrawIndexedIndirectCount-None-07620

If the [`depthClamp`](features.html#features-depthClamp) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthClampEnableEXT](vertexpostproc.html#vkCmdSetDepthClampEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07621) VUID-vkCmdDrawIndexedIndirectCount-None-07621

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_POLYGON_MODE_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07622) VUID-vkCmdDrawIndexedIndirectCount-None-07622

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07623) VUID-vkCmdDrawIndexedIndirectCount-None-07623

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-alphaToCoverageEnable-08919) VUID-vkCmdDrawIndexedIndirectCount-alphaToCoverageEnable-08919

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and `alphaToCoverageEnable` was `VK_TRUE` in the last
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT), then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawIndexedIndirectCount-alphaToCoverageEnable-08920) VUID-vkCmdDrawIndexedIndirectCount-alphaToCoverageEnable-08920

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) in the current command
buffer set `alphaToCoverageEnable` to `VK_TRUE`, then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07624) VUID-vkCmdDrawIndexedIndirectCount-None-07624

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07625) VUID-vkCmdDrawIndexedIndirectCount-None-07625

If the [`alphaToOne`](features.html#features-alphaToOne) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_ONE_ENABLE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToOneEnableEXT](fragops.html#vkCmdSetAlphaToOneEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07626) VUID-vkCmdDrawIndexedIndirectCount-None-07626

If the [`logicOp`](features.html#features-logicOp) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetLogicOpEnableEXT](framebuffer.html#vkCmdSetLogicOpEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07627) VUID-vkCmdDrawIndexedIndirectCount-None-07627

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08657) VUID-vkCmdDrawIndexedIndirectCount-None-08657

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have
been called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime)
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07628) VUID-vkCmdDrawIndexedIndirectCount-None-07628

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08658) VUID-vkCmdDrawIndexedIndirectCount-None-08658

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) for any attachment set that
attachment’s value in `pColorBlendEnables` to `VK_TRUE`, then
[vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07629) VUID-vkCmdDrawIndexedIndirectCount-None-07629

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08659) VUID-vkCmdDrawIndexedIndirectCount-None-08659

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07630) VUID-vkCmdDrawIndexedIndirectCount-None-07630

If the [`geometryStreams`](features.html#features-geometryStreams) feature is
enabled, and
a shader object is bound to the `VK_SHADER_STAGE_GEOMETRY_BIT` stage
or
a graphics pipeline is bound which was created with both a
`VK_SHADER_STAGE_GEOMETRY_BIT` stage and the
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` dynamic state enabled,
then [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07631) VUID-vkCmdDrawIndexedIndirectCount-None-07631

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07632) VUID-vkCmdDrawIndexedIndirectCount-None-07632

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXTRA_PRIMITIVE_OVERESTIMATION_SIZE_EXT` dynamic
state enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`conservativeRasterizationMode` is
`VK_CONSERVATIVE_RASTERIZATION_MODE_OVERESTIMATE_EXT`, then
[vkCmdSetExtraPrimitiveOverestimationSizeEXT](primsrast.html#vkCmdSetExtraPrimitiveOverestimationSizeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07633) VUID-vkCmdDrawIndexedIndirectCount-None-07633

If the [`depthClipEnable`](features.html#features-depthClipEnable) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_ENABLE_EXT` dynamic state, then
[vkCmdSetDepthClipEnableEXT](vertexpostproc.html#vkCmdSetDepthClipEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07635) VUID-vkCmdDrawIndexedIndirectCount-None-07635

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-rasterizerDiscardEnable-09416) VUID-vkCmdDrawIndexedIndirectCount-rasterizerDiscardEnable-09416

If the `[VK_EXT_blend_operation_advanced](../appendices/extensions.html#VK_EXT_blend_operation_advanced)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then at least one of [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT)
and [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07636) VUID-vkCmdDrawIndexedIndirectCount-None-07636

If the `[VK_EXT_provoking_vertex](../appendices/extensions.html#VK_EXT_provoking_vertex)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_PROVOKING_VERTEX_MODE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetProvokingVertexModeEXT](vertexpostproc.html#vkCmdSetProvokingVertexModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07637) VUID-vkCmdDrawIndexedIndirectCount-None-07637

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state enabled
then [vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08666) VUID-vkCmdDrawIndexedIndirectCount-None-08666

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08667) VUID-vkCmdDrawIndexedIndirectCount-None-08667

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08668) VUID-vkCmdDrawIndexedIndirectCount-None-08668

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07638) VUID-vkCmdDrawIndexedIndirectCount-None-07638

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` dynamic state enabled
then [vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08669) VUID-vkCmdDrawIndexedIndirectCount-None-08669

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08670) VUID-vkCmdDrawIndexedIndirectCount-None-08670

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08671) VUID-vkCmdDrawIndexedIndirectCount-None-08671

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07849) VUID-vkCmdDrawIndexedIndirectCount-None-07849

    If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled and
    a shader object is bound to any graphics stage, or
    a bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE`
    dynamic state enabled, the [current    value](pipelines.html#dynamic-state-current-value) of `rasterizerDiscardEnable` is `VK_FALSE`, and the
    [current value](pipelines.html#dynamic-state-current-value) of
    `stippledLineEnable` is `VK_TRUE`, then
[vkCmdSetLineStipple](primsrast.html#vkCmdSetLineStipple)
    **must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
    command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-10608) VUID-vkCmdDrawIndexedIndirectCount-None-10608

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the current `lineRasterizationMode` is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM` or
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the current
`alphaToCoverageEnable`, `alphaToOneEnable` and
`sampleShadingEnable` states **must** all be `VK_FALSE`

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07639) VUID-vkCmdDrawIndexedIndirectCount-None-07639

If the [`depthClipControl`](features.html#features-depthClipControl) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_NEGATIVE_ONE_TO_ONE_EXT` dynamic state
enabled, then [vkCmdSetDepthClipNegativeOneToOneEXT](vertexpostproc.html#vkCmdSetDepthClipNegativeOneToOneEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-09650) VUID-vkCmdDrawIndexedIndirectCount-None-09650

If the [`depthClampControl`](features.html#features-depthClampControl) feature
is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_RANGE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`depthClampEnable` is `VK_TRUE`, then
[vkCmdSetDepthClampRangeEXT](fragops.html#vkCmdSetDepthClampRangeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07640) VUID-vkCmdDrawIndexedIndirectCount-None-07640

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_ENABLE_NV` dynamic state
enabled, then [vkCmdSetViewportWScalingEnableNV](vertexpostproc.html#vkCmdSetViewportWScalingEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07641) VUID-vkCmdDrawIndexedIndirectCount-None-07641

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state enabled, then
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07642) VUID-vkCmdDrawIndexedIndirectCount-None-07642

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07643) VUID-vkCmdDrawIndexedIndirectCount-None-07643

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_LOCATION_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageToColorEnable` is `VK_TRUE`, then
[vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07644) VUID-vkCmdDrawIndexedIndirectCount-None-07644

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_MODE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageModulationModeNV](fragops.html#vkCmdSetCoverageModulationModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07645) VUID-vkCmdDrawIndexedIndirectCount-None-07645

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationMode` is any value other than
`VK_COVERAGE_MODULATION_MODE_NONE_NV`, then
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07646) VUID-vkCmdDrawIndexedIndirectCount-None-07646

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationTableEnable` is `VK_TRUE`, then
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07647) VUID-vkCmdDrawIndexedIndirectCount-None-07647

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SHADING_RATE_IMAGE_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetShadingRateImageEnableNV](primsrast.html#vkCmdSetShadingRateImageEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-pipelineFragmentShadingRate-09238) VUID-vkCmdDrawIndexedIndirectCount-pipelineFragmentShadingRate-09238

If the [    `pipelineFragmentShadingRate`](features.html#features-pipelineFragmentShadingRate) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07648) VUID-vkCmdDrawIndexedIndirectCount-None-07648

If the [    `representativeFragmentTest`](features.html#features-representativeFragmentTest) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_REPRESENTATIVE_FRAGMENT_TEST_ENABLE_NV` dynamic
state enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRepresentativeFragmentTestEnableNV](fragops.html#vkCmdSetRepresentativeFragmentTestEnableNV) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07649) VUID-vkCmdDrawIndexedIndirectCount-None-07649

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageReductionModeNV](fragops.html#vkCmdSetCoverageReductionModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-pColorBlendEnables-07470) VUID-vkCmdDrawIndexedIndirectCount-pColorBlendEnables-07470

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` state enabled and the last
call to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) set `pColorBlendEnables`
for any attachment to `VK_TRUE`, then for those attachments in the
subpass the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`

[](#VUID-vkCmdDrawIndexedIndirectCount-rasterizationSamples-07471) VUID-vkCmdDrawIndexedIndirectCount-rasterizationSamples-07471

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
current subpass does not use any color and/or depth/stencil attachments,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** follow the rules for a
[zero-attachment subpass](renderpass.html#renderpass-noattachments)

[](#VUID-vkCmdDrawIndexedIndirectCount-samples-07472) VUID-vkCmdDrawIndexedIndirectCount-samples-07472

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo)::`rasterizationSamples`
parameter used to create the bound graphics pipeline

[](#VUID-vkCmdDrawIndexedIndirectCount-samples-07473) VUID-vkCmdDrawIndexedIndirectCount-samples-07473

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state and
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` states enabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
`rasterizationSamples` parameter in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndexedIndirectCount-rasterizationSamples-07474) VUID-vkCmdDrawIndexedIndirectCount-rasterizationSamples-07474

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and
the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
neither the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` nor the
`[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extensions are enabled, then
the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the current
subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawIndexedIndirectCount-None-09211) VUID-vkCmdDrawIndexedIndirectCount-None-09211

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled,
or a shader object is bound to any graphics stage,
and the current render pass instance includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the
`rasterizationSamples` member of that structure

[](#VUID-vkCmdDrawIndexedIndirectCount-firstAttachment-07476) VUID-vkCmdDrawIndexedIndirectCount-firstAttachment-07476

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorBlendEnableEXT` calls **must** specify an
enable for all active color attachments in the current subpass

[](#VUID-vkCmdDrawIndexedIndirectCount-rasterizerDiscardEnable-09417) VUID-vkCmdDrawIndexedIndirectCount-rasterizerDiscardEnable-09417

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEnableEXT`
calls **must** specify an enable for all active color attachments in the
current subpass

[](#VUID-vkCmdDrawIndexedIndirectCount-firstAttachment-07477) VUID-vkCmdDrawIndexedIndirectCount-firstAttachment-07477

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawIndexedIndirectCount-rasterizerDiscardEnable-09418) VUID-vkCmdDrawIndexedIndirectCount-rasterizerDiscardEnable-09418

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have
been called in the current command buffer prior to this drawing command,
and the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawIndexedIndirectCount-firstAttachment-07478) VUID-vkCmdDrawIndexedIndirectCount-firstAttachment-07478

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorWriteMaskEXT` calls **must** specify the
color write mask for all active color attachments in the current subpass

[](#VUID-vkCmdDrawIndexedIndirectCount-rasterizerDiscardEnable-09419) VUID-vkCmdDrawIndexedIndirectCount-rasterizerDiscardEnable-09419

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorWriteMaskEXT`
calls **must** specify the color write mask for all active color
attachments in the current subpass

[](#VUID-vkCmdDrawIndexedIndirectCount-firstAttachment-07479) VUID-vkCmdDrawIndexedIndirectCount-firstAttachment-07479

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendAdvancedEXT`
calls **must** specify the advanced blend equations for all active color
attachments in the current subpass where blending is enabled

[](#VUID-vkCmdDrawIndexedIndirectCount-advancedBlendMaxColorAttachments-07480) VUID-vkCmdDrawIndexedIndirectCount-advancedBlendMaxColorAttachments-07480

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` and
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic states enabled and
the last calls to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) and
[vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) have enabled advanced blending, then
the number of active color attachments in the current subpass **must** not
exceed [    `advancedBlendMaxColorAttachments`](limits.html#limits-advancedBlendMaxColorAttachments)

[](#VUID-vkCmdDrawIndexedIndirectCount-primitivesGeneratedQueryWithNonZeroStreams-07481) VUID-vkCmdDrawIndexedIndirectCount-primitivesGeneratedQueryWithNonZeroStreams-07481

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, and the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` state enabled, the last
call to [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have set the
`rasterizationStream` to zero

[](#VUID-vkCmdDrawIndexedIndirectCount-sampleLocationsPerPixel-07482) VUID-vkCmdDrawIndexedIndirectCount-sampleLocationsPerPixel-07482

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` member of the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo) structure the bound graphics
pipeline has been created with

[](#VUID-vkCmdDrawIndexedIndirectCount-sampleLocationsPerPixel-07483) VUID-vkCmdDrawIndexedIndirectCount-sampleLocationsPerPixel-07483

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` parameter of the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndexedIndirectCount-sampleLocationsEnable-07484) VUID-vkCmdDrawIndexedIndirectCount-sampleLocationsEnable-07484

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), and the current subpass has a
depth/stencil attachment, then that attachment **must** have been created
with the `VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT`
bit set

[](#VUID-vkCmdDrawIndexedIndirectCount-sampleLocationsEnable-07485) VUID-vkCmdDrawIndexedIndirectCount-sampleLocationsEnable-07485

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.width` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawIndexedIndirectCount-sampleLocationsEnable-07486) VUID-vkCmdDrawIndexedIndirectCount-sampleLocationsEnable-07486

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.height` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawIndexedIndirectCount-sampleLocationsEnable-07487) VUID-vkCmdDrawIndexedIndirectCount-sampleLocationsEnable-07487

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), the fragment shader code **must**
not statically use the extended instruction `InterpolateAtSample`

[](#VUID-vkCmdDrawIndexedIndirectCount-sampleLocationsEnable-07936) VUID-vkCmdDrawIndexedIndirectCount-sampleLocationsEnable-07936

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.width` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndexedIndirectCount-sampleLocationsEnable-07937) VUID-vkCmdDrawIndexedIndirectCount-sampleLocationsEnable-07937

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.height` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndexedIndirectCount-sampleLocationsEnable-07938) VUID-vkCmdDrawIndexedIndirectCount-sampleLocationsEnable-07938

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationsPerPixel` **must** equal
`rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndexedIndirectCount-coverageModulationTableEnable-07488) VUID-vkCmdDrawIndexedIndirectCount-coverageModulationTableEnable-07488

If
a shader object is bound to any graphics stage or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` state
enabled, and the last call to
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) set
`coverageModulationTableEnable` to `VK_TRUE`, then the
`coverageModulationTableCount` parameter in the last call to
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** equal the current
`rasterizationSamples` divided by the number of color samples in the
current subpass

[](#VUID-vkCmdDrawIndexedIndirectCount-rasterizationSamples-07489) VUID-vkCmdDrawIndexedIndirectCount-rasterizationSamples-07489

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and if current subpass has a depth/stencil attachment and depth test,
stencil test, or depth bounds test are enabled in the bound pipeline,
then the current `rasterizationSamples` **must** be the same as the
sample count of the depth/stencil attachment

[](#VUID-vkCmdDrawIndexedIndirectCount-coverageToColorEnable-07490) VUID-vkCmdDrawIndexedIndirectCount-coverageToColorEnable-07490

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` state enabled and the
last call to [vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawIndexedIndirectCount-rasterizerDiscardEnable-09420) VUID-vkCmdDrawIndexedIndirectCount-rasterizerDiscardEnable-09420

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the last call to
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawIndexedIndirectCount-coverageReductionMode-07491) VUID-vkCmdDrawIndexedIndirectCount-coverageReductionMode-07491

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` or
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic states enabled,
then the [current values](pipelines.html#dynamic-state-current-value) of
`coverageReductionMode`, `rasterizationSamples`, the sample
counts for the color and depth/stencil attachments (if the subpass has
them) **must** be a valid combination returned by
[vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV](fragops.html#vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV)

[](#VUID-vkCmdDrawIndexedIndirectCount-viewportCount-07492) VUID-vkCmdDrawIndexedIndirectCount-viewportCount-07492

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndexedIndirectCount-viewportCount-07493) VUID-vkCmdDrawIndexedIndirectCount-viewportCount-07493

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic states enabled then
the `viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndexedIndirectCount-viewportCount-09421) VUID-vkCmdDrawIndexedIndirectCount-viewportCount-09421

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and a
shader object is bound to any graphics stage, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndexedIndirectCount-rasterizationSamples-07494) VUID-vkCmdDrawIndexedIndirectCount-rasterizationSamples-07494

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is not enabled, or the [current    value](pipelines.html#dynamic-state-current-value) of `coverageReductionMode` is not
`VK_COVERAGE_REDUCTION_MODE_TRUNCATE_NV`,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizationSamples` is greater than sample count of the color
attachment, then [sample shading](primsrast.html#primsrast-sampleshading) **must** be
disabled

[](#VUID-vkCmdDrawIndexedIndirectCount-stippledLineEnable-07495) VUID-vkCmdDrawIndexedIndirectCount-stippledLineEnable-07495

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled

[](#VUID-vkCmdDrawIndexedIndirectCount-stippledLineEnable-07496) VUID-vkCmdDrawIndexedIndirectCount-stippledLineEnable-07496

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM`, then the
[`stippledBresenhamLines`](features.html#features-stippledBresenhamLines)
feature **must** be enabled

[](#VUID-vkCmdDrawIndexedIndirectCount-stippledLineEnable-07497) VUID-vkCmdDrawIndexedIndirectCount-stippledLineEnable-07497

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the
[`stippledSmoothLines`](features.html#features-stippledSmoothLines) feature
**must** be enabled

[](#VUID-vkCmdDrawIndexedIndirectCount-stippledLineEnable-07498) VUID-vkCmdDrawIndexedIndirectCount-stippledLineEnable-07498

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_DEFAULT`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled and
[VkPhysicalDeviceLimits](limits.html#VkPhysicalDeviceLimits)::`strictLines` **must** be `VK_TRUE`

[](#VUID-vkCmdDrawIndexedIndirectCount-conservativePointAndLineRasterization-07499) VUID-vkCmdDrawIndexedIndirectCount-conservativePointAndLineRasterization-07499

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, [    `conservativePointAndLineRasterization`](limits.html#limits-conservativePointAndLineRasterization) is not supported, and the
effective primitive topology output by the last pre-rasterization shader
stage is a line or point, then the `conservativeRasterizationMode`
set by the last call to [vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT)
**must** be `VK_CONSERVATIVE_RASTERIZATION_MODE_DISABLED_EXT`

[](#VUID-vkCmdDrawIndexedIndirectCount-stage-07073) VUID-vkCmdDrawIndexedIndirectCount-stage-07073

If the bound pipeline was created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of an element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT`, then [Mesh    Shader Queries](queries.html#queries-mesh-shader) **must** not be active

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08877) VUID-vkCmdDrawIndexedIndirectCount-None-08877

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-None-07850) VUID-vkCmdDrawIndexedIndirectCount-None-07850

If dynamic state was inherited from
[VkCommandBufferInheritanceViewportScissorInfoNV](cmdbuffers.html#VkCommandBufferInheritanceViewportScissorInfoNV), it **must** be set
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndexedIndirectCount-nextStage-10745) VUID-vkCmdDrawIndexedIndirectCount-nextStage-10745

For each shader object bound to a graphics stage, except for shader
object bound to the last graphics stage in the logical pipeline, it
**must** have been created with a `nextStage` including the
corresponding bit to the shader object bound to the following graphics
stage in the logical pipeline

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08684) VUID-vkCmdDrawIndexedIndirectCount-None-08684

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_VERTEX_BIT`

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08685) VUID-vkCmdDrawIndexedIndirectCount-None-08685

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08686) VUID-vkCmdDrawIndexedIndirectCount-None-08686

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT`

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08687) VUID-vkCmdDrawIndexedIndirectCount-None-08687

If there is no bound graphics pipeline, and the
[`geometryShader`](features.html#features-geometryShader) feature is enabled,
`vkCmdBindShadersEXT` **must** have been called in the current command
buffer with `pStages` with an element of
`VK_SHADER_STAGE_GEOMETRY_BIT`

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08688) VUID-vkCmdDrawIndexedIndirectCount-None-08688

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_FRAGMENT_BIT`

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08689) VUID-vkCmdDrawIndexedIndirectCount-None-08689

If there is no bound graphics pipeline, and the [    `taskShader`](features.html#features-taskShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_TASK_BIT_EXT`

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08690) VUID-vkCmdDrawIndexedIndirectCount-None-08690

If there is no bound graphics pipeline, and the [    `meshShader`](features.html#features-meshShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_MESH_BIT_EXT`

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08693) VUID-vkCmdDrawIndexedIndirectCount-None-08693

If there is no bound graphics pipeline, and at least one of the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features is enabled, one of the
`VK_SHADER_STAGE_VERTEX_BIT` or `VK_SHADER_STAGE_MESH_BIT_EXT`
stages **must** have a valid `VkShaderEXT` bound, and the other **must**
have no `VkShaderEXT` bound

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08696) VUID-vkCmdDrawIndexedIndirectCount-None-08696

If there is no bound graphics pipeline, and a valid `VkShaderEXT` is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, there **must** be no
`VkShaderEXT` bound to either the `VK_SHADER_STAGE_TASK_BIT_EXT`
stage or the `VK_SHADER_STAGE_MESH_BIT_EXT` stage

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08698) VUID-vkCmdDrawIndexedIndirectCount-None-08698

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, then all shaders created
with the `VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag in the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** also be bound

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08699) VUID-vkCmdDrawIndexedIndirectCount-None-08699

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, any stages in between
stages whose shaders which did not create a shader with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag as part of the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** not have any `VkShaderEXT` bound

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08878) VUID-vkCmdDrawIndexedIndirectCount-None-08878

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) push constant
ranges

[](#VUID-vkCmdDrawIndexedIndirectCount-None-08879) VUID-vkCmdDrawIndexedIndirectCount-None-08879

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) arrays of
descriptor set layouts

[](#VUID-vkCmdDrawIndexedIndirectCount-colorAttachmentCount-09372) VUID-vkCmdDrawIndexedIndirectCount-colorAttachmentCount-09372

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, a color
attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, and a fragment
shader is bound, it **must** not declare the `DepthReplacing` or
`StencilRefReplacingEXT` execution modes

[](#VUID-vkCmdDrawIndexedIndirectCount-pDynamicStates-08715) VUID-vkCmdDrawIndexedIndirectCount-pDynamicStates-08715

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpDepthAttachmentReadEXT`, the `depthWriteEnable` parameter
in the last call to [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawIndexedIndirectCount-pDynamicStates-08716) VUID-vkCmdDrawIndexedIndirectCount-pDynamicStates-08716

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpStencilAttachmentReadEXT`, the `writeMask` parameter in
the last call to [vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** be `0`

[](#VUID-vkCmdDrawIndexedIndirectCount-None-09116) VUID-vkCmdDrawIndexedIndirectCount-None-09116

    If
    a shader object is bound to any graphics stage
or
    the bound graphics pipeline was created with
    `VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT`,
    and the format of any color attachment is
    `VK_FORMAT_E5B9G9R9_UFLOAT_PACK32`, the corresponding element of the
    `pColorWriteMasks` parameter of [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT)
    **must** either include all of `VK_COLOR_COMPONENT_R_BIT`,
    `VK_COLOR_COMPONENT_G_BIT`, and `VK_COLOR_COMPONENT_B_BIT`, or
    none of them

[](#VUID-vkCmdDrawIndexedIndirectCount-maxFragmentDualSrcAttachments-09239) VUID-vkCmdDrawIndexedIndirectCount-maxFragmentDualSrcAttachments-09239

If [blending](framebuffer.html#framebuffer-blending) is enabled for any attachment where
either the source or destination blend factors for that attachment
[use the secondary color input](framebuffer.html#framebuffer-dsb), the maximum value of
`Location` for any output attachment [statically    used](shaders.html#shaders-staticuse) in the `Fragment` `Execution` `Model` executed by this command
**must** be less than [    `maxFragmentDualSrcAttachments`](limits.html#limits-maxFragmentDualSrcAttachments)

[](#VUID-vkCmdDrawIndexedIndirectCount-None-09548) VUID-vkCmdDrawIndexedIndirectCount-None-09548

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
the value of each element of
[VkRenderingAttachmentLocationInfo](interfaces.html#VkRenderingAttachmentLocationInfo)::`pColorAttachmentLocations`
set by [vkCmdSetRenderingAttachmentLocations](interfaces.html#vkCmdSetRenderingAttachmentLocations) **must** match the value
set for the corresponding element in the bound pipeline

[](#VUID-vkCmdDrawIndexedIndirectCount-None-09549) VUID-vkCmdDrawIndexedIndirectCount-None-09549

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
input attachment index mappings in the bound pipeline **must** match those
set for the current render pass instance via
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

[](#VUID-vkCmdDrawIndexedIndirectCount-None-09642) VUID-vkCmdDrawIndexedIndirectCount-None-09642

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with
the `VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag, the bound
graphics pipeline **must** have been created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`

[](#VUID-vkCmdDrawIndexedIndirectCount-None-09643) VUID-vkCmdDrawIndexedIndirectCount-None-09643

If the bound graphics pipeline was created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`, the current
render pass **must** have begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with the
`VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag

[](#VUID-vkCmdDrawIndexedIndirectCount-None-10677) VUID-vkCmdDrawIndexedIndirectCount-None-10677

If the [per-tile execution model](renderpass.html#renderpass-per-tile-execution-model)
is enabled, the
[tileShadingPerTileDraw](features.html#features-tileShadingPerTileDraw) feature **must**
be enabled

[](#VUID-vkCmdDrawIndexedIndirectCount-None-10772) VUID-vkCmdDrawIndexedIndirectCount-None-10772

If a shader object is bound to any graphics stage, *multiview*
functionality **must** not be enabled in the current render pass

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-04007) VUID-vkCmdDrawIndexedIndirectCount-None-04007

All vertex input bindings accessed via vertex input variables declared
in the vertex shader entry point’s interface **must** have either valid or
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) buffers bound

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-04008) VUID-vkCmdDrawIndexedIndirectCount-None-04008

If the [`nullDescriptor`](features.html#features-nullDescriptor) feature is not
enabled, all vertex input bindings accessed via vertex input variables
declared in the vertex shader entry point’s interface **must** not be
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-02721) VUID-vkCmdDrawIndexedIndirectCount-None-02721

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled,
and that pipeline was created without enabling
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` for
`vertexInputs`,
then for a given vertex buffer binding, any attribute data fetched **must**
be entirely contained within the corresponding vertex buffer binding, as
described in [Vertex Input Description](fxvertex.html#fxvertex-input)

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-format-10389) VUID-vkCmdDrawIndexedIndirectCount-format-10389

For each vertex attribute accessed by this command, if its
[VkVertexInputAttributeDescription](fxvertex.html#VkVertexInputAttributeDescription)::`format`
or [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format`
is a [packed format](formats.html#formats-packed),
and [`legacyVertexAttributes`](features.html#features-legacyVertexAttributes) is
not enabled,
the value of `attribAddress`, calculated as described in
[Vertex Input Calculation](fxvertex.html#fxvertex-input-address-calculation), **must**
be a multiple of the [size of the `format`](formats.html#formats)

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-format-10390) VUID-vkCmdDrawIndexedIndirectCount-format-10390

For each vertex attribute accessed by this command, if its
[VkVertexInputAttributeDescription](fxvertex.html#VkVertexInputAttributeDescription)::`format`
or [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format`
is not a [packed format](formats.html#formats-packed),
and either [    `legacyVertexAttributes`](features.html#features-legacyVertexAttributes) is not enabled or `format` has 64-bit
components,
the value of `attribAddress`, calculated as described in
[Vertex Input Calculation](fxvertex.html#fxvertex-input-address-calculation), **must**
be a multiple of the [component size of the `format`](formats.html#formats)

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-07842) VUID-vkCmdDrawIndexedIndirectCount-None-07842

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY` dynamic state enabled
    then [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-dynamicPrimitiveTopologyUnrestricted-07500) VUID-vkCmdDrawIndexedIndirectCount-dynamicPrimitiveTopologyUnrestricted-07500

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY` dynamic state enabled
and the [    `dynamicPrimitiveTopologyUnrestricted`](limits.html#limits-dynamicPrimitiveTopologyUnrestricted) is `VK_FALSE`,
then the `primitiveTopology` parameter of
`vkCmdSetPrimitiveTopology` **must** be of the same
[topology class](#drawing-primitive-topology-class) as the pipeline
[VkPipelineInputAssemblyStateCreateInfo](#VkPipelineInputAssemblyStateCreateInfo)::`topology` state

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-primitiveTopology-10286) VUID-vkCmdDrawIndexedIndirectCount-primitiveTopology-10286

If a `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage is bound, then
the [current value](pipelines.html#dynamic-state-current-value) of
`primitiveTopology` **must** be `VK_PRIMITIVE_TOPOLOGY_PATCH_LIST`
prior to this drawing command

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-primitiveTopology-10747) VUID-vkCmdDrawIndexedIndirectCount-primitiveTopology-10747

If [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) set `primitiveTopology` to
`VK_PRIMITIVE_TOPOLOGY_PATCH_LIST` prior to this drawing command,
then a `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage **must** be
bound

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-primitiveTopology-10748) VUID-vkCmdDrawIndexedIndirectCount-primitiveTopology-10748

If [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) set `primitiveTopology` to
`VK_PRIMITIVE_TOPOLOGY_POINT_LIST` prior to this drawing command,
the [`maintenance5`](features.html#features-maintenance5) feature is not
enabled,
both a `VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` and
`VK_SHADER_STAGE_GEOMETRY_BIT` stage are not bound, then the
`Vertex` `Execution` `Model` **must** have a `PointSize` decorated
variable that is statically written to

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-pStrides-04913) VUID-vkCmdDrawIndexedIndirectCount-pStrides-04913

If the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_VERTEX_INPUT_BINDING_STRIDE` dynamic state
enabled,
but without the `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state
enabled,
then [vkCmdBindVertexBuffers2](fxvertex.html#vkCmdBindVertexBuffers2) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this draw command, and the `pStrides`
parameter of [vkCmdBindVertexBuffers2](fxvertex.html#vkCmdBindVertexBuffers2) **must** not be `NULL`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-04914) VUID-vkCmdDrawIndexedIndirectCount-None-04914

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    then [vkCmdSetVertexInputEXT](fxvertex.html#vkCmdSetVertexInputEXT) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this draw command

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-Input-07939) VUID-vkCmdDrawIndexedIndirectCount-Input-07939

    If
    [`vertexAttributeRobustness`](features.html#features-vertexAttributeRobustness)
    is not enabled and
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    then all variables with the `Input` storage class decorated with
    `Location` in the `Vertex` `Execution` `Model` `OpEntryPoint`
    **must** contain a location in
    [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`location`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-Input-08734) VUID-vkCmdDrawIndexedIndirectCount-Input-08734

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and either the [    `legacyVertexAttributes`](features.html#features-legacyVertexAttributes) feature is not enabled or the SPIR-V Type
    associated with a given `Input` variable of the corresponding
    `Location` in the `Vertex` `Execution` `Model` `OpEntryPoint` is
    64-bit,
    then the numeric type associated with all `Input` variables of the
    corresponding `Location` in the `Vertex` `Execution` `Model`
    `OpEntryPoint` **must** be the same as
    [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-format-08936) VUID-vkCmdDrawIndexedIndirectCount-format-08936

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format` has a
    64-bit component, then the scalar width associated with all `Input`
    variables of the corresponding `Location` in the `Vertex`
    `Execution` `Model` `OpEntryPoint` **must** be 64-bit

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-format-08937) VUID-vkCmdDrawIndexedIndirectCount-format-08937

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and the scalar width associated with a `Location` decorated
    `Input` variable in the `Vertex` `Execution` `Model`
    `OpEntryPoint` is 64-bit, then the corresponding
    [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format` **must** have a
    64-bit component

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-09203) VUID-vkCmdDrawIndexedIndirectCount-None-09203

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format` has a
    64-bit component, then all `Input` variables at the corresponding
    `Location` in the `Vertex` `Execution` `Model` `OpEntryPoint`
    **must** not use components that are not present in the format

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-04875) VUID-vkCmdDrawIndexedIndirectCount-None-04875

    If
    there is a shader object bound to the
    `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage
or
    the bound graphics pipeline state was created with both a
    `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage and the
    `VK_DYNAMIC_STATE_PATCH_CONTROL_POINTS_EXT` dynamic state enabled,
    and the [current value](pipelines.html#dynamic-state-current-value) of
    `primitiveTopology` is `VK_PRIMITIVE_TOPOLOGY_PATCH_LIST`, then
    [vkCmdSetPatchControlPointsEXT](shaders.html#vkCmdSetPatchControlPointsEXT) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-04879) VUID-vkCmdDrawIndexedIndirectCount-None-04879

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE` dynamic state enabled
    then [vkCmdSetPrimitiveRestartEnable](#vkCmdSetPrimitiveRestartEnable) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-09637) VUID-vkCmdDrawIndexedIndirectCount-None-09637

    If
    the [    `primitiveTopologyListRestart`](features.html#features-primitiveTopologyListRestart) feature is not enabled,
    the topology is `VK_PRIMITIVE_TOPOLOGY_POINT_LIST`,
    `VK_PRIMITIVE_TOPOLOGY_LINE_LIST`,
    `VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST`,
    `VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY`, or
    `VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY`,
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE` dynamic state enabled
    then [vkCmdSetPrimitiveRestartEnable](#vkCmdSetPrimitiveRestartEnable) **must** be `VK_FALSE`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-stage-06481) VUID-vkCmdDrawIndexedIndirectCount-stage-06481

The bound graphics pipeline **must** not have been created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of any element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_TASK_BIT_EXT` or `VK_SHADER_STAGE_MESH_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-08885) VUID-vkCmdDrawIndexedIndirectCount-None-08885

There **must** be no shader object bound to either of the
`VK_SHADER_STAGE_TASK_BIT_EXT` or `VK_SHADER_STAGE_MESH_BIT_EXT`
stages

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-07619) VUID-vkCmdDrawIndexedIndirectCount-None-07619

If
a shader object is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` stage or
a graphics pipeline is bound which was created with both a
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` stage and the
`VK_DYNAMIC_STATE_TESSELLATION_DOMAIN_ORIGIN_EXT` dynamic state
enabled, then [vkCmdSetTessellationDomainOriginEXT](tessellation.html#vkCmdSetTessellationDomainOriginEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-buffer-02708) VUID-vkCmdDrawIndexedIndirectCount-buffer-02708

If `buffer` is non-sparse then it **must** be bound completely and
contiguously to a single `VkDeviceMemory` object

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-buffer-02709) VUID-vkCmdDrawIndexedIndirectCount-buffer-02709

`buffer` **must** have been created with the
`VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT` bit set

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-offset-02710) VUID-vkCmdDrawIndexedIndirectCount-offset-02710

`offset` **must** be a multiple of `4`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-commandBuffer-02711) VUID-vkCmdDrawIndexedIndirectCount-commandBuffer-02711

`commandBuffer` **must** not be a protected command buffer

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-countBuffer-02714) VUID-vkCmdDrawIndexedIndirectCount-countBuffer-02714

If `countBuffer` is non-sparse then it **must** be bound completely and
contiguously to a single `VkDeviceMemory` object

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-countBuffer-02715) VUID-vkCmdDrawIndexedIndirectCount-countBuffer-02715

`countBuffer` **must** have been created with the
`VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT` bit set

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-countBufferOffset-02716) VUID-vkCmdDrawIndexedIndirectCount-countBufferOffset-02716

`countBufferOffset` **must** be a multiple of `4`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-countBuffer-02717) VUID-vkCmdDrawIndexedIndirectCount-countBuffer-02717

The count stored in `countBuffer` **must** be less than or equal to
`VkPhysicalDeviceLimits`::`maxDrawIndirectCount`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-countBufferOffset-04129) VUID-vkCmdDrawIndexedIndirectCount-countBufferOffset-04129

(`countBufferOffset` +  `sizeof`(uint32_t)) **must** be
less than or equal to the size of `countBuffer`

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-04445) VUID-vkCmdDrawIndexedIndirectCount-None-04445

If the [`drawIndirectCount`](features.html#features-drawIndirectCount) feature
is not enabled this function **must** not be used

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-None-07312) VUID-vkCmdDrawIndexedIndirectCount-None-07312

If the [`maintenance6`](features.html#features-maintenance6) feature is not
enabled, a
valid index buffer **must** be bound

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-stride-03142) VUID-vkCmdDrawIndexedIndirectCount-stride-03142

`stride` **must** be a multiple of `4` and **must** be greater than or
equal to sizeof(`VkDrawIndexedIndirectCommand`)

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-maxDrawCount-03143) VUID-vkCmdDrawIndexedIndirectCount-maxDrawCount-03143

If `maxDrawCount` is greater than or equal to `1`,
(`stride` × (`maxDrawCount` - 1) +  `offset`
+  sizeof(`VkDrawIndexedIndirectCommand`)) **must** be less than
or equal to the size of `buffer`

Valid Usage (Implicit)

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-commandBuffer-parameter) VUID-vkCmdDrawIndexedIndirectCount-commandBuffer-parameter

 `commandBuffer` **must** be a valid [VkCommandBuffer](cmdbuffers.html#VkCommandBuffer) handle

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-buffer-parameter) VUID-vkCmdDrawIndexedIndirectCount-buffer-parameter

 `buffer` **must** be a valid [VkBuffer](resources.html#VkBuffer) handle

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-countBuffer-parameter) VUID-vkCmdDrawIndexedIndirectCount-countBuffer-parameter

 `countBuffer` **must** be a valid [VkBuffer](resources.html#VkBuffer) handle

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-commandBuffer-recording) VUID-vkCmdDrawIndexedIndirectCount-commandBuffer-recording

 `commandBuffer` **must** be in the [recording state](cmdbuffers.html#commandbuffers-lifecycle)

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-commandBuffer-cmdpool) VUID-vkCmdDrawIndexedIndirectCount-commandBuffer-cmdpool

 The `VkCommandPool` that `commandBuffer` was allocated from **must** support graphics operations

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-renderpass) VUID-vkCmdDrawIndexedIndirectCount-renderpass

 This command **must** only be called inside of a render pass instance

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-videocoding) VUID-vkCmdDrawIndexedIndirectCount-videocoding

 This command **must** only be called outside of a video coding scope

* 
[](#VUID-vkCmdDrawIndexedIndirectCount-commonparent) VUID-vkCmdDrawIndexedIndirectCount-commonparent

 Each of `buffer`, `commandBuffer`, and `countBuffer` **must** have been created, allocated, or retrieved from the same [VkDevice](devsandqueues.html#VkDevice)

Host Synchronization

* 
Host access to `commandBuffer` **must** be externally synchronized

* 
Host access to the `VkCommandPool` that `commandBuffer` was allocated from **must** be externally synchronized

Command Properties
| [Command Buffer Levels](cmdbuffers.html#VkCommandBufferLevel) | [Render Pass Scope](renderpass.html#vkCmdBeginRenderPass) | [Video Coding Scope](videocoding.html#vkCmdBeginVideoCodingKHR) | [Supported Queue Types](devsandqueues.html#VkQueueFlagBits) | [Command Type](fundamentals.html#fundamentals-queueoperation-command-types) |
| --- | --- | --- | --- | --- |
| Primary

Secondary | Inside | Outside | Graphics | Action |

It is possible to draw vertex data that was previously captured during
active [transform feedback](vertexpostproc.html#vertexpostproc-transform-feedback) by binding
one or more of the transform feedback buffers as vertex buffers.
A pipeline barrier is required between using the buffers as transform
feedback buffers and vertex buffers to ensure all writes to the transform
feedback buffers are visible when the data is read as vertex attributes.
The source access is `VK_ACCESS_TRANSFORM_FEEDBACK_WRITE_BIT_EXT` and
the destination access is `VK_ACCESS_VERTEX_ATTRIBUTE_READ_BIT` for the
pipeline stages `VK_PIPELINE_STAGE_TRANSFORM_FEEDBACK_BIT_EXT` and
`VK_PIPELINE_STAGE_VERTEX_INPUT_BIT` respectively.
The value written to the counter buffer by
[vkCmdEndTransformFeedbackEXT](vertexpostproc.html#vkCmdEndTransformFeedbackEXT) **can** be used to determine the vertex
count for the draw.
A pipeline barrier is required between using the counter buffer for
`vkCmdEndTransformFeedbackEXT` and `vkCmdDrawIndirectByteCountEXT`
where the source access is
`VK_ACCESS_TRANSFORM_FEEDBACK_COUNTER_WRITE_BIT_EXT` and the destination
access is `VK_ACCESS_INDIRECT_COMMAND_READ_BIT` for the pipeline stages
`VK_PIPELINE_STAGE_TRANSFORM_FEEDBACK_BIT_EXT` and
`VK_PIPELINE_STAGE_DRAW_INDIRECT_BIT` respectively.

To record a non-indexed draw call, where the vertex count is based on a byte
count read from a buffer and the passed in vertex stride parameter, call:

// Provided by VK_EXT_transform_feedback
void vkCmdDrawIndirectByteCountEXT(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    instanceCount,
    uint32_t                                    firstInstance,
    VkBuffer                                    counterBuffer,
    VkDeviceSize                                counterBufferOffset,
    uint32_t                                    counterOffset,
    uint32_t                                    vertexStride);

* 
`commandBuffer` is the command buffer into which the command is
recorded.

* 
`instanceCount` is the number of instances to draw.

* 
`firstInstance` is the instance ID of the first instance to draw.

* 
`counterBuffer` is the buffer handle from where the byte count is
read.

* 
`counterBufferOffset` is the offset into the buffer used to read the
byte count, which is used to calculate the vertex count for this draw
call.

* 
`counterOffset` is subtracted from the byte count read from the
`counterBuffer` at the `counterBufferOffset`

* 
`vertexStride` is the stride in bytes between each element of the
vertex data that is used to calculate the vertex count from the counter
value.
This value is typically the same value that was used in the graphics
pipeline state when the transform feedback was captured as the
`XfbStride`.

When the command is executed, primitives are assembled in the same way as
done with [vkCmdDraw](#vkCmdDraw) except the `vertexCount` is calculated based
on the byte count read from `counterBuffer` at offset
`counterBufferOffset`.
The assembled primitives execute the bound graphics pipeline.

The effective `vertexCount` is calculated as follows:

const uint32_t * counterBufferPtr = (const uint8_t *)counterBuffer.address + counterBufferOffset;
vertexCount = floor(max(0, (*counterBufferPtr - counterOffset)) / vertexStride);

The effective `firstVertex` is zero.

Valid Usage

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-magFilter-04553) VUID-vkCmdDrawIndirectByteCountEXT-magFilter-04553

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-magFilter-09598) VUID-vkCmdDrawIndirectByteCountEXT-magFilter-09598

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR` and `reductionMode` equal to either
`VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-mipmapMode-04770) VUID-vkCmdDrawIndirectByteCountEXT-mipmapMode-04770

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-mipmapMode-09599) VUID-vkCmdDrawIndirectByteCountEXT-mipmapMode-09599

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR` and `reductionMode` equal to
either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-unnormalizedCoordinates-09635) VUID-vkCmdDrawIndirectByteCountEXT-unnormalizedCoordinates-09635

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `levelCount` and `layerCount`
**must** be 1

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08609) VUID-vkCmdDrawIndirectByteCountEXT-None-08609

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `viewType` **must** be
`VK_IMAGE_VIEW_TYPE_1D` or `VK_IMAGE_VIEW_TYPE_2D`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08610) VUID-vkCmdDrawIndirectByteCountEXT-None-08610

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions with
`ImplicitLod`, `Dref` or `Proj` in their name

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08611) VUID-vkCmdDrawIndirectByteCountEXT-None-08611

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions that includes a
LOD bias or any offset values

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-06479) VUID-vkCmdDrawIndirectByteCountEXT-None-06479

If a [VkImageView](resources.html#VkImageView) is sampled with
[depth comparison](textures.html#textures-depth-compare-operation), the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_SAMPLED_IMAGE_DEPTH_COMPARISON_BIT`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-02691) VUID-vkCmdDrawIndirectByteCountEXT-None-02691

If a [VkImageView](resources.html#VkImageView) is accessed using atomic operations as a result
of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07888) VUID-vkCmdDrawIndirectByteCountEXT-None-07888

If a `VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER` descriptor is
accessed using atomic operations as a result of this command, then the
storage texel buffer’s [format    features](resources.html#resources-buffer-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-02692) VUID-vkCmdDrawIndirectByteCountEXT-None-02692

If a [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_CUBIC_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-02693) VUID-vkCmdDrawIndirectByteCountEXT-None-02693

If
the [VK_EXT_filter_cubic](../appendices/extensions.html#VK_EXT_filter_cubic) extension is not enabled and
any [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, it **must** not have a [VkImageViewType](resources.html#VkImageViewType) of
`VK_IMAGE_VIEW_TYPE_3D`, `VK_IMAGE_VIEW_TYPE_CUBE`, or
`VK_IMAGE_VIEW_TYPE_CUBE_ARRAY`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-filterCubic-02694) VUID-vkCmdDrawIndirectByteCountEXT-filterCubic-02694

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command **must** have a [VkImageViewType](resources.html#VkImageViewType) and format
that supports cubic filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubic`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-filterCubicMinmax-02695) VUID-vkCmdDrawIndirectByteCountEXT-filterCubicMinmax-02695

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` with
a reduction mode of either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` as a result of this command **must**
have a [VkImageViewType](resources.html#VkImageViewType) and format that supports cubic filtering
together with minmax filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubicMinmax`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-cubicRangeClamp-09212) VUID-vkCmdDrawIndirectByteCountEXT-cubicRangeClamp-09212

If the [`cubicRangeClamp`](features.html#features-cubicRangeClamp) feature is
not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** not have a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-reductionMode-09213) VUID-vkCmdDrawIndirectByteCountEXT-reductionMode-09213

Any [VkImageView](resources.html#VkImageView) being sampled with a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM` as a
result of this command **must** sample with `VK_FILTER_CUBIC_EXT`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-selectableCubicWeights-09214) VUID-vkCmdDrawIndirectByteCountEXT-selectableCubicWeights-09214

If the [`selectableCubicWeights`](features.html#features-selectableCubicWeights)
feature is not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** have
[VkSamplerCubicWeightsCreateInfoQCOM](samplers.html#VkSamplerCubicWeightsCreateInfoQCOM)::`cubicWeights` equal to
`VK_CUBIC_FILTER_WEIGHTS_CATMULL_ROM_QCOM`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-flags-02696) VUID-vkCmdDrawIndirectByteCountEXT-flags-02696

Any [VkImage](resources.html#VkImage) created with a [VkImageCreateInfo](resources.html#VkImageCreateInfo)::`flags`
containing `VK_IMAGE_CREATE_CORNER_SAMPLED_BIT_NV` sampled as a
result of this command **must** only be sampled using a
[VkSamplerAddressMode](samplers.html#VkSamplerAddressMode) of
`VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-OpTypeImage-07027) VUID-vkCmdDrawIndirectByteCountEXT-OpTypeImage-07027

For any [VkImageView](resources.html#VkImageView) being written as a storage image where the
image format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-OpTypeImage-07028) VUID-vkCmdDrawIndirectByteCountEXT-OpTypeImage-07028

For any [VkImageView](resources.html#VkImageView) being read as a storage image where the image
format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-OpTypeImage-07029) VUID-vkCmdDrawIndirectByteCountEXT-OpTypeImage-07029

For any [VkBufferView](resources.html#VkBufferView) being written as a storage texel buffer where
the image format field of the `OpTypeImage` is `Unknown`, the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-OpTypeImage-07030) VUID-vkCmdDrawIndirectByteCountEXT-OpTypeImage-07030

Any [VkBufferView](resources.html#VkBufferView) being read as a storage texel buffer where the
image format field of the `OpTypeImage` is `Unknown` then the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08600) VUID-vkCmdDrawIndirectByteCountEXT-None-08600

For each set *n* that is statically used by [a bound    shader](shaders.html#shaders-binding), a descriptor set **must** have been bound to *n* at the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for set *n*, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the current
[VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08601) VUID-vkCmdDrawIndirectByteCountEXT-None-08601

For each push constant that is statically used by [a    bound shader](shaders.html#shaders-binding), a push constant value **must** have been set for the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the
current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-10068) VUID-vkCmdDrawIndirectByteCountEXT-None-10068

For each array of resources that is used by [a bound    shader](shaders.html#shaders-binding), the indices used to access members of the array **must** be less
than the descriptor count for the identified binding in the descriptor
sets used by this command

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-maintenance4-08602) VUID-vkCmdDrawIndirectByteCountEXT-maintenance4-08602

If the [`maintenance4`](features.html#features-maintenance4) feature is not
enabled, then for each push constant that is statically used by
[a bound shader](shaders.html#shaders-binding), a push constant value **must** have
been set for the same pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
that is compatible for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
used to create the current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) and [VkPushConstantRange](descriptorsets.html#VkPushConstantRange) arrays
used to create the current [VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08114) VUID-vkCmdDrawIndirectByteCountEXT-None-08114

Descriptors in each bound descriptor set, specified via
[vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), **must** be valid as described by
[descriptor validity](descriptorsets.html#descriptor-validity) if they are statically used
by
the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind point used by this
command and the bound [VkPipeline](pipelines.html#VkPipeline) was not created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08115) VUID-vkCmdDrawIndirectByteCountEXT-None-08115

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), the bound
[VkPipeline](pipelines.html#VkPipeline) **must** have been created without
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08116) VUID-vkCmdDrawIndirectByteCountEXT-None-08116

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind
point used by this command and the bound [VkPipeline](pipelines.html#VkPipeline) was created
with `VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08604) VUID-vkCmdDrawIndirectByteCountEXT-None-08604

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08117) VUID-vkCmdDrawIndirectByteCountEXT-None-08117

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT),
the bound [VkPipeline](pipelines.html#VkPipeline) **must** have been created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08119) VUID-vkCmdDrawIndirectByteCountEXT-None-08119

If a descriptor is dynamically used with a [VkPipeline](pipelines.html#VkPipeline) created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the descriptor
memory **must** be resident

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08605) VUID-vkCmdDrawIndirectByteCountEXT-None-08605

If a descriptor is dynamically used with a [VkShaderEXT](shaders.html#VkShaderEXT) created
with a `VkDescriptorSetLayout` that was created with
`VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the
descriptor memory **must** be resident

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08606) VUID-vkCmdDrawIndirectByteCountEXT-None-08606

If the [`shaderObject`](features.html#features-shaderObject) feature is not
enabled, a
valid pipeline **must** be bound to the pipeline bind point used by this
command

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08608) VUID-vkCmdDrawIndirectByteCountEXT-None-08608

If a pipeline is bound to the pipeline bind point used by this command,
there
**must** not have been any calls to dynamic state setting commands for any
state specified statically in the [VkPipeline](pipelines.html#VkPipeline) object bound to the
pipeline bind point used by this command, since that pipeline was bound

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-uniformBuffers-06935) VUID-vkCmdDrawIndirectByteCountEXT-uniformBuffers-06935

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a uniform buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`uniformBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08612) VUID-vkCmdDrawIndirectByteCountEXT-None-08612

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a uniform
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-storageBuffers-06936) VUID-vkCmdDrawIndirectByteCountEXT-storageBuffers-06936

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a storage buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`storageBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08613) VUID-vkCmdDrawIndirectByteCountEXT-None-08613

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a storage
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-commandBuffer-02707) VUID-vkCmdDrawIndirectByteCountEXT-commandBuffer-02707

If `commandBuffer` is an unprotected command buffer and
[`protectedNoFault`](devsandqueues.html#limits-protectedNoFault) is not supported,
any resource accessed by [bound shaders](shaders.html#shaders-binding) **must** not be
a protected resource

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-viewType-07752) VUID-vkCmdDrawIndirectByteCountEXT-viewType-07752

If a [VkImageView](resources.html#VkImageView) is accessed as a result of this command, then the
image view’s `viewType` **must** match the `Dim` operand of the
`OpTypeImage` as described in [Compatibility Between SPIR-V Image Dimensions and Vulkan ImageView Types](../appendices/spirvenv.html#spirvenv-image-dimensions)

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-format-07753) VUID-vkCmdDrawIndirectByteCountEXT-format-07753

If a [VkImageView](resources.html#VkImageView) or [VkBufferView](resources.html#VkBufferView) is accessed as a result of
this command, then the [numeric type](formats.html#formats-numericformat) of the
view’s `format` and the `Sampled` `Type` operand of the
`OpTypeImage` **must** match

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-OpImageWrite-08795) VUID-vkCmdDrawIndirectByteCountEXT-OpImageWrite-08795

If a [VkImageView](resources.html#VkImageView)
created with a format other than `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
at least as many components as the image view’s format

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-OpImageWrite-08796) VUID-vkCmdDrawIndirectByteCountEXT-OpImageWrite-08796

If a [VkImageView](resources.html#VkImageView) created with the format `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
four components

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-OpImageWrite-04469) VUID-vkCmdDrawIndirectByteCountEXT-OpImageWrite-04469

If a [VkBufferView](resources.html#VkBufferView) is accessed using `OpImageWrite` as a result
of this command, then the `Type` of the `Texel` operand of that
instruction **must** have at least as many components as the buffer view’s
format

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-SampledType-04470) VUID-vkCmdDrawIndirectByteCountEXT-SampledType-04470

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit component
width is accessed as a result of this command, the `SampledType` of
the `OpTypeImage` operand of that instruction **must** have a `Width`
of 64

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-SampledType-04471) VUID-vkCmdDrawIndirectByteCountEXT-SampledType-04471

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-SampledType-04472) VUID-vkCmdDrawIndirectByteCountEXT-SampledType-04472

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit
component width is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 64

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-SampledType-04473) VUID-vkCmdDrawIndirectByteCountEXT-SampledType-04473

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-sparseImageInt64Atomics-04474) VUID-vkCmdDrawIndirectByteCountEXT-sparseImageInt64Atomics-04474

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkImage](resources.html#VkImage)
objects created with the `VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT` flag
**must** not be accessed by atomic instructions through an `OpTypeImage`
with a `SampledType` with a `Width` of 64 by this command

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-sparseImageInt64Atomics-04475) VUID-vkCmdDrawIndirectByteCountEXT-sparseImageInt64Atomics-04475

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkBuffer](resources.html#VkBuffer)
objects created with the `VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT`
flag **must** not be accessed by atomic instructions through an
`OpTypeImage` with a `SampledType` with a `Width` of 64 by this
command

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-OpImageWeightedSampleQCOM-06971) VUID-vkCmdDrawIndirectByteCountEXT-OpImageWeightedSampleQCOM-06971

If `OpImageWeightedSampleQCOM` is used to sample a [VkImageView](resources.html#VkImageView)
as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_SAMPLED_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-OpImageWeightedSampleQCOM-06972) VUID-vkCmdDrawIndirectByteCountEXT-OpImageWeightedSampleQCOM-06972

If `OpImageWeightedSampleQCOM` uses a [VkImageView](resources.html#VkImageView) as a sample
weight image as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-OpImageBoxFilterQCOM-06973) VUID-vkCmdDrawIndirectByteCountEXT-OpImageBoxFilterQCOM-06973

If `OpImageBoxFilterQCOM` is used to sample a [VkImageView](resources.html#VkImageView) as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BOX_FILTER_SAMPLED_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-OpImageBlockMatchSSDQCOM-06974) VUID-vkCmdDrawIndirectByteCountEXT-OpImageBlockMatchSSDQCOM-06974

If `OpImageBlockMatchSSDQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-OpImageBlockMatchSADQCOM-06975) VUID-vkCmdDrawIndirectByteCountEXT-OpImageBlockMatchSADQCOM-06975

If `OpImageBlockMatchSADQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-OpImageBlockMatchSADQCOM-06976) VUID-vkCmdDrawIndirectByteCountEXT-OpImageBlockMatchSADQCOM-06976

If `OpImageBlockMatchSADQCOM` or OpImageBlockMatchSSDQCOM is used to
read from a reference image as result of this command, then the
specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-OpImageWeightedSampleQCOM-06977) VUID-vkCmdDrawIndirectByteCountEXT-OpImageWeightedSampleQCOM-06977

If `OpImageWeightedSampleQCOM`, `OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** have
been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-OpImageWeightedSampleQCOM-06978) VUID-vkCmdDrawIndirectByteCountEXT-OpImageWeightedSampleQCOM-06978

If any command other than `OpImageWeightedSampleQCOM`,
`OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** not
have been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-OpImageBlockMatchWindow-09215) VUID-vkCmdDrawIndirectByteCountEXT-OpImageBlockMatchWindow-09215

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-OpImageBlockMatchWindow-09216) VUID-vkCmdDrawIndirectByteCountEXT-OpImageBlockMatchWindow-09216

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
format **must** be a single-component format

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-OpImageBlockMatchWindow-09217) VUID-vkCmdDrawIndirectByteCountEXT-OpImageBlockMatchWindow-09217

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` read from a reference image as result
of this command, then the specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07288) VUID-vkCmdDrawIndirectByteCountEXT-None-07288

Any shader invocation executed by this command **must**
[terminate](shaders.html#shaders-termination)

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-09600) VUID-vkCmdDrawIndirectByteCountEXT-None-09600

If a descriptor with type equal to any of
`VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE`,
`VK_DESCRIPTOR_TYPE_STORAGE_IMAGE`, or
`VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT` is accessed as a result of
this command, all image subresources identified by that descriptor **must**
be in the image layout identified when the descriptor was written

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-commandBuffer-10746) VUID-vkCmdDrawIndirectByteCountEXT-commandBuffer-10746

The `VkDeviceMemory` object allocated from a `VkMemoryHeap` with
the `VK_MEMORY_HEAP_TILE_MEMORY_BIT_QCOM` property that is bound to
a resource accessed as a result of this command **must** be the active
bound [bound tile memory object](memory.html#memory-bind-tile-memory) in
`commandBuffer`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-10678) VUID-vkCmdDrawIndirectByteCountEXT-None-10678

If this command is recorded inside a [tile    shading render pass](renderpass.html#renderpass-tile-shading) instance, the stages corresponding to the pipeline
bind point used by this command **must** only include
`VK_SHADER_STAGE_VERTEX_BIT`, `VK_SHADER_STAGE_FRAGMENT_BIT`,
and/or `VK_SHADER_STAGE_COMPUTE_BIT`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-10679) VUID-vkCmdDrawIndirectByteCountEXT-None-10679

If this command is recorded where
[per-tile execution model](renderpass.html#renderpass-per-tile-execution-model) is
enabled, there **must** be no access to any image while the image was be
transitioned to the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` layout

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-renderPass-02684) VUID-vkCmdDrawIndirectByteCountEXT-renderPass-02684

The current render pass **must** be [compatible](renderpass.html#renderpass-compatibility)
with the `renderPass` member of the
`VkGraphicsPipelineCreateInfo` structure specified when creating the
`VkPipeline` bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-subpass-02685) VUID-vkCmdDrawIndirectByteCountEXT-subpass-02685

The subpass index of the current render pass **must** be equal to the
`subpass` member of the `VkGraphicsPipelineCreateInfo` structure
specified when creating the `VkPipeline` bound to
`VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07748) VUID-vkCmdDrawIndirectByteCountEXT-None-07748

If any shader statically accesses an input attachment, a valid
descriptor **must** be bound to the pipeline via a descriptor set

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-OpTypeImage-07468) VUID-vkCmdDrawIndirectByteCountEXT-OpTypeImage-07468

If any shader executed by this pipeline accesses an `OpTypeImage`
variable with a `Dim` operand of `SubpassData`, it **must** be
decorated with an `InputAttachmentIndex` that corresponds to a valid
input attachment in the current subpass

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07469) VUID-vkCmdDrawIndirectByteCountEXT-None-07469

Input attachment views accessed in a subpass **must** be created with the
same [VkFormat](formats.html#VkFormat) as the corresponding subpass definition, and be
created with a [VkImageView](resources.html#VkImageView) that is compatible with the attachment
referenced by the subpass'
`pInputAttachments`[`InputAttachmentIndex`] in the bound
[VkFramebuffer](renderpass.html#VkFramebuffer) as specified by
[Fragment Input Attachment    Compatibility](interfaces.html#compatibility-inputattachment)

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-pDepthInputAttachmentIndex-09595) VUID-vkCmdDrawIndirectByteCountEXT-pDepthInputAttachmentIndex-09595

Input attachment views accessed in a dynamic render pass with a
`InputAttachmentIndex` referenced by
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo), or no
`InputAttachmentIndex` if
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
or
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are `NULL`, **must** be created with a [VkImageView](resources.html#VkImageView) that is compatible
with the corresponding color, depth, or stencil attachment in
[VkRenderingInfo](renderpass.html#VkRenderingInfo)

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-pDepthInputAttachmentIndex-09596) VUID-vkCmdDrawIndirectByteCountEXT-pDepthInputAttachmentIndex-09596

Input attachment views accessed in a dynamic render pass via a shader
object **must** have an `InputAttachmentIndex` if both
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
and
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are non-`NULL`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-InputAttachmentIndex-09597) VUID-vkCmdDrawIndirectByteCountEXT-InputAttachmentIndex-09597

If an input attachment view accessed in a dynamic render pass via a
shader object has an `InputAttachmentIndex`, the
`InputAttachmentIndex` **must** match an index in
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-06537) VUID-vkCmdDrawIndirectByteCountEXT-None-06537

Memory backing image subresources used as attachments in the current
render pass **must** not be written in any way other than as an attachment
by this command

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-09000) VUID-vkCmdDrawIndirectByteCountEXT-None-09000

If a color attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

the `VK_PIPELINE_CREATE_COLOR_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT` is
set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_COLOR_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-09001) VUID-vkCmdDrawIndirectByteCountEXT-None-09001

If a depth attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_DEPTH_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-09002) VUID-vkCmdDrawIndirectByteCountEXT-None-09002

If a stencil attachment is written by any prior command in this subpass
or by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_STENCIL_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-09003) VUID-vkCmdDrawIndirectByteCountEXT-None-09003

If an attachment is written by any prior command in this subpass or by
the load, store, or resolve operations for this subpass, it **must** not be
accessed in any way other than as an attachment, storage image, or
sampled image by this command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-06539) VUID-vkCmdDrawIndirectByteCountEXT-None-06539

If any previously recorded command in the current subpass accessed an
image subresource used as an attachment in this subpass in any way other
than as an attachment, this command **must** not write to that image
subresource as an attachment

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-06886) VUID-vkCmdDrawIndirectByteCountEXT-None-06886

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the depth aspect, [depth    writes](fragops.html#fragops-depth-write) **must** be disabled

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-06887) VUID-vkCmdDrawIndirectByteCountEXT-None-06887

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the stencil aspect, both front and back
`writeMask` are not zero, and stencil test is enabled,
[all stencil ops](fragops.html#fragops-stencil) **must** be `VK_STENCIL_OP_KEEP`

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07831) VUID-vkCmdDrawIndirectByteCountEXT-None-07831

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT` dynamic state enabled then
[vkCmdSetViewport](vertexpostproc.html#vkCmdSetViewport) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07832) VUID-vkCmdDrawIndirectByteCountEXT-None-07832

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SCISSOR` dynamic state enabled then
[vkCmdSetScissor](fragops.html#vkCmdSetScissor) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07833) VUID-vkCmdDrawIndirectByteCountEXT-None-07833

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_WIDTH` dynamic state enabled then
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08617) VUID-vkCmdDrawIndirectByteCountEXT-None-08617

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command
buffer set `polygonMode` to `VK_POLYGON_MODE_LINE`,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08618) VUID-vkCmdDrawIndirectByteCountEXT-None-08618

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08619) VUID-vkCmdDrawIndirectByteCountEXT-None-08619

If a shader object that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, [vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07834) VUID-vkCmdDrawIndirectByteCountEXT-None-07834

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthBiasEnable`
is `VK_TRUE`, then [vkCmdSetDepthBias](primsrast.html#vkCmdSetDepthBias)
or [vkCmdSetDepthBias2EXT](primsrast.html#vkCmdSetDepthBias2EXT)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07835) VUID-vkCmdDrawIndirectByteCountEXT-None-07835

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_BLEND_CONSTANTS` dynamic state enabled then
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08621) VUID-vkCmdDrawIndirectByteCountEXT-None-08621

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) in the current command buffer set any
element of `pColorBlendEnables` to `VK_TRUE`, and the most
recent call to [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) in the current
command buffer set the same element of `pColorBlendEquations` to a
`VkColorBlendEquationEXT` structure with any [VkBlendFactor](framebuffer.html#VkBlendFactor)
member with a value of `VK_BLEND_FACTOR_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_CONSTANT_ALPHA`, or
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_ALPHA`,
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07836) VUID-vkCmdDrawIndirectByteCountEXT-None-07836

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`depthBoundsTestEnable` is `VK_TRUE`, then
[vkCmdSetDepthBounds](fragops.html#vkCmdSetDepthBounds) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07837) VUID-vkCmdDrawIndirectByteCountEXT-None-07837

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilCompareMask](fragops.html#vkCmdSetStencilCompareMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07838) VUID-vkCmdDrawIndirectByteCountEXT-None-07838

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07839) VUID-vkCmdDrawIndirectByteCountEXT-None-07839

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_REFERENCE` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of and
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilReference](fragops.html#vkCmdSetStencilReference) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-maxMultiviewInstanceIndex-02688) VUID-vkCmdDrawIndirectByteCountEXT-maxMultiviewInstanceIndex-02688

If the draw is recorded in a render pass instance with multiview
enabled, the maximum instance index **must** be less than or equal to
[VkPhysicalDeviceMultiviewProperties](limits.html#VkPhysicalDeviceMultiviewProperties)::`maxMultiviewInstanceIndex`

[](#VUID-vkCmdDrawIndirectByteCountEXT-sampleLocationsEnable-02689) VUID-vkCmdDrawIndirectByteCountEXT-sampleLocationsEnable-02689

If the bound graphics pipeline was created with
[VkPipelineSampleLocationsStateCreateInfoEXT](primsrast.html#VkPipelineSampleLocationsStateCreateInfoEXT)::`sampleLocationsEnable`
set to `VK_TRUE` and the current subpass has a depth/stencil
attachment, then that attachment **must** have been created with the
`VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT` bit set

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07634) VUID-vkCmdDrawIndirectByteCountEXT-None-07634

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-06666) VUID-vkCmdDrawIndirectByteCountEXT-None-06666

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
[vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07840) VUID-vkCmdDrawIndirectByteCountEXT-None-07840

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CULL_MODE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCullMode](primsrast.html#vkCmdSetCullMode) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07841) VUID-vkCmdDrawIndirectByteCountEXT-None-07841

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRONT_FACE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFrontFace](primsrast.html#vkCmdSetFrontFace) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07843) VUID-vkCmdDrawIndirectByteCountEXT-None-07843

 If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`,
[vkCmdSetDepthTestEnable](fragops.html#vkCmdSetDepthTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07844) VUID-vkCmdDrawIndirectByteCountEXT-None-07844

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07845) VUID-vkCmdDrawIndirectByteCountEXT-None-07845

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_COMPARE_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthCompareOp](fragops.html#vkCmdSetDepthCompareOp) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07846) VUID-vkCmdDrawIndirectByteCountEXT-None-07846

If the [`depthBounds`](features.html#features-depthBounds) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBoundsTestEnable](fragops.html#vkCmdSetDepthBoundsTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07847) VUID-vkCmdDrawIndirectByteCountEXT-None-07847

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetStencilTestEnable](fragops.html#vkCmdSetStencilTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07848) VUID-vkCmdDrawIndirectByteCountEXT-None-07848

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then [vkCmdSetStencilOp](fragops.html#vkCmdSetStencilOp)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawIndirectByteCountEXT-viewportCount-03417) VUID-vkCmdDrawIndirectByteCountEXT-viewportCount-03417

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-scissorCount-03418) VUID-vkCmdDrawIndirectByteCountEXT-scissorCount-03418

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetScissorWithCount](vertexpostproc.html#vkCmdSetScissorWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing

[](#VUID-vkCmdDrawIndirectByteCountEXT-viewportCount-03419) VUID-vkCmdDrawIndirectByteCountEXT-viewportCount-03419

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with both the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic states enabled,
and the state is not inherited,
then the `viewportCount` parameter of
`vkCmdSetViewportWithCount` **must** match the `scissorCount`
parameter of `vkCmdSetScissorWithCount`

[](#VUID-vkCmdDrawIndirectByteCountEXT-viewportCount-04137) VUID-vkCmdDrawIndirectByteCountEXT-viewportCount-04137

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportWScalingStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportWScalingStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndirectByteCountEXT-viewportCount-04138) VUID-vkCmdDrawIndirectByteCountEXT-viewportCount-04138

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08636) VUID-vkCmdDrawIndirectByteCountEXT-None-08636

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndirectByteCountEXT-viewportCount-04139) VUID-vkCmdDrawIndirectByteCountEXT-viewportCount-04139

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic
state enabled, then the bound graphics pipeline **must** have been created
with
[VkPipelineViewportShadingRateImageStateCreateInfoNV](primsrast.html#VkPipelineViewportShadingRateImageStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndirectByteCountEXT-shadingRateImage-09233) VUID-vkCmdDrawIndirectByteCountEXT-shadingRateImage-09233

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_COARSE_SAMPLE_ORDER_NV` and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoarseSampleOrderNV](primsrast.html#vkCmdSetCoarseSampleOrderNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-shadingRateImage-09234) VUID-vkCmdDrawIndirectByteCountEXT-shadingRateImage-09234

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08637) VUID-vkCmdDrawIndirectByteCountEXT-None-08637

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** be greater than or
equal to the `viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndirectByteCountEXT-VkPipelineVieportCreateInfo-04141) VUID-vkCmdDrawIndirectByteCountEXT-VkPipelineVieportCreateInfo-04141

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV) structure chained from
[VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound graphics
pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndirectByteCountEXT-VkPipelineVieportCreateInfo-04142) VUID-vkCmdDrawIndirectByteCountEXT-VkPipelineVieportCreateInfo-04142

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV) structure
chained from [VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound
graphics pipeline **must** have been created with
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV)::`exclusiveScissorCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07878) VUID-vkCmdDrawIndirectByteCountEXT-None-07878

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_ENABLE_NV` dynamic state
enabled, then [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07879) VUID-vkCmdDrawIndirectByteCountEXT-None-07879

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_NV` dynamic state enabled, and
the most recent call to [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) in the
current command buffer set any element of `pExclusiveScissorEnables`
to `VK_TRUE`, then [vkCmdSetExclusiveScissorNV](fragops.html#vkCmdSetExclusiveScissorNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-04876) VUID-vkCmdDrawIndirectByteCountEXT-None-04876

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE` dynamic state enabled,
then [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-04877) VUID-vkCmdDrawIndirectByteCountEXT-None-04877

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBiasEnable](primsrast.html#vkCmdSetDepthBiasEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-logicOp-04878) VUID-vkCmdDrawIndirectByteCountEXT-logicOp-04878

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `logicOpEnable` is
`VK_TRUE`, then [vkCmdSetLogicOpEXT](framebuffer.html#vkCmdSetLogicOpEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-primitiveFragmentShadingRateWithMultipleViewports-04552) VUID-vkCmdDrawIndirectByteCountEXT-primitiveFragmentShadingRateWithMultipleViewports-04552

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, and
any of the shader stages of the bound graphics pipeline write to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawIndirectByteCountEXT-primitiveFragmentShadingRateWithMultipleViewports-08642) VUID-vkCmdDrawIndirectByteCountEXT-primitiveFragmentShadingRateWithMultipleViewports-08642

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, and any shader object bound to a graphics stage writes to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawIndirectByteCountEXT-blendEnable-04727) VUID-vkCmdDrawIndirectByteCountEXT-blendEnable-04727

If rasterization is not disabled in the bound graphics pipeline, then
for each color attachment in the subpass, if the corresponding image
view’s [format features](resources.html#resources-image-view-format-features) do not
contain `VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
`blendEnable` member of the corresponding element of the
`pAttachments` member of `pColorBlendState` **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08643) VUID-vkCmdDrawIndirectByteCountEXT-None-08643

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then for each color attachment in the render pass, if
the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) do not contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
corresponding member of `pColorBlendEnables` in the most recent call
to `vkCmdSetColorBlendEnableEXT` in the current command buffer that
affected that attachment index **must** have been `VK_FALSE`

[](#VUID-vkCmdDrawIndirectByteCountEXT-multisampledRenderToSingleSampled-07284) VUID-vkCmdDrawIndirectByteCountEXT-multisampledRenderToSingleSampled-07284

If rasterization is not disabled in the bound graphics pipeline,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then `rasterizationSamples` for the bound graphics pipeline **must** be the
same as the current subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08644) VUID-vkCmdDrawIndirectByteCountEXT-None-08644

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then the most recent call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) in the
current command buffer **must** have set `rasterizationSamples` to be the
same as the number of samples for the current render pass color and/or
depth/stencil attachments

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08876) VUID-vkCmdDrawIndirectByteCountEXT-None-08876

If a shader object is bound to any graphics stage, the current render
pass instance **must** have been begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)

[](#VUID-vkCmdDrawIndirectByteCountEXT-imageView-06172) VUID-vkCmdDrawIndirectByteCountEXT-imageView-06172

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the depth attachment

[](#VUID-vkCmdDrawIndirectByteCountEXT-imageView-06173) VUID-vkCmdDrawIndirectByteCountEXT-imageView-06173

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawIndirectByteCountEXT-imageView-06174) VUID-vkCmdDrawIndirectByteCountEXT-imageView-06174

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL`, this
command **must** not write any values to the depth attachment

[](#VUID-vkCmdDrawIndirectByteCountEXT-imageView-06175) VUID-vkCmdDrawIndirectByteCountEXT-imageView-06175

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL`, this
command **must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawIndirectByteCountEXT-imageView-06176) VUID-vkCmdDrawIndirectByteCountEXT-imageView-06176

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the depth attachment

[](#VUID-vkCmdDrawIndirectByteCountEXT-imageView-06177) VUID-vkCmdDrawIndirectByteCountEXT-imageView-06177

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the stencil attachment

[](#VUID-vkCmdDrawIndirectByteCountEXT-viewMask-06178) VUID-vkCmdDrawIndirectByteCountEXT-viewMask-06178

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a [VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`viewMask` equal
to [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`viewMask`

[](#VUID-vkCmdDrawIndirectByteCountEXT-colorAttachmentCount-06179) VUID-vkCmdDrawIndirectByteCountEXT-colorAttachmentCount-06179

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`colorAttachmentCount` equal to
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount`

[](#VUID-vkCmdDrawIndirectByteCountEXT-dynamicRenderingUnusedAttachments-08910) VUID-vkCmdDrawIndirectByteCountEXT-dynamicRenderingUnusedAttachments-08910

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have
been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline

[](#VUID-vkCmdDrawIndirectByteCountEXT-dynamicRenderingUnusedAttachments-08912) VUID-vkCmdDrawIndirectByteCountEXT-dynamicRenderingUnusedAttachments-08912

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have the
corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound pipeline equal to `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndirectByteCountEXT-dynamicRenderingUnusedAttachments-08911) VUID-vkCmdDrawIndirectByteCountEXT-dynamicRenderingUnusedAttachments-08911

If the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled, and the
current render pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`,
then each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments`
array with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must**
have been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding
element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline, or the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats`, if
it exists, **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndirectByteCountEXT-colorAttachmentCount-09362) VUID-vkCmdDrawIndirectByteCountEXT-colorAttachmentCount-09362

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`,
there is no shader object bound to any graphics stage,
and a color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`resolveImageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-09363) VUID-vkCmdDrawIndirectByteCountEXT-None-09363

If
there is no shader object bound to any graphics stage,
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, and a
color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-09364) VUID-vkCmdDrawIndirectByteCountEXT-None-09364

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set the blend enable
to `VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-09365) VUID-vkCmdDrawIndirectByteCountEXT-None-09365

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-09366) VUID-vkCmdDrawIndirectByteCountEXT-None-09366

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set blend enable to
`VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-rasterizationSamples-09367) VUID-vkCmdDrawIndirectByteCountEXT-rasterizationSamples-09367

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-09368) VUID-vkCmdDrawIndirectByteCountEXT-None-09368

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-09369) VUID-vkCmdDrawIndirectByteCountEXT-None-09369

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-pFragmentSize-09370) VUID-vkCmdDrawIndirectByteCountEXT-pFragmentSize-09370

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-pFragmentSize-09371) VUID-vkCmdDrawIndirectByteCountEXT-pFragmentSize-09371

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07749) VUID-vkCmdDrawIndirectByteCountEXT-None-07749

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08646) VUID-vkCmdDrawIndirectByteCountEXT-None-08646

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-attachmentCount-07750) VUID-vkCmdDrawIndirectByteCountEXT-attachmentCount-07750

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
the `attachmentCount` parameter of `vkCmdSetColorWriteEnableEXT`
**must** be greater than or equal to the
`VkPipelineColorBlendStateCreateInfo`::`attachmentCount` of the
bound graphics pipeline

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08647) VUID-vkCmdDrawIndirectByteCountEXT-None-08647

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then the
`attachmentCount` parameter of most recent call to
`vkCmdSetColorWriteEnableEXT` in the current command buffer **must** be
greater than or equal to the number of color attachments in the current
render pass instance

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07751) VUID-vkCmdDrawIndirectByteCountEXT-None-07751

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled, a
graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) included a
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT)::`discardRectangleCount`

[](#VUID-vkCmdDrawIndirectByteCountEXT-rasterizerDiscardEnable-09236) VUID-vkCmdDrawIndirectByteCountEXT-rasterizerDiscardEnable-09236

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) did not
include a [VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPhysicalDeviceDiscardRectanglePropertiesEXT](limits.html#VkPhysicalDeviceDiscardRectanglePropertiesEXT)::`maxDiscardRectangles`

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07880) VUID-vkCmdDrawIndirectByteCountEXT-None-07880

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_ENABLE_EXT` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDiscardRectangleEnableEXT](fragops.html#vkCmdSetDiscardRectangleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07881) VUID-vkCmdDrawIndirectByteCountEXT-None-07881

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_MODE_EXT` dynamic state enabled,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleModeEXT](fragops.html#vkCmdSetDiscardRectangleModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-dynamicRenderingUnusedAttachments-08913) VUID-vkCmdDrawIndirectByteCountEXT-dynamicRenderingUnusedAttachments-08913

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndirectByteCountEXT-dynamicRenderingUnusedAttachments-08914) VUID-vkCmdDrawIndirectByteCountEXT-dynamicRenderingUnusedAttachments-08914

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawIndirectByteCountEXT-dynamicRenderingUnusedAttachments-08915) VUID-vkCmdDrawIndirectByteCountEXT-dynamicRenderingUnusedAttachments-08915

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline was not equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`,
the value of the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndirectByteCountEXT-dynamicRenderingUnusedAttachments-08916) VUID-vkCmdDrawIndirectByteCountEXT-dynamicRenderingUnusedAttachments-08916

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndirectByteCountEXT-dynamicRenderingUnusedAttachments-08917) VUID-vkCmdDrawIndirectByteCountEXT-dynamicRenderingUnusedAttachments-08917

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawIndirectByteCountEXT-dynamicRenderingUnusedAttachments-08918) VUID-vkCmdDrawIndirectByteCountEXT-dynamicRenderingUnusedAttachments-08918

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline was not equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`, the value of
the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndirectByteCountEXT-imageView-06183) VUID-vkCmdDrawIndirectByteCountEXT-imageView-06183

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentShadingRateAttachmentInfoKHR](renderpass.html#VkRenderingFragmentShadingRateAttachmentInfoKHR)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR`

[](#VUID-vkCmdDrawIndirectByteCountEXT-imageView-06184) VUID-vkCmdDrawIndirectByteCountEXT-imageView-06184

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentDensityMapAttachmentInfoEXT](renderpass.html#VkRenderingFragmentDensityMapAttachmentInfoEXT)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT`

[](#VUID-vkCmdDrawIndirectByteCountEXT-colorAttachmentCount-06185) VUID-vkCmdDrawIndirectByteCountEXT-colorAttachmentCount-06185

If the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and the current render
pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
`0`, then each element of the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with a sample count equal to the corresponding element of the
`pColorAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline

[](#VUID-vkCmdDrawIndirectByteCountEXT-pDepthAttachment-06186) VUID-vkCmdDrawIndirectByteCountEXT-pDepthAttachment-06186

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawIndirectByteCountEXT-pStencilAttachment-06187) VUID-vkCmdDrawIndirectByteCountEXT-pStencilAttachment-06187

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawIndirectByteCountEXT-multisampledRenderToSingleSampled-07285) VUID-vkCmdDrawIndirectByteCountEXT-multisampledRenderToSingleSampled-07285

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    the current render pass instance was begun with
    [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
    `0`, then each element of the
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
    `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
    created with a sample count equal to the value of
    `rasterizationSamples` for the bound graphics pipeline

[](#VUID-vkCmdDrawIndirectByteCountEXT-multisampledRenderToSingleSampled-07286) VUID-vkCmdDrawIndirectByteCountEXT-multisampledRenderToSingleSampled-07286

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawIndirectByteCountEXT-multisampledRenderToSingleSampled-07287) VUID-vkCmdDrawIndirectByteCountEXT-multisampledRenderToSingleSampled-07287

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawIndirectByteCountEXT-pNext-07935) VUID-vkCmdDrawIndirectByteCountEXT-pNext-07935

If this command has been called inside a render pass instance started
with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), and the `pNext` chain of
[VkRenderingInfo](renderpass.html#VkRenderingInfo) includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the value of `rasterizationSamples` for the bound graphics
pipeline **must** be equal to
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT)::`rasterizationSamples`

[](#VUID-vkCmdDrawIndirectByteCountEXT-renderPass-06198) VUID-vkCmdDrawIndirectByteCountEXT-renderPass-06198

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline **must** have been created
with a [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`renderPass` equal to
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

[](#VUID-vkCmdDrawIndirectByteCountEXT-pColorAttachments-08963) VUID-vkCmdDrawIndirectByteCountEXT-pColorAttachments-08963

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound with a
fragment shader that statically writes to a color attachment, the color
write mask is not zero, color writes are enabled, and the corresponding
element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments->imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndirectByteCountEXT-pDepthAttachment-08964) VUID-vkCmdDrawIndirectByteCountEXT-pDepthAttachment-08964

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, depth
test is enabled, depth write is enabled, and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndirectByteCountEXT-pStencilAttachment-08965) VUID-vkCmdDrawIndirectByteCountEXT-pStencilAttachment-08965

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, stencil
test is enabled and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawIndirectByteCountEXT-flags-10582) VUID-vkCmdDrawIndirectByteCountEXT-flags-10582

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), its [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`flags`
parameter **must** not have
`VK_RENDERING_CONTENTS_SECONDARY_COMMAND_BUFFERS_BIT` set
unless `VK_RENDERING_CONTENTS_INLINE_BIT_KHR` is also set

[](#VUID-vkCmdDrawIndirectByteCountEXT-primitivesGeneratedQueryWithRasterizerDiscard-06708) VUID-vkCmdDrawIndirectByteCountEXT-primitivesGeneratedQueryWithRasterizerDiscard-06708

If the [    `primitivesGeneratedQueryWithRasterizerDiscard`](features.html#features-primitivesGeneratedQueryWithRasterizerDiscard) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, [rasterization discard](primsrast.html#primsrast-discard) **must** not be enabled

[](#VUID-vkCmdDrawIndirectByteCountEXT-primitivesGeneratedQueryWithNonZeroStreams-06709) VUID-vkCmdDrawIndirectByteCountEXT-primitivesGeneratedQueryWithNonZeroStreams-06709

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, the bound graphics pipeline **must** not have been created with a
non-zero value in
`VkPipelineRasterizationStateStreamCreateInfoEXT`::`rasterizationStream`

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07620) VUID-vkCmdDrawIndirectByteCountEXT-None-07620

If the [`depthClamp`](features.html#features-depthClamp) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthClampEnableEXT](vertexpostproc.html#vkCmdSetDepthClampEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07621) VUID-vkCmdDrawIndirectByteCountEXT-None-07621

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_POLYGON_MODE_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07622) VUID-vkCmdDrawIndirectByteCountEXT-None-07622

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07623) VUID-vkCmdDrawIndirectByteCountEXT-None-07623

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-alphaToCoverageEnable-08919) VUID-vkCmdDrawIndirectByteCountEXT-alphaToCoverageEnable-08919

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and `alphaToCoverageEnable` was `VK_TRUE` in the last
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT), then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawIndirectByteCountEXT-alphaToCoverageEnable-08920) VUID-vkCmdDrawIndirectByteCountEXT-alphaToCoverageEnable-08920

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) in the current command
buffer set `alphaToCoverageEnable` to `VK_TRUE`, then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07624) VUID-vkCmdDrawIndirectByteCountEXT-None-07624

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07625) VUID-vkCmdDrawIndirectByteCountEXT-None-07625

If the [`alphaToOne`](features.html#features-alphaToOne) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_ONE_ENABLE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToOneEnableEXT](fragops.html#vkCmdSetAlphaToOneEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07626) VUID-vkCmdDrawIndirectByteCountEXT-None-07626

If the [`logicOp`](features.html#features-logicOp) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetLogicOpEnableEXT](framebuffer.html#vkCmdSetLogicOpEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07627) VUID-vkCmdDrawIndirectByteCountEXT-None-07627

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08657) VUID-vkCmdDrawIndirectByteCountEXT-None-08657

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have
been called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime)
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07628) VUID-vkCmdDrawIndirectByteCountEXT-None-07628

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08658) VUID-vkCmdDrawIndirectByteCountEXT-None-08658

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) for any attachment set that
attachment’s value in `pColorBlendEnables` to `VK_TRUE`, then
[vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07629) VUID-vkCmdDrawIndirectByteCountEXT-None-07629

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08659) VUID-vkCmdDrawIndirectByteCountEXT-None-08659

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07630) VUID-vkCmdDrawIndirectByteCountEXT-None-07630

If the [`geometryStreams`](features.html#features-geometryStreams) feature is
enabled, and
a shader object is bound to the `VK_SHADER_STAGE_GEOMETRY_BIT` stage
or
a graphics pipeline is bound which was created with both a
`VK_SHADER_STAGE_GEOMETRY_BIT` stage and the
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` dynamic state enabled,
then [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07631) VUID-vkCmdDrawIndirectByteCountEXT-None-07631

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07632) VUID-vkCmdDrawIndirectByteCountEXT-None-07632

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXTRA_PRIMITIVE_OVERESTIMATION_SIZE_EXT` dynamic
state enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`conservativeRasterizationMode` is
`VK_CONSERVATIVE_RASTERIZATION_MODE_OVERESTIMATE_EXT`, then
[vkCmdSetExtraPrimitiveOverestimationSizeEXT](primsrast.html#vkCmdSetExtraPrimitiveOverestimationSizeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07633) VUID-vkCmdDrawIndirectByteCountEXT-None-07633

If the [`depthClipEnable`](features.html#features-depthClipEnable) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_ENABLE_EXT` dynamic state, then
[vkCmdSetDepthClipEnableEXT](vertexpostproc.html#vkCmdSetDepthClipEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07635) VUID-vkCmdDrawIndirectByteCountEXT-None-07635

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-rasterizerDiscardEnable-09416) VUID-vkCmdDrawIndirectByteCountEXT-rasterizerDiscardEnable-09416

If the `[VK_EXT_blend_operation_advanced](../appendices/extensions.html#VK_EXT_blend_operation_advanced)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then at least one of [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT)
and [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07636) VUID-vkCmdDrawIndirectByteCountEXT-None-07636

If the `[VK_EXT_provoking_vertex](../appendices/extensions.html#VK_EXT_provoking_vertex)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_PROVOKING_VERTEX_MODE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetProvokingVertexModeEXT](vertexpostproc.html#vkCmdSetProvokingVertexModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07637) VUID-vkCmdDrawIndirectByteCountEXT-None-07637

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state enabled
then [vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08666) VUID-vkCmdDrawIndirectByteCountEXT-None-08666

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08667) VUID-vkCmdDrawIndirectByteCountEXT-None-08667

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08668) VUID-vkCmdDrawIndirectByteCountEXT-None-08668

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07638) VUID-vkCmdDrawIndirectByteCountEXT-None-07638

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` dynamic state enabled
then [vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08669) VUID-vkCmdDrawIndirectByteCountEXT-None-08669

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08670) VUID-vkCmdDrawIndirectByteCountEXT-None-08670

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08671) VUID-vkCmdDrawIndirectByteCountEXT-None-08671

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07849) VUID-vkCmdDrawIndirectByteCountEXT-None-07849

    If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled and
    a shader object is bound to any graphics stage, or
    a bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE`
    dynamic state enabled, the [current    value](pipelines.html#dynamic-state-current-value) of `rasterizerDiscardEnable` is `VK_FALSE`, and the
    [current value](pipelines.html#dynamic-state-current-value) of
    `stippledLineEnable` is `VK_TRUE`, then
[vkCmdSetLineStipple](primsrast.html#vkCmdSetLineStipple)
    **must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
    command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-10608) VUID-vkCmdDrawIndirectByteCountEXT-None-10608

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the current `lineRasterizationMode` is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM` or
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the current
`alphaToCoverageEnable`, `alphaToOneEnable` and
`sampleShadingEnable` states **must** all be `VK_FALSE`

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07639) VUID-vkCmdDrawIndirectByteCountEXT-None-07639

If the [`depthClipControl`](features.html#features-depthClipControl) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_NEGATIVE_ONE_TO_ONE_EXT` dynamic state
enabled, then [vkCmdSetDepthClipNegativeOneToOneEXT](vertexpostproc.html#vkCmdSetDepthClipNegativeOneToOneEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-09650) VUID-vkCmdDrawIndirectByteCountEXT-None-09650

If the [`depthClampControl`](features.html#features-depthClampControl) feature
is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_RANGE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`depthClampEnable` is `VK_TRUE`, then
[vkCmdSetDepthClampRangeEXT](fragops.html#vkCmdSetDepthClampRangeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07640) VUID-vkCmdDrawIndirectByteCountEXT-None-07640

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_ENABLE_NV` dynamic state
enabled, then [vkCmdSetViewportWScalingEnableNV](vertexpostproc.html#vkCmdSetViewportWScalingEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07641) VUID-vkCmdDrawIndirectByteCountEXT-None-07641

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state enabled, then
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07642) VUID-vkCmdDrawIndirectByteCountEXT-None-07642

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07643) VUID-vkCmdDrawIndirectByteCountEXT-None-07643

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_LOCATION_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageToColorEnable` is `VK_TRUE`, then
[vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07644) VUID-vkCmdDrawIndirectByteCountEXT-None-07644

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_MODE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageModulationModeNV](fragops.html#vkCmdSetCoverageModulationModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07645) VUID-vkCmdDrawIndirectByteCountEXT-None-07645

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationMode` is any value other than
`VK_COVERAGE_MODULATION_MODE_NONE_NV`, then
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07646) VUID-vkCmdDrawIndirectByteCountEXT-None-07646

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationTableEnable` is `VK_TRUE`, then
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07647) VUID-vkCmdDrawIndirectByteCountEXT-None-07647

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SHADING_RATE_IMAGE_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetShadingRateImageEnableNV](primsrast.html#vkCmdSetShadingRateImageEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-pipelineFragmentShadingRate-09238) VUID-vkCmdDrawIndirectByteCountEXT-pipelineFragmentShadingRate-09238

If the [    `pipelineFragmentShadingRate`](features.html#features-pipelineFragmentShadingRate) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07648) VUID-vkCmdDrawIndirectByteCountEXT-None-07648

If the [    `representativeFragmentTest`](features.html#features-representativeFragmentTest) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_REPRESENTATIVE_FRAGMENT_TEST_ENABLE_NV` dynamic
state enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRepresentativeFragmentTestEnableNV](fragops.html#vkCmdSetRepresentativeFragmentTestEnableNV) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07649) VUID-vkCmdDrawIndirectByteCountEXT-None-07649

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageReductionModeNV](fragops.html#vkCmdSetCoverageReductionModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-pColorBlendEnables-07470) VUID-vkCmdDrawIndirectByteCountEXT-pColorBlendEnables-07470

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` state enabled and the last
call to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) set `pColorBlendEnables`
for any attachment to `VK_TRUE`, then for those attachments in the
subpass the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`

[](#VUID-vkCmdDrawIndirectByteCountEXT-rasterizationSamples-07471) VUID-vkCmdDrawIndirectByteCountEXT-rasterizationSamples-07471

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
current subpass does not use any color and/or depth/stencil attachments,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** follow the rules for a
[zero-attachment subpass](renderpass.html#renderpass-noattachments)

[](#VUID-vkCmdDrawIndirectByteCountEXT-samples-07472) VUID-vkCmdDrawIndirectByteCountEXT-samples-07472

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo)::`rasterizationSamples`
parameter used to create the bound graphics pipeline

[](#VUID-vkCmdDrawIndirectByteCountEXT-samples-07473) VUID-vkCmdDrawIndirectByteCountEXT-samples-07473

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state and
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` states enabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
`rasterizationSamples` parameter in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndirectByteCountEXT-rasterizationSamples-07474) VUID-vkCmdDrawIndirectByteCountEXT-rasterizationSamples-07474

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and
the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
neither the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` nor the
`[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extensions are enabled, then
the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the current
subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-09211) VUID-vkCmdDrawIndirectByteCountEXT-None-09211

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled,
or a shader object is bound to any graphics stage,
and the current render pass instance includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the
`rasterizationSamples` member of that structure

[](#VUID-vkCmdDrawIndirectByteCountEXT-firstAttachment-07476) VUID-vkCmdDrawIndirectByteCountEXT-firstAttachment-07476

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorBlendEnableEXT` calls **must** specify an
enable for all active color attachments in the current subpass

[](#VUID-vkCmdDrawIndirectByteCountEXT-rasterizerDiscardEnable-09417) VUID-vkCmdDrawIndirectByteCountEXT-rasterizerDiscardEnable-09417

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEnableEXT`
calls **must** specify an enable for all active color attachments in the
current subpass

[](#VUID-vkCmdDrawIndirectByteCountEXT-firstAttachment-07477) VUID-vkCmdDrawIndirectByteCountEXT-firstAttachment-07477

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawIndirectByteCountEXT-rasterizerDiscardEnable-09418) VUID-vkCmdDrawIndirectByteCountEXT-rasterizerDiscardEnable-09418

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have
been called in the current command buffer prior to this drawing command,
and the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawIndirectByteCountEXT-firstAttachment-07478) VUID-vkCmdDrawIndirectByteCountEXT-firstAttachment-07478

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorWriteMaskEXT` calls **must** specify the
color write mask for all active color attachments in the current subpass

[](#VUID-vkCmdDrawIndirectByteCountEXT-rasterizerDiscardEnable-09419) VUID-vkCmdDrawIndirectByteCountEXT-rasterizerDiscardEnable-09419

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorWriteMaskEXT`
calls **must** specify the color write mask for all active color
attachments in the current subpass

[](#VUID-vkCmdDrawIndirectByteCountEXT-firstAttachment-07479) VUID-vkCmdDrawIndirectByteCountEXT-firstAttachment-07479

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendAdvancedEXT`
calls **must** specify the advanced blend equations for all active color
attachments in the current subpass where blending is enabled

[](#VUID-vkCmdDrawIndirectByteCountEXT-advancedBlendMaxColorAttachments-07480) VUID-vkCmdDrawIndirectByteCountEXT-advancedBlendMaxColorAttachments-07480

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` and
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic states enabled and
the last calls to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) and
[vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) have enabled advanced blending, then
the number of active color attachments in the current subpass **must** not
exceed [    `advancedBlendMaxColorAttachments`](limits.html#limits-advancedBlendMaxColorAttachments)

[](#VUID-vkCmdDrawIndirectByteCountEXT-primitivesGeneratedQueryWithNonZeroStreams-07481) VUID-vkCmdDrawIndirectByteCountEXT-primitivesGeneratedQueryWithNonZeroStreams-07481

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, and the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` state enabled, the last
call to [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have set the
`rasterizationStream` to zero

[](#VUID-vkCmdDrawIndirectByteCountEXT-sampleLocationsPerPixel-07482) VUID-vkCmdDrawIndirectByteCountEXT-sampleLocationsPerPixel-07482

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` member of the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo) structure the bound graphics
pipeline has been created with

[](#VUID-vkCmdDrawIndirectByteCountEXT-sampleLocationsPerPixel-07483) VUID-vkCmdDrawIndirectByteCountEXT-sampleLocationsPerPixel-07483

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` parameter of the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndirectByteCountEXT-sampleLocationsEnable-07484) VUID-vkCmdDrawIndirectByteCountEXT-sampleLocationsEnable-07484

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), and the current subpass has a
depth/stencil attachment, then that attachment **must** have been created
with the `VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT`
bit set

[](#VUID-vkCmdDrawIndirectByteCountEXT-sampleLocationsEnable-07485) VUID-vkCmdDrawIndirectByteCountEXT-sampleLocationsEnable-07485

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.width` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawIndirectByteCountEXT-sampleLocationsEnable-07486) VUID-vkCmdDrawIndirectByteCountEXT-sampleLocationsEnable-07486

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.height` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawIndirectByteCountEXT-sampleLocationsEnable-07487) VUID-vkCmdDrawIndirectByteCountEXT-sampleLocationsEnable-07487

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), the fragment shader code **must**
not statically use the extended instruction `InterpolateAtSample`

[](#VUID-vkCmdDrawIndirectByteCountEXT-sampleLocationsEnable-07936) VUID-vkCmdDrawIndirectByteCountEXT-sampleLocationsEnable-07936

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.width` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndirectByteCountEXT-sampleLocationsEnable-07937) VUID-vkCmdDrawIndirectByteCountEXT-sampleLocationsEnable-07937

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.height` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndirectByteCountEXT-sampleLocationsEnable-07938) VUID-vkCmdDrawIndirectByteCountEXT-sampleLocationsEnable-07938

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationsPerPixel` **must** equal
`rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawIndirectByteCountEXT-coverageModulationTableEnable-07488) VUID-vkCmdDrawIndirectByteCountEXT-coverageModulationTableEnable-07488

If
a shader object is bound to any graphics stage or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` state
enabled, and the last call to
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) set
`coverageModulationTableEnable` to `VK_TRUE`, then the
`coverageModulationTableCount` parameter in the last call to
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** equal the current
`rasterizationSamples` divided by the number of color samples in the
current subpass

[](#VUID-vkCmdDrawIndirectByteCountEXT-rasterizationSamples-07489) VUID-vkCmdDrawIndirectByteCountEXT-rasterizationSamples-07489

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and if current subpass has a depth/stencil attachment and depth test,
stencil test, or depth bounds test are enabled in the bound pipeline,
then the current `rasterizationSamples` **must** be the same as the
sample count of the depth/stencil attachment

[](#VUID-vkCmdDrawIndirectByteCountEXT-coverageToColorEnable-07490) VUID-vkCmdDrawIndirectByteCountEXT-coverageToColorEnable-07490

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` state enabled and the
last call to [vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawIndirectByteCountEXT-rasterizerDiscardEnable-09420) VUID-vkCmdDrawIndirectByteCountEXT-rasterizerDiscardEnable-09420

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the last call to
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawIndirectByteCountEXT-coverageReductionMode-07491) VUID-vkCmdDrawIndirectByteCountEXT-coverageReductionMode-07491

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` or
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic states enabled,
then the [current values](pipelines.html#dynamic-state-current-value) of
`coverageReductionMode`, `rasterizationSamples`, the sample
counts for the color and depth/stencil attachments (if the subpass has
them) **must** be a valid combination returned by
[vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV](fragops.html#vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV)

[](#VUID-vkCmdDrawIndirectByteCountEXT-viewportCount-07492) VUID-vkCmdDrawIndirectByteCountEXT-viewportCount-07492

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndirectByteCountEXT-viewportCount-07493) VUID-vkCmdDrawIndirectByteCountEXT-viewportCount-07493

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic states enabled then
the `viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndirectByteCountEXT-viewportCount-09421) VUID-vkCmdDrawIndirectByteCountEXT-viewportCount-09421

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and a
shader object is bound to any graphics stage, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawIndirectByteCountEXT-rasterizationSamples-07494) VUID-vkCmdDrawIndirectByteCountEXT-rasterizationSamples-07494

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is not enabled, or the [current    value](pipelines.html#dynamic-state-current-value) of `coverageReductionMode` is not
`VK_COVERAGE_REDUCTION_MODE_TRUNCATE_NV`,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizationSamples` is greater than sample count of the color
attachment, then [sample shading](primsrast.html#primsrast-sampleshading) **must** be
disabled

[](#VUID-vkCmdDrawIndirectByteCountEXT-stippledLineEnable-07495) VUID-vkCmdDrawIndirectByteCountEXT-stippledLineEnable-07495

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled

[](#VUID-vkCmdDrawIndirectByteCountEXT-stippledLineEnable-07496) VUID-vkCmdDrawIndirectByteCountEXT-stippledLineEnable-07496

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM`, then the
[`stippledBresenhamLines`](features.html#features-stippledBresenhamLines)
feature **must** be enabled

[](#VUID-vkCmdDrawIndirectByteCountEXT-stippledLineEnable-07497) VUID-vkCmdDrawIndirectByteCountEXT-stippledLineEnable-07497

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the
[`stippledSmoothLines`](features.html#features-stippledSmoothLines) feature
**must** be enabled

[](#VUID-vkCmdDrawIndirectByteCountEXT-stippledLineEnable-07498) VUID-vkCmdDrawIndirectByteCountEXT-stippledLineEnable-07498

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_DEFAULT`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled and
[VkPhysicalDeviceLimits](limits.html#VkPhysicalDeviceLimits)::`strictLines` **must** be `VK_TRUE`

[](#VUID-vkCmdDrawIndirectByteCountEXT-conservativePointAndLineRasterization-07499) VUID-vkCmdDrawIndirectByteCountEXT-conservativePointAndLineRasterization-07499

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, [    `conservativePointAndLineRasterization`](limits.html#limits-conservativePointAndLineRasterization) is not supported, and the
effective primitive topology output by the last pre-rasterization shader
stage is a line or point, then the `conservativeRasterizationMode`
set by the last call to [vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT)
**must** be `VK_CONSERVATIVE_RASTERIZATION_MODE_DISABLED_EXT`

[](#VUID-vkCmdDrawIndirectByteCountEXT-stage-07073) VUID-vkCmdDrawIndirectByteCountEXT-stage-07073

If the bound pipeline was created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of an element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT`, then [Mesh    Shader Queries](queries.html#queries-mesh-shader) **must** not be active

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08877) VUID-vkCmdDrawIndirectByteCountEXT-None-08877

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07850) VUID-vkCmdDrawIndirectByteCountEXT-None-07850

If dynamic state was inherited from
[VkCommandBufferInheritanceViewportScissorInfoNV](cmdbuffers.html#VkCommandBufferInheritanceViewportScissorInfoNV), it **must** be set
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawIndirectByteCountEXT-nextStage-10745) VUID-vkCmdDrawIndirectByteCountEXT-nextStage-10745

For each shader object bound to a graphics stage, except for shader
object bound to the last graphics stage in the logical pipeline, it
**must** have been created with a `nextStage` including the
corresponding bit to the shader object bound to the following graphics
stage in the logical pipeline

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08684) VUID-vkCmdDrawIndirectByteCountEXT-None-08684

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_VERTEX_BIT`

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08685) VUID-vkCmdDrawIndirectByteCountEXT-None-08685

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08686) VUID-vkCmdDrawIndirectByteCountEXT-None-08686

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT`

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08687) VUID-vkCmdDrawIndirectByteCountEXT-None-08687

If there is no bound graphics pipeline, and the
[`geometryShader`](features.html#features-geometryShader) feature is enabled,
`vkCmdBindShadersEXT` **must** have been called in the current command
buffer with `pStages` with an element of
`VK_SHADER_STAGE_GEOMETRY_BIT`

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08688) VUID-vkCmdDrawIndirectByteCountEXT-None-08688

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_FRAGMENT_BIT`

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08689) VUID-vkCmdDrawIndirectByteCountEXT-None-08689

If there is no bound graphics pipeline, and the [    `taskShader`](features.html#features-taskShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_TASK_BIT_EXT`

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08690) VUID-vkCmdDrawIndirectByteCountEXT-None-08690

If there is no bound graphics pipeline, and the [    `meshShader`](features.html#features-meshShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_MESH_BIT_EXT`

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08693) VUID-vkCmdDrawIndirectByteCountEXT-None-08693

If there is no bound graphics pipeline, and at least one of the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features is enabled, one of the
`VK_SHADER_STAGE_VERTEX_BIT` or `VK_SHADER_STAGE_MESH_BIT_EXT`
stages **must** have a valid `VkShaderEXT` bound, and the other **must**
have no `VkShaderEXT` bound

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08696) VUID-vkCmdDrawIndirectByteCountEXT-None-08696

If there is no bound graphics pipeline, and a valid `VkShaderEXT` is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, there **must** be no
`VkShaderEXT` bound to either the `VK_SHADER_STAGE_TASK_BIT_EXT`
stage or the `VK_SHADER_STAGE_MESH_BIT_EXT` stage

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08698) VUID-vkCmdDrawIndirectByteCountEXT-None-08698

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, then all shaders created
with the `VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag in the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** also be bound

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08699) VUID-vkCmdDrawIndirectByteCountEXT-None-08699

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, any stages in between
stages whose shaders which did not create a shader with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag as part of the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** not have any `VkShaderEXT` bound

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08878) VUID-vkCmdDrawIndirectByteCountEXT-None-08878

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) push constant
ranges

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08879) VUID-vkCmdDrawIndirectByteCountEXT-None-08879

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) arrays of
descriptor set layouts

[](#VUID-vkCmdDrawIndirectByteCountEXT-colorAttachmentCount-09372) VUID-vkCmdDrawIndirectByteCountEXT-colorAttachmentCount-09372

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, a color
attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, and a fragment
shader is bound, it **must** not declare the `DepthReplacing` or
`StencilRefReplacingEXT` execution modes

[](#VUID-vkCmdDrawIndirectByteCountEXT-pDynamicStates-08715) VUID-vkCmdDrawIndirectByteCountEXT-pDynamicStates-08715

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpDepthAttachmentReadEXT`, the `depthWriteEnable` parameter
in the last call to [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawIndirectByteCountEXT-pDynamicStates-08716) VUID-vkCmdDrawIndirectByteCountEXT-pDynamicStates-08716

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpStencilAttachmentReadEXT`, the `writeMask` parameter in
the last call to [vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** be `0`

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-09116) VUID-vkCmdDrawIndirectByteCountEXT-None-09116

    If
    a shader object is bound to any graphics stage
or
    the bound graphics pipeline was created with
    `VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT`,
    and the format of any color attachment is
    `VK_FORMAT_E5B9G9R9_UFLOAT_PACK32`, the corresponding element of the
    `pColorWriteMasks` parameter of [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT)
    **must** either include all of `VK_COLOR_COMPONENT_R_BIT`,
    `VK_COLOR_COMPONENT_G_BIT`, and `VK_COLOR_COMPONENT_B_BIT`, or
    none of them

[](#VUID-vkCmdDrawIndirectByteCountEXT-maxFragmentDualSrcAttachments-09239) VUID-vkCmdDrawIndirectByteCountEXT-maxFragmentDualSrcAttachments-09239

If [blending](framebuffer.html#framebuffer-blending) is enabled for any attachment where
either the source or destination blend factors for that attachment
[use the secondary color input](framebuffer.html#framebuffer-dsb), the maximum value of
`Location` for any output attachment [statically    used](shaders.html#shaders-staticuse) in the `Fragment` `Execution` `Model` executed by this command
**must** be less than [    `maxFragmentDualSrcAttachments`](limits.html#limits-maxFragmentDualSrcAttachments)

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-09548) VUID-vkCmdDrawIndirectByteCountEXT-None-09548

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
the value of each element of
[VkRenderingAttachmentLocationInfo](interfaces.html#VkRenderingAttachmentLocationInfo)::`pColorAttachmentLocations`
set by [vkCmdSetRenderingAttachmentLocations](interfaces.html#vkCmdSetRenderingAttachmentLocations) **must** match the value
set for the corresponding element in the bound pipeline

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-09549) VUID-vkCmdDrawIndirectByteCountEXT-None-09549

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
input attachment index mappings in the bound pipeline **must** match those
set for the current render pass instance via
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-09642) VUID-vkCmdDrawIndirectByteCountEXT-None-09642

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with
the `VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag, the bound
graphics pipeline **must** have been created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-09643) VUID-vkCmdDrawIndirectByteCountEXT-None-09643

If the bound graphics pipeline was created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`, the current
render pass **must** have begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with the
`VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-10677) VUID-vkCmdDrawIndirectByteCountEXT-None-10677

If the [per-tile execution model](renderpass.html#renderpass-per-tile-execution-model)
is enabled, the
[tileShadingPerTileDraw](features.html#features-tileShadingPerTileDraw) feature **must**
be enabled

[](#VUID-vkCmdDrawIndirectByteCountEXT-None-10772) VUID-vkCmdDrawIndirectByteCountEXT-None-10772

If a shader object is bound to any graphics stage, *multiview*
functionality **must** not be enabled in the current render pass

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-04007) VUID-vkCmdDrawIndirectByteCountEXT-None-04007

All vertex input bindings accessed via vertex input variables declared
in the vertex shader entry point’s interface **must** have either valid or
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) buffers bound

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-04008) VUID-vkCmdDrawIndirectByteCountEXT-None-04008

If the [`nullDescriptor`](features.html#features-nullDescriptor) feature is not
enabled, all vertex input bindings accessed via vertex input variables
declared in the vertex shader entry point’s interface **must** not be
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-02721) VUID-vkCmdDrawIndirectByteCountEXT-None-02721

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled,
and that pipeline was created without enabling
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` for
`vertexInputs`,
then for a given vertex buffer binding, any attribute data fetched **must**
be entirely contained within the corresponding vertex buffer binding, as
described in [Vertex Input Description](fxvertex.html#fxvertex-input)

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-format-10389) VUID-vkCmdDrawIndirectByteCountEXT-format-10389

For each vertex attribute accessed by this command, if its
[VkVertexInputAttributeDescription](fxvertex.html#VkVertexInputAttributeDescription)::`format`
or [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format`
is a [packed format](formats.html#formats-packed),
and [`legacyVertexAttributes`](features.html#features-legacyVertexAttributes) is
not enabled,
the value of `attribAddress`, calculated as described in
[Vertex Input Calculation](fxvertex.html#fxvertex-input-address-calculation), **must**
be a multiple of the [size of the `format`](formats.html#formats)

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-format-10390) VUID-vkCmdDrawIndirectByteCountEXT-format-10390

For each vertex attribute accessed by this command, if its
[VkVertexInputAttributeDescription](fxvertex.html#VkVertexInputAttributeDescription)::`format`
or [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format`
is not a [packed format](formats.html#formats-packed),
and either [    `legacyVertexAttributes`](features.html#features-legacyVertexAttributes) is not enabled or `format` has 64-bit
components,
the value of `attribAddress`, calculated as described in
[Vertex Input Calculation](fxvertex.html#fxvertex-input-address-calculation), **must**
be a multiple of the [component size of the `format`](formats.html#formats)

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07842) VUID-vkCmdDrawIndirectByteCountEXT-None-07842

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY` dynamic state enabled
    then [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-dynamicPrimitiveTopologyUnrestricted-07500) VUID-vkCmdDrawIndirectByteCountEXT-dynamicPrimitiveTopologyUnrestricted-07500

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_PRIMITIVE_TOPOLOGY` dynamic state enabled
and the [    `dynamicPrimitiveTopologyUnrestricted`](limits.html#limits-dynamicPrimitiveTopologyUnrestricted) is `VK_FALSE`,
then the `primitiveTopology` parameter of
`vkCmdSetPrimitiveTopology` **must** be of the same
[topology class](#drawing-primitive-topology-class) as the pipeline
[VkPipelineInputAssemblyStateCreateInfo](#VkPipelineInputAssemblyStateCreateInfo)::`topology` state

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-primitiveTopology-10286) VUID-vkCmdDrawIndirectByteCountEXT-primitiveTopology-10286

If a `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage is bound, then
the [current value](pipelines.html#dynamic-state-current-value) of
`primitiveTopology` **must** be `VK_PRIMITIVE_TOPOLOGY_PATCH_LIST`
prior to this drawing command

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-primitiveTopology-10747) VUID-vkCmdDrawIndirectByteCountEXT-primitiveTopology-10747

If [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) set `primitiveTopology` to
`VK_PRIMITIVE_TOPOLOGY_PATCH_LIST` prior to this drawing command,
then a `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage **must** be
bound

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-primitiveTopology-10748) VUID-vkCmdDrawIndirectByteCountEXT-primitiveTopology-10748

If [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) set `primitiveTopology` to
`VK_PRIMITIVE_TOPOLOGY_POINT_LIST` prior to this drawing command,
the [`maintenance5`](features.html#features-maintenance5) feature is not
enabled,
both a `VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` and
`VK_SHADER_STAGE_GEOMETRY_BIT` stage are not bound, then the
`Vertex` `Execution` `Model` **must** have a `PointSize` decorated
variable that is statically written to

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-pStrides-04913) VUID-vkCmdDrawIndirectByteCountEXT-pStrides-04913

If the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_VERTEX_INPUT_BINDING_STRIDE` dynamic state
enabled,
but without the `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state
enabled,
then [vkCmdBindVertexBuffers2](fxvertex.html#vkCmdBindVertexBuffers2) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this draw command, and the `pStrides`
parameter of [vkCmdBindVertexBuffers2](fxvertex.html#vkCmdBindVertexBuffers2) **must** not be `NULL`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-04914) VUID-vkCmdDrawIndirectByteCountEXT-None-04914

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    then [vkCmdSetVertexInputEXT](fxvertex.html#vkCmdSetVertexInputEXT) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this draw command

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-Input-07939) VUID-vkCmdDrawIndirectByteCountEXT-Input-07939

    If
    [`vertexAttributeRobustness`](features.html#features-vertexAttributeRobustness)
    is not enabled and
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    then all variables with the `Input` storage class decorated with
    `Location` in the `Vertex` `Execution` `Model` `OpEntryPoint`
    **must** contain a location in
    [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`location`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-Input-08734) VUID-vkCmdDrawIndirectByteCountEXT-Input-08734

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and either the [    `legacyVertexAttributes`](features.html#features-legacyVertexAttributes) feature is not enabled or the SPIR-V Type
    associated with a given `Input` variable of the corresponding
    `Location` in the `Vertex` `Execution` `Model` `OpEntryPoint` is
    64-bit,
    then the numeric type associated with all `Input` variables of the
    corresponding `Location` in the `Vertex` `Execution` `Model`
    `OpEntryPoint` **must** be the same as
    [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-format-08936) VUID-vkCmdDrawIndirectByteCountEXT-format-08936

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format` has a
    64-bit component, then the scalar width associated with all `Input`
    variables of the corresponding `Location` in the `Vertex`
    `Execution` `Model` `OpEntryPoint` **must** be 64-bit

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-format-08937) VUID-vkCmdDrawIndirectByteCountEXT-format-08937

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and the scalar width associated with a `Location` decorated
    `Input` variable in the `Vertex` `Execution` `Model`
    `OpEntryPoint` is 64-bit, then the corresponding
    [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format` **must** have a
    64-bit component

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-09203) VUID-vkCmdDrawIndirectByteCountEXT-None-09203

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled
    and [VkVertexInputAttributeDescription2EXT](fxvertex.html#VkVertexInputAttributeDescription2EXT)::`format` has a
    64-bit component, then all `Input` variables at the corresponding
    `Location` in the `Vertex` `Execution` `Model` `OpEntryPoint`
    **must** not use components that are not present in the format

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-04875) VUID-vkCmdDrawIndirectByteCountEXT-None-04875

    If
    there is a shader object bound to the
    `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage
or
    the bound graphics pipeline state was created with both a
    `VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT` stage and the
    `VK_DYNAMIC_STATE_PATCH_CONTROL_POINTS_EXT` dynamic state enabled,
    and the [current value](pipelines.html#dynamic-state-current-value) of
    `primitiveTopology` is `VK_PRIMITIVE_TOPOLOGY_PATCH_LIST`, then
    [vkCmdSetPatchControlPointsEXT](shaders.html#vkCmdSetPatchControlPointsEXT) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-04879) VUID-vkCmdDrawIndirectByteCountEXT-None-04879

    If
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE` dynamic state enabled
    then [vkCmdSetPrimitiveRestartEnable](#vkCmdSetPrimitiveRestartEnable) **must** have been called and not
    subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
    command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-09637) VUID-vkCmdDrawIndirectByteCountEXT-None-09637

    If
    the [    `primitiveTopologyListRestart`](features.html#features-primitiveTopologyListRestart) feature is not enabled,
    the topology is `VK_PRIMITIVE_TOPOLOGY_POINT_LIST`,
    `VK_PRIMITIVE_TOPOLOGY_LINE_LIST`,
    `VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST`,
    `VK_PRIMITIVE_TOPOLOGY_LINE_LIST_WITH_ADJACENCY`, or
    `VK_PRIMITIVE_TOPOLOGY_TRIANGLE_LIST_WITH_ADJACENCY`,
    there is a shader object bound to the `VK_SHADER_STAGE_VERTEX_BIT`
    stage
or
    the bound graphics pipeline state was created with the
    `VK_DYNAMIC_STATE_PRIMITIVE_RESTART_ENABLE` dynamic state enabled
    then [vkCmdSetPrimitiveRestartEnable](#vkCmdSetPrimitiveRestartEnable) **must** be `VK_FALSE`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-stage-06481) VUID-vkCmdDrawIndirectByteCountEXT-stage-06481

The bound graphics pipeline **must** not have been created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of any element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_TASK_BIT_EXT` or `VK_SHADER_STAGE_MESH_BIT_EXT`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-08885) VUID-vkCmdDrawIndirectByteCountEXT-None-08885

There **must** be no shader object bound to either of the
`VK_SHADER_STAGE_TASK_BIT_EXT` or `VK_SHADER_STAGE_MESH_BIT_EXT`
stages

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-07619) VUID-vkCmdDrawIndirectByteCountEXT-None-07619

If
a shader object is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` stage or
a graphics pipeline is bound which was created with both a
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` stage and the
`VK_DYNAMIC_STATE_TESSELLATION_DOMAIN_ORIGIN_EXT` dynamic state
enabled, then [vkCmdSetTessellationDomainOriginEXT](tessellation.html#vkCmdSetTessellationDomainOriginEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-pNext-09461) VUID-vkCmdDrawIndirectByteCountEXT-pNext-09461

If the bound graphics pipeline state was created with
[VkPipelineVertexInputDivisorStateCreateInfo](fxvertex.html#VkPipelineVertexInputDivisorStateCreateInfo) in the `pNext`
chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pVertexInputState`,
any member of
[VkPipelineVertexInputDivisorStateCreateInfo](fxvertex.html#VkPipelineVertexInputDivisorStateCreateInfo)::`pVertexBindingDivisors`
has a value other than `1` in `divisor`, and
[VkPhysicalDeviceVertexAttributeDivisorProperties](limits.html#VkPhysicalDeviceVertexAttributeDivisorProperties)::`supportsNonZeroFirstInstance`
is `VK_FALSE`, then `firstInstance` **must** be `0`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-None-09462) VUID-vkCmdDrawIndirectByteCountEXT-None-09462

If
[shader objects](shaders.html#shaders-objects) are used for drawing or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VERTEX_INPUT_EXT` dynamic state enabled, any
member of the `pVertexBindingDescriptions` parameter to the
[vkCmdSetVertexInputEXT](fxvertex.html#vkCmdSetVertexInputEXT) call that sets this dynamic state has a
value other than `1` in `divisor`, and
[VkPhysicalDeviceVertexAttributeDivisorProperties](limits.html#VkPhysicalDeviceVertexAttributeDivisorProperties)::`supportsNonZeroFirstInstance`
is `VK_FALSE`, then `firstInstance` **must** be `0`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-transformFeedback-02287) VUID-vkCmdDrawIndirectByteCountEXT-transformFeedback-02287

`VkPhysicalDeviceTransformFeedbackFeaturesEXT`::`transformFeedback`
**must** be enabled

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-transformFeedbackDraw-02288) VUID-vkCmdDrawIndirectByteCountEXT-transformFeedbackDraw-02288

The implementation **must** support
`VkPhysicalDeviceTransformFeedbackPropertiesEXT`::`transformFeedbackDraw`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-vertexStride-02289) VUID-vkCmdDrawIndirectByteCountEXT-vertexStride-02289

`vertexStride` **must** be greater than 0 and less than or equal to
`VkPhysicalDeviceTransformFeedbackPropertiesEXT`::`maxTransformFeedbackBufferDataStride`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-counterBuffer-04567) VUID-vkCmdDrawIndirectByteCountEXT-counterBuffer-04567

If `counterBuffer` is non-sparse then it **must** be bound completely
and contiguously to a single `VkDeviceMemory` object

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-counterBuffer-02290) VUID-vkCmdDrawIndirectByteCountEXT-counterBuffer-02290

`counterBuffer` **must** have been created with the
`VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT` bit set

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-counterBufferOffset-04568) VUID-vkCmdDrawIndirectByteCountEXT-counterBufferOffset-04568

`counterBufferOffset` **must** be a multiple of `4`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-counterOffset-09474) VUID-vkCmdDrawIndirectByteCountEXT-counterOffset-09474

`counterOffset` **must** be a multiple of `4`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-vertexStride-09475) VUID-vkCmdDrawIndirectByteCountEXT-vertexStride-09475

`vertexStride` **must** be a multiple of `4`

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-commandBuffer-02646) VUID-vkCmdDrawIndirectByteCountEXT-commandBuffer-02646

`commandBuffer` **must** not be a protected command buffer

Valid Usage (Implicit)

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-commandBuffer-parameter) VUID-vkCmdDrawIndirectByteCountEXT-commandBuffer-parameter

 `commandBuffer` **must** be a valid [VkCommandBuffer](cmdbuffers.html#VkCommandBuffer) handle

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-counterBuffer-parameter) VUID-vkCmdDrawIndirectByteCountEXT-counterBuffer-parameter

 `counterBuffer` **must** be a valid [VkBuffer](resources.html#VkBuffer) handle

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-commandBuffer-recording) VUID-vkCmdDrawIndirectByteCountEXT-commandBuffer-recording

 `commandBuffer` **must** be in the [recording state](cmdbuffers.html#commandbuffers-lifecycle)

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-commandBuffer-cmdpool) VUID-vkCmdDrawIndirectByteCountEXT-commandBuffer-cmdpool

 The `VkCommandPool` that `commandBuffer` was allocated from **must** support graphics operations

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-renderpass) VUID-vkCmdDrawIndirectByteCountEXT-renderpass

 This command **must** only be called inside of a render pass instance

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-videocoding) VUID-vkCmdDrawIndirectByteCountEXT-videocoding

 This command **must** only be called outside of a video coding scope

* 
[](#VUID-vkCmdDrawIndirectByteCountEXT-commonparent) VUID-vkCmdDrawIndirectByteCountEXT-commonparent

 Both of `commandBuffer`, and `counterBuffer` **must** have been created, allocated, or retrieved from the same [VkDevice](devsandqueues.html#VkDevice)

Host Synchronization

* 
Host access to `commandBuffer` **must** be externally synchronized

* 
Host access to the `VkCommandPool` that `commandBuffer` was allocated from **must** be externally synchronized

Command Properties
| [Command Buffer Levels](cmdbuffers.html#VkCommandBufferLevel) | [Render Pass Scope](renderpass.html#vkCmdBeginRenderPass) | [Video Coding Scope](videocoding.html#vkCmdBeginVideoCodingKHR) | [Supported Queue Types](devsandqueues.html#VkQueueFlagBits) | [Command Type](fundamentals.html#fundamentals-queueoperation-command-types) |
| --- | --- | --- | --- | --- |
| Primary

Secondary | Inside | Outside | Graphics | Action |

Certain rendering commands **can** be executed conditionally based on a value
in buffer memory.
These rendering commands are limited to [drawing commands](#drawing),
[dispatching commands](dispatch.html#dispatch), and clearing attachments with
[vkCmdClearAttachments](clears.html#vkCmdClearAttachments) within a conditional rendering block which is
defined by commands [vkCmdBeginConditionalRenderingEXT](#vkCmdBeginConditionalRenderingEXT) and
[vkCmdEndConditionalRenderingEXT](#vkCmdEndConditionalRenderingEXT).
Other rendering commands remain unaffected by conditional rendering.

After beginning conditional rendering, it is considered *active* within the
command buffer it was called until it is ended with
[vkCmdEndConditionalRenderingEXT](#vkCmdEndConditionalRenderingEXT).

Conditional rendering **must** begin and end in the same command buffer.
When conditional rendering is active, a primary command buffer **can** execute
secondary command buffers if the [`inheritedConditionalRendering`](features.html#features-inheritedConditionalRendering) feature is enabled.
For a secondary command buffer to be executed while conditional rendering is
active in the primary command buffer, it **must** set the
`conditionalRenderingEnable` flag of
[VkCommandBufferInheritanceConditionalRenderingInfoEXT](cmdbuffers.html#VkCommandBufferInheritanceConditionalRenderingInfoEXT), as described in
the [Command Buffer Recording](cmdbuffers.html#commandbuffers-recording) section.

Conditional rendering **must** also either begin and end inside the same
subpass of a render pass instance, or **must** both begin and end outside of a
render pass instance (i.e. contain entire render pass instances).

To begin conditional rendering, call:

// Provided by VK_EXT_conditional_rendering
void vkCmdBeginConditionalRenderingEXT(
    VkCommandBuffer                             commandBuffer,
    const VkConditionalRenderingBeginInfoEXT*   pConditionalRenderingBegin);

* 
`commandBuffer` is the command buffer into which this command will
be recorded.

* 
`pConditionalRenderingBegin` is a pointer to a
[VkConditionalRenderingBeginInfoEXT](#VkConditionalRenderingBeginInfoEXT) structure specifying parameters
of conditional rendering.

Valid Usage

* 
[](#VUID-vkCmdBeginConditionalRenderingEXT-None-01980) VUID-vkCmdBeginConditionalRenderingEXT-None-01980

Conditional rendering **must** not already be
[active](#active-conditional-rendering)

Valid Usage (Implicit)

* 
[](#VUID-vkCmdBeginConditionalRenderingEXT-commandBuffer-parameter) VUID-vkCmdBeginConditionalRenderingEXT-commandBuffer-parameter

 `commandBuffer` **must** be a valid [VkCommandBuffer](cmdbuffers.html#VkCommandBuffer) handle

* 
[](#VUID-vkCmdBeginConditionalRenderingEXT-pConditionalRenderingBegin-parameter) VUID-vkCmdBeginConditionalRenderingEXT-pConditionalRenderingBegin-parameter

 `pConditionalRenderingBegin` **must** be a valid pointer to a valid [VkConditionalRenderingBeginInfoEXT](#VkConditionalRenderingBeginInfoEXT) structure

* 
[](#VUID-vkCmdBeginConditionalRenderingEXT-commandBuffer-recording) VUID-vkCmdBeginConditionalRenderingEXT-commandBuffer-recording

 `commandBuffer` **must** be in the [recording state](cmdbuffers.html#commandbuffers-lifecycle)

* 
[](#VUID-vkCmdBeginConditionalRenderingEXT-commandBuffer-cmdpool) VUID-vkCmdBeginConditionalRenderingEXT-commandBuffer-cmdpool

 The `VkCommandPool` that `commandBuffer` was allocated from **must** support graphics, or compute operations

* 
[](#VUID-vkCmdBeginConditionalRenderingEXT-videocoding) VUID-vkCmdBeginConditionalRenderingEXT-videocoding

 This command **must** only be called outside of a video coding scope

Host Synchronization

* 
Host access to `commandBuffer` **must** be externally synchronized

* 
Host access to the `VkCommandPool` that `commandBuffer` was allocated from **must** be externally synchronized

Command Properties
| [Command Buffer Levels](cmdbuffers.html#VkCommandBufferLevel) | [Render Pass Scope](renderpass.html#vkCmdBeginRenderPass) | [Video Coding Scope](videocoding.html#vkCmdBeginVideoCodingKHR) | [Supported Queue Types](devsandqueues.html#VkQueueFlagBits) | [Command Type](fundamentals.html#fundamentals-queueoperation-command-types) |
| --- | --- | --- | --- | --- |
| Primary

Secondary | Both | Outside | Graphics

Compute | Action

State |

The `VkConditionalRenderingBeginInfoEXT` structure is defined as:

// Provided by VK_EXT_conditional_rendering
typedef struct VkConditionalRenderingBeginInfoEXT {
    VkStructureType                   sType;
    const void*                       pNext;
    VkBuffer                          buffer;
    VkDeviceSize                      offset;
    VkConditionalRenderingFlagsEXT    flags;
} VkConditionalRenderingBeginInfoEXT;

* 
`sType` is a [VkStructureType](fundamentals.html#VkStructureType) value identifying this structure.

* 
`pNext` is `NULL` or a pointer to a structure extending this
structure.

* 
`buffer` is a buffer containing the predicate for conditional
rendering.

* 
`offset` is the byte offset into `buffer` where the predicate is
located.

* 
`flags` is a bitmask of [VkConditionalRenderingFlagsEXT](#VkConditionalRenderingFlagsEXT)
specifying the behavior of conditional rendering.

If the 32-bit value at `offset` in `buffer` memory is zero, then the
rendering commands are discarded, otherwise they are executed as normal.
If the value of the predicate in buffer memory changes while conditional
rendering is active, the rendering commands **may** be discarded in an
implementation-dependent way.
Some implementations may latch the value of the predicate upon beginning
conditional rendering while others may read it before every rendering
command.

Valid Usage

* 
[](#VUID-VkConditionalRenderingBeginInfoEXT-buffer-01981) VUID-VkConditionalRenderingBeginInfoEXT-buffer-01981

If `buffer` is non-sparse then it **must** be bound completely and
contiguously to a single `VkDeviceMemory` object

* 
[](#VUID-VkConditionalRenderingBeginInfoEXT-buffer-01982) VUID-VkConditionalRenderingBeginInfoEXT-buffer-01982

`buffer` **must** have been created with the
`VK_BUFFER_USAGE_CONDITIONAL_RENDERING_BIT_EXT` bit set

* 
[](#VUID-VkConditionalRenderingBeginInfoEXT-offset-01983) VUID-VkConditionalRenderingBeginInfoEXT-offset-01983

`offset` **must** be less than the size of `buffer` by at least 32
bits

* 
[](#VUID-VkConditionalRenderingBeginInfoEXT-offset-01984) VUID-VkConditionalRenderingBeginInfoEXT-offset-01984

`offset` **must** be a multiple of 4

Valid Usage (Implicit)

* 
[](#VUID-VkConditionalRenderingBeginInfoEXT-sType-sType) VUID-VkConditionalRenderingBeginInfoEXT-sType-sType

 `sType` **must** be `VK_STRUCTURE_TYPE_CONDITIONAL_RENDERING_BEGIN_INFO_EXT`

* 
[](#VUID-VkConditionalRenderingBeginInfoEXT-pNext-pNext) VUID-VkConditionalRenderingBeginInfoEXT-pNext-pNext

 `pNext` **must** be `NULL`

* 
[](#VUID-VkConditionalRenderingBeginInfoEXT-buffer-parameter) VUID-VkConditionalRenderingBeginInfoEXT-buffer-parameter

 `buffer` **must** be a valid [VkBuffer](resources.html#VkBuffer) handle

* 
[](#VUID-VkConditionalRenderingBeginInfoEXT-flags-parameter) VUID-VkConditionalRenderingBeginInfoEXT-flags-parameter

 `flags` **must** be a valid combination of [VkConditionalRenderingFlagBitsEXT](#VkConditionalRenderingFlagBitsEXT) values

Bits which **can** be set in
[vkCmdBeginConditionalRenderingEXT](#vkCmdBeginConditionalRenderingEXT)::`flags`, specifying the
behavior of conditional rendering, are:

// Provided by VK_EXT_conditional_rendering
typedef enum VkConditionalRenderingFlagBitsEXT {
    VK_CONDITIONAL_RENDERING_INVERTED_BIT_EXT = 0x00000001,
} VkConditionalRenderingFlagBitsEXT;

* 
`VK_CONDITIONAL_RENDERING_INVERTED_BIT_EXT` specifies the condition
used to determine whether to discard rendering commands or not.
That is, if the 32-bit predicate read from `buffer` memory at
`offset` is zero, the rendering commands are not discarded, and if
non zero, then they are discarded.

// Provided by VK_EXT_conditional_rendering
typedef VkFlags VkConditionalRenderingFlagsEXT;

`VkConditionalRenderingFlagsEXT` is a bitmask type for setting a mask of
zero or more [VkConditionalRenderingFlagBitsEXT](#VkConditionalRenderingFlagBitsEXT).

To end conditional rendering, call:

// Provided by VK_EXT_conditional_rendering
void vkCmdEndConditionalRenderingEXT(
    VkCommandBuffer                             commandBuffer);

* 
`commandBuffer` is the command buffer into which this command will
be recorded.

Once ended, conditional rendering becomes inactive.

Valid Usage

* 
[](#VUID-vkCmdEndConditionalRenderingEXT-None-01985) VUID-vkCmdEndConditionalRenderingEXT-None-01985

Conditional rendering **must** be [active](#active-conditional-rendering)

* 
[](#VUID-vkCmdEndConditionalRenderingEXT-None-01986) VUID-vkCmdEndConditionalRenderingEXT-None-01986

If conditional rendering was made
[active](#active-conditional-rendering) outside of a render pass
instance, it **must** not be ended inside a render pass instance

* 
[](#VUID-vkCmdEndConditionalRenderingEXT-None-01987) VUID-vkCmdEndConditionalRenderingEXT-None-01987

If conditional rendering was made
[active](#active-conditional-rendering) within a subpass it **must** be
ended in the same subpass

Valid Usage (Implicit)

* 
[](#VUID-vkCmdEndConditionalRenderingEXT-commandBuffer-parameter) VUID-vkCmdEndConditionalRenderingEXT-commandBuffer-parameter

 `commandBuffer` **must** be a valid [VkCommandBuffer](cmdbuffers.html#VkCommandBuffer) handle

* 
[](#VUID-vkCmdEndConditionalRenderingEXT-commandBuffer-recording) VUID-vkCmdEndConditionalRenderingEXT-commandBuffer-recording

 `commandBuffer` **must** be in the [recording state](cmdbuffers.html#commandbuffers-lifecycle)

* 
[](#VUID-vkCmdEndConditionalRenderingEXT-commandBuffer-cmdpool) VUID-vkCmdEndConditionalRenderingEXT-commandBuffer-cmdpool

 The `VkCommandPool` that `commandBuffer` was allocated from **must** support graphics, or compute operations

* 
[](#VUID-vkCmdEndConditionalRenderingEXT-videocoding) VUID-vkCmdEndConditionalRenderingEXT-videocoding

 This command **must** only be called outside of a video coding scope

Host Synchronization

* 
Host access to `commandBuffer` **must** be externally synchronized

* 
Host access to the `VkCommandPool` that `commandBuffer` was allocated from **must** be externally synchronized

Command Properties
| [Command Buffer Levels](cmdbuffers.html#VkCommandBufferLevel) | [Render Pass Scope](renderpass.html#vkCmdBeginRenderPass) | [Video Coding Scope](videocoding.html#vkCmdBeginVideoCodingKHR) | [Supported Queue Types](devsandqueues.html#VkQueueFlagBits) | [Command Type](fundamentals.html#fundamentals-queueoperation-command-types) |
| --- | --- | --- | --- | --- |
| Primary

Secondary | Both | Outside | Graphics

Compute | Action

State |

In this drawing approach, primitives are assembled by the mesh shader stage.
[Mesh shading](VK_NV_mesh_shader/mesh.html#mesh) operates similarly to [dispatching compute](dispatch.html#dispatch) as the shaders make use of workgroups.

To record a mesh tasks drawing command, call:

// Provided by VK_NV_mesh_shader
void vkCmdDrawMeshTasksNV(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    taskCount,
    uint32_t                                    firstTask);

* 
`commandBuffer` is the command buffer into which the command will be
recorded.

* 
`taskCount` is the number of local workgroups to dispatch in the X
dimension.
Y and Z dimension are implicitly set to one.

* 
`firstTask` is the X component of the first workgroup ID.

When the command is executed, a global workgroup consisting of
`taskCount` local workgroups is assembled.

Valid Usage

* 
[](#VUID-vkCmdDrawMeshTasksNV-magFilter-04553) VUID-vkCmdDrawMeshTasksNV-magFilter-04553

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksNV-magFilter-09598) VUID-vkCmdDrawMeshTasksNV-magFilter-09598

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR` and `reductionMode` equal to either
`VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksNV-mipmapMode-04770) VUID-vkCmdDrawMeshTasksNV-mipmapMode-04770

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksNV-mipmapMode-09599) VUID-vkCmdDrawMeshTasksNV-mipmapMode-09599

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR` and `reductionMode` equal to
either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksNV-unnormalizedCoordinates-09635) VUID-vkCmdDrawMeshTasksNV-unnormalizedCoordinates-09635

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `levelCount` and `layerCount`
**must** be 1

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-08609) VUID-vkCmdDrawMeshTasksNV-None-08609

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `viewType` **must** be
`VK_IMAGE_VIEW_TYPE_1D` or `VK_IMAGE_VIEW_TYPE_2D`

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-08610) VUID-vkCmdDrawMeshTasksNV-None-08610

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions with
`ImplicitLod`, `Dref` or `Proj` in their name

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-08611) VUID-vkCmdDrawMeshTasksNV-None-08611

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions that includes a
LOD bias or any offset values

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-06479) VUID-vkCmdDrawMeshTasksNV-None-06479

If a [VkImageView](resources.html#VkImageView) is sampled with
[depth comparison](textures.html#textures-depth-compare-operation), the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_SAMPLED_IMAGE_DEPTH_COMPARISON_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-02691) VUID-vkCmdDrawMeshTasksNV-None-02691

If a [VkImageView](resources.html#VkImageView) is accessed using atomic operations as a result
of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-07888) VUID-vkCmdDrawMeshTasksNV-None-07888

If a `VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER` descriptor is
accessed using atomic operations as a result of this command, then the
storage texel buffer’s [format    features](resources.html#resources-buffer-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-02692) VUID-vkCmdDrawMeshTasksNV-None-02692

If a [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_CUBIC_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-02693) VUID-vkCmdDrawMeshTasksNV-None-02693

If
the [VK_EXT_filter_cubic](../appendices/extensions.html#VK_EXT_filter_cubic) extension is not enabled and
any [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, it **must** not have a [VkImageViewType](resources.html#VkImageViewType) of
`VK_IMAGE_VIEW_TYPE_3D`, `VK_IMAGE_VIEW_TYPE_CUBE`, or
`VK_IMAGE_VIEW_TYPE_CUBE_ARRAY`

* 
[](#VUID-vkCmdDrawMeshTasksNV-filterCubic-02694) VUID-vkCmdDrawMeshTasksNV-filterCubic-02694

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command **must** have a [VkImageViewType](resources.html#VkImageViewType) and format
that supports cubic filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubic`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawMeshTasksNV-filterCubicMinmax-02695) VUID-vkCmdDrawMeshTasksNV-filterCubicMinmax-02695

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` with
a reduction mode of either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` as a result of this command **must**
have a [VkImageViewType](resources.html#VkImageViewType) and format that supports cubic filtering
together with minmax filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubicMinmax`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawMeshTasksNV-cubicRangeClamp-09212) VUID-vkCmdDrawMeshTasksNV-cubicRangeClamp-09212

If the [`cubicRangeClamp`](features.html#features-cubicRangeClamp) feature is
not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** not have a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksNV-reductionMode-09213) VUID-vkCmdDrawMeshTasksNV-reductionMode-09213

Any [VkImageView](resources.html#VkImageView) being sampled with a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM` as a
result of this command **must** sample with `VK_FILTER_CUBIC_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksNV-selectableCubicWeights-09214) VUID-vkCmdDrawMeshTasksNV-selectableCubicWeights-09214

If the [`selectableCubicWeights`](features.html#features-selectableCubicWeights)
feature is not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** have
[VkSamplerCubicWeightsCreateInfoQCOM](samplers.html#VkSamplerCubicWeightsCreateInfoQCOM)::`cubicWeights` equal to
`VK_CUBIC_FILTER_WEIGHTS_CATMULL_ROM_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksNV-flags-02696) VUID-vkCmdDrawMeshTasksNV-flags-02696

Any [VkImage](resources.html#VkImage) created with a [VkImageCreateInfo](resources.html#VkImageCreateInfo)::`flags`
containing `VK_IMAGE_CREATE_CORNER_SAMPLED_BIT_NV` sampled as a
result of this command **must** only be sampled using a
[VkSamplerAddressMode](samplers.html#VkSamplerAddressMode) of
`VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE`

* 
[](#VUID-vkCmdDrawMeshTasksNV-OpTypeImage-07027) VUID-vkCmdDrawMeshTasksNV-OpTypeImage-07027

For any [VkImageView](resources.html#VkImageView) being written as a storage image where the
image format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksNV-OpTypeImage-07028) VUID-vkCmdDrawMeshTasksNV-OpTypeImage-07028

For any [VkImageView](resources.html#VkImageView) being read as a storage image where the image
format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksNV-OpTypeImage-07029) VUID-vkCmdDrawMeshTasksNV-OpTypeImage-07029

For any [VkBufferView](resources.html#VkBufferView) being written as a storage texel buffer where
the image format field of the `OpTypeImage` is `Unknown`, the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksNV-OpTypeImage-07030) VUID-vkCmdDrawMeshTasksNV-OpTypeImage-07030

Any [VkBufferView](resources.html#VkBufferView) being read as a storage texel buffer where the
image format field of the `OpTypeImage` is `Unknown` then the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-08600) VUID-vkCmdDrawMeshTasksNV-None-08600

For each set *n* that is statically used by [a bound    shader](shaders.html#shaders-binding), a descriptor set **must** have been bound to *n* at the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for set *n*, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the current
[VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-08601) VUID-vkCmdDrawMeshTasksNV-None-08601

For each push constant that is statically used by [a    bound shader](shaders.html#shaders-binding), a push constant value **must** have been set for the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the
current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-10068) VUID-vkCmdDrawMeshTasksNV-None-10068

For each array of resources that is used by [a bound    shader](shaders.html#shaders-binding), the indices used to access members of the array **must** be less
than the descriptor count for the identified binding in the descriptor
sets used by this command

* 
[](#VUID-vkCmdDrawMeshTasksNV-maintenance4-08602) VUID-vkCmdDrawMeshTasksNV-maintenance4-08602

If the [`maintenance4`](features.html#features-maintenance4) feature is not
enabled, then for each push constant that is statically used by
[a bound shader](shaders.html#shaders-binding), a push constant value **must** have
been set for the same pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
that is compatible for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
used to create the current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) and [VkPushConstantRange](descriptorsets.html#VkPushConstantRange) arrays
used to create the current [VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-08114) VUID-vkCmdDrawMeshTasksNV-None-08114

Descriptors in each bound descriptor set, specified via
[vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), **must** be valid as described by
[descriptor validity](descriptorsets.html#descriptor-validity) if they are statically used
by
the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind point used by this
command and the bound [VkPipeline](pipelines.html#VkPipeline) was not created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-08115) VUID-vkCmdDrawMeshTasksNV-None-08115

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), the bound
[VkPipeline](pipelines.html#VkPipeline) **must** have been created without
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-08116) VUID-vkCmdDrawMeshTasksNV-None-08116

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind
point used by this command and the bound [VkPipeline](pipelines.html#VkPipeline) was created
with `VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-08604) VUID-vkCmdDrawMeshTasksNV-None-08604

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-08117) VUID-vkCmdDrawMeshTasksNV-None-08117

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT),
the bound [VkPipeline](pipelines.html#VkPipeline) **must** have been created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-08119) VUID-vkCmdDrawMeshTasksNV-None-08119

If a descriptor is dynamically used with a [VkPipeline](pipelines.html#VkPipeline) created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the descriptor
memory **must** be resident

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-08605) VUID-vkCmdDrawMeshTasksNV-None-08605

If a descriptor is dynamically used with a [VkShaderEXT](shaders.html#VkShaderEXT) created
with a `VkDescriptorSetLayout` that was created with
`VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the
descriptor memory **must** be resident

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-08606) VUID-vkCmdDrawMeshTasksNV-None-08606

If the [`shaderObject`](features.html#features-shaderObject) feature is not
enabled, a
valid pipeline **must** be bound to the pipeline bind point used by this
command

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-08608) VUID-vkCmdDrawMeshTasksNV-None-08608

If a pipeline is bound to the pipeline bind point used by this command,
there
**must** not have been any calls to dynamic state setting commands for any
state specified statically in the [VkPipeline](pipelines.html#VkPipeline) object bound to the
pipeline bind point used by this command, since that pipeline was bound

* 
[](#VUID-vkCmdDrawMeshTasksNV-uniformBuffers-06935) VUID-vkCmdDrawMeshTasksNV-uniformBuffers-06935

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a uniform buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`uniformBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-08612) VUID-vkCmdDrawMeshTasksNV-None-08612

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a uniform
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawMeshTasksNV-storageBuffers-06936) VUID-vkCmdDrawMeshTasksNV-storageBuffers-06936

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a storage buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`storageBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-08613) VUID-vkCmdDrawMeshTasksNV-None-08613

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a storage
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawMeshTasksNV-commandBuffer-02707) VUID-vkCmdDrawMeshTasksNV-commandBuffer-02707

If `commandBuffer` is an unprotected command buffer and
[`protectedNoFault`](devsandqueues.html#limits-protectedNoFault) is not supported,
any resource accessed by [bound shaders](shaders.html#shaders-binding) **must** not be
a protected resource

* 
[](#VUID-vkCmdDrawMeshTasksNV-viewType-07752) VUID-vkCmdDrawMeshTasksNV-viewType-07752

If a [VkImageView](resources.html#VkImageView) is accessed as a result of this command, then the
image view’s `viewType` **must** match the `Dim` operand of the
`OpTypeImage` as described in [Compatibility Between SPIR-V Image Dimensions and Vulkan ImageView Types](../appendices/spirvenv.html#spirvenv-image-dimensions)

* 
[](#VUID-vkCmdDrawMeshTasksNV-format-07753) VUID-vkCmdDrawMeshTasksNV-format-07753

If a [VkImageView](resources.html#VkImageView) or [VkBufferView](resources.html#VkBufferView) is accessed as a result of
this command, then the [numeric type](formats.html#formats-numericformat) of the
view’s `format` and the `Sampled` `Type` operand of the
`OpTypeImage` **must** match

* 
[](#VUID-vkCmdDrawMeshTasksNV-OpImageWrite-08795) VUID-vkCmdDrawMeshTasksNV-OpImageWrite-08795

If a [VkImageView](resources.html#VkImageView)
created with a format other than `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
at least as many components as the image view’s format

* 
[](#VUID-vkCmdDrawMeshTasksNV-OpImageWrite-08796) VUID-vkCmdDrawMeshTasksNV-OpImageWrite-08796

If a [VkImageView](resources.html#VkImageView) created with the format `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
four components

* 
[](#VUID-vkCmdDrawMeshTasksNV-OpImageWrite-04469) VUID-vkCmdDrawMeshTasksNV-OpImageWrite-04469

If a [VkBufferView](resources.html#VkBufferView) is accessed using `OpImageWrite` as a result
of this command, then the `Type` of the `Texel` operand of that
instruction **must** have at least as many components as the buffer view’s
format

* 
[](#VUID-vkCmdDrawMeshTasksNV-SampledType-04470) VUID-vkCmdDrawMeshTasksNV-SampledType-04470

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit component
width is accessed as a result of this command, the `SampledType` of
the `OpTypeImage` operand of that instruction **must** have a `Width`
of 64

* 
[](#VUID-vkCmdDrawMeshTasksNV-SampledType-04471) VUID-vkCmdDrawMeshTasksNV-SampledType-04471

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawMeshTasksNV-SampledType-04472) VUID-vkCmdDrawMeshTasksNV-SampledType-04472

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit
component width is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 64

* 
[](#VUID-vkCmdDrawMeshTasksNV-SampledType-04473) VUID-vkCmdDrawMeshTasksNV-SampledType-04473

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawMeshTasksNV-sparseImageInt64Atomics-04474) VUID-vkCmdDrawMeshTasksNV-sparseImageInt64Atomics-04474

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkImage](resources.html#VkImage)
objects created with the `VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT` flag
**must** not be accessed by atomic instructions through an `OpTypeImage`
with a `SampledType` with a `Width` of 64 by this command

* 
[](#VUID-vkCmdDrawMeshTasksNV-sparseImageInt64Atomics-04475) VUID-vkCmdDrawMeshTasksNV-sparseImageInt64Atomics-04475

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkBuffer](resources.html#VkBuffer)
objects created with the `VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT`
flag **must** not be accessed by atomic instructions through an
`OpTypeImage` with a `SampledType` with a `Width` of 64 by this
command

* 
[](#VUID-vkCmdDrawMeshTasksNV-OpImageWeightedSampleQCOM-06971) VUID-vkCmdDrawMeshTasksNV-OpImageWeightedSampleQCOM-06971

If `OpImageWeightedSampleQCOM` is used to sample a [VkImageView](resources.html#VkImageView)
as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_SAMPLED_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksNV-OpImageWeightedSampleQCOM-06972) VUID-vkCmdDrawMeshTasksNV-OpImageWeightedSampleQCOM-06972

If `OpImageWeightedSampleQCOM` uses a [VkImageView](resources.html#VkImageView) as a sample
weight image as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksNV-OpImageBoxFilterQCOM-06973) VUID-vkCmdDrawMeshTasksNV-OpImageBoxFilterQCOM-06973

If `OpImageBoxFilterQCOM` is used to sample a [VkImageView](resources.html#VkImageView) as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BOX_FILTER_SAMPLED_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksNV-OpImageBlockMatchSSDQCOM-06974) VUID-vkCmdDrawMeshTasksNV-OpImageBlockMatchSSDQCOM-06974

If `OpImageBlockMatchSSDQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksNV-OpImageBlockMatchSADQCOM-06975) VUID-vkCmdDrawMeshTasksNV-OpImageBlockMatchSADQCOM-06975

If `OpImageBlockMatchSADQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksNV-OpImageBlockMatchSADQCOM-06976) VUID-vkCmdDrawMeshTasksNV-OpImageBlockMatchSADQCOM-06976

If `OpImageBlockMatchSADQCOM` or OpImageBlockMatchSSDQCOM is used to
read from a reference image as result of this command, then the
specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawMeshTasksNV-OpImageWeightedSampleQCOM-06977) VUID-vkCmdDrawMeshTasksNV-OpImageWeightedSampleQCOM-06977

If `OpImageWeightedSampleQCOM`, `OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** have
been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksNV-OpImageWeightedSampleQCOM-06978) VUID-vkCmdDrawMeshTasksNV-OpImageWeightedSampleQCOM-06978

If any command other than `OpImageWeightedSampleQCOM`,
`OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** not
have been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksNV-OpImageBlockMatchWindow-09215) VUID-vkCmdDrawMeshTasksNV-OpImageBlockMatchWindow-09215

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksNV-OpImageBlockMatchWindow-09216) VUID-vkCmdDrawMeshTasksNV-OpImageBlockMatchWindow-09216

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
format **must** be a single-component format

* 
[](#VUID-vkCmdDrawMeshTasksNV-OpImageBlockMatchWindow-09217) VUID-vkCmdDrawMeshTasksNV-OpImageBlockMatchWindow-09217

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` read from a reference image as result
of this command, then the specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-07288) VUID-vkCmdDrawMeshTasksNV-None-07288

Any shader invocation executed by this command **must**
[terminate](shaders.html#shaders-termination)

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-09600) VUID-vkCmdDrawMeshTasksNV-None-09600

If a descriptor with type equal to any of
`VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE`,
`VK_DESCRIPTOR_TYPE_STORAGE_IMAGE`, or
`VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT` is accessed as a result of
this command, all image subresources identified by that descriptor **must**
be in the image layout identified when the descriptor was written

* 
[](#VUID-vkCmdDrawMeshTasksNV-commandBuffer-10746) VUID-vkCmdDrawMeshTasksNV-commandBuffer-10746

The `VkDeviceMemory` object allocated from a `VkMemoryHeap` with
the `VK_MEMORY_HEAP_TILE_MEMORY_BIT_QCOM` property that is bound to
a resource accessed as a result of this command **must** be the active
bound [bound tile memory object](memory.html#memory-bind-tile-memory) in
`commandBuffer`

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-10678) VUID-vkCmdDrawMeshTasksNV-None-10678

If this command is recorded inside a [tile    shading render pass](renderpass.html#renderpass-tile-shading) instance, the stages corresponding to the pipeline
bind point used by this command **must** only include
`VK_SHADER_STAGE_VERTEX_BIT`, `VK_SHADER_STAGE_FRAGMENT_BIT`,
and/or `VK_SHADER_STAGE_COMPUTE_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-10679) VUID-vkCmdDrawMeshTasksNV-None-10679

If this command is recorded where
[per-tile execution model](renderpass.html#renderpass-per-tile-execution-model) is
enabled, there **must** be no access to any image while the image was be
transitioned to the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` layout

* 
[](#VUID-vkCmdDrawMeshTasksNV-renderPass-02684) VUID-vkCmdDrawMeshTasksNV-renderPass-02684

The current render pass **must** be [compatible](renderpass.html#renderpass-compatibility)
with the `renderPass` member of the
`VkGraphicsPipelineCreateInfo` structure specified when creating the
`VkPipeline` bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawMeshTasksNV-subpass-02685) VUID-vkCmdDrawMeshTasksNV-subpass-02685

The subpass index of the current render pass **must** be equal to the
`subpass` member of the `VkGraphicsPipelineCreateInfo` structure
specified when creating the `VkPipeline` bound to
`VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-07748) VUID-vkCmdDrawMeshTasksNV-None-07748

If any shader statically accesses an input attachment, a valid
descriptor **must** be bound to the pipeline via a descriptor set

* 
[](#VUID-vkCmdDrawMeshTasksNV-OpTypeImage-07468) VUID-vkCmdDrawMeshTasksNV-OpTypeImage-07468

If any shader executed by this pipeline accesses an `OpTypeImage`
variable with a `Dim` operand of `SubpassData`, it **must** be
decorated with an `InputAttachmentIndex` that corresponds to a valid
input attachment in the current subpass

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-07469) VUID-vkCmdDrawMeshTasksNV-None-07469

Input attachment views accessed in a subpass **must** be created with the
same [VkFormat](formats.html#VkFormat) as the corresponding subpass definition, and be
created with a [VkImageView](resources.html#VkImageView) that is compatible with the attachment
referenced by the subpass'
`pInputAttachments`[`InputAttachmentIndex`] in the bound
[VkFramebuffer](renderpass.html#VkFramebuffer) as specified by
[Fragment Input Attachment    Compatibility](interfaces.html#compatibility-inputattachment)

* 
[](#VUID-vkCmdDrawMeshTasksNV-pDepthInputAttachmentIndex-09595) VUID-vkCmdDrawMeshTasksNV-pDepthInputAttachmentIndex-09595

Input attachment views accessed in a dynamic render pass with a
`InputAttachmentIndex` referenced by
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo), or no
`InputAttachmentIndex` if
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
or
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are `NULL`, **must** be created with a [VkImageView](resources.html#VkImageView) that is compatible
with the corresponding color, depth, or stencil attachment in
[VkRenderingInfo](renderpass.html#VkRenderingInfo)

* 
[](#VUID-vkCmdDrawMeshTasksNV-pDepthInputAttachmentIndex-09596) VUID-vkCmdDrawMeshTasksNV-pDepthInputAttachmentIndex-09596

Input attachment views accessed in a dynamic render pass via a shader
object **must** have an `InputAttachmentIndex` if both
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
and
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are non-`NULL`

* 
[](#VUID-vkCmdDrawMeshTasksNV-InputAttachmentIndex-09597) VUID-vkCmdDrawMeshTasksNV-InputAttachmentIndex-09597

If an input attachment view accessed in a dynamic render pass via a
shader object has an `InputAttachmentIndex`, the
`InputAttachmentIndex` **must** match an index in
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-06537) VUID-vkCmdDrawMeshTasksNV-None-06537

Memory backing image subresources used as attachments in the current
render pass **must** not be written in any way other than as an attachment
by this command

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-09000) VUID-vkCmdDrawMeshTasksNV-None-09000

If a color attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

the `VK_PIPELINE_CREATE_COLOR_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT` is
set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_COLOR_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawMeshTasksNV-None-09001) VUID-vkCmdDrawMeshTasksNV-None-09001

If a depth attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_DEPTH_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawMeshTasksNV-None-09002) VUID-vkCmdDrawMeshTasksNV-None-09002

If a stencil attachment is written by any prior command in this subpass
or by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_STENCIL_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawMeshTasksNV-None-09003) VUID-vkCmdDrawMeshTasksNV-None-09003

If an attachment is written by any prior command in this subpass or by
the load, store, or resolve operations for this subpass, it **must** not be
accessed in any way other than as an attachment, storage image, or
sampled image by this command

[](#VUID-vkCmdDrawMeshTasksNV-None-06539) VUID-vkCmdDrawMeshTasksNV-None-06539

If any previously recorded command in the current subpass accessed an
image subresource used as an attachment in this subpass in any way other
than as an attachment, this command **must** not write to that image
subresource as an attachment

[](#VUID-vkCmdDrawMeshTasksNV-None-06886) VUID-vkCmdDrawMeshTasksNV-None-06886

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the depth aspect, [depth    writes](fragops.html#fragops-depth-write) **must** be disabled

[](#VUID-vkCmdDrawMeshTasksNV-None-06887) VUID-vkCmdDrawMeshTasksNV-None-06887

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the stencil aspect, both front and back
`writeMask` are not zero, and stencil test is enabled,
[all stencil ops](fragops.html#fragops-stencil) **must** be `VK_STENCIL_OP_KEEP`

[](#VUID-vkCmdDrawMeshTasksNV-None-07831) VUID-vkCmdDrawMeshTasksNV-None-07831

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT` dynamic state enabled then
[vkCmdSetViewport](vertexpostproc.html#vkCmdSetViewport) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07832) VUID-vkCmdDrawMeshTasksNV-None-07832

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SCISSOR` dynamic state enabled then
[vkCmdSetScissor](fragops.html#vkCmdSetScissor) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07833) VUID-vkCmdDrawMeshTasksNV-None-07833

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_WIDTH` dynamic state enabled then
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-08617) VUID-vkCmdDrawMeshTasksNV-None-08617

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command
buffer set `polygonMode` to `VK_POLYGON_MODE_LINE`,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-08618) VUID-vkCmdDrawMeshTasksNV-None-08618

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-08619) VUID-vkCmdDrawMeshTasksNV-None-08619

If a shader object that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, [vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawMeshTasksNV-None-07834) VUID-vkCmdDrawMeshTasksNV-None-07834

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthBiasEnable`
is `VK_TRUE`, then [vkCmdSetDepthBias](primsrast.html#vkCmdSetDepthBias)
or [vkCmdSetDepthBias2EXT](primsrast.html#vkCmdSetDepthBias2EXT)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawMeshTasksNV-None-07835) VUID-vkCmdDrawMeshTasksNV-None-07835

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_BLEND_CONSTANTS` dynamic state enabled then
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-08621) VUID-vkCmdDrawMeshTasksNV-None-08621

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) in the current command buffer set any
element of `pColorBlendEnables` to `VK_TRUE`, and the most
recent call to [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) in the current
command buffer set the same element of `pColorBlendEquations` to a
`VkColorBlendEquationEXT` structure with any [VkBlendFactor](framebuffer.html#VkBlendFactor)
member with a value of `VK_BLEND_FACTOR_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_CONSTANT_ALPHA`, or
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_ALPHA`,
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07836) VUID-vkCmdDrawMeshTasksNV-None-07836

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`depthBoundsTestEnable` is `VK_TRUE`, then
[vkCmdSetDepthBounds](fragops.html#vkCmdSetDepthBounds) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07837) VUID-vkCmdDrawMeshTasksNV-None-07837

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilCompareMask](fragops.html#vkCmdSetStencilCompareMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07838) VUID-vkCmdDrawMeshTasksNV-None-07838

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07839) VUID-vkCmdDrawMeshTasksNV-None-07839

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_REFERENCE` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of and
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilReference](fragops.html#vkCmdSetStencilReference) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-maxMultiviewInstanceIndex-02688) VUID-vkCmdDrawMeshTasksNV-maxMultiviewInstanceIndex-02688

If the draw is recorded in a render pass instance with multiview
enabled, the maximum instance index **must** be less than or equal to
[VkPhysicalDeviceMultiviewProperties](limits.html#VkPhysicalDeviceMultiviewProperties)::`maxMultiviewInstanceIndex`

[](#VUID-vkCmdDrawMeshTasksNV-sampleLocationsEnable-02689) VUID-vkCmdDrawMeshTasksNV-sampleLocationsEnable-02689

If the bound graphics pipeline was created with
[VkPipelineSampleLocationsStateCreateInfoEXT](primsrast.html#VkPipelineSampleLocationsStateCreateInfoEXT)::`sampleLocationsEnable`
set to `VK_TRUE` and the current subpass has a depth/stencil
attachment, then that attachment **must** have been created with the
`VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT` bit set

[](#VUID-vkCmdDrawMeshTasksNV-None-07634) VUID-vkCmdDrawMeshTasksNV-None-07634

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-06666) VUID-vkCmdDrawMeshTasksNV-None-06666

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
[vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07840) VUID-vkCmdDrawMeshTasksNV-None-07840

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CULL_MODE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCullMode](primsrast.html#vkCmdSetCullMode) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07841) VUID-vkCmdDrawMeshTasksNV-None-07841

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRONT_FACE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFrontFace](primsrast.html#vkCmdSetFrontFace) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07843) VUID-vkCmdDrawMeshTasksNV-None-07843

 If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`,
[vkCmdSetDepthTestEnable](fragops.html#vkCmdSetDepthTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07844) VUID-vkCmdDrawMeshTasksNV-None-07844

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07845) VUID-vkCmdDrawMeshTasksNV-None-07845

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_COMPARE_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthCompareOp](fragops.html#vkCmdSetDepthCompareOp) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07846) VUID-vkCmdDrawMeshTasksNV-None-07846

If the [`depthBounds`](features.html#features-depthBounds) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBoundsTestEnable](fragops.html#vkCmdSetDepthBoundsTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07847) VUID-vkCmdDrawMeshTasksNV-None-07847

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetStencilTestEnable](fragops.html#vkCmdSetStencilTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07848) VUID-vkCmdDrawMeshTasksNV-None-07848

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then [vkCmdSetStencilOp](fragops.html#vkCmdSetStencilOp)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawMeshTasksNV-viewportCount-03417) VUID-vkCmdDrawMeshTasksNV-viewportCount-03417

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-scissorCount-03418) VUID-vkCmdDrawMeshTasksNV-scissorCount-03418

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetScissorWithCount](vertexpostproc.html#vkCmdSetScissorWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing

[](#VUID-vkCmdDrawMeshTasksNV-viewportCount-03419) VUID-vkCmdDrawMeshTasksNV-viewportCount-03419

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with both the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic states enabled,
and the state is not inherited,
then the `viewportCount` parameter of
`vkCmdSetViewportWithCount` **must** match the `scissorCount`
parameter of `vkCmdSetScissorWithCount`

[](#VUID-vkCmdDrawMeshTasksNV-viewportCount-04137) VUID-vkCmdDrawMeshTasksNV-viewportCount-04137

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportWScalingStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportWScalingStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksNV-viewportCount-04138) VUID-vkCmdDrawMeshTasksNV-viewportCount-04138

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-08636) VUID-vkCmdDrawMeshTasksNV-None-08636

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksNV-viewportCount-04139) VUID-vkCmdDrawMeshTasksNV-viewportCount-04139

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic
state enabled, then the bound graphics pipeline **must** have been created
with
[VkPipelineViewportShadingRateImageStateCreateInfoNV](primsrast.html#VkPipelineViewportShadingRateImageStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksNV-shadingRateImage-09233) VUID-vkCmdDrawMeshTasksNV-shadingRateImage-09233

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_COARSE_SAMPLE_ORDER_NV` and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoarseSampleOrderNV](primsrast.html#vkCmdSetCoarseSampleOrderNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-shadingRateImage-09234) VUID-vkCmdDrawMeshTasksNV-shadingRateImage-09234

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-08637) VUID-vkCmdDrawMeshTasksNV-None-08637

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** be greater than or
equal to the `viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksNV-VkPipelineVieportCreateInfo-04141) VUID-vkCmdDrawMeshTasksNV-VkPipelineVieportCreateInfo-04141

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV) structure chained from
[VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound graphics
pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksNV-VkPipelineVieportCreateInfo-04142) VUID-vkCmdDrawMeshTasksNV-VkPipelineVieportCreateInfo-04142

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV) structure
chained from [VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound
graphics pipeline **must** have been created with
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV)::`exclusiveScissorCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksNV-None-07878) VUID-vkCmdDrawMeshTasksNV-None-07878

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_ENABLE_NV` dynamic state
enabled, then [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07879) VUID-vkCmdDrawMeshTasksNV-None-07879

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_NV` dynamic state enabled, and
the most recent call to [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) in the
current command buffer set any element of `pExclusiveScissorEnables`
to `VK_TRUE`, then [vkCmdSetExclusiveScissorNV](fragops.html#vkCmdSetExclusiveScissorNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-04876) VUID-vkCmdDrawMeshTasksNV-None-04876

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE` dynamic state enabled,
then [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-04877) VUID-vkCmdDrawMeshTasksNV-None-04877

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBiasEnable](primsrast.html#vkCmdSetDepthBiasEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-logicOp-04878) VUID-vkCmdDrawMeshTasksNV-logicOp-04878

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `logicOpEnable` is
`VK_TRUE`, then [vkCmdSetLogicOpEXT](framebuffer.html#vkCmdSetLogicOpEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-primitiveFragmentShadingRateWithMultipleViewports-04552) VUID-vkCmdDrawMeshTasksNV-primitiveFragmentShadingRateWithMultipleViewports-04552

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, and
any of the shader stages of the bound graphics pipeline write to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawMeshTasksNV-primitiveFragmentShadingRateWithMultipleViewports-08642) VUID-vkCmdDrawMeshTasksNV-primitiveFragmentShadingRateWithMultipleViewports-08642

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, and any shader object bound to a graphics stage writes to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawMeshTasksNV-blendEnable-04727) VUID-vkCmdDrawMeshTasksNV-blendEnable-04727

If rasterization is not disabled in the bound graphics pipeline, then
for each color attachment in the subpass, if the corresponding image
view’s [format features](resources.html#resources-image-view-format-features) do not
contain `VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
`blendEnable` member of the corresponding element of the
`pAttachments` member of `pColorBlendState` **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawMeshTasksNV-None-08643) VUID-vkCmdDrawMeshTasksNV-None-08643

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then for each color attachment in the render pass, if
the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) do not contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
corresponding member of `pColorBlendEnables` in the most recent call
to `vkCmdSetColorBlendEnableEXT` in the current command buffer that
affected that attachment index **must** have been `VK_FALSE`

[](#VUID-vkCmdDrawMeshTasksNV-multisampledRenderToSingleSampled-07284) VUID-vkCmdDrawMeshTasksNV-multisampledRenderToSingleSampled-07284

If rasterization is not disabled in the bound graphics pipeline,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then `rasterizationSamples` for the bound graphics pipeline **must** be the
same as the current subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawMeshTasksNV-None-08644) VUID-vkCmdDrawMeshTasksNV-None-08644

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then the most recent call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) in the
current command buffer **must** have set `rasterizationSamples` to be the
same as the number of samples for the current render pass color and/or
depth/stencil attachments

[](#VUID-vkCmdDrawMeshTasksNV-None-08876) VUID-vkCmdDrawMeshTasksNV-None-08876

If a shader object is bound to any graphics stage, the current render
pass instance **must** have been begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)

[](#VUID-vkCmdDrawMeshTasksNV-imageView-06172) VUID-vkCmdDrawMeshTasksNV-imageView-06172

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the depth attachment

[](#VUID-vkCmdDrawMeshTasksNV-imageView-06173) VUID-vkCmdDrawMeshTasksNV-imageView-06173

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawMeshTasksNV-imageView-06174) VUID-vkCmdDrawMeshTasksNV-imageView-06174

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL`, this
command **must** not write any values to the depth attachment

[](#VUID-vkCmdDrawMeshTasksNV-imageView-06175) VUID-vkCmdDrawMeshTasksNV-imageView-06175

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL`, this
command **must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawMeshTasksNV-imageView-06176) VUID-vkCmdDrawMeshTasksNV-imageView-06176

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the depth attachment

[](#VUID-vkCmdDrawMeshTasksNV-imageView-06177) VUID-vkCmdDrawMeshTasksNV-imageView-06177

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the stencil attachment

[](#VUID-vkCmdDrawMeshTasksNV-viewMask-06178) VUID-vkCmdDrawMeshTasksNV-viewMask-06178

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a [VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`viewMask` equal
to [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`viewMask`

[](#VUID-vkCmdDrawMeshTasksNV-colorAttachmentCount-06179) VUID-vkCmdDrawMeshTasksNV-colorAttachmentCount-06179

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`colorAttachmentCount` equal to
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount`

[](#VUID-vkCmdDrawMeshTasksNV-dynamicRenderingUnusedAttachments-08910) VUID-vkCmdDrawMeshTasksNV-dynamicRenderingUnusedAttachments-08910

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have
been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksNV-dynamicRenderingUnusedAttachments-08912) VUID-vkCmdDrawMeshTasksNV-dynamicRenderingUnusedAttachments-08912

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have the
corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound pipeline equal to `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksNV-dynamicRenderingUnusedAttachments-08911) VUID-vkCmdDrawMeshTasksNV-dynamicRenderingUnusedAttachments-08911

If the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled, and the
current render pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`,
then each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments`
array with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must**
have been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding
element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline, or the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats`, if
it exists, **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksNV-colorAttachmentCount-09362) VUID-vkCmdDrawMeshTasksNV-colorAttachmentCount-09362

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`,
there is no shader object bound to any graphics stage,
and a color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`resolveImageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksNV-None-09363) VUID-vkCmdDrawMeshTasksNV-None-09363

If
there is no shader object bound to any graphics stage,
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, and a
color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksNV-None-09364) VUID-vkCmdDrawMeshTasksNV-None-09364

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set the blend enable
to `VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-09365) VUID-vkCmdDrawMeshTasksNV-None-09365

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-09366) VUID-vkCmdDrawMeshTasksNV-None-09366

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set blend enable to
`VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-rasterizationSamples-09367) VUID-vkCmdDrawMeshTasksNV-rasterizationSamples-09367

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-09368) VUID-vkCmdDrawMeshTasksNV-None-09368

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-09369) VUID-vkCmdDrawMeshTasksNV-None-09369

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-pFragmentSize-09370) VUID-vkCmdDrawMeshTasksNV-pFragmentSize-09370

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-pFragmentSize-09371) VUID-vkCmdDrawMeshTasksNV-pFragmentSize-09371

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07749) VUID-vkCmdDrawMeshTasksNV-None-07749

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-08646) VUID-vkCmdDrawMeshTasksNV-None-08646

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-attachmentCount-07750) VUID-vkCmdDrawMeshTasksNV-attachmentCount-07750

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
the `attachmentCount` parameter of `vkCmdSetColorWriteEnableEXT`
**must** be greater than or equal to the
`VkPipelineColorBlendStateCreateInfo`::`attachmentCount` of the
bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksNV-None-08647) VUID-vkCmdDrawMeshTasksNV-None-08647

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then the
`attachmentCount` parameter of most recent call to
`vkCmdSetColorWriteEnableEXT` in the current command buffer **must** be
greater than or equal to the number of color attachments in the current
render pass instance

[](#VUID-vkCmdDrawMeshTasksNV-None-07751) VUID-vkCmdDrawMeshTasksNV-None-07751

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled, a
graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) included a
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT)::`discardRectangleCount`

[](#VUID-vkCmdDrawMeshTasksNV-rasterizerDiscardEnable-09236) VUID-vkCmdDrawMeshTasksNV-rasterizerDiscardEnable-09236

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) did not
include a [VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPhysicalDeviceDiscardRectanglePropertiesEXT](limits.html#VkPhysicalDeviceDiscardRectanglePropertiesEXT)::`maxDiscardRectangles`

[](#VUID-vkCmdDrawMeshTasksNV-None-07880) VUID-vkCmdDrawMeshTasksNV-None-07880

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_ENABLE_EXT` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDiscardRectangleEnableEXT](fragops.html#vkCmdSetDiscardRectangleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07881) VUID-vkCmdDrawMeshTasksNV-None-07881

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_MODE_EXT` dynamic state enabled,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleModeEXT](fragops.html#vkCmdSetDiscardRectangleModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-dynamicRenderingUnusedAttachments-08913) VUID-vkCmdDrawMeshTasksNV-dynamicRenderingUnusedAttachments-08913

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksNV-dynamicRenderingUnusedAttachments-08914) VUID-vkCmdDrawMeshTasksNV-dynamicRenderingUnusedAttachments-08914

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksNV-dynamicRenderingUnusedAttachments-08915) VUID-vkCmdDrawMeshTasksNV-dynamicRenderingUnusedAttachments-08915

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline was not equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`,
the value of the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksNV-dynamicRenderingUnusedAttachments-08916) VUID-vkCmdDrawMeshTasksNV-dynamicRenderingUnusedAttachments-08916

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksNV-dynamicRenderingUnusedAttachments-08917) VUID-vkCmdDrawMeshTasksNV-dynamicRenderingUnusedAttachments-08917

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksNV-dynamicRenderingUnusedAttachments-08918) VUID-vkCmdDrawMeshTasksNV-dynamicRenderingUnusedAttachments-08918

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline was not equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`, the value of
the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksNV-imageView-06183) VUID-vkCmdDrawMeshTasksNV-imageView-06183

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentShadingRateAttachmentInfoKHR](renderpass.html#VkRenderingFragmentShadingRateAttachmentInfoKHR)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR`

[](#VUID-vkCmdDrawMeshTasksNV-imageView-06184) VUID-vkCmdDrawMeshTasksNV-imageView-06184

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentDensityMapAttachmentInfoEXT](renderpass.html#VkRenderingFragmentDensityMapAttachmentInfoEXT)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT`

[](#VUID-vkCmdDrawMeshTasksNV-colorAttachmentCount-06185) VUID-vkCmdDrawMeshTasksNV-colorAttachmentCount-06185

If the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and the current render
pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
`0`, then each element of the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with a sample count equal to the corresponding element of the
`pColorAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline

[](#VUID-vkCmdDrawMeshTasksNV-pDepthAttachment-06186) VUID-vkCmdDrawMeshTasksNV-pDepthAttachment-06186

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksNV-pStencilAttachment-06187) VUID-vkCmdDrawMeshTasksNV-pStencilAttachment-06187

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksNV-multisampledRenderToSingleSampled-07285) VUID-vkCmdDrawMeshTasksNV-multisampledRenderToSingleSampled-07285

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    the current render pass instance was begun with
    [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
    `0`, then each element of the
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
    `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
    created with a sample count equal to the value of
    `rasterizationSamples` for the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksNV-multisampledRenderToSingleSampled-07286) VUID-vkCmdDrawMeshTasksNV-multisampledRenderToSingleSampled-07286

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksNV-multisampledRenderToSingleSampled-07287) VUID-vkCmdDrawMeshTasksNV-multisampledRenderToSingleSampled-07287

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksNV-pNext-07935) VUID-vkCmdDrawMeshTasksNV-pNext-07935

If this command has been called inside a render pass instance started
with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), and the `pNext` chain of
[VkRenderingInfo](renderpass.html#VkRenderingInfo) includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the value of `rasterizationSamples` for the bound graphics
pipeline **must** be equal to
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT)::`rasterizationSamples`

[](#VUID-vkCmdDrawMeshTasksNV-renderPass-06198) VUID-vkCmdDrawMeshTasksNV-renderPass-06198

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline **must** have been created
with a [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`renderPass` equal to
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

[](#VUID-vkCmdDrawMeshTasksNV-pColorAttachments-08963) VUID-vkCmdDrawMeshTasksNV-pColorAttachments-08963

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound with a
fragment shader that statically writes to a color attachment, the color
write mask is not zero, color writes are enabled, and the corresponding
element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments->imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksNV-pDepthAttachment-08964) VUID-vkCmdDrawMeshTasksNV-pDepthAttachment-08964

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, depth
test is enabled, depth write is enabled, and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksNV-pStencilAttachment-08965) VUID-vkCmdDrawMeshTasksNV-pStencilAttachment-08965

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, stencil
test is enabled and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksNV-flags-10582) VUID-vkCmdDrawMeshTasksNV-flags-10582

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), its [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`flags`
parameter **must** not have
`VK_RENDERING_CONTENTS_SECONDARY_COMMAND_BUFFERS_BIT` set
unless `VK_RENDERING_CONTENTS_INLINE_BIT_KHR` is also set

[](#VUID-vkCmdDrawMeshTasksNV-primitivesGeneratedQueryWithRasterizerDiscard-06708) VUID-vkCmdDrawMeshTasksNV-primitivesGeneratedQueryWithRasterizerDiscard-06708

If the [    `primitivesGeneratedQueryWithRasterizerDiscard`](features.html#features-primitivesGeneratedQueryWithRasterizerDiscard) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, [rasterization discard](primsrast.html#primsrast-discard) **must** not be enabled

[](#VUID-vkCmdDrawMeshTasksNV-primitivesGeneratedQueryWithNonZeroStreams-06709) VUID-vkCmdDrawMeshTasksNV-primitivesGeneratedQueryWithNonZeroStreams-06709

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, the bound graphics pipeline **must** not have been created with a
non-zero value in
`VkPipelineRasterizationStateStreamCreateInfoEXT`::`rasterizationStream`

[](#VUID-vkCmdDrawMeshTasksNV-None-07620) VUID-vkCmdDrawMeshTasksNV-None-07620

If the [`depthClamp`](features.html#features-depthClamp) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthClampEnableEXT](vertexpostproc.html#vkCmdSetDepthClampEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07621) VUID-vkCmdDrawMeshTasksNV-None-07621

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_POLYGON_MODE_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07622) VUID-vkCmdDrawMeshTasksNV-None-07622

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07623) VUID-vkCmdDrawMeshTasksNV-None-07623

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-alphaToCoverageEnable-08919) VUID-vkCmdDrawMeshTasksNV-alphaToCoverageEnable-08919

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and `alphaToCoverageEnable` was `VK_TRUE` in the last
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT), then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawMeshTasksNV-alphaToCoverageEnable-08920) VUID-vkCmdDrawMeshTasksNV-alphaToCoverageEnable-08920

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) in the current command
buffer set `alphaToCoverageEnable` to `VK_TRUE`, then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawMeshTasksNV-None-07624) VUID-vkCmdDrawMeshTasksNV-None-07624

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07625) VUID-vkCmdDrawMeshTasksNV-None-07625

If the [`alphaToOne`](features.html#features-alphaToOne) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_ONE_ENABLE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToOneEnableEXT](fragops.html#vkCmdSetAlphaToOneEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07626) VUID-vkCmdDrawMeshTasksNV-None-07626

If the [`logicOp`](features.html#features-logicOp) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetLogicOpEnableEXT](framebuffer.html#vkCmdSetLogicOpEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07627) VUID-vkCmdDrawMeshTasksNV-None-07627

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-08657) VUID-vkCmdDrawMeshTasksNV-None-08657

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have
been called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime)
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07628) VUID-vkCmdDrawMeshTasksNV-None-07628

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-08658) VUID-vkCmdDrawMeshTasksNV-None-08658

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) for any attachment set that
attachment’s value in `pColorBlendEnables` to `VK_TRUE`, then
[vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07629) VUID-vkCmdDrawMeshTasksNV-None-07629

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-08659) VUID-vkCmdDrawMeshTasksNV-None-08659

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07630) VUID-vkCmdDrawMeshTasksNV-None-07630

If the [`geometryStreams`](features.html#features-geometryStreams) feature is
enabled, and
a shader object is bound to the `VK_SHADER_STAGE_GEOMETRY_BIT` stage
or
a graphics pipeline is bound which was created with both a
`VK_SHADER_STAGE_GEOMETRY_BIT` stage and the
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` dynamic state enabled,
then [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07631) VUID-vkCmdDrawMeshTasksNV-None-07631

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07632) VUID-vkCmdDrawMeshTasksNV-None-07632

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXTRA_PRIMITIVE_OVERESTIMATION_SIZE_EXT` dynamic
state enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`conservativeRasterizationMode` is
`VK_CONSERVATIVE_RASTERIZATION_MODE_OVERESTIMATE_EXT`, then
[vkCmdSetExtraPrimitiveOverestimationSizeEXT](primsrast.html#vkCmdSetExtraPrimitiveOverestimationSizeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07633) VUID-vkCmdDrawMeshTasksNV-None-07633

If the [`depthClipEnable`](features.html#features-depthClipEnable) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_ENABLE_EXT` dynamic state, then
[vkCmdSetDepthClipEnableEXT](vertexpostproc.html#vkCmdSetDepthClipEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07635) VUID-vkCmdDrawMeshTasksNV-None-07635

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-rasterizerDiscardEnable-09416) VUID-vkCmdDrawMeshTasksNV-rasterizerDiscardEnable-09416

If the `[VK_EXT_blend_operation_advanced](../appendices/extensions.html#VK_EXT_blend_operation_advanced)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then at least one of [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT)
and [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07636) VUID-vkCmdDrawMeshTasksNV-None-07636

If the `[VK_EXT_provoking_vertex](../appendices/extensions.html#VK_EXT_provoking_vertex)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_PROVOKING_VERTEX_MODE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetProvokingVertexModeEXT](vertexpostproc.html#vkCmdSetProvokingVertexModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07637) VUID-vkCmdDrawMeshTasksNV-None-07637

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state enabled
then [vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-08666) VUID-vkCmdDrawMeshTasksNV-None-08666

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-08667) VUID-vkCmdDrawMeshTasksNV-None-08667

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-08668) VUID-vkCmdDrawMeshTasksNV-None-08668

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07638) VUID-vkCmdDrawMeshTasksNV-None-07638

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` dynamic state enabled
then [vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-08669) VUID-vkCmdDrawMeshTasksNV-None-08669

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-08670) VUID-vkCmdDrawMeshTasksNV-None-08670

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-08671) VUID-vkCmdDrawMeshTasksNV-None-08671

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07849) VUID-vkCmdDrawMeshTasksNV-None-07849

    If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled and
    a shader object is bound to any graphics stage, or
    a bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE`
    dynamic state enabled, the [current    value](pipelines.html#dynamic-state-current-value) of `rasterizerDiscardEnable` is `VK_FALSE`, and the
    [current value](pipelines.html#dynamic-state-current-value) of
    `stippledLineEnable` is `VK_TRUE`, then
[vkCmdSetLineStipple](primsrast.html#vkCmdSetLineStipple)
    **must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
    command

[](#VUID-vkCmdDrawMeshTasksNV-None-10608) VUID-vkCmdDrawMeshTasksNV-None-10608

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the current `lineRasterizationMode` is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM` or
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the current
`alphaToCoverageEnable`, `alphaToOneEnable` and
`sampleShadingEnable` states **must** all be `VK_FALSE`

[](#VUID-vkCmdDrawMeshTasksNV-None-07639) VUID-vkCmdDrawMeshTasksNV-None-07639

If the [`depthClipControl`](features.html#features-depthClipControl) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_NEGATIVE_ONE_TO_ONE_EXT` dynamic state
enabled, then [vkCmdSetDepthClipNegativeOneToOneEXT](vertexpostproc.html#vkCmdSetDepthClipNegativeOneToOneEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-09650) VUID-vkCmdDrawMeshTasksNV-None-09650

If the [`depthClampControl`](features.html#features-depthClampControl) feature
is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_RANGE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`depthClampEnable` is `VK_TRUE`, then
[vkCmdSetDepthClampRangeEXT](fragops.html#vkCmdSetDepthClampRangeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07640) VUID-vkCmdDrawMeshTasksNV-None-07640

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_ENABLE_NV` dynamic state
enabled, then [vkCmdSetViewportWScalingEnableNV](vertexpostproc.html#vkCmdSetViewportWScalingEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07641) VUID-vkCmdDrawMeshTasksNV-None-07641

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state enabled, then
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07642) VUID-vkCmdDrawMeshTasksNV-None-07642

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07643) VUID-vkCmdDrawMeshTasksNV-None-07643

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_LOCATION_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageToColorEnable` is `VK_TRUE`, then
[vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07644) VUID-vkCmdDrawMeshTasksNV-None-07644

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_MODE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageModulationModeNV](fragops.html#vkCmdSetCoverageModulationModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07645) VUID-vkCmdDrawMeshTasksNV-None-07645

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationMode` is any value other than
`VK_COVERAGE_MODULATION_MODE_NONE_NV`, then
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07646) VUID-vkCmdDrawMeshTasksNV-None-07646

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationTableEnable` is `VK_TRUE`, then
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07647) VUID-vkCmdDrawMeshTasksNV-None-07647

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SHADING_RATE_IMAGE_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetShadingRateImageEnableNV](primsrast.html#vkCmdSetShadingRateImageEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-pipelineFragmentShadingRate-09238) VUID-vkCmdDrawMeshTasksNV-pipelineFragmentShadingRate-09238

If the [    `pipelineFragmentShadingRate`](features.html#features-pipelineFragmentShadingRate) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07648) VUID-vkCmdDrawMeshTasksNV-None-07648

If the [    `representativeFragmentTest`](features.html#features-representativeFragmentTest) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_REPRESENTATIVE_FRAGMENT_TEST_ENABLE_NV` dynamic
state enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRepresentativeFragmentTestEnableNV](fragops.html#vkCmdSetRepresentativeFragmentTestEnableNV) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07649) VUID-vkCmdDrawMeshTasksNV-None-07649

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageReductionModeNV](fragops.html#vkCmdSetCoverageReductionModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-pColorBlendEnables-07470) VUID-vkCmdDrawMeshTasksNV-pColorBlendEnables-07470

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` state enabled and the last
call to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) set `pColorBlendEnables`
for any attachment to `VK_TRUE`, then for those attachments in the
subpass the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`

[](#VUID-vkCmdDrawMeshTasksNV-rasterizationSamples-07471) VUID-vkCmdDrawMeshTasksNV-rasterizationSamples-07471

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
current subpass does not use any color and/or depth/stencil attachments,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** follow the rules for a
[zero-attachment subpass](renderpass.html#renderpass-noattachments)

[](#VUID-vkCmdDrawMeshTasksNV-samples-07472) VUID-vkCmdDrawMeshTasksNV-samples-07472

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo)::`rasterizationSamples`
parameter used to create the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksNV-samples-07473) VUID-vkCmdDrawMeshTasksNV-samples-07473

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state and
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` states enabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
`rasterizationSamples` parameter in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksNV-rasterizationSamples-07474) VUID-vkCmdDrawMeshTasksNV-rasterizationSamples-07474

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and
the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
neither the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` nor the
`[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extensions are enabled, then
the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the current
subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawMeshTasksNV-None-09211) VUID-vkCmdDrawMeshTasksNV-None-09211

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled,
or a shader object is bound to any graphics stage,
and the current render pass instance includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the
`rasterizationSamples` member of that structure

[](#VUID-vkCmdDrawMeshTasksNV-firstAttachment-07476) VUID-vkCmdDrawMeshTasksNV-firstAttachment-07476

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorBlendEnableEXT` calls **must** specify an
enable for all active color attachments in the current subpass

[](#VUID-vkCmdDrawMeshTasksNV-rasterizerDiscardEnable-09417) VUID-vkCmdDrawMeshTasksNV-rasterizerDiscardEnable-09417

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEnableEXT`
calls **must** specify an enable for all active color attachments in the
current subpass

[](#VUID-vkCmdDrawMeshTasksNV-firstAttachment-07477) VUID-vkCmdDrawMeshTasksNV-firstAttachment-07477

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawMeshTasksNV-rasterizerDiscardEnable-09418) VUID-vkCmdDrawMeshTasksNV-rasterizerDiscardEnable-09418

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have
been called in the current command buffer prior to this drawing command,
and the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawMeshTasksNV-firstAttachment-07478) VUID-vkCmdDrawMeshTasksNV-firstAttachment-07478

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorWriteMaskEXT` calls **must** specify the
color write mask for all active color attachments in the current subpass

[](#VUID-vkCmdDrawMeshTasksNV-rasterizerDiscardEnable-09419) VUID-vkCmdDrawMeshTasksNV-rasterizerDiscardEnable-09419

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorWriteMaskEXT`
calls **must** specify the color write mask for all active color
attachments in the current subpass

[](#VUID-vkCmdDrawMeshTasksNV-firstAttachment-07479) VUID-vkCmdDrawMeshTasksNV-firstAttachment-07479

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendAdvancedEXT`
calls **must** specify the advanced blend equations for all active color
attachments in the current subpass where blending is enabled

[](#VUID-vkCmdDrawMeshTasksNV-advancedBlendMaxColorAttachments-07480) VUID-vkCmdDrawMeshTasksNV-advancedBlendMaxColorAttachments-07480

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` and
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic states enabled and
the last calls to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) and
[vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) have enabled advanced blending, then
the number of active color attachments in the current subpass **must** not
exceed [    `advancedBlendMaxColorAttachments`](limits.html#limits-advancedBlendMaxColorAttachments)

[](#VUID-vkCmdDrawMeshTasksNV-primitivesGeneratedQueryWithNonZeroStreams-07481) VUID-vkCmdDrawMeshTasksNV-primitivesGeneratedQueryWithNonZeroStreams-07481

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, and the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` state enabled, the last
call to [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have set the
`rasterizationStream` to zero

[](#VUID-vkCmdDrawMeshTasksNV-sampleLocationsPerPixel-07482) VUID-vkCmdDrawMeshTasksNV-sampleLocationsPerPixel-07482

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` member of the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo) structure the bound graphics
pipeline has been created with

[](#VUID-vkCmdDrawMeshTasksNV-sampleLocationsPerPixel-07483) VUID-vkCmdDrawMeshTasksNV-sampleLocationsPerPixel-07483

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` parameter of the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksNV-sampleLocationsEnable-07484) VUID-vkCmdDrawMeshTasksNV-sampleLocationsEnable-07484

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), and the current subpass has a
depth/stencil attachment, then that attachment **must** have been created
with the `VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT`
bit set

[](#VUID-vkCmdDrawMeshTasksNV-sampleLocationsEnable-07485) VUID-vkCmdDrawMeshTasksNV-sampleLocationsEnable-07485

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.width` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawMeshTasksNV-sampleLocationsEnable-07486) VUID-vkCmdDrawMeshTasksNV-sampleLocationsEnable-07486

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.height` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawMeshTasksNV-sampleLocationsEnable-07487) VUID-vkCmdDrawMeshTasksNV-sampleLocationsEnable-07487

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), the fragment shader code **must**
not statically use the extended instruction `InterpolateAtSample`

[](#VUID-vkCmdDrawMeshTasksNV-sampleLocationsEnable-07936) VUID-vkCmdDrawMeshTasksNV-sampleLocationsEnable-07936

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.width` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksNV-sampleLocationsEnable-07937) VUID-vkCmdDrawMeshTasksNV-sampleLocationsEnable-07937

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.height` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksNV-sampleLocationsEnable-07938) VUID-vkCmdDrawMeshTasksNV-sampleLocationsEnable-07938

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationsPerPixel` **must** equal
`rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksNV-coverageModulationTableEnable-07488) VUID-vkCmdDrawMeshTasksNV-coverageModulationTableEnable-07488

If
a shader object is bound to any graphics stage or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` state
enabled, and the last call to
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) set
`coverageModulationTableEnable` to `VK_TRUE`, then the
`coverageModulationTableCount` parameter in the last call to
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** equal the current
`rasterizationSamples` divided by the number of color samples in the
current subpass

[](#VUID-vkCmdDrawMeshTasksNV-rasterizationSamples-07489) VUID-vkCmdDrawMeshTasksNV-rasterizationSamples-07489

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and if current subpass has a depth/stencil attachment and depth test,
stencil test, or depth bounds test are enabled in the bound pipeline,
then the current `rasterizationSamples` **must** be the same as the
sample count of the depth/stencil attachment

[](#VUID-vkCmdDrawMeshTasksNV-coverageToColorEnable-07490) VUID-vkCmdDrawMeshTasksNV-coverageToColorEnable-07490

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` state enabled and the
last call to [vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawMeshTasksNV-rasterizerDiscardEnable-09420) VUID-vkCmdDrawMeshTasksNV-rasterizerDiscardEnable-09420

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the last call to
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawMeshTasksNV-coverageReductionMode-07491) VUID-vkCmdDrawMeshTasksNV-coverageReductionMode-07491

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` or
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic states enabled,
then the [current values](pipelines.html#dynamic-state-current-value) of
`coverageReductionMode`, `rasterizationSamples`, the sample
counts for the color and depth/stencil attachments (if the subpass has
them) **must** be a valid combination returned by
[vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV](fragops.html#vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV)

[](#VUID-vkCmdDrawMeshTasksNV-viewportCount-07492) VUID-vkCmdDrawMeshTasksNV-viewportCount-07492

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksNV-viewportCount-07493) VUID-vkCmdDrawMeshTasksNV-viewportCount-07493

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic states enabled then
the `viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksNV-viewportCount-09421) VUID-vkCmdDrawMeshTasksNV-viewportCount-09421

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and a
shader object is bound to any graphics stage, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksNV-rasterizationSamples-07494) VUID-vkCmdDrawMeshTasksNV-rasterizationSamples-07494

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is not enabled, or the [current    value](pipelines.html#dynamic-state-current-value) of `coverageReductionMode` is not
`VK_COVERAGE_REDUCTION_MODE_TRUNCATE_NV`,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizationSamples` is greater than sample count of the color
attachment, then [sample shading](primsrast.html#primsrast-sampleshading) **must** be
disabled

[](#VUID-vkCmdDrawMeshTasksNV-stippledLineEnable-07495) VUID-vkCmdDrawMeshTasksNV-stippledLineEnable-07495

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled

[](#VUID-vkCmdDrawMeshTasksNV-stippledLineEnable-07496) VUID-vkCmdDrawMeshTasksNV-stippledLineEnable-07496

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM`, then the
[`stippledBresenhamLines`](features.html#features-stippledBresenhamLines)
feature **must** be enabled

[](#VUID-vkCmdDrawMeshTasksNV-stippledLineEnable-07497) VUID-vkCmdDrawMeshTasksNV-stippledLineEnable-07497

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the
[`stippledSmoothLines`](features.html#features-stippledSmoothLines) feature
**must** be enabled

[](#VUID-vkCmdDrawMeshTasksNV-stippledLineEnable-07498) VUID-vkCmdDrawMeshTasksNV-stippledLineEnable-07498

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_DEFAULT`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled and
[VkPhysicalDeviceLimits](limits.html#VkPhysicalDeviceLimits)::`strictLines` **must** be `VK_TRUE`

[](#VUID-vkCmdDrawMeshTasksNV-conservativePointAndLineRasterization-07499) VUID-vkCmdDrawMeshTasksNV-conservativePointAndLineRasterization-07499

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, [    `conservativePointAndLineRasterization`](limits.html#limits-conservativePointAndLineRasterization) is not supported, and the
effective primitive topology output by the last pre-rasterization shader
stage is a line or point, then the `conservativeRasterizationMode`
set by the last call to [vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT)
**must** be `VK_CONSERVATIVE_RASTERIZATION_MODE_DISABLED_EXT`

[](#VUID-vkCmdDrawMeshTasksNV-stage-07073) VUID-vkCmdDrawMeshTasksNV-stage-07073

If the bound pipeline was created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of an element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT`, then [Mesh    Shader Queries](queries.html#queries-mesh-shader) **must** not be active

[](#VUID-vkCmdDrawMeshTasksNV-None-08877) VUID-vkCmdDrawMeshTasksNV-None-08877

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-None-07850) VUID-vkCmdDrawMeshTasksNV-None-07850

If dynamic state was inherited from
[VkCommandBufferInheritanceViewportScissorInfoNV](cmdbuffers.html#VkCommandBufferInheritanceViewportScissorInfoNV), it **must** be set
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksNV-nextStage-10745) VUID-vkCmdDrawMeshTasksNV-nextStage-10745

For each shader object bound to a graphics stage, except for shader
object bound to the last graphics stage in the logical pipeline, it
**must** have been created with a `nextStage` including the
corresponding bit to the shader object bound to the following graphics
stage in the logical pipeline

[](#VUID-vkCmdDrawMeshTasksNV-None-08684) VUID-vkCmdDrawMeshTasksNV-None-08684

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_VERTEX_BIT`

[](#VUID-vkCmdDrawMeshTasksNV-None-08685) VUID-vkCmdDrawMeshTasksNV-None-08685

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`

[](#VUID-vkCmdDrawMeshTasksNV-None-08686) VUID-vkCmdDrawMeshTasksNV-None-08686

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT`

[](#VUID-vkCmdDrawMeshTasksNV-None-08687) VUID-vkCmdDrawMeshTasksNV-None-08687

If there is no bound graphics pipeline, and the
[`geometryShader`](features.html#features-geometryShader) feature is enabled,
`vkCmdBindShadersEXT` **must** have been called in the current command
buffer with `pStages` with an element of
`VK_SHADER_STAGE_GEOMETRY_BIT`

[](#VUID-vkCmdDrawMeshTasksNV-None-08688) VUID-vkCmdDrawMeshTasksNV-None-08688

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_FRAGMENT_BIT`

[](#VUID-vkCmdDrawMeshTasksNV-None-08689) VUID-vkCmdDrawMeshTasksNV-None-08689

If there is no bound graphics pipeline, and the [    `taskShader`](features.html#features-taskShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_TASK_BIT_EXT`

[](#VUID-vkCmdDrawMeshTasksNV-None-08690) VUID-vkCmdDrawMeshTasksNV-None-08690

If there is no bound graphics pipeline, and the [    `meshShader`](features.html#features-meshShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_MESH_BIT_EXT`

[](#VUID-vkCmdDrawMeshTasksNV-None-08693) VUID-vkCmdDrawMeshTasksNV-None-08693

If there is no bound graphics pipeline, and at least one of the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features is enabled, one of the
`VK_SHADER_STAGE_VERTEX_BIT` or `VK_SHADER_STAGE_MESH_BIT_EXT`
stages **must** have a valid `VkShaderEXT` bound, and the other **must**
have no `VkShaderEXT` bound

[](#VUID-vkCmdDrawMeshTasksNV-None-08696) VUID-vkCmdDrawMeshTasksNV-None-08696

If there is no bound graphics pipeline, and a valid `VkShaderEXT` is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, there **must** be no
`VkShaderEXT` bound to either the `VK_SHADER_STAGE_TASK_BIT_EXT`
stage or the `VK_SHADER_STAGE_MESH_BIT_EXT` stage

[](#VUID-vkCmdDrawMeshTasksNV-None-08698) VUID-vkCmdDrawMeshTasksNV-None-08698

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, then all shaders created
with the `VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag in the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** also be bound

[](#VUID-vkCmdDrawMeshTasksNV-None-08699) VUID-vkCmdDrawMeshTasksNV-None-08699

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, any stages in between
stages whose shaders which did not create a shader with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag as part of the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** not have any `VkShaderEXT` bound

[](#VUID-vkCmdDrawMeshTasksNV-None-08878) VUID-vkCmdDrawMeshTasksNV-None-08878

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) push constant
ranges

[](#VUID-vkCmdDrawMeshTasksNV-None-08879) VUID-vkCmdDrawMeshTasksNV-None-08879

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) arrays of
descriptor set layouts

[](#VUID-vkCmdDrawMeshTasksNV-colorAttachmentCount-09372) VUID-vkCmdDrawMeshTasksNV-colorAttachmentCount-09372

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, a color
attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, and a fragment
shader is bound, it **must** not declare the `DepthReplacing` or
`StencilRefReplacingEXT` execution modes

[](#VUID-vkCmdDrawMeshTasksNV-pDynamicStates-08715) VUID-vkCmdDrawMeshTasksNV-pDynamicStates-08715

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpDepthAttachmentReadEXT`, the `depthWriteEnable` parameter
in the last call to [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawMeshTasksNV-pDynamicStates-08716) VUID-vkCmdDrawMeshTasksNV-pDynamicStates-08716

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpStencilAttachmentReadEXT`, the `writeMask` parameter in
the last call to [vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** be `0`

[](#VUID-vkCmdDrawMeshTasksNV-None-09116) VUID-vkCmdDrawMeshTasksNV-None-09116

    If
    a shader object is bound to any graphics stage
or
    the bound graphics pipeline was created with
    `VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT`,
    and the format of any color attachment is
    `VK_FORMAT_E5B9G9R9_UFLOAT_PACK32`, the corresponding element of the
    `pColorWriteMasks` parameter of [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT)
    **must** either include all of `VK_COLOR_COMPONENT_R_BIT`,
    `VK_COLOR_COMPONENT_G_BIT`, and `VK_COLOR_COMPONENT_B_BIT`, or
    none of them

[](#VUID-vkCmdDrawMeshTasksNV-maxFragmentDualSrcAttachments-09239) VUID-vkCmdDrawMeshTasksNV-maxFragmentDualSrcAttachments-09239

If [blending](framebuffer.html#framebuffer-blending) is enabled for any attachment where
either the source or destination blend factors for that attachment
[use the secondary color input](framebuffer.html#framebuffer-dsb), the maximum value of
`Location` for any output attachment [statically    used](shaders.html#shaders-staticuse) in the `Fragment` `Execution` `Model` executed by this command
**must** be less than [    `maxFragmentDualSrcAttachments`](limits.html#limits-maxFragmentDualSrcAttachments)

[](#VUID-vkCmdDrawMeshTasksNV-None-09548) VUID-vkCmdDrawMeshTasksNV-None-09548

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
the value of each element of
[VkRenderingAttachmentLocationInfo](interfaces.html#VkRenderingAttachmentLocationInfo)::`pColorAttachmentLocations`
set by [vkCmdSetRenderingAttachmentLocations](interfaces.html#vkCmdSetRenderingAttachmentLocations) **must** match the value
set for the corresponding element in the bound pipeline

[](#VUID-vkCmdDrawMeshTasksNV-None-09549) VUID-vkCmdDrawMeshTasksNV-None-09549

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
input attachment index mappings in the bound pipeline **must** match those
set for the current render pass instance via
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

[](#VUID-vkCmdDrawMeshTasksNV-None-09642) VUID-vkCmdDrawMeshTasksNV-None-09642

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with
the `VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag, the bound
graphics pipeline **must** have been created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`

[](#VUID-vkCmdDrawMeshTasksNV-None-09643) VUID-vkCmdDrawMeshTasksNV-None-09643

If the bound graphics pipeline was created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`, the current
render pass **must** have begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with the
`VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag

[](#VUID-vkCmdDrawMeshTasksNV-None-10677) VUID-vkCmdDrawMeshTasksNV-None-10677

If the [per-tile execution model](renderpass.html#renderpass-per-tile-execution-model)
is enabled, the
[tileShadingPerTileDraw](features.html#features-tileShadingPerTileDraw) feature **must**
be enabled

[](#VUID-vkCmdDrawMeshTasksNV-None-10772) VUID-vkCmdDrawMeshTasksNV-None-10772

If a shader object is bound to any graphics stage, *multiview*
functionality **must** not be enabled in the current render pass

* 
[](#VUID-vkCmdDrawMeshTasksNV-stage-06480) VUID-vkCmdDrawMeshTasksNV-stage-06480

The bound graphics pipeline **must** not have been created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of any element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksNV-pStages-10680) VUID-vkCmdDrawMeshTasksNV-pStages-10680

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
not have last bound the `pStages` element of
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` with a valid shader object other than
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-07074) VUID-vkCmdDrawMeshTasksNV-None-07074

[Transform Feedback Queries](queries.html#queries-transform-feedback) **must** not be
active

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-07075) VUID-vkCmdDrawMeshTasksNV-None-07075

[Primitives Generated Queries](queries.html#queries-primitives-generated) **must** not
be active

* 
[](#VUID-vkCmdDrawMeshTasksNV-pipelineStatistics-07076) VUID-vkCmdDrawMeshTasksNV-pipelineStatistics-07076

The `pipelineStatistics` member used to create any active
[Pipeline Statistics Query](queries.html#queries-pipestats) **must** not contain
`VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_VERTICES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_PRIMITIVES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_VERTEX_SHADER_INVOCATIONS_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_INVOCATIONS_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_PRIMITIVES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_CLIPPING_INVOCATIONS_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_CLIPPING_PRIMITIVES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_CONTROL_SHADER_PATCHES_BIT`,
or
`VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_EVALUATION_SHADER_INVOCATIONS_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-08694) VUID-vkCmdDrawMeshTasksNV-None-08694

If there is no bound graphics pipeline, and both the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features are enabled, and a valid `VkShaderEXT`
is bound the to the `VK_SHADER_STAGE_MESH_BIT_EXT` stage, and that
`VkShaderEXT` was created without the
`VK_SHADER_CREATE_NO_TASK_SHADER_BIT_EXT` flag, a valid
`VkShaderEXT` **must** be bound to the
`VK_SHADER_STAGE_TASK_BIT_EXT` stage

* 
[](#VUID-vkCmdDrawMeshTasksNV-None-08695) VUID-vkCmdDrawMeshTasksNV-None-08695

If there is no bound graphics pipeline, and both the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features are enabled, and a valid `VkShaderEXT`
is bound the to the `VK_SHADER_STAGE_MESH_BIT_EXT` stage, and that
`VkShaderEXT` was created with the
`VK_SHADER_CREATE_NO_TASK_SHADER_BIT_EXT` flag, there **must** be no
`VkShaderEXT` bound to the `VK_SHADER_STAGE_TASK_BIT_EXT` stage

* 
[](#VUID-vkCmdDrawMeshTasksNV-taskCount-02119) VUID-vkCmdDrawMeshTasksNV-taskCount-02119

`taskCount` **must** be less than or equal to
`VkPhysicalDeviceMeshShaderPropertiesNV`::`maxDrawMeshTasksCount`

* 
[](#VUID-vkCmdDrawMeshTasksNV-MeshNV-07080) VUID-vkCmdDrawMeshTasksNV-MeshNV-07080

The current pipeline bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`
**must** contain a shader stage using the `MeshNV` `Execution` `Model`

Valid Usage (Implicit)

* 
[](#VUID-vkCmdDrawMeshTasksNV-commandBuffer-parameter) VUID-vkCmdDrawMeshTasksNV-commandBuffer-parameter

 `commandBuffer` **must** be a valid [VkCommandBuffer](cmdbuffers.html#VkCommandBuffer) handle

* 
[](#VUID-vkCmdDrawMeshTasksNV-commandBuffer-recording) VUID-vkCmdDrawMeshTasksNV-commandBuffer-recording

 `commandBuffer` **must** be in the [recording state](cmdbuffers.html#commandbuffers-lifecycle)

* 
[](#VUID-vkCmdDrawMeshTasksNV-commandBuffer-cmdpool) VUID-vkCmdDrawMeshTasksNV-commandBuffer-cmdpool

 The `VkCommandPool` that `commandBuffer` was allocated from **must** support graphics operations

* 
[](#VUID-vkCmdDrawMeshTasksNV-renderpass) VUID-vkCmdDrawMeshTasksNV-renderpass

 This command **must** only be called inside of a render pass instance

* 
[](#VUID-vkCmdDrawMeshTasksNV-videocoding) VUID-vkCmdDrawMeshTasksNV-videocoding

 This command **must** only be called outside of a video coding scope

Host Synchronization

* 
Host access to `commandBuffer` **must** be externally synchronized

* 
Host access to the `VkCommandPool` that `commandBuffer` was allocated from **must** be externally synchronized

Command Properties
| [Command Buffer Levels](cmdbuffers.html#VkCommandBufferLevel) | [Render Pass Scope](renderpass.html#vkCmdBeginRenderPass) | [Video Coding Scope](videocoding.html#vkCmdBeginVideoCodingKHR) | [Supported Queue Types](devsandqueues.html#VkQueueFlagBits) | [Command Type](fundamentals.html#fundamentals-queueoperation-command-types) |
| --- | --- | --- | --- | --- |
| Primary

Secondary | Inside | Outside | Graphics | Action |

To record an indirect mesh tasks drawing command, call:

// Provided by VK_NV_mesh_shader
void vkCmdDrawMeshTasksIndirectNV(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    buffer,
    VkDeviceSize                                offset,
    uint32_t                                    drawCount,
    uint32_t                                    stride);

* 
`commandBuffer` is the command buffer into which the command is
recorded.

* 
`buffer` is the buffer containing draw parameters.

* 
`offset` is the byte offset into `buffer` where parameters
begin.

* 
`drawCount` is the number of draws to execute, and **can** be zero.

* 
`stride` is the byte stride between successive sets of draw
parameters.

`vkCmdDrawMeshTasksIndirectNV` behaves similarly to
[vkCmdDrawMeshTasksNV](#vkCmdDrawMeshTasksNV) except that the parameters are read by the device
from a buffer during execution.
`drawCount` draws are executed by the command, with parameters taken
from `buffer` starting at `offset` and increasing by `stride`
bytes for each successive draw.
The parameters of each draw are encoded in an array of
[VkDrawMeshTasksIndirectCommandNV](#VkDrawMeshTasksIndirectCommandNV) structures.
If `drawCount` is less than or equal to one, `stride` is ignored.

Valid Usage

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-magFilter-04553) VUID-vkCmdDrawMeshTasksIndirectNV-magFilter-04553

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-magFilter-09598) VUID-vkCmdDrawMeshTasksIndirectNV-magFilter-09598

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR` and `reductionMode` equal to either
`VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-mipmapMode-04770) VUID-vkCmdDrawMeshTasksIndirectNV-mipmapMode-04770

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-mipmapMode-09599) VUID-vkCmdDrawMeshTasksIndirectNV-mipmapMode-09599

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR` and `reductionMode` equal to
either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-unnormalizedCoordinates-09635) VUID-vkCmdDrawMeshTasksIndirectNV-unnormalizedCoordinates-09635

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `levelCount` and `layerCount`
**must** be 1

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08609) VUID-vkCmdDrawMeshTasksIndirectNV-None-08609

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `viewType` **must** be
`VK_IMAGE_VIEW_TYPE_1D` or `VK_IMAGE_VIEW_TYPE_2D`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08610) VUID-vkCmdDrawMeshTasksIndirectNV-None-08610

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions with
`ImplicitLod`, `Dref` or `Proj` in their name

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08611) VUID-vkCmdDrawMeshTasksIndirectNV-None-08611

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions that includes a
LOD bias or any offset values

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-06479) VUID-vkCmdDrawMeshTasksIndirectNV-None-06479

If a [VkImageView](resources.html#VkImageView) is sampled with
[depth comparison](textures.html#textures-depth-compare-operation), the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_SAMPLED_IMAGE_DEPTH_COMPARISON_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-02691) VUID-vkCmdDrawMeshTasksIndirectNV-None-02691

If a [VkImageView](resources.html#VkImageView) is accessed using atomic operations as a result
of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07888) VUID-vkCmdDrawMeshTasksIndirectNV-None-07888

If a `VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER` descriptor is
accessed using atomic operations as a result of this command, then the
storage texel buffer’s [format    features](resources.html#resources-buffer-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-02692) VUID-vkCmdDrawMeshTasksIndirectNV-None-02692

If a [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_CUBIC_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-02693) VUID-vkCmdDrawMeshTasksIndirectNV-None-02693

If
the [VK_EXT_filter_cubic](../appendices/extensions.html#VK_EXT_filter_cubic) extension is not enabled and
any [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, it **must** not have a [VkImageViewType](resources.html#VkImageViewType) of
`VK_IMAGE_VIEW_TYPE_3D`, `VK_IMAGE_VIEW_TYPE_CUBE`, or
`VK_IMAGE_VIEW_TYPE_CUBE_ARRAY`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-filterCubic-02694) VUID-vkCmdDrawMeshTasksIndirectNV-filterCubic-02694

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command **must** have a [VkImageViewType](resources.html#VkImageViewType) and format
that supports cubic filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubic`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-filterCubicMinmax-02695) VUID-vkCmdDrawMeshTasksIndirectNV-filterCubicMinmax-02695

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` with
a reduction mode of either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` as a result of this command **must**
have a [VkImageViewType](resources.html#VkImageViewType) and format that supports cubic filtering
together with minmax filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubicMinmax`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-cubicRangeClamp-09212) VUID-vkCmdDrawMeshTasksIndirectNV-cubicRangeClamp-09212

If the [`cubicRangeClamp`](features.html#features-cubicRangeClamp) feature is
not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** not have a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-reductionMode-09213) VUID-vkCmdDrawMeshTasksIndirectNV-reductionMode-09213

Any [VkImageView](resources.html#VkImageView) being sampled with a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM` as a
result of this command **must** sample with `VK_FILTER_CUBIC_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-selectableCubicWeights-09214) VUID-vkCmdDrawMeshTasksIndirectNV-selectableCubicWeights-09214

If the [`selectableCubicWeights`](features.html#features-selectableCubicWeights)
feature is not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** have
[VkSamplerCubicWeightsCreateInfoQCOM](samplers.html#VkSamplerCubicWeightsCreateInfoQCOM)::`cubicWeights` equal to
`VK_CUBIC_FILTER_WEIGHTS_CATMULL_ROM_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-flags-02696) VUID-vkCmdDrawMeshTasksIndirectNV-flags-02696

Any [VkImage](resources.html#VkImage) created with a [VkImageCreateInfo](resources.html#VkImageCreateInfo)::`flags`
containing `VK_IMAGE_CREATE_CORNER_SAMPLED_BIT_NV` sampled as a
result of this command **must** only be sampled using a
[VkSamplerAddressMode](samplers.html#VkSamplerAddressMode) of
`VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-OpTypeImage-07027) VUID-vkCmdDrawMeshTasksIndirectNV-OpTypeImage-07027

For any [VkImageView](resources.html#VkImageView) being written as a storage image where the
image format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-OpTypeImage-07028) VUID-vkCmdDrawMeshTasksIndirectNV-OpTypeImage-07028

For any [VkImageView](resources.html#VkImageView) being read as a storage image where the image
format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-OpTypeImage-07029) VUID-vkCmdDrawMeshTasksIndirectNV-OpTypeImage-07029

For any [VkBufferView](resources.html#VkBufferView) being written as a storage texel buffer where
the image format field of the `OpTypeImage` is `Unknown`, the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-OpTypeImage-07030) VUID-vkCmdDrawMeshTasksIndirectNV-OpTypeImage-07030

Any [VkBufferView](resources.html#VkBufferView) being read as a storage texel buffer where the
image format field of the `OpTypeImage` is `Unknown` then the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08600) VUID-vkCmdDrawMeshTasksIndirectNV-None-08600

For each set *n* that is statically used by [a bound    shader](shaders.html#shaders-binding), a descriptor set **must** have been bound to *n* at the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for set *n*, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the current
[VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08601) VUID-vkCmdDrawMeshTasksIndirectNV-None-08601

For each push constant that is statically used by [a    bound shader](shaders.html#shaders-binding), a push constant value **must** have been set for the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the
current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-10068) VUID-vkCmdDrawMeshTasksIndirectNV-None-10068

For each array of resources that is used by [a bound    shader](shaders.html#shaders-binding), the indices used to access members of the array **must** be less
than the descriptor count for the identified binding in the descriptor
sets used by this command

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-maintenance4-08602) VUID-vkCmdDrawMeshTasksIndirectNV-maintenance4-08602

If the [`maintenance4`](features.html#features-maintenance4) feature is not
enabled, then for each push constant that is statically used by
[a bound shader](shaders.html#shaders-binding), a push constant value **must** have
been set for the same pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
that is compatible for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
used to create the current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) and [VkPushConstantRange](descriptorsets.html#VkPushConstantRange) arrays
used to create the current [VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08114) VUID-vkCmdDrawMeshTasksIndirectNV-None-08114

Descriptors in each bound descriptor set, specified via
[vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), **must** be valid as described by
[descriptor validity](descriptorsets.html#descriptor-validity) if they are statically used
by
the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind point used by this
command and the bound [VkPipeline](pipelines.html#VkPipeline) was not created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08115) VUID-vkCmdDrawMeshTasksIndirectNV-None-08115

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), the bound
[VkPipeline](pipelines.html#VkPipeline) **must** have been created without
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08116) VUID-vkCmdDrawMeshTasksIndirectNV-None-08116

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind
point used by this command and the bound [VkPipeline](pipelines.html#VkPipeline) was created
with `VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08604) VUID-vkCmdDrawMeshTasksIndirectNV-None-08604

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08117) VUID-vkCmdDrawMeshTasksIndirectNV-None-08117

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT),
the bound [VkPipeline](pipelines.html#VkPipeline) **must** have been created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08119) VUID-vkCmdDrawMeshTasksIndirectNV-None-08119

If a descriptor is dynamically used with a [VkPipeline](pipelines.html#VkPipeline) created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the descriptor
memory **must** be resident

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08605) VUID-vkCmdDrawMeshTasksIndirectNV-None-08605

If a descriptor is dynamically used with a [VkShaderEXT](shaders.html#VkShaderEXT) created
with a `VkDescriptorSetLayout` that was created with
`VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the
descriptor memory **must** be resident

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08606) VUID-vkCmdDrawMeshTasksIndirectNV-None-08606

If the [`shaderObject`](features.html#features-shaderObject) feature is not
enabled, a
valid pipeline **must** be bound to the pipeline bind point used by this
command

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08608) VUID-vkCmdDrawMeshTasksIndirectNV-None-08608

If a pipeline is bound to the pipeline bind point used by this command,
there
**must** not have been any calls to dynamic state setting commands for any
state specified statically in the [VkPipeline](pipelines.html#VkPipeline) object bound to the
pipeline bind point used by this command, since that pipeline was bound

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-uniformBuffers-06935) VUID-vkCmdDrawMeshTasksIndirectNV-uniformBuffers-06935

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a uniform buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`uniformBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08612) VUID-vkCmdDrawMeshTasksIndirectNV-None-08612

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a uniform
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-storageBuffers-06936) VUID-vkCmdDrawMeshTasksIndirectNV-storageBuffers-06936

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a storage buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`storageBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08613) VUID-vkCmdDrawMeshTasksIndirectNV-None-08613

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a storage
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-commandBuffer-02707) VUID-vkCmdDrawMeshTasksIndirectNV-commandBuffer-02707

If `commandBuffer` is an unprotected command buffer and
[`protectedNoFault`](devsandqueues.html#limits-protectedNoFault) is not supported,
any resource accessed by [bound shaders](shaders.html#shaders-binding) **must** not be
a protected resource

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-viewType-07752) VUID-vkCmdDrawMeshTasksIndirectNV-viewType-07752

If a [VkImageView](resources.html#VkImageView) is accessed as a result of this command, then the
image view’s `viewType` **must** match the `Dim` operand of the
`OpTypeImage` as described in [Compatibility Between SPIR-V Image Dimensions and Vulkan ImageView Types](../appendices/spirvenv.html#spirvenv-image-dimensions)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-format-07753) VUID-vkCmdDrawMeshTasksIndirectNV-format-07753

If a [VkImageView](resources.html#VkImageView) or [VkBufferView](resources.html#VkBufferView) is accessed as a result of
this command, then the [numeric type](formats.html#formats-numericformat) of the
view’s `format` and the `Sampled` `Type` operand of the
`OpTypeImage` **must** match

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-OpImageWrite-08795) VUID-vkCmdDrawMeshTasksIndirectNV-OpImageWrite-08795

If a [VkImageView](resources.html#VkImageView)
created with a format other than `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
at least as many components as the image view’s format

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-OpImageWrite-08796) VUID-vkCmdDrawMeshTasksIndirectNV-OpImageWrite-08796

If a [VkImageView](resources.html#VkImageView) created with the format `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
four components

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-OpImageWrite-04469) VUID-vkCmdDrawMeshTasksIndirectNV-OpImageWrite-04469

If a [VkBufferView](resources.html#VkBufferView) is accessed using `OpImageWrite` as a result
of this command, then the `Type` of the `Texel` operand of that
instruction **must** have at least as many components as the buffer view’s
format

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-SampledType-04470) VUID-vkCmdDrawMeshTasksIndirectNV-SampledType-04470

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit component
width is accessed as a result of this command, the `SampledType` of
the `OpTypeImage` operand of that instruction **must** have a `Width`
of 64

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-SampledType-04471) VUID-vkCmdDrawMeshTasksIndirectNV-SampledType-04471

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-SampledType-04472) VUID-vkCmdDrawMeshTasksIndirectNV-SampledType-04472

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit
component width is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 64

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-SampledType-04473) VUID-vkCmdDrawMeshTasksIndirectNV-SampledType-04473

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-sparseImageInt64Atomics-04474) VUID-vkCmdDrawMeshTasksIndirectNV-sparseImageInt64Atomics-04474

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkImage](resources.html#VkImage)
objects created with the `VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT` flag
**must** not be accessed by atomic instructions through an `OpTypeImage`
with a `SampledType` with a `Width` of 64 by this command

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-sparseImageInt64Atomics-04475) VUID-vkCmdDrawMeshTasksIndirectNV-sparseImageInt64Atomics-04475

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkBuffer](resources.html#VkBuffer)
objects created with the `VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT`
flag **must** not be accessed by atomic instructions through an
`OpTypeImage` with a `SampledType` with a `Width` of 64 by this
command

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-OpImageWeightedSampleQCOM-06971) VUID-vkCmdDrawMeshTasksIndirectNV-OpImageWeightedSampleQCOM-06971

If `OpImageWeightedSampleQCOM` is used to sample a [VkImageView](resources.html#VkImageView)
as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_SAMPLED_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-OpImageWeightedSampleQCOM-06972) VUID-vkCmdDrawMeshTasksIndirectNV-OpImageWeightedSampleQCOM-06972

If `OpImageWeightedSampleQCOM` uses a [VkImageView](resources.html#VkImageView) as a sample
weight image as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-OpImageBoxFilterQCOM-06973) VUID-vkCmdDrawMeshTasksIndirectNV-OpImageBoxFilterQCOM-06973

If `OpImageBoxFilterQCOM` is used to sample a [VkImageView](resources.html#VkImageView) as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BOX_FILTER_SAMPLED_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-OpImageBlockMatchSSDQCOM-06974) VUID-vkCmdDrawMeshTasksIndirectNV-OpImageBlockMatchSSDQCOM-06974

If `OpImageBlockMatchSSDQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-OpImageBlockMatchSADQCOM-06975) VUID-vkCmdDrawMeshTasksIndirectNV-OpImageBlockMatchSADQCOM-06975

If `OpImageBlockMatchSADQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-OpImageBlockMatchSADQCOM-06976) VUID-vkCmdDrawMeshTasksIndirectNV-OpImageBlockMatchSADQCOM-06976

If `OpImageBlockMatchSADQCOM` or OpImageBlockMatchSSDQCOM is used to
read from a reference image as result of this command, then the
specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-OpImageWeightedSampleQCOM-06977) VUID-vkCmdDrawMeshTasksIndirectNV-OpImageWeightedSampleQCOM-06977

If `OpImageWeightedSampleQCOM`, `OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** have
been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-OpImageWeightedSampleQCOM-06978) VUID-vkCmdDrawMeshTasksIndirectNV-OpImageWeightedSampleQCOM-06978

If any command other than `OpImageWeightedSampleQCOM`,
`OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** not
have been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-OpImageBlockMatchWindow-09215) VUID-vkCmdDrawMeshTasksIndirectNV-OpImageBlockMatchWindow-09215

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-OpImageBlockMatchWindow-09216) VUID-vkCmdDrawMeshTasksIndirectNV-OpImageBlockMatchWindow-09216

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
format **must** be a single-component format

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-OpImageBlockMatchWindow-09217) VUID-vkCmdDrawMeshTasksIndirectNV-OpImageBlockMatchWindow-09217

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` read from a reference image as result
of this command, then the specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07288) VUID-vkCmdDrawMeshTasksIndirectNV-None-07288

Any shader invocation executed by this command **must**
[terminate](shaders.html#shaders-termination)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-09600) VUID-vkCmdDrawMeshTasksIndirectNV-None-09600

If a descriptor with type equal to any of
`VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE`,
`VK_DESCRIPTOR_TYPE_STORAGE_IMAGE`, or
`VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT` is accessed as a result of
this command, all image subresources identified by that descriptor **must**
be in the image layout identified when the descriptor was written

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-commandBuffer-10746) VUID-vkCmdDrawMeshTasksIndirectNV-commandBuffer-10746

The `VkDeviceMemory` object allocated from a `VkMemoryHeap` with
the `VK_MEMORY_HEAP_TILE_MEMORY_BIT_QCOM` property that is bound to
a resource accessed as a result of this command **must** be the active
bound [bound tile memory object](memory.html#memory-bind-tile-memory) in
`commandBuffer`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-10678) VUID-vkCmdDrawMeshTasksIndirectNV-None-10678

If this command is recorded inside a [tile    shading render pass](renderpass.html#renderpass-tile-shading) instance, the stages corresponding to the pipeline
bind point used by this command **must** only include
`VK_SHADER_STAGE_VERTEX_BIT`, `VK_SHADER_STAGE_FRAGMENT_BIT`,
and/or `VK_SHADER_STAGE_COMPUTE_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-10679) VUID-vkCmdDrawMeshTasksIndirectNV-None-10679

If this command is recorded where
[per-tile execution model](renderpass.html#renderpass-per-tile-execution-model) is
enabled, there **must** be no access to any image while the image was be
transitioned to the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` layout

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-renderPass-02684) VUID-vkCmdDrawMeshTasksIndirectNV-renderPass-02684

The current render pass **must** be [compatible](renderpass.html#renderpass-compatibility)
with the `renderPass` member of the
`VkGraphicsPipelineCreateInfo` structure specified when creating the
`VkPipeline` bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-subpass-02685) VUID-vkCmdDrawMeshTasksIndirectNV-subpass-02685

The subpass index of the current render pass **must** be equal to the
`subpass` member of the `VkGraphicsPipelineCreateInfo` structure
specified when creating the `VkPipeline` bound to
`VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07748) VUID-vkCmdDrawMeshTasksIndirectNV-None-07748

If any shader statically accesses an input attachment, a valid
descriptor **must** be bound to the pipeline via a descriptor set

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-OpTypeImage-07468) VUID-vkCmdDrawMeshTasksIndirectNV-OpTypeImage-07468

If any shader executed by this pipeline accesses an `OpTypeImage`
variable with a `Dim` operand of `SubpassData`, it **must** be
decorated with an `InputAttachmentIndex` that corresponds to a valid
input attachment in the current subpass

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07469) VUID-vkCmdDrawMeshTasksIndirectNV-None-07469

Input attachment views accessed in a subpass **must** be created with the
same [VkFormat](formats.html#VkFormat) as the corresponding subpass definition, and be
created with a [VkImageView](resources.html#VkImageView) that is compatible with the attachment
referenced by the subpass'
`pInputAttachments`[`InputAttachmentIndex`] in the bound
[VkFramebuffer](renderpass.html#VkFramebuffer) as specified by
[Fragment Input Attachment    Compatibility](interfaces.html#compatibility-inputattachment)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-pDepthInputAttachmentIndex-09595) VUID-vkCmdDrawMeshTasksIndirectNV-pDepthInputAttachmentIndex-09595

Input attachment views accessed in a dynamic render pass with a
`InputAttachmentIndex` referenced by
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo), or no
`InputAttachmentIndex` if
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
or
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are `NULL`, **must** be created with a [VkImageView](resources.html#VkImageView) that is compatible
with the corresponding color, depth, or stencil attachment in
[VkRenderingInfo](renderpass.html#VkRenderingInfo)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-pDepthInputAttachmentIndex-09596) VUID-vkCmdDrawMeshTasksIndirectNV-pDepthInputAttachmentIndex-09596

Input attachment views accessed in a dynamic render pass via a shader
object **must** have an `InputAttachmentIndex` if both
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
and
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are non-`NULL`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-InputAttachmentIndex-09597) VUID-vkCmdDrawMeshTasksIndirectNV-InputAttachmentIndex-09597

If an input attachment view accessed in a dynamic render pass via a
shader object has an `InputAttachmentIndex`, the
`InputAttachmentIndex` **must** match an index in
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-06537) VUID-vkCmdDrawMeshTasksIndirectNV-None-06537

Memory backing image subresources used as attachments in the current
render pass **must** not be written in any way other than as an attachment
by this command

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-09000) VUID-vkCmdDrawMeshTasksIndirectNV-None-09000

If a color attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

the `VK_PIPELINE_CREATE_COLOR_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT` is
set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_COLOR_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-09001) VUID-vkCmdDrawMeshTasksIndirectNV-None-09001

If a depth attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_DEPTH_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-09002) VUID-vkCmdDrawMeshTasksIndirectNV-None-09002

If a stencil attachment is written by any prior command in this subpass
or by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_STENCIL_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-09003) VUID-vkCmdDrawMeshTasksIndirectNV-None-09003

If an attachment is written by any prior command in this subpass or by
the load, store, or resolve operations for this subpass, it **must** not be
accessed in any way other than as an attachment, storage image, or
sampled image by this command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-06539) VUID-vkCmdDrawMeshTasksIndirectNV-None-06539

If any previously recorded command in the current subpass accessed an
image subresource used as an attachment in this subpass in any way other
than as an attachment, this command **must** not write to that image
subresource as an attachment

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-06886) VUID-vkCmdDrawMeshTasksIndirectNV-None-06886

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the depth aspect, [depth    writes](fragops.html#fragops-depth-write) **must** be disabled

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-06887) VUID-vkCmdDrawMeshTasksIndirectNV-None-06887

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the stencil aspect, both front and back
`writeMask` are not zero, and stencil test is enabled,
[all stencil ops](fragops.html#fragops-stencil) **must** be `VK_STENCIL_OP_KEEP`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07831) VUID-vkCmdDrawMeshTasksIndirectNV-None-07831

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT` dynamic state enabled then
[vkCmdSetViewport](vertexpostproc.html#vkCmdSetViewport) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07832) VUID-vkCmdDrawMeshTasksIndirectNV-None-07832

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SCISSOR` dynamic state enabled then
[vkCmdSetScissor](fragops.html#vkCmdSetScissor) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07833) VUID-vkCmdDrawMeshTasksIndirectNV-None-07833

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_WIDTH` dynamic state enabled then
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08617) VUID-vkCmdDrawMeshTasksIndirectNV-None-08617

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command
buffer set `polygonMode` to `VK_POLYGON_MODE_LINE`,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08618) VUID-vkCmdDrawMeshTasksIndirectNV-None-08618

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08619) VUID-vkCmdDrawMeshTasksIndirectNV-None-08619

If a shader object that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, [vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07834) VUID-vkCmdDrawMeshTasksIndirectNV-None-07834

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthBiasEnable`
is `VK_TRUE`, then [vkCmdSetDepthBias](primsrast.html#vkCmdSetDepthBias)
or [vkCmdSetDepthBias2EXT](primsrast.html#vkCmdSetDepthBias2EXT)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07835) VUID-vkCmdDrawMeshTasksIndirectNV-None-07835

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_BLEND_CONSTANTS` dynamic state enabled then
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08621) VUID-vkCmdDrawMeshTasksIndirectNV-None-08621

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) in the current command buffer set any
element of `pColorBlendEnables` to `VK_TRUE`, and the most
recent call to [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) in the current
command buffer set the same element of `pColorBlendEquations` to a
`VkColorBlendEquationEXT` structure with any [VkBlendFactor](framebuffer.html#VkBlendFactor)
member with a value of `VK_BLEND_FACTOR_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_CONSTANT_ALPHA`, or
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_ALPHA`,
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07836) VUID-vkCmdDrawMeshTasksIndirectNV-None-07836

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`depthBoundsTestEnable` is `VK_TRUE`, then
[vkCmdSetDepthBounds](fragops.html#vkCmdSetDepthBounds) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07837) VUID-vkCmdDrawMeshTasksIndirectNV-None-07837

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilCompareMask](fragops.html#vkCmdSetStencilCompareMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07838) VUID-vkCmdDrawMeshTasksIndirectNV-None-07838

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07839) VUID-vkCmdDrawMeshTasksIndirectNV-None-07839

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_REFERENCE` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of and
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilReference](fragops.html#vkCmdSetStencilReference) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-maxMultiviewInstanceIndex-02688) VUID-vkCmdDrawMeshTasksIndirectNV-maxMultiviewInstanceIndex-02688

If the draw is recorded in a render pass instance with multiview
enabled, the maximum instance index **must** be less than or equal to
[VkPhysicalDeviceMultiviewProperties](limits.html#VkPhysicalDeviceMultiviewProperties)::`maxMultiviewInstanceIndex`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-sampleLocationsEnable-02689) VUID-vkCmdDrawMeshTasksIndirectNV-sampleLocationsEnable-02689

If the bound graphics pipeline was created with
[VkPipelineSampleLocationsStateCreateInfoEXT](primsrast.html#VkPipelineSampleLocationsStateCreateInfoEXT)::`sampleLocationsEnable`
set to `VK_TRUE` and the current subpass has a depth/stencil
attachment, then that attachment **must** have been created with the
`VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT` bit set

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07634) VUID-vkCmdDrawMeshTasksIndirectNV-None-07634

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-06666) VUID-vkCmdDrawMeshTasksIndirectNV-None-06666

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
[vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07840) VUID-vkCmdDrawMeshTasksIndirectNV-None-07840

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CULL_MODE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCullMode](primsrast.html#vkCmdSetCullMode) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07841) VUID-vkCmdDrawMeshTasksIndirectNV-None-07841

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRONT_FACE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFrontFace](primsrast.html#vkCmdSetFrontFace) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07843) VUID-vkCmdDrawMeshTasksIndirectNV-None-07843

 If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`,
[vkCmdSetDepthTestEnable](fragops.html#vkCmdSetDepthTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07844) VUID-vkCmdDrawMeshTasksIndirectNV-None-07844

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07845) VUID-vkCmdDrawMeshTasksIndirectNV-None-07845

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_COMPARE_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthCompareOp](fragops.html#vkCmdSetDepthCompareOp) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07846) VUID-vkCmdDrawMeshTasksIndirectNV-None-07846

If the [`depthBounds`](features.html#features-depthBounds) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBoundsTestEnable](fragops.html#vkCmdSetDepthBoundsTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07847) VUID-vkCmdDrawMeshTasksIndirectNV-None-07847

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetStencilTestEnable](fragops.html#vkCmdSetStencilTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07848) VUID-vkCmdDrawMeshTasksIndirectNV-None-07848

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then [vkCmdSetStencilOp](fragops.html#vkCmdSetStencilOp)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-viewportCount-03417) VUID-vkCmdDrawMeshTasksIndirectNV-viewportCount-03417

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-scissorCount-03418) VUID-vkCmdDrawMeshTasksIndirectNV-scissorCount-03418

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetScissorWithCount](vertexpostproc.html#vkCmdSetScissorWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing

[](#VUID-vkCmdDrawMeshTasksIndirectNV-viewportCount-03419) VUID-vkCmdDrawMeshTasksIndirectNV-viewportCount-03419

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with both the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic states enabled,
and the state is not inherited,
then the `viewportCount` parameter of
`vkCmdSetViewportWithCount` **must** match the `scissorCount`
parameter of `vkCmdSetScissorWithCount`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-viewportCount-04137) VUID-vkCmdDrawMeshTasksIndirectNV-viewportCount-04137

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportWScalingStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportWScalingStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectNV-viewportCount-04138) VUID-vkCmdDrawMeshTasksIndirectNV-viewportCount-04138

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08636) VUID-vkCmdDrawMeshTasksIndirectNV-None-08636

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectNV-viewportCount-04139) VUID-vkCmdDrawMeshTasksIndirectNV-viewportCount-04139

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic
state enabled, then the bound graphics pipeline **must** have been created
with
[VkPipelineViewportShadingRateImageStateCreateInfoNV](primsrast.html#VkPipelineViewportShadingRateImageStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectNV-shadingRateImage-09233) VUID-vkCmdDrawMeshTasksIndirectNV-shadingRateImage-09233

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_COARSE_SAMPLE_ORDER_NV` and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoarseSampleOrderNV](primsrast.html#vkCmdSetCoarseSampleOrderNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-shadingRateImage-09234) VUID-vkCmdDrawMeshTasksIndirectNV-shadingRateImage-09234

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08637) VUID-vkCmdDrawMeshTasksIndirectNV-None-08637

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** be greater than or
equal to the `viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectNV-VkPipelineVieportCreateInfo-04141) VUID-vkCmdDrawMeshTasksIndirectNV-VkPipelineVieportCreateInfo-04141

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV) structure chained from
[VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound graphics
pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectNV-VkPipelineVieportCreateInfo-04142) VUID-vkCmdDrawMeshTasksIndirectNV-VkPipelineVieportCreateInfo-04142

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV) structure
chained from [VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound
graphics pipeline **must** have been created with
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV)::`exclusiveScissorCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07878) VUID-vkCmdDrawMeshTasksIndirectNV-None-07878

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_ENABLE_NV` dynamic state
enabled, then [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07879) VUID-vkCmdDrawMeshTasksIndirectNV-None-07879

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_NV` dynamic state enabled, and
the most recent call to [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) in the
current command buffer set any element of `pExclusiveScissorEnables`
to `VK_TRUE`, then [vkCmdSetExclusiveScissorNV](fragops.html#vkCmdSetExclusiveScissorNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-04876) VUID-vkCmdDrawMeshTasksIndirectNV-None-04876

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE` dynamic state enabled,
then [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-04877) VUID-vkCmdDrawMeshTasksIndirectNV-None-04877

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBiasEnable](primsrast.html#vkCmdSetDepthBiasEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-logicOp-04878) VUID-vkCmdDrawMeshTasksIndirectNV-logicOp-04878

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `logicOpEnable` is
`VK_TRUE`, then [vkCmdSetLogicOpEXT](framebuffer.html#vkCmdSetLogicOpEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-primitiveFragmentShadingRateWithMultipleViewports-04552) VUID-vkCmdDrawMeshTasksIndirectNV-primitiveFragmentShadingRateWithMultipleViewports-04552

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, and
any of the shader stages of the bound graphics pipeline write to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-primitiveFragmentShadingRateWithMultipleViewports-08642) VUID-vkCmdDrawMeshTasksIndirectNV-primitiveFragmentShadingRateWithMultipleViewports-08642

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, and any shader object bound to a graphics stage writes to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-blendEnable-04727) VUID-vkCmdDrawMeshTasksIndirectNV-blendEnable-04727

If rasterization is not disabled in the bound graphics pipeline, then
for each color attachment in the subpass, if the corresponding image
view’s [format features](resources.html#resources-image-view-format-features) do not
contain `VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
`blendEnable` member of the corresponding element of the
`pAttachments` member of `pColorBlendState` **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08643) VUID-vkCmdDrawMeshTasksIndirectNV-None-08643

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then for each color attachment in the render pass, if
the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) do not contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
corresponding member of `pColorBlendEnables` in the most recent call
to `vkCmdSetColorBlendEnableEXT` in the current command buffer that
affected that attachment index **must** have been `VK_FALSE`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-multisampledRenderToSingleSampled-07284) VUID-vkCmdDrawMeshTasksIndirectNV-multisampledRenderToSingleSampled-07284

If rasterization is not disabled in the bound graphics pipeline,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then `rasterizationSamples` for the bound graphics pipeline **must** be the
same as the current subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08644) VUID-vkCmdDrawMeshTasksIndirectNV-None-08644

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then the most recent call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) in the
current command buffer **must** have set `rasterizationSamples` to be the
same as the number of samples for the current render pass color and/or
depth/stencil attachments

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08876) VUID-vkCmdDrawMeshTasksIndirectNV-None-08876

If a shader object is bound to any graphics stage, the current render
pass instance **must** have been begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)

[](#VUID-vkCmdDrawMeshTasksIndirectNV-imageView-06172) VUID-vkCmdDrawMeshTasksIndirectNV-imageView-06172

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the depth attachment

[](#VUID-vkCmdDrawMeshTasksIndirectNV-imageView-06173) VUID-vkCmdDrawMeshTasksIndirectNV-imageView-06173

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawMeshTasksIndirectNV-imageView-06174) VUID-vkCmdDrawMeshTasksIndirectNV-imageView-06174

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL`, this
command **must** not write any values to the depth attachment

[](#VUID-vkCmdDrawMeshTasksIndirectNV-imageView-06175) VUID-vkCmdDrawMeshTasksIndirectNV-imageView-06175

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL`, this
command **must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawMeshTasksIndirectNV-imageView-06176) VUID-vkCmdDrawMeshTasksIndirectNV-imageView-06176

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the depth attachment

[](#VUID-vkCmdDrawMeshTasksIndirectNV-imageView-06177) VUID-vkCmdDrawMeshTasksIndirectNV-imageView-06177

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the stencil attachment

[](#VUID-vkCmdDrawMeshTasksIndirectNV-viewMask-06178) VUID-vkCmdDrawMeshTasksIndirectNV-viewMask-06178

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a [VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`viewMask` equal
to [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`viewMask`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-colorAttachmentCount-06179) VUID-vkCmdDrawMeshTasksIndirectNV-colorAttachmentCount-06179

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`colorAttachmentCount` equal to
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-dynamicRenderingUnusedAttachments-08910) VUID-vkCmdDrawMeshTasksIndirectNV-dynamicRenderingUnusedAttachments-08910

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have
been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectNV-dynamicRenderingUnusedAttachments-08912) VUID-vkCmdDrawMeshTasksIndirectNV-dynamicRenderingUnusedAttachments-08912

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have the
corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound pipeline equal to `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-dynamicRenderingUnusedAttachments-08911) VUID-vkCmdDrawMeshTasksIndirectNV-dynamicRenderingUnusedAttachments-08911

If the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled, and the
current render pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`,
then each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments`
array with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must**
have been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding
element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline, or the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats`, if
it exists, **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-colorAttachmentCount-09362) VUID-vkCmdDrawMeshTasksIndirectNV-colorAttachmentCount-09362

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`,
there is no shader object bound to any graphics stage,
and a color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`resolveImageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-09363) VUID-vkCmdDrawMeshTasksIndirectNV-None-09363

If
there is no shader object bound to any graphics stage,
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, and a
color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-09364) VUID-vkCmdDrawMeshTasksIndirectNV-None-09364

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set the blend enable
to `VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-09365) VUID-vkCmdDrawMeshTasksIndirectNV-None-09365

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-09366) VUID-vkCmdDrawMeshTasksIndirectNV-None-09366

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set blend enable to
`VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-rasterizationSamples-09367) VUID-vkCmdDrawMeshTasksIndirectNV-rasterizationSamples-09367

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-09368) VUID-vkCmdDrawMeshTasksIndirectNV-None-09368

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-09369) VUID-vkCmdDrawMeshTasksIndirectNV-None-09369

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-pFragmentSize-09370) VUID-vkCmdDrawMeshTasksIndirectNV-pFragmentSize-09370

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-pFragmentSize-09371) VUID-vkCmdDrawMeshTasksIndirectNV-pFragmentSize-09371

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07749) VUID-vkCmdDrawMeshTasksIndirectNV-None-07749

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08646) VUID-vkCmdDrawMeshTasksIndirectNV-None-08646

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-attachmentCount-07750) VUID-vkCmdDrawMeshTasksIndirectNV-attachmentCount-07750

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
the `attachmentCount` parameter of `vkCmdSetColorWriteEnableEXT`
**must** be greater than or equal to the
`VkPipelineColorBlendStateCreateInfo`::`attachmentCount` of the
bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08647) VUID-vkCmdDrawMeshTasksIndirectNV-None-08647

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then the
`attachmentCount` parameter of most recent call to
`vkCmdSetColorWriteEnableEXT` in the current command buffer **must** be
greater than or equal to the number of color attachments in the current
render pass instance

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07751) VUID-vkCmdDrawMeshTasksIndirectNV-None-07751

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled, a
graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) included a
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT)::`discardRectangleCount`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-rasterizerDiscardEnable-09236) VUID-vkCmdDrawMeshTasksIndirectNV-rasterizerDiscardEnable-09236

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) did not
include a [VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPhysicalDeviceDiscardRectanglePropertiesEXT](limits.html#VkPhysicalDeviceDiscardRectanglePropertiesEXT)::`maxDiscardRectangles`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07880) VUID-vkCmdDrawMeshTasksIndirectNV-None-07880

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_ENABLE_EXT` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDiscardRectangleEnableEXT](fragops.html#vkCmdSetDiscardRectangleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07881) VUID-vkCmdDrawMeshTasksIndirectNV-None-07881

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_MODE_EXT` dynamic state enabled,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleModeEXT](fragops.html#vkCmdSetDiscardRectangleModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-dynamicRenderingUnusedAttachments-08913) VUID-vkCmdDrawMeshTasksIndirectNV-dynamicRenderingUnusedAttachments-08913

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-dynamicRenderingUnusedAttachments-08914) VUID-vkCmdDrawMeshTasksIndirectNV-dynamicRenderingUnusedAttachments-08914

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-dynamicRenderingUnusedAttachments-08915) VUID-vkCmdDrawMeshTasksIndirectNV-dynamicRenderingUnusedAttachments-08915

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline was not equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`,
the value of the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-dynamicRenderingUnusedAttachments-08916) VUID-vkCmdDrawMeshTasksIndirectNV-dynamicRenderingUnusedAttachments-08916

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-dynamicRenderingUnusedAttachments-08917) VUID-vkCmdDrawMeshTasksIndirectNV-dynamicRenderingUnusedAttachments-08917

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-dynamicRenderingUnusedAttachments-08918) VUID-vkCmdDrawMeshTasksIndirectNV-dynamicRenderingUnusedAttachments-08918

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline was not equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`, the value of
the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-imageView-06183) VUID-vkCmdDrawMeshTasksIndirectNV-imageView-06183

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentShadingRateAttachmentInfoKHR](renderpass.html#VkRenderingFragmentShadingRateAttachmentInfoKHR)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-imageView-06184) VUID-vkCmdDrawMeshTasksIndirectNV-imageView-06184

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentDensityMapAttachmentInfoEXT](renderpass.html#VkRenderingFragmentDensityMapAttachmentInfoEXT)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-colorAttachmentCount-06185) VUID-vkCmdDrawMeshTasksIndirectNV-colorAttachmentCount-06185

If the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and the current render
pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
`0`, then each element of the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with a sample count equal to the corresponding element of the
`pColorAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectNV-pDepthAttachment-06186) VUID-vkCmdDrawMeshTasksIndirectNV-pDepthAttachment-06186

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-pStencilAttachment-06187) VUID-vkCmdDrawMeshTasksIndirectNV-pStencilAttachment-06187

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-multisampledRenderToSingleSampled-07285) VUID-vkCmdDrawMeshTasksIndirectNV-multisampledRenderToSingleSampled-07285

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    the current render pass instance was begun with
    [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
    `0`, then each element of the
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
    `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
    created with a sample count equal to the value of
    `rasterizationSamples` for the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectNV-multisampledRenderToSingleSampled-07286) VUID-vkCmdDrawMeshTasksIndirectNV-multisampledRenderToSingleSampled-07286

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-multisampledRenderToSingleSampled-07287) VUID-vkCmdDrawMeshTasksIndirectNV-multisampledRenderToSingleSampled-07287

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-pNext-07935) VUID-vkCmdDrawMeshTasksIndirectNV-pNext-07935

If this command has been called inside a render pass instance started
with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), and the `pNext` chain of
[VkRenderingInfo](renderpass.html#VkRenderingInfo) includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the value of `rasterizationSamples` for the bound graphics
pipeline **must** be equal to
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT)::`rasterizationSamples`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-renderPass-06198) VUID-vkCmdDrawMeshTasksIndirectNV-renderPass-06198

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline **must** have been created
with a [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`renderPass` equal to
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

[](#VUID-vkCmdDrawMeshTasksIndirectNV-pColorAttachments-08963) VUID-vkCmdDrawMeshTasksIndirectNV-pColorAttachments-08963

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound with a
fragment shader that statically writes to a color attachment, the color
write mask is not zero, color writes are enabled, and the corresponding
element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments->imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-pDepthAttachment-08964) VUID-vkCmdDrawMeshTasksIndirectNV-pDepthAttachment-08964

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, depth
test is enabled, depth write is enabled, and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-pStencilAttachment-08965) VUID-vkCmdDrawMeshTasksIndirectNV-pStencilAttachment-08965

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, stencil
test is enabled and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-flags-10582) VUID-vkCmdDrawMeshTasksIndirectNV-flags-10582

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), its [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`flags`
parameter **must** not have
`VK_RENDERING_CONTENTS_SECONDARY_COMMAND_BUFFERS_BIT` set
unless `VK_RENDERING_CONTENTS_INLINE_BIT_KHR` is also set

[](#VUID-vkCmdDrawMeshTasksIndirectNV-primitivesGeneratedQueryWithRasterizerDiscard-06708) VUID-vkCmdDrawMeshTasksIndirectNV-primitivesGeneratedQueryWithRasterizerDiscard-06708

If the [    `primitivesGeneratedQueryWithRasterizerDiscard`](features.html#features-primitivesGeneratedQueryWithRasterizerDiscard) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, [rasterization discard](primsrast.html#primsrast-discard) **must** not be enabled

[](#VUID-vkCmdDrawMeshTasksIndirectNV-primitivesGeneratedQueryWithNonZeroStreams-06709) VUID-vkCmdDrawMeshTasksIndirectNV-primitivesGeneratedQueryWithNonZeroStreams-06709

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, the bound graphics pipeline **must** not have been created with a
non-zero value in
`VkPipelineRasterizationStateStreamCreateInfoEXT`::`rasterizationStream`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07620) VUID-vkCmdDrawMeshTasksIndirectNV-None-07620

If the [`depthClamp`](features.html#features-depthClamp) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthClampEnableEXT](vertexpostproc.html#vkCmdSetDepthClampEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07621) VUID-vkCmdDrawMeshTasksIndirectNV-None-07621

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_POLYGON_MODE_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07622) VUID-vkCmdDrawMeshTasksIndirectNV-None-07622

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07623) VUID-vkCmdDrawMeshTasksIndirectNV-None-07623

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-alphaToCoverageEnable-08919) VUID-vkCmdDrawMeshTasksIndirectNV-alphaToCoverageEnable-08919

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and `alphaToCoverageEnable` was `VK_TRUE` in the last
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT), then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawMeshTasksIndirectNV-alphaToCoverageEnable-08920) VUID-vkCmdDrawMeshTasksIndirectNV-alphaToCoverageEnable-08920

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) in the current command
buffer set `alphaToCoverageEnable` to `VK_TRUE`, then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07624) VUID-vkCmdDrawMeshTasksIndirectNV-None-07624

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07625) VUID-vkCmdDrawMeshTasksIndirectNV-None-07625

If the [`alphaToOne`](features.html#features-alphaToOne) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_ONE_ENABLE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToOneEnableEXT](fragops.html#vkCmdSetAlphaToOneEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07626) VUID-vkCmdDrawMeshTasksIndirectNV-None-07626

If the [`logicOp`](features.html#features-logicOp) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetLogicOpEnableEXT](framebuffer.html#vkCmdSetLogicOpEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07627) VUID-vkCmdDrawMeshTasksIndirectNV-None-07627

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08657) VUID-vkCmdDrawMeshTasksIndirectNV-None-08657

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have
been called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime)
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07628) VUID-vkCmdDrawMeshTasksIndirectNV-None-07628

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08658) VUID-vkCmdDrawMeshTasksIndirectNV-None-08658

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) for any attachment set that
attachment’s value in `pColorBlendEnables` to `VK_TRUE`, then
[vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07629) VUID-vkCmdDrawMeshTasksIndirectNV-None-07629

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08659) VUID-vkCmdDrawMeshTasksIndirectNV-None-08659

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07630) VUID-vkCmdDrawMeshTasksIndirectNV-None-07630

If the [`geometryStreams`](features.html#features-geometryStreams) feature is
enabled, and
a shader object is bound to the `VK_SHADER_STAGE_GEOMETRY_BIT` stage
or
a graphics pipeline is bound which was created with both a
`VK_SHADER_STAGE_GEOMETRY_BIT` stage and the
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` dynamic state enabled,
then [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07631) VUID-vkCmdDrawMeshTasksIndirectNV-None-07631

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07632) VUID-vkCmdDrawMeshTasksIndirectNV-None-07632

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXTRA_PRIMITIVE_OVERESTIMATION_SIZE_EXT` dynamic
state enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`conservativeRasterizationMode` is
`VK_CONSERVATIVE_RASTERIZATION_MODE_OVERESTIMATE_EXT`, then
[vkCmdSetExtraPrimitiveOverestimationSizeEXT](primsrast.html#vkCmdSetExtraPrimitiveOverestimationSizeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07633) VUID-vkCmdDrawMeshTasksIndirectNV-None-07633

If the [`depthClipEnable`](features.html#features-depthClipEnable) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_ENABLE_EXT` dynamic state, then
[vkCmdSetDepthClipEnableEXT](vertexpostproc.html#vkCmdSetDepthClipEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07635) VUID-vkCmdDrawMeshTasksIndirectNV-None-07635

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-rasterizerDiscardEnable-09416) VUID-vkCmdDrawMeshTasksIndirectNV-rasterizerDiscardEnable-09416

If the `[VK_EXT_blend_operation_advanced](../appendices/extensions.html#VK_EXT_blend_operation_advanced)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then at least one of [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT)
and [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07636) VUID-vkCmdDrawMeshTasksIndirectNV-None-07636

If the `[VK_EXT_provoking_vertex](../appendices/extensions.html#VK_EXT_provoking_vertex)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_PROVOKING_VERTEX_MODE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetProvokingVertexModeEXT](vertexpostproc.html#vkCmdSetProvokingVertexModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07637) VUID-vkCmdDrawMeshTasksIndirectNV-None-07637

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state enabled
then [vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08666) VUID-vkCmdDrawMeshTasksIndirectNV-None-08666

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08667) VUID-vkCmdDrawMeshTasksIndirectNV-None-08667

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08668) VUID-vkCmdDrawMeshTasksIndirectNV-None-08668

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07638) VUID-vkCmdDrawMeshTasksIndirectNV-None-07638

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` dynamic state enabled
then [vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08669) VUID-vkCmdDrawMeshTasksIndirectNV-None-08669

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08670) VUID-vkCmdDrawMeshTasksIndirectNV-None-08670

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08671) VUID-vkCmdDrawMeshTasksIndirectNV-None-08671

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07849) VUID-vkCmdDrawMeshTasksIndirectNV-None-07849

    If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled and
    a shader object is bound to any graphics stage, or
    a bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE`
    dynamic state enabled, the [current    value](pipelines.html#dynamic-state-current-value) of `rasterizerDiscardEnable` is `VK_FALSE`, and the
    [current value](pipelines.html#dynamic-state-current-value) of
    `stippledLineEnable` is `VK_TRUE`, then
[vkCmdSetLineStipple](primsrast.html#vkCmdSetLineStipple)
    **must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
    command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-10608) VUID-vkCmdDrawMeshTasksIndirectNV-None-10608

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the current `lineRasterizationMode` is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM` or
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the current
`alphaToCoverageEnable`, `alphaToOneEnable` and
`sampleShadingEnable` states **must** all be `VK_FALSE`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07639) VUID-vkCmdDrawMeshTasksIndirectNV-None-07639

If the [`depthClipControl`](features.html#features-depthClipControl) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_NEGATIVE_ONE_TO_ONE_EXT` dynamic state
enabled, then [vkCmdSetDepthClipNegativeOneToOneEXT](vertexpostproc.html#vkCmdSetDepthClipNegativeOneToOneEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-09650) VUID-vkCmdDrawMeshTasksIndirectNV-None-09650

If the [`depthClampControl`](features.html#features-depthClampControl) feature
is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_RANGE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`depthClampEnable` is `VK_TRUE`, then
[vkCmdSetDepthClampRangeEXT](fragops.html#vkCmdSetDepthClampRangeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07640) VUID-vkCmdDrawMeshTasksIndirectNV-None-07640

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_ENABLE_NV` dynamic state
enabled, then [vkCmdSetViewportWScalingEnableNV](vertexpostproc.html#vkCmdSetViewportWScalingEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07641) VUID-vkCmdDrawMeshTasksIndirectNV-None-07641

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state enabled, then
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07642) VUID-vkCmdDrawMeshTasksIndirectNV-None-07642

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07643) VUID-vkCmdDrawMeshTasksIndirectNV-None-07643

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_LOCATION_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageToColorEnable` is `VK_TRUE`, then
[vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07644) VUID-vkCmdDrawMeshTasksIndirectNV-None-07644

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_MODE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageModulationModeNV](fragops.html#vkCmdSetCoverageModulationModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07645) VUID-vkCmdDrawMeshTasksIndirectNV-None-07645

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationMode` is any value other than
`VK_COVERAGE_MODULATION_MODE_NONE_NV`, then
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07646) VUID-vkCmdDrawMeshTasksIndirectNV-None-07646

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationTableEnable` is `VK_TRUE`, then
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07647) VUID-vkCmdDrawMeshTasksIndirectNV-None-07647

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SHADING_RATE_IMAGE_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetShadingRateImageEnableNV](primsrast.html#vkCmdSetShadingRateImageEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-pipelineFragmentShadingRate-09238) VUID-vkCmdDrawMeshTasksIndirectNV-pipelineFragmentShadingRate-09238

If the [    `pipelineFragmentShadingRate`](features.html#features-pipelineFragmentShadingRate) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07648) VUID-vkCmdDrawMeshTasksIndirectNV-None-07648

If the [    `representativeFragmentTest`](features.html#features-representativeFragmentTest) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_REPRESENTATIVE_FRAGMENT_TEST_ENABLE_NV` dynamic
state enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRepresentativeFragmentTestEnableNV](fragops.html#vkCmdSetRepresentativeFragmentTestEnableNV) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07649) VUID-vkCmdDrawMeshTasksIndirectNV-None-07649

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageReductionModeNV](fragops.html#vkCmdSetCoverageReductionModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-pColorBlendEnables-07470) VUID-vkCmdDrawMeshTasksIndirectNV-pColorBlendEnables-07470

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` state enabled and the last
call to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) set `pColorBlendEnables`
for any attachment to `VK_TRUE`, then for those attachments in the
subpass the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-rasterizationSamples-07471) VUID-vkCmdDrawMeshTasksIndirectNV-rasterizationSamples-07471

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
current subpass does not use any color and/or depth/stencil attachments,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** follow the rules for a
[zero-attachment subpass](renderpass.html#renderpass-noattachments)

[](#VUID-vkCmdDrawMeshTasksIndirectNV-samples-07472) VUID-vkCmdDrawMeshTasksIndirectNV-samples-07472

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo)::`rasterizationSamples`
parameter used to create the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectNV-samples-07473) VUID-vkCmdDrawMeshTasksIndirectNV-samples-07473

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state and
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` states enabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
`rasterizationSamples` parameter in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksIndirectNV-rasterizationSamples-07474) VUID-vkCmdDrawMeshTasksIndirectNV-rasterizationSamples-07474

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and
the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
neither the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` nor the
`[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extensions are enabled, then
the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the current
subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-09211) VUID-vkCmdDrawMeshTasksIndirectNV-None-09211

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled,
or a shader object is bound to any graphics stage,
and the current render pass instance includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the
`rasterizationSamples` member of that structure

[](#VUID-vkCmdDrawMeshTasksIndirectNV-firstAttachment-07476) VUID-vkCmdDrawMeshTasksIndirectNV-firstAttachment-07476

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorBlendEnableEXT` calls **must** specify an
enable for all active color attachments in the current subpass

[](#VUID-vkCmdDrawMeshTasksIndirectNV-rasterizerDiscardEnable-09417) VUID-vkCmdDrawMeshTasksIndirectNV-rasterizerDiscardEnable-09417

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEnableEXT`
calls **must** specify an enable for all active color attachments in the
current subpass

[](#VUID-vkCmdDrawMeshTasksIndirectNV-firstAttachment-07477) VUID-vkCmdDrawMeshTasksIndirectNV-firstAttachment-07477

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawMeshTasksIndirectNV-rasterizerDiscardEnable-09418) VUID-vkCmdDrawMeshTasksIndirectNV-rasterizerDiscardEnable-09418

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have
been called in the current command buffer prior to this drawing command,
and the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawMeshTasksIndirectNV-firstAttachment-07478) VUID-vkCmdDrawMeshTasksIndirectNV-firstAttachment-07478

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorWriteMaskEXT` calls **must** specify the
color write mask for all active color attachments in the current subpass

[](#VUID-vkCmdDrawMeshTasksIndirectNV-rasterizerDiscardEnable-09419) VUID-vkCmdDrawMeshTasksIndirectNV-rasterizerDiscardEnable-09419

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorWriteMaskEXT`
calls **must** specify the color write mask for all active color
attachments in the current subpass

[](#VUID-vkCmdDrawMeshTasksIndirectNV-firstAttachment-07479) VUID-vkCmdDrawMeshTasksIndirectNV-firstAttachment-07479

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendAdvancedEXT`
calls **must** specify the advanced blend equations for all active color
attachments in the current subpass where blending is enabled

[](#VUID-vkCmdDrawMeshTasksIndirectNV-advancedBlendMaxColorAttachments-07480) VUID-vkCmdDrawMeshTasksIndirectNV-advancedBlendMaxColorAttachments-07480

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` and
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic states enabled and
the last calls to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) and
[vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) have enabled advanced blending, then
the number of active color attachments in the current subpass **must** not
exceed [    `advancedBlendMaxColorAttachments`](limits.html#limits-advancedBlendMaxColorAttachments)

[](#VUID-vkCmdDrawMeshTasksIndirectNV-primitivesGeneratedQueryWithNonZeroStreams-07481) VUID-vkCmdDrawMeshTasksIndirectNV-primitivesGeneratedQueryWithNonZeroStreams-07481

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, and the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` state enabled, the last
call to [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have set the
`rasterizationStream` to zero

[](#VUID-vkCmdDrawMeshTasksIndirectNV-sampleLocationsPerPixel-07482) VUID-vkCmdDrawMeshTasksIndirectNV-sampleLocationsPerPixel-07482

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` member of the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo) structure the bound graphics
pipeline has been created with

[](#VUID-vkCmdDrawMeshTasksIndirectNV-sampleLocationsPerPixel-07483) VUID-vkCmdDrawMeshTasksIndirectNV-sampleLocationsPerPixel-07483

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` parameter of the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksIndirectNV-sampleLocationsEnable-07484) VUID-vkCmdDrawMeshTasksIndirectNV-sampleLocationsEnable-07484

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), and the current subpass has a
depth/stencil attachment, then that attachment **must** have been created
with the `VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT`
bit set

[](#VUID-vkCmdDrawMeshTasksIndirectNV-sampleLocationsEnable-07485) VUID-vkCmdDrawMeshTasksIndirectNV-sampleLocationsEnable-07485

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.width` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-sampleLocationsEnable-07486) VUID-vkCmdDrawMeshTasksIndirectNV-sampleLocationsEnable-07486

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.height` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-sampleLocationsEnable-07487) VUID-vkCmdDrawMeshTasksIndirectNV-sampleLocationsEnable-07487

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), the fragment shader code **must**
not statically use the extended instruction `InterpolateAtSample`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-sampleLocationsEnable-07936) VUID-vkCmdDrawMeshTasksIndirectNV-sampleLocationsEnable-07936

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.width` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksIndirectNV-sampleLocationsEnable-07937) VUID-vkCmdDrawMeshTasksIndirectNV-sampleLocationsEnable-07937

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.height` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksIndirectNV-sampleLocationsEnable-07938) VUID-vkCmdDrawMeshTasksIndirectNV-sampleLocationsEnable-07938

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationsPerPixel` **must** equal
`rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksIndirectNV-coverageModulationTableEnable-07488) VUID-vkCmdDrawMeshTasksIndirectNV-coverageModulationTableEnable-07488

If
a shader object is bound to any graphics stage or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` state
enabled, and the last call to
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) set
`coverageModulationTableEnable` to `VK_TRUE`, then the
`coverageModulationTableCount` parameter in the last call to
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** equal the current
`rasterizationSamples` divided by the number of color samples in the
current subpass

[](#VUID-vkCmdDrawMeshTasksIndirectNV-rasterizationSamples-07489) VUID-vkCmdDrawMeshTasksIndirectNV-rasterizationSamples-07489

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and if current subpass has a depth/stencil attachment and depth test,
stencil test, or depth bounds test are enabled in the bound pipeline,
then the current `rasterizationSamples` **must** be the same as the
sample count of the depth/stencil attachment

[](#VUID-vkCmdDrawMeshTasksIndirectNV-coverageToColorEnable-07490) VUID-vkCmdDrawMeshTasksIndirectNV-coverageToColorEnable-07490

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` state enabled and the
last call to [vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-rasterizerDiscardEnable-09420) VUID-vkCmdDrawMeshTasksIndirectNV-rasterizerDiscardEnable-09420

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the last call to
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-coverageReductionMode-07491) VUID-vkCmdDrawMeshTasksIndirectNV-coverageReductionMode-07491

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` or
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic states enabled,
then the [current values](pipelines.html#dynamic-state-current-value) of
`coverageReductionMode`, `rasterizationSamples`, the sample
counts for the color and depth/stencil attachments (if the subpass has
them) **must** be a valid combination returned by
[vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV](fragops.html#vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV)

[](#VUID-vkCmdDrawMeshTasksIndirectNV-viewportCount-07492) VUID-vkCmdDrawMeshTasksIndirectNV-viewportCount-07492

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectNV-viewportCount-07493) VUID-vkCmdDrawMeshTasksIndirectNV-viewportCount-07493

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic states enabled then
the `viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectNV-viewportCount-09421) VUID-vkCmdDrawMeshTasksIndirectNV-viewportCount-09421

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and a
shader object is bound to any graphics stage, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectNV-rasterizationSamples-07494) VUID-vkCmdDrawMeshTasksIndirectNV-rasterizationSamples-07494

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is not enabled, or the [current    value](pipelines.html#dynamic-state-current-value) of `coverageReductionMode` is not
`VK_COVERAGE_REDUCTION_MODE_TRUNCATE_NV`,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizationSamples` is greater than sample count of the color
attachment, then [sample shading](primsrast.html#primsrast-sampleshading) **must** be
disabled

[](#VUID-vkCmdDrawMeshTasksIndirectNV-stippledLineEnable-07495) VUID-vkCmdDrawMeshTasksIndirectNV-stippledLineEnable-07495

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled

[](#VUID-vkCmdDrawMeshTasksIndirectNV-stippledLineEnable-07496) VUID-vkCmdDrawMeshTasksIndirectNV-stippledLineEnable-07496

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM`, then the
[`stippledBresenhamLines`](features.html#features-stippledBresenhamLines)
feature **must** be enabled

[](#VUID-vkCmdDrawMeshTasksIndirectNV-stippledLineEnable-07497) VUID-vkCmdDrawMeshTasksIndirectNV-stippledLineEnable-07497

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the
[`stippledSmoothLines`](features.html#features-stippledSmoothLines) feature
**must** be enabled

[](#VUID-vkCmdDrawMeshTasksIndirectNV-stippledLineEnable-07498) VUID-vkCmdDrawMeshTasksIndirectNV-stippledLineEnable-07498

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_DEFAULT`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled and
[VkPhysicalDeviceLimits](limits.html#VkPhysicalDeviceLimits)::`strictLines` **must** be `VK_TRUE`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-conservativePointAndLineRasterization-07499) VUID-vkCmdDrawMeshTasksIndirectNV-conservativePointAndLineRasterization-07499

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, [    `conservativePointAndLineRasterization`](limits.html#limits-conservativePointAndLineRasterization) is not supported, and the
effective primitive topology output by the last pre-rasterization shader
stage is a line or point, then the `conservativeRasterizationMode`
set by the last call to [vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT)
**must** be `VK_CONSERVATIVE_RASTERIZATION_MODE_DISABLED_EXT`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-stage-07073) VUID-vkCmdDrawMeshTasksIndirectNV-stage-07073

If the bound pipeline was created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of an element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT`, then [Mesh    Shader Queries](queries.html#queries-mesh-shader) **must** not be active

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08877) VUID-vkCmdDrawMeshTasksIndirectNV-None-08877

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07850) VUID-vkCmdDrawMeshTasksIndirectNV-None-07850

If dynamic state was inherited from
[VkCommandBufferInheritanceViewportScissorInfoNV](cmdbuffers.html#VkCommandBufferInheritanceViewportScissorInfoNV), it **must** be set
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectNV-nextStage-10745) VUID-vkCmdDrawMeshTasksIndirectNV-nextStage-10745

For each shader object bound to a graphics stage, except for shader
object bound to the last graphics stage in the logical pipeline, it
**must** have been created with a `nextStage` including the
corresponding bit to the shader object bound to the following graphics
stage in the logical pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08684) VUID-vkCmdDrawMeshTasksIndirectNV-None-08684

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_VERTEX_BIT`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08685) VUID-vkCmdDrawMeshTasksIndirectNV-None-08685

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08686) VUID-vkCmdDrawMeshTasksIndirectNV-None-08686

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08687) VUID-vkCmdDrawMeshTasksIndirectNV-None-08687

If there is no bound graphics pipeline, and the
[`geometryShader`](features.html#features-geometryShader) feature is enabled,
`vkCmdBindShadersEXT` **must** have been called in the current command
buffer with `pStages` with an element of
`VK_SHADER_STAGE_GEOMETRY_BIT`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08688) VUID-vkCmdDrawMeshTasksIndirectNV-None-08688

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_FRAGMENT_BIT`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08689) VUID-vkCmdDrawMeshTasksIndirectNV-None-08689

If there is no bound graphics pipeline, and the [    `taskShader`](features.html#features-taskShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_TASK_BIT_EXT`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08690) VUID-vkCmdDrawMeshTasksIndirectNV-None-08690

If there is no bound graphics pipeline, and the [    `meshShader`](features.html#features-meshShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_MESH_BIT_EXT`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08693) VUID-vkCmdDrawMeshTasksIndirectNV-None-08693

If there is no bound graphics pipeline, and at least one of the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features is enabled, one of the
`VK_SHADER_STAGE_VERTEX_BIT` or `VK_SHADER_STAGE_MESH_BIT_EXT`
stages **must** have a valid `VkShaderEXT` bound, and the other **must**
have no `VkShaderEXT` bound

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08696) VUID-vkCmdDrawMeshTasksIndirectNV-None-08696

If there is no bound graphics pipeline, and a valid `VkShaderEXT` is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, there **must** be no
`VkShaderEXT` bound to either the `VK_SHADER_STAGE_TASK_BIT_EXT`
stage or the `VK_SHADER_STAGE_MESH_BIT_EXT` stage

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08698) VUID-vkCmdDrawMeshTasksIndirectNV-None-08698

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, then all shaders created
with the `VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag in the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** also be bound

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08699) VUID-vkCmdDrawMeshTasksIndirectNV-None-08699

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, any stages in between
stages whose shaders which did not create a shader with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag as part of the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** not have any `VkShaderEXT` bound

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08878) VUID-vkCmdDrawMeshTasksIndirectNV-None-08878

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) push constant
ranges

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08879) VUID-vkCmdDrawMeshTasksIndirectNV-None-08879

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) arrays of
descriptor set layouts

[](#VUID-vkCmdDrawMeshTasksIndirectNV-colorAttachmentCount-09372) VUID-vkCmdDrawMeshTasksIndirectNV-colorAttachmentCount-09372

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, a color
attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, and a fragment
shader is bound, it **must** not declare the `DepthReplacing` or
`StencilRefReplacingEXT` execution modes

[](#VUID-vkCmdDrawMeshTasksIndirectNV-pDynamicStates-08715) VUID-vkCmdDrawMeshTasksIndirectNV-pDynamicStates-08715

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpDepthAttachmentReadEXT`, the `depthWriteEnable` parameter
in the last call to [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-pDynamicStates-08716) VUID-vkCmdDrawMeshTasksIndirectNV-pDynamicStates-08716

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpStencilAttachmentReadEXT`, the `writeMask` parameter in
the last call to [vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** be `0`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-09116) VUID-vkCmdDrawMeshTasksIndirectNV-None-09116

    If
    a shader object is bound to any graphics stage
or
    the bound graphics pipeline was created with
    `VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT`,
    and the format of any color attachment is
    `VK_FORMAT_E5B9G9R9_UFLOAT_PACK32`, the corresponding element of the
    `pColorWriteMasks` parameter of [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT)
    **must** either include all of `VK_COLOR_COMPONENT_R_BIT`,
    `VK_COLOR_COMPONENT_G_BIT`, and `VK_COLOR_COMPONENT_B_BIT`, or
    none of them

[](#VUID-vkCmdDrawMeshTasksIndirectNV-maxFragmentDualSrcAttachments-09239) VUID-vkCmdDrawMeshTasksIndirectNV-maxFragmentDualSrcAttachments-09239

If [blending](framebuffer.html#framebuffer-blending) is enabled for any attachment where
either the source or destination blend factors for that attachment
[use the secondary color input](framebuffer.html#framebuffer-dsb), the maximum value of
`Location` for any output attachment [statically    used](shaders.html#shaders-staticuse) in the `Fragment` `Execution` `Model` executed by this command
**must** be less than [    `maxFragmentDualSrcAttachments`](limits.html#limits-maxFragmentDualSrcAttachments)

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-09548) VUID-vkCmdDrawMeshTasksIndirectNV-None-09548

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
the value of each element of
[VkRenderingAttachmentLocationInfo](interfaces.html#VkRenderingAttachmentLocationInfo)::`pColorAttachmentLocations`
set by [vkCmdSetRenderingAttachmentLocations](interfaces.html#vkCmdSetRenderingAttachmentLocations) **must** match the value
set for the corresponding element in the bound pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-09549) VUID-vkCmdDrawMeshTasksIndirectNV-None-09549

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
input attachment index mappings in the bound pipeline **must** match those
set for the current render pass instance via
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-09642) VUID-vkCmdDrawMeshTasksIndirectNV-None-09642

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with
the `VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag, the bound
graphics pipeline **must** have been created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-09643) VUID-vkCmdDrawMeshTasksIndirectNV-None-09643

If the bound graphics pipeline was created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`, the current
render pass **must** have begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with the
`VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-10677) VUID-vkCmdDrawMeshTasksIndirectNV-None-10677

If the [per-tile execution model](renderpass.html#renderpass-per-tile-execution-model)
is enabled, the
[tileShadingPerTileDraw](features.html#features-tileShadingPerTileDraw) feature **must**
be enabled

[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-10772) VUID-vkCmdDrawMeshTasksIndirectNV-None-10772

If a shader object is bound to any graphics stage, *multiview*
functionality **must** not be enabled in the current render pass

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-stage-06480) VUID-vkCmdDrawMeshTasksIndirectNV-stage-06480

The bound graphics pipeline **must** not have been created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of any element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-pStages-10680) VUID-vkCmdDrawMeshTasksIndirectNV-pStages-10680

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
not have last bound the `pStages` element of
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` with a valid shader object other than
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07074) VUID-vkCmdDrawMeshTasksIndirectNV-None-07074

[Transform Feedback Queries](queries.html#queries-transform-feedback) **must** not be
active

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-07075) VUID-vkCmdDrawMeshTasksIndirectNV-None-07075

[Primitives Generated Queries](queries.html#queries-primitives-generated) **must** not
be active

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-pipelineStatistics-07076) VUID-vkCmdDrawMeshTasksIndirectNV-pipelineStatistics-07076

The `pipelineStatistics` member used to create any active
[Pipeline Statistics Query](queries.html#queries-pipestats) **must** not contain
`VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_VERTICES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_PRIMITIVES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_VERTEX_SHADER_INVOCATIONS_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_INVOCATIONS_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_PRIMITIVES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_CLIPPING_INVOCATIONS_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_CLIPPING_PRIMITIVES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_CONTROL_SHADER_PATCHES_BIT`,
or
`VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_EVALUATION_SHADER_INVOCATIONS_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08694) VUID-vkCmdDrawMeshTasksIndirectNV-None-08694

If there is no bound graphics pipeline, and both the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features are enabled, and a valid `VkShaderEXT`
is bound the to the `VK_SHADER_STAGE_MESH_BIT_EXT` stage, and that
`VkShaderEXT` was created without the
`VK_SHADER_CREATE_NO_TASK_SHADER_BIT_EXT` flag, a valid
`VkShaderEXT` **must** be bound to the
`VK_SHADER_STAGE_TASK_BIT_EXT` stage

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-None-08695) VUID-vkCmdDrawMeshTasksIndirectNV-None-08695

If there is no bound graphics pipeline, and both the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features are enabled, and a valid `VkShaderEXT`
is bound the to the `VK_SHADER_STAGE_MESH_BIT_EXT` stage, and that
`VkShaderEXT` was created with the
`VK_SHADER_CREATE_NO_TASK_SHADER_BIT_EXT` flag, there **must** be no
`VkShaderEXT` bound to the `VK_SHADER_STAGE_TASK_BIT_EXT` stage

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-buffer-02708) VUID-vkCmdDrawMeshTasksIndirectNV-buffer-02708

If `buffer` is non-sparse then it **must** be bound completely and
contiguously to a single `VkDeviceMemory` object

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-buffer-02709) VUID-vkCmdDrawMeshTasksIndirectNV-buffer-02709

`buffer` **must** have been created with the
`VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT` bit set

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-offset-02710) VUID-vkCmdDrawMeshTasksIndirectNV-offset-02710

`offset` **must** be a multiple of `4`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-commandBuffer-02711) VUID-vkCmdDrawMeshTasksIndirectNV-commandBuffer-02711

`commandBuffer` **must** not be a protected command buffer

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-drawCount-02718) VUID-vkCmdDrawMeshTasksIndirectNV-drawCount-02718

If the [`multiDrawIndirect`](features.html#features-multiDrawIndirect) feature
is not enabled, `drawCount` **must** be `0` or `1`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-drawCount-02719) VUID-vkCmdDrawMeshTasksIndirectNV-drawCount-02719

`drawCount` **must** be less than or equal to
`VkPhysicalDeviceLimits`::`maxDrawIndirectCount`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-drawCount-02146) VUID-vkCmdDrawMeshTasksIndirectNV-drawCount-02146

If `drawCount` is greater than `1`, `stride` **must** be a multiple
of `4` and **must** be greater than or equal to
`sizeof`(`VkDrawMeshTasksIndirectCommandNV`)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-drawCount-02156) VUID-vkCmdDrawMeshTasksIndirectNV-drawCount-02156

If `drawCount` is equal to `1`, (`offset` + 
`sizeof`([VkDrawMeshTasksIndirectCommandNV](#VkDrawMeshTasksIndirectCommandNV))) **must** be less than
or equal to the size of `buffer`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-drawCount-02157) VUID-vkCmdDrawMeshTasksIndirectNV-drawCount-02157

If `drawCount` is greater than `1`, (`stride` ×
(`drawCount` - 1) +  `offset` + 
`sizeof`([VkDrawMeshTasksIndirectCommandNV](#VkDrawMeshTasksIndirectCommandNV))) **must** be less than
or equal to the size of `buffer`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-MeshNV-07081) VUID-vkCmdDrawMeshTasksIndirectNV-MeshNV-07081

The current pipeline bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`
**must** contain a shader stage using the `MeshNV` `Execution` `Model`

Valid Usage (Implicit)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-commandBuffer-parameter) VUID-vkCmdDrawMeshTasksIndirectNV-commandBuffer-parameter

 `commandBuffer` **must** be a valid [VkCommandBuffer](cmdbuffers.html#VkCommandBuffer) handle

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-buffer-parameter) VUID-vkCmdDrawMeshTasksIndirectNV-buffer-parameter

 `buffer` **must** be a valid [VkBuffer](resources.html#VkBuffer) handle

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-commandBuffer-recording) VUID-vkCmdDrawMeshTasksIndirectNV-commandBuffer-recording

 `commandBuffer` **must** be in the [recording state](cmdbuffers.html#commandbuffers-lifecycle)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-commandBuffer-cmdpool) VUID-vkCmdDrawMeshTasksIndirectNV-commandBuffer-cmdpool

 The `VkCommandPool` that `commandBuffer` was allocated from **must** support graphics operations

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-renderpass) VUID-vkCmdDrawMeshTasksIndirectNV-renderpass

 This command **must** only be called inside of a render pass instance

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-videocoding) VUID-vkCmdDrawMeshTasksIndirectNV-videocoding

 This command **must** only be called outside of a video coding scope

* 
[](#VUID-vkCmdDrawMeshTasksIndirectNV-commonparent) VUID-vkCmdDrawMeshTasksIndirectNV-commonparent

 Both of `buffer`, and `commandBuffer` **must** have been created, allocated, or retrieved from the same [VkDevice](devsandqueues.html#VkDevice)

Host Synchronization

* 
Host access to `commandBuffer` **must** be externally synchronized

* 
Host access to the `VkCommandPool` that `commandBuffer` was allocated from **must** be externally synchronized

Command Properties
| [Command Buffer Levels](cmdbuffers.html#VkCommandBufferLevel) | [Render Pass Scope](renderpass.html#vkCmdBeginRenderPass) | [Video Coding Scope](videocoding.html#vkCmdBeginVideoCodingKHR) | [Supported Queue Types](devsandqueues.html#VkQueueFlagBits) | [Command Type](fundamentals.html#fundamentals-queueoperation-command-types) |
| --- | --- | --- | --- | --- |
| Primary

Secondary | Inside | Outside | Graphics | Action |

The `VkDrawMeshTasksIndirectCommandNV` structure is defined as:

// Provided by VK_NV_mesh_shader
typedef struct VkDrawMeshTasksIndirectCommandNV {
    uint32_t    taskCount;
    uint32_t    firstTask;
} VkDrawMeshTasksIndirectCommandNV;

* 
`taskCount` is the number of local workgroups to dispatch in the X
dimension.
Y and Z dimension are implicitly set to one.

* 
`firstTask` is the X component of the first workgroup ID.

The members of `VkDrawMeshTasksIndirectCommandNV` have the same meaning
as the similarly named parameters of [vkCmdDrawMeshTasksNV](#vkCmdDrawMeshTasksNV).

Valid Usage

* 
[](#VUID-VkDrawMeshTasksIndirectCommandNV-taskCount-02175) VUID-VkDrawMeshTasksIndirectCommandNV-taskCount-02175

`taskCount` **must** be less than or equal to
`VkPhysicalDeviceMeshShaderPropertiesNV`::`maxDrawMeshTasksCount`

To record an indirect mesh tasks drawing command with the draw count sourced
from a buffer, call:

// Provided by VK_NV_mesh_shader with VK_KHR_draw_indirect_count or VK_VERSION_1_2
void vkCmdDrawMeshTasksIndirectCountNV(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    buffer,
    VkDeviceSize                                offset,
    VkBuffer                                    countBuffer,
    VkDeviceSize                                countBufferOffset,
    uint32_t                                    maxDrawCount,
    uint32_t                                    stride);

* 
`commandBuffer` is the command buffer into which the command is
recorded.

* 
`buffer` is the buffer containing draw parameters.

* 
`offset` is the byte offset into `buffer` where parameters
begin.

* 
`countBuffer` is the buffer containing the draw count.

* 
`countBufferOffset` is the byte offset into `countBuffer` where
the draw count begins.

* 
`maxDrawCount` specifies the maximum number of draws that will be
executed.
The actual number of executed draw calls is the minimum of the count
specified in `countBuffer` and `maxDrawCount`.

* 
`stride` is the byte stride between successive sets of draw
parameters.

`vkCmdDrawMeshTasksIndirectCountNV` behaves similarly to
[vkCmdDrawMeshTasksIndirectNV](#vkCmdDrawMeshTasksIndirectNV) except that the draw count is read by the
device from a buffer during execution.
The command will read an unsigned 32-bit integer from `countBuffer`
located at `countBufferOffset` and use this as the draw count.

Valid Usage

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-magFilter-04553) VUID-vkCmdDrawMeshTasksIndirectCountNV-magFilter-04553

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-magFilter-09598) VUID-vkCmdDrawMeshTasksIndirectCountNV-magFilter-09598

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR` and `reductionMode` equal to either
`VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-mipmapMode-04770) VUID-vkCmdDrawMeshTasksIndirectCountNV-mipmapMode-04770

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-mipmapMode-09599) VUID-vkCmdDrawMeshTasksIndirectCountNV-mipmapMode-09599

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR` and `reductionMode` equal to
either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-unnormalizedCoordinates-09635) VUID-vkCmdDrawMeshTasksIndirectCountNV-unnormalizedCoordinates-09635

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `levelCount` and `layerCount`
**must** be 1

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08609) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08609

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `viewType` **must** be
`VK_IMAGE_VIEW_TYPE_1D` or `VK_IMAGE_VIEW_TYPE_2D`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08610) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08610

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions with
`ImplicitLod`, `Dref` or `Proj` in their name

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08611) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08611

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions that includes a
LOD bias or any offset values

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-06479) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-06479

If a [VkImageView](resources.html#VkImageView) is sampled with
[depth comparison](textures.html#textures-depth-compare-operation), the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_SAMPLED_IMAGE_DEPTH_COMPARISON_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-02691) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-02691

If a [VkImageView](resources.html#VkImageView) is accessed using atomic operations as a result
of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07888) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07888

If a `VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER` descriptor is
accessed using atomic operations as a result of this command, then the
storage texel buffer’s [format    features](resources.html#resources-buffer-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-02692) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-02692

If a [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_CUBIC_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-02693) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-02693

If
the [VK_EXT_filter_cubic](../appendices/extensions.html#VK_EXT_filter_cubic) extension is not enabled and
any [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, it **must** not have a [VkImageViewType](resources.html#VkImageViewType) of
`VK_IMAGE_VIEW_TYPE_3D`, `VK_IMAGE_VIEW_TYPE_CUBE`, or
`VK_IMAGE_VIEW_TYPE_CUBE_ARRAY`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-filterCubic-02694) VUID-vkCmdDrawMeshTasksIndirectCountNV-filterCubic-02694

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command **must** have a [VkImageViewType](resources.html#VkImageViewType) and format
that supports cubic filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubic`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-filterCubicMinmax-02695) VUID-vkCmdDrawMeshTasksIndirectCountNV-filterCubicMinmax-02695

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` with
a reduction mode of either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` as a result of this command **must**
have a [VkImageViewType](resources.html#VkImageViewType) and format that supports cubic filtering
together with minmax filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubicMinmax`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-cubicRangeClamp-09212) VUID-vkCmdDrawMeshTasksIndirectCountNV-cubicRangeClamp-09212

If the [`cubicRangeClamp`](features.html#features-cubicRangeClamp) feature is
not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** not have a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-reductionMode-09213) VUID-vkCmdDrawMeshTasksIndirectCountNV-reductionMode-09213

Any [VkImageView](resources.html#VkImageView) being sampled with a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM` as a
result of this command **must** sample with `VK_FILTER_CUBIC_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-selectableCubicWeights-09214) VUID-vkCmdDrawMeshTasksIndirectCountNV-selectableCubicWeights-09214

If the [`selectableCubicWeights`](features.html#features-selectableCubicWeights)
feature is not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** have
[VkSamplerCubicWeightsCreateInfoQCOM](samplers.html#VkSamplerCubicWeightsCreateInfoQCOM)::`cubicWeights` equal to
`VK_CUBIC_FILTER_WEIGHTS_CATMULL_ROM_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-flags-02696) VUID-vkCmdDrawMeshTasksIndirectCountNV-flags-02696

Any [VkImage](resources.html#VkImage) created with a [VkImageCreateInfo](resources.html#VkImageCreateInfo)::`flags`
containing `VK_IMAGE_CREATE_CORNER_SAMPLED_BIT_NV` sampled as a
result of this command **must** only be sampled using a
[VkSamplerAddressMode](samplers.html#VkSamplerAddressMode) of
`VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-OpTypeImage-07027) VUID-vkCmdDrawMeshTasksIndirectCountNV-OpTypeImage-07027

For any [VkImageView](resources.html#VkImageView) being written as a storage image where the
image format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-OpTypeImage-07028) VUID-vkCmdDrawMeshTasksIndirectCountNV-OpTypeImage-07028

For any [VkImageView](resources.html#VkImageView) being read as a storage image where the image
format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-OpTypeImage-07029) VUID-vkCmdDrawMeshTasksIndirectCountNV-OpTypeImage-07029

For any [VkBufferView](resources.html#VkBufferView) being written as a storage texel buffer where
the image format field of the `OpTypeImage` is `Unknown`, the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-OpTypeImage-07030) VUID-vkCmdDrawMeshTasksIndirectCountNV-OpTypeImage-07030

Any [VkBufferView](resources.html#VkBufferView) being read as a storage texel buffer where the
image format field of the `OpTypeImage` is `Unknown` then the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08600) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08600

For each set *n* that is statically used by [a bound    shader](shaders.html#shaders-binding), a descriptor set **must** have been bound to *n* at the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for set *n*, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the current
[VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08601) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08601

For each push constant that is statically used by [a    bound shader](shaders.html#shaders-binding), a push constant value **must** have been set for the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the
current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-10068) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-10068

For each array of resources that is used by [a bound    shader](shaders.html#shaders-binding), the indices used to access members of the array **must** be less
than the descriptor count for the identified binding in the descriptor
sets used by this command

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-maintenance4-08602) VUID-vkCmdDrawMeshTasksIndirectCountNV-maintenance4-08602

If the [`maintenance4`](features.html#features-maintenance4) feature is not
enabled, then for each push constant that is statically used by
[a bound shader](shaders.html#shaders-binding), a push constant value **must** have
been set for the same pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
that is compatible for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
used to create the current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) and [VkPushConstantRange](descriptorsets.html#VkPushConstantRange) arrays
used to create the current [VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08114) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08114

Descriptors in each bound descriptor set, specified via
[vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), **must** be valid as described by
[descriptor validity](descriptorsets.html#descriptor-validity) if they are statically used
by
the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind point used by this
command and the bound [VkPipeline](pipelines.html#VkPipeline) was not created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08115) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08115

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), the bound
[VkPipeline](pipelines.html#VkPipeline) **must** have been created without
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08116) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08116

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind
point used by this command and the bound [VkPipeline](pipelines.html#VkPipeline) was created
with `VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08604) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08604

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08117) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08117

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT),
the bound [VkPipeline](pipelines.html#VkPipeline) **must** have been created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08119) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08119

If a descriptor is dynamically used with a [VkPipeline](pipelines.html#VkPipeline) created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the descriptor
memory **must** be resident

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08605) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08605

If a descriptor is dynamically used with a [VkShaderEXT](shaders.html#VkShaderEXT) created
with a `VkDescriptorSetLayout` that was created with
`VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the
descriptor memory **must** be resident

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08606) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08606

If the [`shaderObject`](features.html#features-shaderObject) feature is not
enabled, a
valid pipeline **must** be bound to the pipeline bind point used by this
command

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08608) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08608

If a pipeline is bound to the pipeline bind point used by this command,
there
**must** not have been any calls to dynamic state setting commands for any
state specified statically in the [VkPipeline](pipelines.html#VkPipeline) object bound to the
pipeline bind point used by this command, since that pipeline was bound

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-uniformBuffers-06935) VUID-vkCmdDrawMeshTasksIndirectCountNV-uniformBuffers-06935

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a uniform buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`uniformBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08612) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08612

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a uniform
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-storageBuffers-06936) VUID-vkCmdDrawMeshTasksIndirectCountNV-storageBuffers-06936

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a storage buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`storageBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08613) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08613

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a storage
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-commandBuffer-02707) VUID-vkCmdDrawMeshTasksIndirectCountNV-commandBuffer-02707

If `commandBuffer` is an unprotected command buffer and
[`protectedNoFault`](devsandqueues.html#limits-protectedNoFault) is not supported,
any resource accessed by [bound shaders](shaders.html#shaders-binding) **must** not be
a protected resource

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-viewType-07752) VUID-vkCmdDrawMeshTasksIndirectCountNV-viewType-07752

If a [VkImageView](resources.html#VkImageView) is accessed as a result of this command, then the
image view’s `viewType` **must** match the `Dim` operand of the
`OpTypeImage` as described in [Compatibility Between SPIR-V Image Dimensions and Vulkan ImageView Types](../appendices/spirvenv.html#spirvenv-image-dimensions)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-format-07753) VUID-vkCmdDrawMeshTasksIndirectCountNV-format-07753

If a [VkImageView](resources.html#VkImageView) or [VkBufferView](resources.html#VkBufferView) is accessed as a result of
this command, then the [numeric type](formats.html#formats-numericformat) of the
view’s `format` and the `Sampled` `Type` operand of the
`OpTypeImage` **must** match

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-OpImageWrite-08795) VUID-vkCmdDrawMeshTasksIndirectCountNV-OpImageWrite-08795

If a [VkImageView](resources.html#VkImageView)
created with a format other than `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
at least as many components as the image view’s format

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-OpImageWrite-08796) VUID-vkCmdDrawMeshTasksIndirectCountNV-OpImageWrite-08796

If a [VkImageView](resources.html#VkImageView) created with the format `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
four components

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-OpImageWrite-04469) VUID-vkCmdDrawMeshTasksIndirectCountNV-OpImageWrite-04469

If a [VkBufferView](resources.html#VkBufferView) is accessed using `OpImageWrite` as a result
of this command, then the `Type` of the `Texel` operand of that
instruction **must** have at least as many components as the buffer view’s
format

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-SampledType-04470) VUID-vkCmdDrawMeshTasksIndirectCountNV-SampledType-04470

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit component
width is accessed as a result of this command, the `SampledType` of
the `OpTypeImage` operand of that instruction **must** have a `Width`
of 64

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-SampledType-04471) VUID-vkCmdDrawMeshTasksIndirectCountNV-SampledType-04471

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-SampledType-04472) VUID-vkCmdDrawMeshTasksIndirectCountNV-SampledType-04472

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit
component width is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 64

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-SampledType-04473) VUID-vkCmdDrawMeshTasksIndirectCountNV-SampledType-04473

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-sparseImageInt64Atomics-04474) VUID-vkCmdDrawMeshTasksIndirectCountNV-sparseImageInt64Atomics-04474

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkImage](resources.html#VkImage)
objects created with the `VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT` flag
**must** not be accessed by atomic instructions through an `OpTypeImage`
with a `SampledType` with a `Width` of 64 by this command

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-sparseImageInt64Atomics-04475) VUID-vkCmdDrawMeshTasksIndirectCountNV-sparseImageInt64Atomics-04475

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkBuffer](resources.html#VkBuffer)
objects created with the `VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT`
flag **must** not be accessed by atomic instructions through an
`OpTypeImage` with a `SampledType` with a `Width` of 64 by this
command

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-OpImageWeightedSampleQCOM-06971) VUID-vkCmdDrawMeshTasksIndirectCountNV-OpImageWeightedSampleQCOM-06971

If `OpImageWeightedSampleQCOM` is used to sample a [VkImageView](resources.html#VkImageView)
as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_SAMPLED_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-OpImageWeightedSampleQCOM-06972) VUID-vkCmdDrawMeshTasksIndirectCountNV-OpImageWeightedSampleQCOM-06972

If `OpImageWeightedSampleQCOM` uses a [VkImageView](resources.html#VkImageView) as a sample
weight image as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-OpImageBoxFilterQCOM-06973) VUID-vkCmdDrawMeshTasksIndirectCountNV-OpImageBoxFilterQCOM-06973

If `OpImageBoxFilterQCOM` is used to sample a [VkImageView](resources.html#VkImageView) as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BOX_FILTER_SAMPLED_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-OpImageBlockMatchSSDQCOM-06974) VUID-vkCmdDrawMeshTasksIndirectCountNV-OpImageBlockMatchSSDQCOM-06974

If `OpImageBlockMatchSSDQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-OpImageBlockMatchSADQCOM-06975) VUID-vkCmdDrawMeshTasksIndirectCountNV-OpImageBlockMatchSADQCOM-06975

If `OpImageBlockMatchSADQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-OpImageBlockMatchSADQCOM-06976) VUID-vkCmdDrawMeshTasksIndirectCountNV-OpImageBlockMatchSADQCOM-06976

If `OpImageBlockMatchSADQCOM` or OpImageBlockMatchSSDQCOM is used to
read from a reference image as result of this command, then the
specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-OpImageWeightedSampleQCOM-06977) VUID-vkCmdDrawMeshTasksIndirectCountNV-OpImageWeightedSampleQCOM-06977

If `OpImageWeightedSampleQCOM`, `OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** have
been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-OpImageWeightedSampleQCOM-06978) VUID-vkCmdDrawMeshTasksIndirectCountNV-OpImageWeightedSampleQCOM-06978

If any command other than `OpImageWeightedSampleQCOM`,
`OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** not
have been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-OpImageBlockMatchWindow-09215) VUID-vkCmdDrawMeshTasksIndirectCountNV-OpImageBlockMatchWindow-09215

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-OpImageBlockMatchWindow-09216) VUID-vkCmdDrawMeshTasksIndirectCountNV-OpImageBlockMatchWindow-09216

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
format **must** be a single-component format

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-OpImageBlockMatchWindow-09217) VUID-vkCmdDrawMeshTasksIndirectCountNV-OpImageBlockMatchWindow-09217

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` read from a reference image as result
of this command, then the specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07288) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07288

Any shader invocation executed by this command **must**
[terminate](shaders.html#shaders-termination)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09600) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09600

If a descriptor with type equal to any of
`VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE`,
`VK_DESCRIPTOR_TYPE_STORAGE_IMAGE`, or
`VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT` is accessed as a result of
this command, all image subresources identified by that descriptor **must**
be in the image layout identified when the descriptor was written

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-commandBuffer-10746) VUID-vkCmdDrawMeshTasksIndirectCountNV-commandBuffer-10746

The `VkDeviceMemory` object allocated from a `VkMemoryHeap` with
the `VK_MEMORY_HEAP_TILE_MEMORY_BIT_QCOM` property that is bound to
a resource accessed as a result of this command **must** be the active
bound [bound tile memory object](memory.html#memory-bind-tile-memory) in
`commandBuffer`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-10678) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-10678

If this command is recorded inside a [tile    shading render pass](renderpass.html#renderpass-tile-shading) instance, the stages corresponding to the pipeline
bind point used by this command **must** only include
`VK_SHADER_STAGE_VERTEX_BIT`, `VK_SHADER_STAGE_FRAGMENT_BIT`,
and/or `VK_SHADER_STAGE_COMPUTE_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-10679) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-10679

If this command is recorded where
[per-tile execution model](renderpass.html#renderpass-per-tile-execution-model) is
enabled, there **must** be no access to any image while the image was be
transitioned to the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` layout

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-renderPass-02684) VUID-vkCmdDrawMeshTasksIndirectCountNV-renderPass-02684

The current render pass **must** be [compatible](renderpass.html#renderpass-compatibility)
with the `renderPass` member of the
`VkGraphicsPipelineCreateInfo` structure specified when creating the
`VkPipeline` bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-subpass-02685) VUID-vkCmdDrawMeshTasksIndirectCountNV-subpass-02685

The subpass index of the current render pass **must** be equal to the
`subpass` member of the `VkGraphicsPipelineCreateInfo` structure
specified when creating the `VkPipeline` bound to
`VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07748) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07748

If any shader statically accesses an input attachment, a valid
descriptor **must** be bound to the pipeline via a descriptor set

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-OpTypeImage-07468) VUID-vkCmdDrawMeshTasksIndirectCountNV-OpTypeImage-07468

If any shader executed by this pipeline accesses an `OpTypeImage`
variable with a `Dim` operand of `SubpassData`, it **must** be
decorated with an `InputAttachmentIndex` that corresponds to a valid
input attachment in the current subpass

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07469) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07469

Input attachment views accessed in a subpass **must** be created with the
same [VkFormat](formats.html#VkFormat) as the corresponding subpass definition, and be
created with a [VkImageView](resources.html#VkImageView) that is compatible with the attachment
referenced by the subpass'
`pInputAttachments`[`InputAttachmentIndex`] in the bound
[VkFramebuffer](renderpass.html#VkFramebuffer) as specified by
[Fragment Input Attachment    Compatibility](interfaces.html#compatibility-inputattachment)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-pDepthInputAttachmentIndex-09595) VUID-vkCmdDrawMeshTasksIndirectCountNV-pDepthInputAttachmentIndex-09595

Input attachment views accessed in a dynamic render pass with a
`InputAttachmentIndex` referenced by
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo), or no
`InputAttachmentIndex` if
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
or
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are `NULL`, **must** be created with a [VkImageView](resources.html#VkImageView) that is compatible
with the corresponding color, depth, or stencil attachment in
[VkRenderingInfo](renderpass.html#VkRenderingInfo)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-pDepthInputAttachmentIndex-09596) VUID-vkCmdDrawMeshTasksIndirectCountNV-pDepthInputAttachmentIndex-09596

Input attachment views accessed in a dynamic render pass via a shader
object **must** have an `InputAttachmentIndex` if both
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
and
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are non-`NULL`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-InputAttachmentIndex-09597) VUID-vkCmdDrawMeshTasksIndirectCountNV-InputAttachmentIndex-09597

If an input attachment view accessed in a dynamic render pass via a
shader object has an `InputAttachmentIndex`, the
`InputAttachmentIndex` **must** match an index in
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-06537) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-06537

Memory backing image subresources used as attachments in the current
render pass **must** not be written in any way other than as an attachment
by this command

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09000) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09000

If a color attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

the `VK_PIPELINE_CREATE_COLOR_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT` is
set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_COLOR_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09001) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09001

If a depth attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_DEPTH_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09002) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09002

If a stencil attachment is written by any prior command in this subpass
or by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_STENCIL_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09003) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09003

If an attachment is written by any prior command in this subpass or by
the load, store, or resolve operations for this subpass, it **must** not be
accessed in any way other than as an attachment, storage image, or
sampled image by this command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-06539) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-06539

If any previously recorded command in the current subpass accessed an
image subresource used as an attachment in this subpass in any way other
than as an attachment, this command **must** not write to that image
subresource as an attachment

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-06886) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-06886

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the depth aspect, [depth    writes](fragops.html#fragops-depth-write) **must** be disabled

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-06887) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-06887

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the stencil aspect, both front and back
`writeMask` are not zero, and stencil test is enabled,
[all stencil ops](fragops.html#fragops-stencil) **must** be `VK_STENCIL_OP_KEEP`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07831) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07831

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT` dynamic state enabled then
[vkCmdSetViewport](vertexpostproc.html#vkCmdSetViewport) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07832) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07832

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SCISSOR` dynamic state enabled then
[vkCmdSetScissor](fragops.html#vkCmdSetScissor) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07833) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07833

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_WIDTH` dynamic state enabled then
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08617) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08617

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command
buffer set `polygonMode` to `VK_POLYGON_MODE_LINE`,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08618) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08618

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08619) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08619

If a shader object that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, [vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07834) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07834

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthBiasEnable`
is `VK_TRUE`, then [vkCmdSetDepthBias](primsrast.html#vkCmdSetDepthBias)
or [vkCmdSetDepthBias2EXT](primsrast.html#vkCmdSetDepthBias2EXT)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07835) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07835

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_BLEND_CONSTANTS` dynamic state enabled then
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08621) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08621

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) in the current command buffer set any
element of `pColorBlendEnables` to `VK_TRUE`, and the most
recent call to [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) in the current
command buffer set the same element of `pColorBlendEquations` to a
`VkColorBlendEquationEXT` structure with any [VkBlendFactor](framebuffer.html#VkBlendFactor)
member with a value of `VK_BLEND_FACTOR_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_CONSTANT_ALPHA`, or
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_ALPHA`,
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07836) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07836

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`depthBoundsTestEnable` is `VK_TRUE`, then
[vkCmdSetDepthBounds](fragops.html#vkCmdSetDepthBounds) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07837) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07837

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilCompareMask](fragops.html#vkCmdSetStencilCompareMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07838) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07838

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07839) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07839

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_REFERENCE` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of and
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilReference](fragops.html#vkCmdSetStencilReference) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-maxMultiviewInstanceIndex-02688) VUID-vkCmdDrawMeshTasksIndirectCountNV-maxMultiviewInstanceIndex-02688

If the draw is recorded in a render pass instance with multiview
enabled, the maximum instance index **must** be less than or equal to
[VkPhysicalDeviceMultiviewProperties](limits.html#VkPhysicalDeviceMultiviewProperties)::`maxMultiviewInstanceIndex`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-sampleLocationsEnable-02689) VUID-vkCmdDrawMeshTasksIndirectCountNV-sampleLocationsEnable-02689

If the bound graphics pipeline was created with
[VkPipelineSampleLocationsStateCreateInfoEXT](primsrast.html#VkPipelineSampleLocationsStateCreateInfoEXT)::`sampleLocationsEnable`
set to `VK_TRUE` and the current subpass has a depth/stencil
attachment, then that attachment **must** have been created with the
`VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT` bit set

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07634) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07634

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-06666) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-06666

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
[vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07840) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07840

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CULL_MODE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCullMode](primsrast.html#vkCmdSetCullMode) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07841) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07841

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRONT_FACE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFrontFace](primsrast.html#vkCmdSetFrontFace) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07843) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07843

 If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`,
[vkCmdSetDepthTestEnable](fragops.html#vkCmdSetDepthTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07844) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07844

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07845) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07845

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_COMPARE_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthCompareOp](fragops.html#vkCmdSetDepthCompareOp) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07846) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07846

If the [`depthBounds`](features.html#features-depthBounds) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBoundsTestEnable](fragops.html#vkCmdSetDepthBoundsTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07847) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07847

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetStencilTestEnable](fragops.html#vkCmdSetStencilTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07848) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07848

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then [vkCmdSetStencilOp](fragops.html#vkCmdSetStencilOp)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-viewportCount-03417) VUID-vkCmdDrawMeshTasksIndirectCountNV-viewportCount-03417

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-scissorCount-03418) VUID-vkCmdDrawMeshTasksIndirectCountNV-scissorCount-03418

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetScissorWithCount](vertexpostproc.html#vkCmdSetScissorWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-viewportCount-03419) VUID-vkCmdDrawMeshTasksIndirectCountNV-viewportCount-03419

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with both the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic states enabled,
and the state is not inherited,
then the `viewportCount` parameter of
`vkCmdSetViewportWithCount` **must** match the `scissorCount`
parameter of `vkCmdSetScissorWithCount`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-viewportCount-04137) VUID-vkCmdDrawMeshTasksIndirectCountNV-viewportCount-04137

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportWScalingStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportWScalingStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-viewportCount-04138) VUID-vkCmdDrawMeshTasksIndirectCountNV-viewportCount-04138

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08636) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08636

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-viewportCount-04139) VUID-vkCmdDrawMeshTasksIndirectCountNV-viewportCount-04139

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic
state enabled, then the bound graphics pipeline **must** have been created
with
[VkPipelineViewportShadingRateImageStateCreateInfoNV](primsrast.html#VkPipelineViewportShadingRateImageStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-shadingRateImage-09233) VUID-vkCmdDrawMeshTasksIndirectCountNV-shadingRateImage-09233

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_COARSE_SAMPLE_ORDER_NV` and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoarseSampleOrderNV](primsrast.html#vkCmdSetCoarseSampleOrderNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-shadingRateImage-09234) VUID-vkCmdDrawMeshTasksIndirectCountNV-shadingRateImage-09234

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08637) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08637

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** be greater than or
equal to the `viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-VkPipelineVieportCreateInfo-04141) VUID-vkCmdDrawMeshTasksIndirectCountNV-VkPipelineVieportCreateInfo-04141

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV) structure chained from
[VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound graphics
pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-VkPipelineVieportCreateInfo-04142) VUID-vkCmdDrawMeshTasksIndirectCountNV-VkPipelineVieportCreateInfo-04142

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV) structure
chained from [VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound
graphics pipeline **must** have been created with
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV)::`exclusiveScissorCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07878) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07878

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_ENABLE_NV` dynamic state
enabled, then [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07879) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07879

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_NV` dynamic state enabled, and
the most recent call to [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) in the
current command buffer set any element of `pExclusiveScissorEnables`
to `VK_TRUE`, then [vkCmdSetExclusiveScissorNV](fragops.html#vkCmdSetExclusiveScissorNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-04876) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-04876

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE` dynamic state enabled,
then [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-04877) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-04877

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBiasEnable](primsrast.html#vkCmdSetDepthBiasEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-logicOp-04878) VUID-vkCmdDrawMeshTasksIndirectCountNV-logicOp-04878

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `logicOpEnable` is
`VK_TRUE`, then [vkCmdSetLogicOpEXT](framebuffer.html#vkCmdSetLogicOpEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-primitiveFragmentShadingRateWithMultipleViewports-04552) VUID-vkCmdDrawMeshTasksIndirectCountNV-primitiveFragmentShadingRateWithMultipleViewports-04552

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, and
any of the shader stages of the bound graphics pipeline write to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-primitiveFragmentShadingRateWithMultipleViewports-08642) VUID-vkCmdDrawMeshTasksIndirectCountNV-primitiveFragmentShadingRateWithMultipleViewports-08642

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, and any shader object bound to a graphics stage writes to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-blendEnable-04727) VUID-vkCmdDrawMeshTasksIndirectCountNV-blendEnable-04727

If rasterization is not disabled in the bound graphics pipeline, then
for each color attachment in the subpass, if the corresponding image
view’s [format features](resources.html#resources-image-view-format-features) do not
contain `VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
`blendEnable` member of the corresponding element of the
`pAttachments` member of `pColorBlendState` **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08643) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08643

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then for each color attachment in the render pass, if
the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) do not contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
corresponding member of `pColorBlendEnables` in the most recent call
to `vkCmdSetColorBlendEnableEXT` in the current command buffer that
affected that attachment index **must** have been `VK_FALSE`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-multisampledRenderToSingleSampled-07284) VUID-vkCmdDrawMeshTasksIndirectCountNV-multisampledRenderToSingleSampled-07284

If rasterization is not disabled in the bound graphics pipeline,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then `rasterizationSamples` for the bound graphics pipeline **must** be the
same as the current subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08644) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08644

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then the most recent call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) in the
current command buffer **must** have set `rasterizationSamples` to be the
same as the number of samples for the current render pass color and/or
depth/stencil attachments

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08876) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08876

If a shader object is bound to any graphics stage, the current render
pass instance **must** have been begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-imageView-06172) VUID-vkCmdDrawMeshTasksIndirectCountNV-imageView-06172

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the depth attachment

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-imageView-06173) VUID-vkCmdDrawMeshTasksIndirectCountNV-imageView-06173

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-imageView-06174) VUID-vkCmdDrawMeshTasksIndirectCountNV-imageView-06174

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL`, this
command **must** not write any values to the depth attachment

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-imageView-06175) VUID-vkCmdDrawMeshTasksIndirectCountNV-imageView-06175

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL`, this
command **must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-imageView-06176) VUID-vkCmdDrawMeshTasksIndirectCountNV-imageView-06176

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the depth attachment

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-imageView-06177) VUID-vkCmdDrawMeshTasksIndirectCountNV-imageView-06177

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the stencil attachment

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-viewMask-06178) VUID-vkCmdDrawMeshTasksIndirectCountNV-viewMask-06178

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a [VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`viewMask` equal
to [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`viewMask`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-colorAttachmentCount-06179) VUID-vkCmdDrawMeshTasksIndirectCountNV-colorAttachmentCount-06179

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`colorAttachmentCount` equal to
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-dynamicRenderingUnusedAttachments-08910) VUID-vkCmdDrawMeshTasksIndirectCountNV-dynamicRenderingUnusedAttachments-08910

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have
been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-dynamicRenderingUnusedAttachments-08912) VUID-vkCmdDrawMeshTasksIndirectCountNV-dynamicRenderingUnusedAttachments-08912

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have the
corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound pipeline equal to `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-dynamicRenderingUnusedAttachments-08911) VUID-vkCmdDrawMeshTasksIndirectCountNV-dynamicRenderingUnusedAttachments-08911

If the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled, and the
current render pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`,
then each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments`
array with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must**
have been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding
element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline, or the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats`, if
it exists, **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-colorAttachmentCount-09362) VUID-vkCmdDrawMeshTasksIndirectCountNV-colorAttachmentCount-09362

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`,
there is no shader object bound to any graphics stage,
and a color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`resolveImageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09363) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09363

If
there is no shader object bound to any graphics stage,
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, and a
color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09364) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09364

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set the blend enable
to `VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09365) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09365

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09366) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09366

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set blend enable to
`VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-rasterizationSamples-09367) VUID-vkCmdDrawMeshTasksIndirectCountNV-rasterizationSamples-09367

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09368) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09368

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09369) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09369

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-pFragmentSize-09370) VUID-vkCmdDrawMeshTasksIndirectCountNV-pFragmentSize-09370

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-pFragmentSize-09371) VUID-vkCmdDrawMeshTasksIndirectCountNV-pFragmentSize-09371

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07749) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07749

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08646) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08646

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-attachmentCount-07750) VUID-vkCmdDrawMeshTasksIndirectCountNV-attachmentCount-07750

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
the `attachmentCount` parameter of `vkCmdSetColorWriteEnableEXT`
**must** be greater than or equal to the
`VkPipelineColorBlendStateCreateInfo`::`attachmentCount` of the
bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08647) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08647

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then the
`attachmentCount` parameter of most recent call to
`vkCmdSetColorWriteEnableEXT` in the current command buffer **must** be
greater than or equal to the number of color attachments in the current
render pass instance

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07751) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07751

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled, a
graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) included a
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT)::`discardRectangleCount`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-rasterizerDiscardEnable-09236) VUID-vkCmdDrawMeshTasksIndirectCountNV-rasterizerDiscardEnable-09236

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) did not
include a [VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPhysicalDeviceDiscardRectanglePropertiesEXT](limits.html#VkPhysicalDeviceDiscardRectanglePropertiesEXT)::`maxDiscardRectangles`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07880) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07880

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_ENABLE_EXT` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDiscardRectangleEnableEXT](fragops.html#vkCmdSetDiscardRectangleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07881) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07881

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_MODE_EXT` dynamic state enabled,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleModeEXT](fragops.html#vkCmdSetDiscardRectangleModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-dynamicRenderingUnusedAttachments-08913) VUID-vkCmdDrawMeshTasksIndirectCountNV-dynamicRenderingUnusedAttachments-08913

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-dynamicRenderingUnusedAttachments-08914) VUID-vkCmdDrawMeshTasksIndirectCountNV-dynamicRenderingUnusedAttachments-08914

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-dynamicRenderingUnusedAttachments-08915) VUID-vkCmdDrawMeshTasksIndirectCountNV-dynamicRenderingUnusedAttachments-08915

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline was not equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`,
the value of the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-dynamicRenderingUnusedAttachments-08916) VUID-vkCmdDrawMeshTasksIndirectCountNV-dynamicRenderingUnusedAttachments-08916

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-dynamicRenderingUnusedAttachments-08917) VUID-vkCmdDrawMeshTasksIndirectCountNV-dynamicRenderingUnusedAttachments-08917

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-dynamicRenderingUnusedAttachments-08918) VUID-vkCmdDrawMeshTasksIndirectCountNV-dynamicRenderingUnusedAttachments-08918

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline was not equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`, the value of
the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-imageView-06183) VUID-vkCmdDrawMeshTasksIndirectCountNV-imageView-06183

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentShadingRateAttachmentInfoKHR](renderpass.html#VkRenderingFragmentShadingRateAttachmentInfoKHR)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-imageView-06184) VUID-vkCmdDrawMeshTasksIndirectCountNV-imageView-06184

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentDensityMapAttachmentInfoEXT](renderpass.html#VkRenderingFragmentDensityMapAttachmentInfoEXT)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-colorAttachmentCount-06185) VUID-vkCmdDrawMeshTasksIndirectCountNV-colorAttachmentCount-06185

If the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and the current render
pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
`0`, then each element of the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with a sample count equal to the corresponding element of the
`pColorAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-pDepthAttachment-06186) VUID-vkCmdDrawMeshTasksIndirectCountNV-pDepthAttachment-06186

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-pStencilAttachment-06187) VUID-vkCmdDrawMeshTasksIndirectCountNV-pStencilAttachment-06187

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-multisampledRenderToSingleSampled-07285) VUID-vkCmdDrawMeshTasksIndirectCountNV-multisampledRenderToSingleSampled-07285

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    the current render pass instance was begun with
    [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
    `0`, then each element of the
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
    `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
    created with a sample count equal to the value of
    `rasterizationSamples` for the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-multisampledRenderToSingleSampled-07286) VUID-vkCmdDrawMeshTasksIndirectCountNV-multisampledRenderToSingleSampled-07286

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-multisampledRenderToSingleSampled-07287) VUID-vkCmdDrawMeshTasksIndirectCountNV-multisampledRenderToSingleSampled-07287

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-pNext-07935) VUID-vkCmdDrawMeshTasksIndirectCountNV-pNext-07935

If this command has been called inside a render pass instance started
with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), and the `pNext` chain of
[VkRenderingInfo](renderpass.html#VkRenderingInfo) includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the value of `rasterizationSamples` for the bound graphics
pipeline **must** be equal to
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT)::`rasterizationSamples`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-renderPass-06198) VUID-vkCmdDrawMeshTasksIndirectCountNV-renderPass-06198

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline **must** have been created
with a [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`renderPass` equal to
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-pColorAttachments-08963) VUID-vkCmdDrawMeshTasksIndirectCountNV-pColorAttachments-08963

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound with a
fragment shader that statically writes to a color attachment, the color
write mask is not zero, color writes are enabled, and the corresponding
element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments->imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-pDepthAttachment-08964) VUID-vkCmdDrawMeshTasksIndirectCountNV-pDepthAttachment-08964

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, depth
test is enabled, depth write is enabled, and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-pStencilAttachment-08965) VUID-vkCmdDrawMeshTasksIndirectCountNV-pStencilAttachment-08965

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, stencil
test is enabled and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-flags-10582) VUID-vkCmdDrawMeshTasksIndirectCountNV-flags-10582

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), its [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`flags`
parameter **must** not have
`VK_RENDERING_CONTENTS_SECONDARY_COMMAND_BUFFERS_BIT` set
unless `VK_RENDERING_CONTENTS_INLINE_BIT_KHR` is also set

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-primitivesGeneratedQueryWithRasterizerDiscard-06708) VUID-vkCmdDrawMeshTasksIndirectCountNV-primitivesGeneratedQueryWithRasterizerDiscard-06708

If the [    `primitivesGeneratedQueryWithRasterizerDiscard`](features.html#features-primitivesGeneratedQueryWithRasterizerDiscard) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, [rasterization discard](primsrast.html#primsrast-discard) **must** not be enabled

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-primitivesGeneratedQueryWithNonZeroStreams-06709) VUID-vkCmdDrawMeshTasksIndirectCountNV-primitivesGeneratedQueryWithNonZeroStreams-06709

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, the bound graphics pipeline **must** not have been created with a
non-zero value in
`VkPipelineRasterizationStateStreamCreateInfoEXT`::`rasterizationStream`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07620) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07620

If the [`depthClamp`](features.html#features-depthClamp) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthClampEnableEXT](vertexpostproc.html#vkCmdSetDepthClampEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07621) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07621

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_POLYGON_MODE_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07622) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07622

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07623) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07623

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-alphaToCoverageEnable-08919) VUID-vkCmdDrawMeshTasksIndirectCountNV-alphaToCoverageEnable-08919

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and `alphaToCoverageEnable` was `VK_TRUE` in the last
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT), then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-alphaToCoverageEnable-08920) VUID-vkCmdDrawMeshTasksIndirectCountNV-alphaToCoverageEnable-08920

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) in the current command
buffer set `alphaToCoverageEnable` to `VK_TRUE`, then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07624) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07624

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07625) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07625

If the [`alphaToOne`](features.html#features-alphaToOne) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_ONE_ENABLE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToOneEnableEXT](fragops.html#vkCmdSetAlphaToOneEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07626) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07626

If the [`logicOp`](features.html#features-logicOp) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetLogicOpEnableEXT](framebuffer.html#vkCmdSetLogicOpEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07627) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07627

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08657) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08657

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have
been called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime)
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07628) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07628

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08658) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08658

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) for any attachment set that
attachment’s value in `pColorBlendEnables` to `VK_TRUE`, then
[vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07629) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07629

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08659) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08659

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07630) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07630

If the [`geometryStreams`](features.html#features-geometryStreams) feature is
enabled, and
a shader object is bound to the `VK_SHADER_STAGE_GEOMETRY_BIT` stage
or
a graphics pipeline is bound which was created with both a
`VK_SHADER_STAGE_GEOMETRY_BIT` stage and the
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` dynamic state enabled,
then [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07631) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07631

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07632) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07632

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXTRA_PRIMITIVE_OVERESTIMATION_SIZE_EXT` dynamic
state enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`conservativeRasterizationMode` is
`VK_CONSERVATIVE_RASTERIZATION_MODE_OVERESTIMATE_EXT`, then
[vkCmdSetExtraPrimitiveOverestimationSizeEXT](primsrast.html#vkCmdSetExtraPrimitiveOverestimationSizeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07633) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07633

If the [`depthClipEnable`](features.html#features-depthClipEnable) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_ENABLE_EXT` dynamic state, then
[vkCmdSetDepthClipEnableEXT](vertexpostproc.html#vkCmdSetDepthClipEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07635) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07635

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-rasterizerDiscardEnable-09416) VUID-vkCmdDrawMeshTasksIndirectCountNV-rasterizerDiscardEnable-09416

If the `[VK_EXT_blend_operation_advanced](../appendices/extensions.html#VK_EXT_blend_operation_advanced)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then at least one of [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT)
and [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07636) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07636

If the `[VK_EXT_provoking_vertex](../appendices/extensions.html#VK_EXT_provoking_vertex)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_PROVOKING_VERTEX_MODE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetProvokingVertexModeEXT](vertexpostproc.html#vkCmdSetProvokingVertexModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07637) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07637

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state enabled
then [vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08666) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08666

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08667) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08667

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08668) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08668

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07638) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07638

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` dynamic state enabled
then [vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08669) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08669

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08670) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08670

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08671) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08671

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07849) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07849

    If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled and
    a shader object is bound to any graphics stage, or
    a bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE`
    dynamic state enabled, the [current    value](pipelines.html#dynamic-state-current-value) of `rasterizerDiscardEnable` is `VK_FALSE`, and the
    [current value](pipelines.html#dynamic-state-current-value) of
    `stippledLineEnable` is `VK_TRUE`, then
[vkCmdSetLineStipple](primsrast.html#vkCmdSetLineStipple)
    **must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
    command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-10608) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-10608

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the current `lineRasterizationMode` is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM` or
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the current
`alphaToCoverageEnable`, `alphaToOneEnable` and
`sampleShadingEnable` states **must** all be `VK_FALSE`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07639) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07639

If the [`depthClipControl`](features.html#features-depthClipControl) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_NEGATIVE_ONE_TO_ONE_EXT` dynamic state
enabled, then [vkCmdSetDepthClipNegativeOneToOneEXT](vertexpostproc.html#vkCmdSetDepthClipNegativeOneToOneEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09650) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09650

If the [`depthClampControl`](features.html#features-depthClampControl) feature
is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_RANGE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`depthClampEnable` is `VK_TRUE`, then
[vkCmdSetDepthClampRangeEXT](fragops.html#vkCmdSetDepthClampRangeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07640) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07640

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_ENABLE_NV` dynamic state
enabled, then [vkCmdSetViewportWScalingEnableNV](vertexpostproc.html#vkCmdSetViewportWScalingEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07641) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07641

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state enabled, then
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07642) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07642

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07643) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07643

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_LOCATION_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageToColorEnable` is `VK_TRUE`, then
[vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07644) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07644

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_MODE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageModulationModeNV](fragops.html#vkCmdSetCoverageModulationModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07645) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07645

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationMode` is any value other than
`VK_COVERAGE_MODULATION_MODE_NONE_NV`, then
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07646) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07646

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationTableEnable` is `VK_TRUE`, then
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07647) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07647

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SHADING_RATE_IMAGE_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetShadingRateImageEnableNV](primsrast.html#vkCmdSetShadingRateImageEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-pipelineFragmentShadingRate-09238) VUID-vkCmdDrawMeshTasksIndirectCountNV-pipelineFragmentShadingRate-09238

If the [    `pipelineFragmentShadingRate`](features.html#features-pipelineFragmentShadingRate) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07648) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07648

If the [    `representativeFragmentTest`](features.html#features-representativeFragmentTest) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_REPRESENTATIVE_FRAGMENT_TEST_ENABLE_NV` dynamic
state enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRepresentativeFragmentTestEnableNV](fragops.html#vkCmdSetRepresentativeFragmentTestEnableNV) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07649) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07649

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageReductionModeNV](fragops.html#vkCmdSetCoverageReductionModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-pColorBlendEnables-07470) VUID-vkCmdDrawMeshTasksIndirectCountNV-pColorBlendEnables-07470

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` state enabled and the last
call to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) set `pColorBlendEnables`
for any attachment to `VK_TRUE`, then for those attachments in the
subpass the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-rasterizationSamples-07471) VUID-vkCmdDrawMeshTasksIndirectCountNV-rasterizationSamples-07471

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
current subpass does not use any color and/or depth/stencil attachments,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** follow the rules for a
[zero-attachment subpass](renderpass.html#renderpass-noattachments)

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-samples-07472) VUID-vkCmdDrawMeshTasksIndirectCountNV-samples-07472

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo)::`rasterizationSamples`
parameter used to create the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-samples-07473) VUID-vkCmdDrawMeshTasksIndirectCountNV-samples-07473

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state and
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` states enabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
`rasterizationSamples` parameter in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-rasterizationSamples-07474) VUID-vkCmdDrawMeshTasksIndirectCountNV-rasterizationSamples-07474

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and
the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
neither the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` nor the
`[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extensions are enabled, then
the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the current
subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09211) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09211

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled,
or a shader object is bound to any graphics stage,
and the current render pass instance includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the
`rasterizationSamples` member of that structure

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-firstAttachment-07476) VUID-vkCmdDrawMeshTasksIndirectCountNV-firstAttachment-07476

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorBlendEnableEXT` calls **must** specify an
enable for all active color attachments in the current subpass

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-rasterizerDiscardEnable-09417) VUID-vkCmdDrawMeshTasksIndirectCountNV-rasterizerDiscardEnable-09417

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEnableEXT`
calls **must** specify an enable for all active color attachments in the
current subpass

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-firstAttachment-07477) VUID-vkCmdDrawMeshTasksIndirectCountNV-firstAttachment-07477

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-rasterizerDiscardEnable-09418) VUID-vkCmdDrawMeshTasksIndirectCountNV-rasterizerDiscardEnable-09418

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have
been called in the current command buffer prior to this drawing command,
and the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-firstAttachment-07478) VUID-vkCmdDrawMeshTasksIndirectCountNV-firstAttachment-07478

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorWriteMaskEXT` calls **must** specify the
color write mask for all active color attachments in the current subpass

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-rasterizerDiscardEnable-09419) VUID-vkCmdDrawMeshTasksIndirectCountNV-rasterizerDiscardEnable-09419

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorWriteMaskEXT`
calls **must** specify the color write mask for all active color
attachments in the current subpass

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-firstAttachment-07479) VUID-vkCmdDrawMeshTasksIndirectCountNV-firstAttachment-07479

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendAdvancedEXT`
calls **must** specify the advanced blend equations for all active color
attachments in the current subpass where blending is enabled

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-advancedBlendMaxColorAttachments-07480) VUID-vkCmdDrawMeshTasksIndirectCountNV-advancedBlendMaxColorAttachments-07480

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` and
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic states enabled and
the last calls to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) and
[vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) have enabled advanced blending, then
the number of active color attachments in the current subpass **must** not
exceed [    `advancedBlendMaxColorAttachments`](limits.html#limits-advancedBlendMaxColorAttachments)

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-primitivesGeneratedQueryWithNonZeroStreams-07481) VUID-vkCmdDrawMeshTasksIndirectCountNV-primitivesGeneratedQueryWithNonZeroStreams-07481

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, and the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` state enabled, the last
call to [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have set the
`rasterizationStream` to zero

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-sampleLocationsPerPixel-07482) VUID-vkCmdDrawMeshTasksIndirectCountNV-sampleLocationsPerPixel-07482

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` member of the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo) structure the bound graphics
pipeline has been created with

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-sampleLocationsPerPixel-07483) VUID-vkCmdDrawMeshTasksIndirectCountNV-sampleLocationsPerPixel-07483

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` parameter of the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-sampleLocationsEnable-07484) VUID-vkCmdDrawMeshTasksIndirectCountNV-sampleLocationsEnable-07484

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), and the current subpass has a
depth/stencil attachment, then that attachment **must** have been created
with the `VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT`
bit set

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-sampleLocationsEnable-07485) VUID-vkCmdDrawMeshTasksIndirectCountNV-sampleLocationsEnable-07485

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.width` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-sampleLocationsEnable-07486) VUID-vkCmdDrawMeshTasksIndirectCountNV-sampleLocationsEnable-07486

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.height` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-sampleLocationsEnable-07487) VUID-vkCmdDrawMeshTasksIndirectCountNV-sampleLocationsEnable-07487

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), the fragment shader code **must**
not statically use the extended instruction `InterpolateAtSample`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-sampleLocationsEnable-07936) VUID-vkCmdDrawMeshTasksIndirectCountNV-sampleLocationsEnable-07936

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.width` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-sampleLocationsEnable-07937) VUID-vkCmdDrawMeshTasksIndirectCountNV-sampleLocationsEnable-07937

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.height` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-sampleLocationsEnable-07938) VUID-vkCmdDrawMeshTasksIndirectCountNV-sampleLocationsEnable-07938

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationsPerPixel` **must** equal
`rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-coverageModulationTableEnable-07488) VUID-vkCmdDrawMeshTasksIndirectCountNV-coverageModulationTableEnable-07488

If
a shader object is bound to any graphics stage or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` state
enabled, and the last call to
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) set
`coverageModulationTableEnable` to `VK_TRUE`, then the
`coverageModulationTableCount` parameter in the last call to
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** equal the current
`rasterizationSamples` divided by the number of color samples in the
current subpass

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-rasterizationSamples-07489) VUID-vkCmdDrawMeshTasksIndirectCountNV-rasterizationSamples-07489

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and if current subpass has a depth/stencil attachment and depth test,
stencil test, or depth bounds test are enabled in the bound pipeline,
then the current `rasterizationSamples` **must** be the same as the
sample count of the depth/stencil attachment

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-coverageToColorEnable-07490) VUID-vkCmdDrawMeshTasksIndirectCountNV-coverageToColorEnable-07490

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` state enabled and the
last call to [vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-rasterizerDiscardEnable-09420) VUID-vkCmdDrawMeshTasksIndirectCountNV-rasterizerDiscardEnable-09420

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the last call to
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-coverageReductionMode-07491) VUID-vkCmdDrawMeshTasksIndirectCountNV-coverageReductionMode-07491

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` or
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic states enabled,
then the [current values](pipelines.html#dynamic-state-current-value) of
`coverageReductionMode`, `rasterizationSamples`, the sample
counts for the color and depth/stencil attachments (if the subpass has
them) **must** be a valid combination returned by
[vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV](fragops.html#vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV)

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-viewportCount-07492) VUID-vkCmdDrawMeshTasksIndirectCountNV-viewportCount-07492

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-viewportCount-07493) VUID-vkCmdDrawMeshTasksIndirectCountNV-viewportCount-07493

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic states enabled then
the `viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-viewportCount-09421) VUID-vkCmdDrawMeshTasksIndirectCountNV-viewportCount-09421

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and a
shader object is bound to any graphics stage, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-rasterizationSamples-07494) VUID-vkCmdDrawMeshTasksIndirectCountNV-rasterizationSamples-07494

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is not enabled, or the [current    value](pipelines.html#dynamic-state-current-value) of `coverageReductionMode` is not
`VK_COVERAGE_REDUCTION_MODE_TRUNCATE_NV`,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizationSamples` is greater than sample count of the color
attachment, then [sample shading](primsrast.html#primsrast-sampleshading) **must** be
disabled

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-stippledLineEnable-07495) VUID-vkCmdDrawMeshTasksIndirectCountNV-stippledLineEnable-07495

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-stippledLineEnable-07496) VUID-vkCmdDrawMeshTasksIndirectCountNV-stippledLineEnable-07496

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM`, then the
[`stippledBresenhamLines`](features.html#features-stippledBresenhamLines)
feature **must** be enabled

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-stippledLineEnable-07497) VUID-vkCmdDrawMeshTasksIndirectCountNV-stippledLineEnable-07497

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the
[`stippledSmoothLines`](features.html#features-stippledSmoothLines) feature
**must** be enabled

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-stippledLineEnable-07498) VUID-vkCmdDrawMeshTasksIndirectCountNV-stippledLineEnable-07498

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_DEFAULT`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled and
[VkPhysicalDeviceLimits](limits.html#VkPhysicalDeviceLimits)::`strictLines` **must** be `VK_TRUE`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-conservativePointAndLineRasterization-07499) VUID-vkCmdDrawMeshTasksIndirectCountNV-conservativePointAndLineRasterization-07499

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, [    `conservativePointAndLineRasterization`](limits.html#limits-conservativePointAndLineRasterization) is not supported, and the
effective primitive topology output by the last pre-rasterization shader
stage is a line or point, then the `conservativeRasterizationMode`
set by the last call to [vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT)
**must** be `VK_CONSERVATIVE_RASTERIZATION_MODE_DISABLED_EXT`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-stage-07073) VUID-vkCmdDrawMeshTasksIndirectCountNV-stage-07073

If the bound pipeline was created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of an element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT`, then [Mesh    Shader Queries](queries.html#queries-mesh-shader) **must** not be active

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08877) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08877

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07850) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07850

If dynamic state was inherited from
[VkCommandBufferInheritanceViewportScissorInfoNV](cmdbuffers.html#VkCommandBufferInheritanceViewportScissorInfoNV), it **must** be set
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-nextStage-10745) VUID-vkCmdDrawMeshTasksIndirectCountNV-nextStage-10745

For each shader object bound to a graphics stage, except for shader
object bound to the last graphics stage in the logical pipeline, it
**must** have been created with a `nextStage` including the
corresponding bit to the shader object bound to the following graphics
stage in the logical pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08684) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08684

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_VERTEX_BIT`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08685) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08685

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08686) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08686

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08687) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08687

If there is no bound graphics pipeline, and the
[`geometryShader`](features.html#features-geometryShader) feature is enabled,
`vkCmdBindShadersEXT` **must** have been called in the current command
buffer with `pStages` with an element of
`VK_SHADER_STAGE_GEOMETRY_BIT`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08688) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08688

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_FRAGMENT_BIT`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08689) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08689

If there is no bound graphics pipeline, and the [    `taskShader`](features.html#features-taskShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_TASK_BIT_EXT`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08690) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08690

If there is no bound graphics pipeline, and the [    `meshShader`](features.html#features-meshShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_MESH_BIT_EXT`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08693) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08693

If there is no bound graphics pipeline, and at least one of the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features is enabled, one of the
`VK_SHADER_STAGE_VERTEX_BIT` or `VK_SHADER_STAGE_MESH_BIT_EXT`
stages **must** have a valid `VkShaderEXT` bound, and the other **must**
have no `VkShaderEXT` bound

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08696) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08696

If there is no bound graphics pipeline, and a valid `VkShaderEXT` is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, there **must** be no
`VkShaderEXT` bound to either the `VK_SHADER_STAGE_TASK_BIT_EXT`
stage or the `VK_SHADER_STAGE_MESH_BIT_EXT` stage

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08698) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08698

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, then all shaders created
with the `VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag in the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** also be bound

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08699) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08699

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, any stages in between
stages whose shaders which did not create a shader with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag as part of the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** not have any `VkShaderEXT` bound

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08878) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08878

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) push constant
ranges

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08879) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08879

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) arrays of
descriptor set layouts

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-colorAttachmentCount-09372) VUID-vkCmdDrawMeshTasksIndirectCountNV-colorAttachmentCount-09372

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, a color
attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, and a fragment
shader is bound, it **must** not declare the `DepthReplacing` or
`StencilRefReplacingEXT` execution modes

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-pDynamicStates-08715) VUID-vkCmdDrawMeshTasksIndirectCountNV-pDynamicStates-08715

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpDepthAttachmentReadEXT`, the `depthWriteEnable` parameter
in the last call to [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-pDynamicStates-08716) VUID-vkCmdDrawMeshTasksIndirectCountNV-pDynamicStates-08716

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpStencilAttachmentReadEXT`, the `writeMask` parameter in
the last call to [vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** be `0`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09116) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09116

    If
    a shader object is bound to any graphics stage
or
    the bound graphics pipeline was created with
    `VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT`,
    and the format of any color attachment is
    `VK_FORMAT_E5B9G9R9_UFLOAT_PACK32`, the corresponding element of the
    `pColorWriteMasks` parameter of [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT)
    **must** either include all of `VK_COLOR_COMPONENT_R_BIT`,
    `VK_COLOR_COMPONENT_G_BIT`, and `VK_COLOR_COMPONENT_B_BIT`, or
    none of them

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-maxFragmentDualSrcAttachments-09239) VUID-vkCmdDrawMeshTasksIndirectCountNV-maxFragmentDualSrcAttachments-09239

If [blending](framebuffer.html#framebuffer-blending) is enabled for any attachment where
either the source or destination blend factors for that attachment
[use the secondary color input](framebuffer.html#framebuffer-dsb), the maximum value of
`Location` for any output attachment [statically    used](shaders.html#shaders-staticuse) in the `Fragment` `Execution` `Model` executed by this command
**must** be less than [    `maxFragmentDualSrcAttachments`](limits.html#limits-maxFragmentDualSrcAttachments)

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09548) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09548

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
the value of each element of
[VkRenderingAttachmentLocationInfo](interfaces.html#VkRenderingAttachmentLocationInfo)::`pColorAttachmentLocations`
set by [vkCmdSetRenderingAttachmentLocations](interfaces.html#vkCmdSetRenderingAttachmentLocations) **must** match the value
set for the corresponding element in the bound pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09549) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09549

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
input attachment index mappings in the bound pipeline **must** match those
set for the current render pass instance via
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09642) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09642

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with
the `VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag, the bound
graphics pipeline **must** have been created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09643) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-09643

If the bound graphics pipeline was created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`, the current
render pass **must** have begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with the
`VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-10677) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-10677

If the [per-tile execution model](renderpass.html#renderpass-per-tile-execution-model)
is enabled, the
[tileShadingPerTileDraw](features.html#features-tileShadingPerTileDraw) feature **must**
be enabled

[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-10772) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-10772

If a shader object is bound to any graphics stage, *multiview*
functionality **must** not be enabled in the current render pass

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-stage-06480) VUID-vkCmdDrawMeshTasksIndirectCountNV-stage-06480

The bound graphics pipeline **must** not have been created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of any element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-pStages-10680) VUID-vkCmdDrawMeshTasksIndirectCountNV-pStages-10680

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
not have last bound the `pStages` element of
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` with a valid shader object other than
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07074) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07074

[Transform Feedback Queries](queries.html#queries-transform-feedback) **must** not be
active

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07075) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-07075

[Primitives Generated Queries](queries.html#queries-primitives-generated) **must** not
be active

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-pipelineStatistics-07076) VUID-vkCmdDrawMeshTasksIndirectCountNV-pipelineStatistics-07076

The `pipelineStatistics` member used to create any active
[Pipeline Statistics Query](queries.html#queries-pipestats) **must** not contain
`VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_VERTICES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_PRIMITIVES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_VERTEX_SHADER_INVOCATIONS_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_INVOCATIONS_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_PRIMITIVES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_CLIPPING_INVOCATIONS_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_CLIPPING_PRIMITIVES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_CONTROL_SHADER_PATCHES_BIT`,
or
`VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_EVALUATION_SHADER_INVOCATIONS_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08694) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08694

If there is no bound graphics pipeline, and both the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features are enabled, and a valid `VkShaderEXT`
is bound the to the `VK_SHADER_STAGE_MESH_BIT_EXT` stage, and that
`VkShaderEXT` was created without the
`VK_SHADER_CREATE_NO_TASK_SHADER_BIT_EXT` flag, a valid
`VkShaderEXT` **must** be bound to the
`VK_SHADER_STAGE_TASK_BIT_EXT` stage

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08695) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-08695

If there is no bound graphics pipeline, and both the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features are enabled, and a valid `VkShaderEXT`
is bound the to the `VK_SHADER_STAGE_MESH_BIT_EXT` stage, and that
`VkShaderEXT` was created with the
`VK_SHADER_CREATE_NO_TASK_SHADER_BIT_EXT` flag, there **must** be no
`VkShaderEXT` bound to the `VK_SHADER_STAGE_TASK_BIT_EXT` stage

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-buffer-02708) VUID-vkCmdDrawMeshTasksIndirectCountNV-buffer-02708

If `buffer` is non-sparse then it **must** be bound completely and
contiguously to a single `VkDeviceMemory` object

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-buffer-02709) VUID-vkCmdDrawMeshTasksIndirectCountNV-buffer-02709

`buffer` **must** have been created with the
`VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT` bit set

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-offset-02710) VUID-vkCmdDrawMeshTasksIndirectCountNV-offset-02710

`offset` **must** be a multiple of `4`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-commandBuffer-02711) VUID-vkCmdDrawMeshTasksIndirectCountNV-commandBuffer-02711

`commandBuffer` **must** not be a protected command buffer

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-countBuffer-02714) VUID-vkCmdDrawMeshTasksIndirectCountNV-countBuffer-02714

If `countBuffer` is non-sparse then it **must** be bound completely and
contiguously to a single `VkDeviceMemory` object

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-countBuffer-02715) VUID-vkCmdDrawMeshTasksIndirectCountNV-countBuffer-02715

`countBuffer` **must** have been created with the
`VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT` bit set

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-countBufferOffset-02716) VUID-vkCmdDrawMeshTasksIndirectCountNV-countBufferOffset-02716

`countBufferOffset` **must** be a multiple of `4`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-countBuffer-02717) VUID-vkCmdDrawMeshTasksIndirectCountNV-countBuffer-02717

The count stored in `countBuffer` **must** be less than or equal to
`VkPhysicalDeviceLimits`::`maxDrawIndirectCount`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-countBufferOffset-04129) VUID-vkCmdDrawMeshTasksIndirectCountNV-countBufferOffset-04129

(`countBufferOffset` +  `sizeof`(uint32_t)) **must** be
less than or equal to the size of `countBuffer`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-None-04445) VUID-vkCmdDrawMeshTasksIndirectCountNV-None-04445

If the [`drawIndirectCount`](features.html#features-drawIndirectCount) feature
is not enabled this function **must** not be used

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-stride-02182) VUID-vkCmdDrawMeshTasksIndirectCountNV-stride-02182

`stride` **must** be a multiple of `4` and **must** be greater than or
equal to `sizeof`(`VkDrawMeshTasksIndirectCommandNV`)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-maxDrawCount-02183) VUID-vkCmdDrawMeshTasksIndirectCountNV-maxDrawCount-02183

If `maxDrawCount` is greater than or equal to `1`,
(`stride` × (`maxDrawCount` - 1) +  `offset`
+  `sizeof`(`VkDrawMeshTasksIndirectCommandNV`)) **must** be
less than or equal to the size of `buffer`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-MeshNV-07082) VUID-vkCmdDrawMeshTasksIndirectCountNV-MeshNV-07082

The current pipeline bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`
**must** contain a shader stage using the `MeshNV` `Execution` `Model`

Valid Usage (Implicit)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-commandBuffer-parameter) VUID-vkCmdDrawMeshTasksIndirectCountNV-commandBuffer-parameter

 `commandBuffer` **must** be a valid [VkCommandBuffer](cmdbuffers.html#VkCommandBuffer) handle

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-buffer-parameter) VUID-vkCmdDrawMeshTasksIndirectCountNV-buffer-parameter

 `buffer` **must** be a valid [VkBuffer](resources.html#VkBuffer) handle

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-countBuffer-parameter) VUID-vkCmdDrawMeshTasksIndirectCountNV-countBuffer-parameter

 `countBuffer` **must** be a valid [VkBuffer](resources.html#VkBuffer) handle

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-commandBuffer-recording) VUID-vkCmdDrawMeshTasksIndirectCountNV-commandBuffer-recording

 `commandBuffer` **must** be in the [recording state](cmdbuffers.html#commandbuffers-lifecycle)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-commandBuffer-cmdpool) VUID-vkCmdDrawMeshTasksIndirectCountNV-commandBuffer-cmdpool

 The `VkCommandPool` that `commandBuffer` was allocated from **must** support graphics operations

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-renderpass) VUID-vkCmdDrawMeshTasksIndirectCountNV-renderpass

 This command **must** only be called inside of a render pass instance

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-videocoding) VUID-vkCmdDrawMeshTasksIndirectCountNV-videocoding

 This command **must** only be called outside of a video coding scope

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountNV-commonparent) VUID-vkCmdDrawMeshTasksIndirectCountNV-commonparent

 Each of `buffer`, `commandBuffer`, and `countBuffer` **must** have been created, allocated, or retrieved from the same [VkDevice](devsandqueues.html#VkDevice)

Host Synchronization

* 
Host access to `commandBuffer` **must** be externally synchronized

* 
Host access to the `VkCommandPool` that `commandBuffer` was allocated from **must** be externally synchronized

Command Properties
| [Command Buffer Levels](cmdbuffers.html#VkCommandBufferLevel) | [Render Pass Scope](renderpass.html#vkCmdBeginRenderPass) | [Video Coding Scope](videocoding.html#vkCmdBeginVideoCodingKHR) | [Supported Queue Types](devsandqueues.html#VkQueueFlagBits) | [Command Type](fundamentals.html#fundamentals-queueoperation-command-types) |
| --- | --- | --- | --- | --- |
| Primary

Secondary | Inside | Outside | Graphics | Action |

To record a mesh tasks drawing command, call:

// Provided by VK_EXT_mesh_shader
void vkCmdDrawMeshTasksEXT(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    groupCountX,
    uint32_t                                    groupCountY,
    uint32_t                                    groupCountZ);

* 
`commandBuffer` is the command buffer into which the command will be
recorded.

* 
`groupCountX` is the number of local workgroups to dispatch in the X
dimension.

* 
`groupCountY` is the number of local workgroups to dispatch in the Y
dimension.

* 
`groupCountZ` is the number of local workgroups to dispatch in the Z
dimension.

When the command is executed, a global workgroup consisting of
`groupCountX` × `groupCountY` × `groupCountZ`
local workgroups is assembled.

Valid Usage

* 
[](#VUID-vkCmdDrawMeshTasksEXT-magFilter-04553) VUID-vkCmdDrawMeshTasksEXT-magFilter-04553

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-magFilter-09598) VUID-vkCmdDrawMeshTasksEXT-magFilter-09598

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR` and `reductionMode` equal to either
`VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-mipmapMode-04770) VUID-vkCmdDrawMeshTasksEXT-mipmapMode-04770

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-mipmapMode-09599) VUID-vkCmdDrawMeshTasksEXT-mipmapMode-09599

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR` and `reductionMode` equal to
either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-unnormalizedCoordinates-09635) VUID-vkCmdDrawMeshTasksEXT-unnormalizedCoordinates-09635

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `levelCount` and `layerCount`
**must** be 1

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-08609) VUID-vkCmdDrawMeshTasksEXT-None-08609

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `viewType` **must** be
`VK_IMAGE_VIEW_TYPE_1D` or `VK_IMAGE_VIEW_TYPE_2D`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-08610) VUID-vkCmdDrawMeshTasksEXT-None-08610

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions with
`ImplicitLod`, `Dref` or `Proj` in their name

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-08611) VUID-vkCmdDrawMeshTasksEXT-None-08611

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions that includes a
LOD bias or any offset values

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-06479) VUID-vkCmdDrawMeshTasksEXT-None-06479

If a [VkImageView](resources.html#VkImageView) is sampled with
[depth comparison](textures.html#textures-depth-compare-operation), the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_SAMPLED_IMAGE_DEPTH_COMPARISON_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-02691) VUID-vkCmdDrawMeshTasksEXT-None-02691

If a [VkImageView](resources.html#VkImageView) is accessed using atomic operations as a result
of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-07888) VUID-vkCmdDrawMeshTasksEXT-None-07888

If a `VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER` descriptor is
accessed using atomic operations as a result of this command, then the
storage texel buffer’s [format    features](resources.html#resources-buffer-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-02692) VUID-vkCmdDrawMeshTasksEXT-None-02692

If a [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_CUBIC_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-02693) VUID-vkCmdDrawMeshTasksEXT-None-02693

If
the [VK_EXT_filter_cubic](../appendices/extensions.html#VK_EXT_filter_cubic) extension is not enabled and
any [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, it **must** not have a [VkImageViewType](resources.html#VkImageViewType) of
`VK_IMAGE_VIEW_TYPE_3D`, `VK_IMAGE_VIEW_TYPE_CUBE`, or
`VK_IMAGE_VIEW_TYPE_CUBE_ARRAY`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-filterCubic-02694) VUID-vkCmdDrawMeshTasksEXT-filterCubic-02694

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command **must** have a [VkImageViewType](resources.html#VkImageViewType) and format
that supports cubic filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubic`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawMeshTasksEXT-filterCubicMinmax-02695) VUID-vkCmdDrawMeshTasksEXT-filterCubicMinmax-02695

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` with
a reduction mode of either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` as a result of this command **must**
have a [VkImageViewType](resources.html#VkImageViewType) and format that supports cubic filtering
together with minmax filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubicMinmax`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawMeshTasksEXT-cubicRangeClamp-09212) VUID-vkCmdDrawMeshTasksEXT-cubicRangeClamp-09212

If the [`cubicRangeClamp`](features.html#features-cubicRangeClamp) feature is
not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** not have a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-reductionMode-09213) VUID-vkCmdDrawMeshTasksEXT-reductionMode-09213

Any [VkImageView](resources.html#VkImageView) being sampled with a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM` as a
result of this command **must** sample with `VK_FILTER_CUBIC_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-selectableCubicWeights-09214) VUID-vkCmdDrawMeshTasksEXT-selectableCubicWeights-09214

If the [`selectableCubicWeights`](features.html#features-selectableCubicWeights)
feature is not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** have
[VkSamplerCubicWeightsCreateInfoQCOM](samplers.html#VkSamplerCubicWeightsCreateInfoQCOM)::`cubicWeights` equal to
`VK_CUBIC_FILTER_WEIGHTS_CATMULL_ROM_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-flags-02696) VUID-vkCmdDrawMeshTasksEXT-flags-02696

Any [VkImage](resources.html#VkImage) created with a [VkImageCreateInfo](resources.html#VkImageCreateInfo)::`flags`
containing `VK_IMAGE_CREATE_CORNER_SAMPLED_BIT_NV` sampled as a
result of this command **must** only be sampled using a
[VkSamplerAddressMode](samplers.html#VkSamplerAddressMode) of
`VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-OpTypeImage-07027) VUID-vkCmdDrawMeshTasksEXT-OpTypeImage-07027

For any [VkImageView](resources.html#VkImageView) being written as a storage image where the
image format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-OpTypeImage-07028) VUID-vkCmdDrawMeshTasksEXT-OpTypeImage-07028

For any [VkImageView](resources.html#VkImageView) being read as a storage image where the image
format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-OpTypeImage-07029) VUID-vkCmdDrawMeshTasksEXT-OpTypeImage-07029

For any [VkBufferView](resources.html#VkBufferView) being written as a storage texel buffer where
the image format field of the `OpTypeImage` is `Unknown`, the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-OpTypeImage-07030) VUID-vkCmdDrawMeshTasksEXT-OpTypeImage-07030

Any [VkBufferView](resources.html#VkBufferView) being read as a storage texel buffer where the
image format field of the `OpTypeImage` is `Unknown` then the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-08600) VUID-vkCmdDrawMeshTasksEXT-None-08600

For each set *n* that is statically used by [a bound    shader](shaders.html#shaders-binding), a descriptor set **must** have been bound to *n* at the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for set *n*, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the current
[VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-08601) VUID-vkCmdDrawMeshTasksEXT-None-08601

For each push constant that is statically used by [a    bound shader](shaders.html#shaders-binding), a push constant value **must** have been set for the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the
current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-10068) VUID-vkCmdDrawMeshTasksEXT-None-10068

For each array of resources that is used by [a bound    shader](shaders.html#shaders-binding), the indices used to access members of the array **must** be less
than the descriptor count for the identified binding in the descriptor
sets used by this command

* 
[](#VUID-vkCmdDrawMeshTasksEXT-maintenance4-08602) VUID-vkCmdDrawMeshTasksEXT-maintenance4-08602

If the [`maintenance4`](features.html#features-maintenance4) feature is not
enabled, then for each push constant that is statically used by
[a bound shader](shaders.html#shaders-binding), a push constant value **must** have
been set for the same pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
that is compatible for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
used to create the current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) and [VkPushConstantRange](descriptorsets.html#VkPushConstantRange) arrays
used to create the current [VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-08114) VUID-vkCmdDrawMeshTasksEXT-None-08114

Descriptors in each bound descriptor set, specified via
[vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), **must** be valid as described by
[descriptor validity](descriptorsets.html#descriptor-validity) if they are statically used
by
the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind point used by this
command and the bound [VkPipeline](pipelines.html#VkPipeline) was not created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-08115) VUID-vkCmdDrawMeshTasksEXT-None-08115

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), the bound
[VkPipeline](pipelines.html#VkPipeline) **must** have been created without
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-08116) VUID-vkCmdDrawMeshTasksEXT-None-08116

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind
point used by this command and the bound [VkPipeline](pipelines.html#VkPipeline) was created
with `VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-08604) VUID-vkCmdDrawMeshTasksEXT-None-08604

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-08117) VUID-vkCmdDrawMeshTasksEXT-None-08117

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT),
the bound [VkPipeline](pipelines.html#VkPipeline) **must** have been created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-08119) VUID-vkCmdDrawMeshTasksEXT-None-08119

If a descriptor is dynamically used with a [VkPipeline](pipelines.html#VkPipeline) created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the descriptor
memory **must** be resident

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-08605) VUID-vkCmdDrawMeshTasksEXT-None-08605

If a descriptor is dynamically used with a [VkShaderEXT](shaders.html#VkShaderEXT) created
with a `VkDescriptorSetLayout` that was created with
`VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the
descriptor memory **must** be resident

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-08606) VUID-vkCmdDrawMeshTasksEXT-None-08606

If the [`shaderObject`](features.html#features-shaderObject) feature is not
enabled, a
valid pipeline **must** be bound to the pipeline bind point used by this
command

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-08608) VUID-vkCmdDrawMeshTasksEXT-None-08608

If a pipeline is bound to the pipeline bind point used by this command,
there
**must** not have been any calls to dynamic state setting commands for any
state specified statically in the [VkPipeline](pipelines.html#VkPipeline) object bound to the
pipeline bind point used by this command, since that pipeline was bound

* 
[](#VUID-vkCmdDrawMeshTasksEXT-uniformBuffers-06935) VUID-vkCmdDrawMeshTasksEXT-uniformBuffers-06935

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a uniform buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`uniformBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-08612) VUID-vkCmdDrawMeshTasksEXT-None-08612

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a uniform
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawMeshTasksEXT-storageBuffers-06936) VUID-vkCmdDrawMeshTasksEXT-storageBuffers-06936

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a storage buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`storageBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-08613) VUID-vkCmdDrawMeshTasksEXT-None-08613

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a storage
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawMeshTasksEXT-commandBuffer-02707) VUID-vkCmdDrawMeshTasksEXT-commandBuffer-02707

If `commandBuffer` is an unprotected command buffer and
[`protectedNoFault`](devsandqueues.html#limits-protectedNoFault) is not supported,
any resource accessed by [bound shaders](shaders.html#shaders-binding) **must** not be
a protected resource

* 
[](#VUID-vkCmdDrawMeshTasksEXT-viewType-07752) VUID-vkCmdDrawMeshTasksEXT-viewType-07752

If a [VkImageView](resources.html#VkImageView) is accessed as a result of this command, then the
image view’s `viewType` **must** match the `Dim` operand of the
`OpTypeImage` as described in [Compatibility Between SPIR-V Image Dimensions and Vulkan ImageView Types](../appendices/spirvenv.html#spirvenv-image-dimensions)

* 
[](#VUID-vkCmdDrawMeshTasksEXT-format-07753) VUID-vkCmdDrawMeshTasksEXT-format-07753

If a [VkImageView](resources.html#VkImageView) or [VkBufferView](resources.html#VkBufferView) is accessed as a result of
this command, then the [numeric type](formats.html#formats-numericformat) of the
view’s `format` and the `Sampled` `Type` operand of the
`OpTypeImage` **must** match

* 
[](#VUID-vkCmdDrawMeshTasksEXT-OpImageWrite-08795) VUID-vkCmdDrawMeshTasksEXT-OpImageWrite-08795

If a [VkImageView](resources.html#VkImageView)
created with a format other than `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
at least as many components as the image view’s format

* 
[](#VUID-vkCmdDrawMeshTasksEXT-OpImageWrite-08796) VUID-vkCmdDrawMeshTasksEXT-OpImageWrite-08796

If a [VkImageView](resources.html#VkImageView) created with the format `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
four components

* 
[](#VUID-vkCmdDrawMeshTasksEXT-OpImageWrite-04469) VUID-vkCmdDrawMeshTasksEXT-OpImageWrite-04469

If a [VkBufferView](resources.html#VkBufferView) is accessed using `OpImageWrite` as a result
of this command, then the `Type` of the `Texel` operand of that
instruction **must** have at least as many components as the buffer view’s
format

* 
[](#VUID-vkCmdDrawMeshTasksEXT-SampledType-04470) VUID-vkCmdDrawMeshTasksEXT-SampledType-04470

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit component
width is accessed as a result of this command, the `SampledType` of
the `OpTypeImage` operand of that instruction **must** have a `Width`
of 64

* 
[](#VUID-vkCmdDrawMeshTasksEXT-SampledType-04471) VUID-vkCmdDrawMeshTasksEXT-SampledType-04471

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawMeshTasksEXT-SampledType-04472) VUID-vkCmdDrawMeshTasksEXT-SampledType-04472

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit
component width is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 64

* 
[](#VUID-vkCmdDrawMeshTasksEXT-SampledType-04473) VUID-vkCmdDrawMeshTasksEXT-SampledType-04473

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawMeshTasksEXT-sparseImageInt64Atomics-04474) VUID-vkCmdDrawMeshTasksEXT-sparseImageInt64Atomics-04474

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkImage](resources.html#VkImage)
objects created with the `VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT` flag
**must** not be accessed by atomic instructions through an `OpTypeImage`
with a `SampledType` with a `Width` of 64 by this command

* 
[](#VUID-vkCmdDrawMeshTasksEXT-sparseImageInt64Atomics-04475) VUID-vkCmdDrawMeshTasksEXT-sparseImageInt64Atomics-04475

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkBuffer](resources.html#VkBuffer)
objects created with the `VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT`
flag **must** not be accessed by atomic instructions through an
`OpTypeImage` with a `SampledType` with a `Width` of 64 by this
command

* 
[](#VUID-vkCmdDrawMeshTasksEXT-OpImageWeightedSampleQCOM-06971) VUID-vkCmdDrawMeshTasksEXT-OpImageWeightedSampleQCOM-06971

If `OpImageWeightedSampleQCOM` is used to sample a [VkImageView](resources.html#VkImageView)
as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_SAMPLED_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-OpImageWeightedSampleQCOM-06972) VUID-vkCmdDrawMeshTasksEXT-OpImageWeightedSampleQCOM-06972

If `OpImageWeightedSampleQCOM` uses a [VkImageView](resources.html#VkImageView) as a sample
weight image as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-OpImageBoxFilterQCOM-06973) VUID-vkCmdDrawMeshTasksEXT-OpImageBoxFilterQCOM-06973

If `OpImageBoxFilterQCOM` is used to sample a [VkImageView](resources.html#VkImageView) as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BOX_FILTER_SAMPLED_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-OpImageBlockMatchSSDQCOM-06974) VUID-vkCmdDrawMeshTasksEXT-OpImageBlockMatchSSDQCOM-06974

If `OpImageBlockMatchSSDQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-OpImageBlockMatchSADQCOM-06975) VUID-vkCmdDrawMeshTasksEXT-OpImageBlockMatchSADQCOM-06975

If `OpImageBlockMatchSADQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-OpImageBlockMatchSADQCOM-06976) VUID-vkCmdDrawMeshTasksEXT-OpImageBlockMatchSADQCOM-06976

If `OpImageBlockMatchSADQCOM` or OpImageBlockMatchSSDQCOM is used to
read from a reference image as result of this command, then the
specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawMeshTasksEXT-OpImageWeightedSampleQCOM-06977) VUID-vkCmdDrawMeshTasksEXT-OpImageWeightedSampleQCOM-06977

If `OpImageWeightedSampleQCOM`, `OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** have
been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-OpImageWeightedSampleQCOM-06978) VUID-vkCmdDrawMeshTasksEXT-OpImageWeightedSampleQCOM-06978

If any command other than `OpImageWeightedSampleQCOM`,
`OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** not
have been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-OpImageBlockMatchWindow-09215) VUID-vkCmdDrawMeshTasksEXT-OpImageBlockMatchWindow-09215

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-OpImageBlockMatchWindow-09216) VUID-vkCmdDrawMeshTasksEXT-OpImageBlockMatchWindow-09216

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
format **must** be a single-component format

* 
[](#VUID-vkCmdDrawMeshTasksEXT-OpImageBlockMatchWindow-09217) VUID-vkCmdDrawMeshTasksEXT-OpImageBlockMatchWindow-09217

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` read from a reference image as result
of this command, then the specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-07288) VUID-vkCmdDrawMeshTasksEXT-None-07288

Any shader invocation executed by this command **must**
[terminate](shaders.html#shaders-termination)

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-09600) VUID-vkCmdDrawMeshTasksEXT-None-09600

If a descriptor with type equal to any of
`VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE`,
`VK_DESCRIPTOR_TYPE_STORAGE_IMAGE`, or
`VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT` is accessed as a result of
this command, all image subresources identified by that descriptor **must**
be in the image layout identified when the descriptor was written

* 
[](#VUID-vkCmdDrawMeshTasksEXT-commandBuffer-10746) VUID-vkCmdDrawMeshTasksEXT-commandBuffer-10746

The `VkDeviceMemory` object allocated from a `VkMemoryHeap` with
the `VK_MEMORY_HEAP_TILE_MEMORY_BIT_QCOM` property that is bound to
a resource accessed as a result of this command **must** be the active
bound [bound tile memory object](memory.html#memory-bind-tile-memory) in
`commandBuffer`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-10678) VUID-vkCmdDrawMeshTasksEXT-None-10678

If this command is recorded inside a [tile    shading render pass](renderpass.html#renderpass-tile-shading) instance, the stages corresponding to the pipeline
bind point used by this command **must** only include
`VK_SHADER_STAGE_VERTEX_BIT`, `VK_SHADER_STAGE_FRAGMENT_BIT`,
and/or `VK_SHADER_STAGE_COMPUTE_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-10679) VUID-vkCmdDrawMeshTasksEXT-None-10679

If this command is recorded where
[per-tile execution model](renderpass.html#renderpass-per-tile-execution-model) is
enabled, there **must** be no access to any image while the image was be
transitioned to the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` layout

* 
[](#VUID-vkCmdDrawMeshTasksEXT-renderPass-02684) VUID-vkCmdDrawMeshTasksEXT-renderPass-02684

The current render pass **must** be [compatible](renderpass.html#renderpass-compatibility)
with the `renderPass` member of the
`VkGraphicsPipelineCreateInfo` structure specified when creating the
`VkPipeline` bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-subpass-02685) VUID-vkCmdDrawMeshTasksEXT-subpass-02685

The subpass index of the current render pass **must** be equal to the
`subpass` member of the `VkGraphicsPipelineCreateInfo` structure
specified when creating the `VkPipeline` bound to
`VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-07748) VUID-vkCmdDrawMeshTasksEXT-None-07748

If any shader statically accesses an input attachment, a valid
descriptor **must** be bound to the pipeline via a descriptor set

* 
[](#VUID-vkCmdDrawMeshTasksEXT-OpTypeImage-07468) VUID-vkCmdDrawMeshTasksEXT-OpTypeImage-07468

If any shader executed by this pipeline accesses an `OpTypeImage`
variable with a `Dim` operand of `SubpassData`, it **must** be
decorated with an `InputAttachmentIndex` that corresponds to a valid
input attachment in the current subpass

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-07469) VUID-vkCmdDrawMeshTasksEXT-None-07469

Input attachment views accessed in a subpass **must** be created with the
same [VkFormat](formats.html#VkFormat) as the corresponding subpass definition, and be
created with a [VkImageView](resources.html#VkImageView) that is compatible with the attachment
referenced by the subpass'
`pInputAttachments`[`InputAttachmentIndex`] in the bound
[VkFramebuffer](renderpass.html#VkFramebuffer) as specified by
[Fragment Input Attachment    Compatibility](interfaces.html#compatibility-inputattachment)

* 
[](#VUID-vkCmdDrawMeshTasksEXT-pDepthInputAttachmentIndex-09595) VUID-vkCmdDrawMeshTasksEXT-pDepthInputAttachmentIndex-09595

Input attachment views accessed in a dynamic render pass with a
`InputAttachmentIndex` referenced by
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo), or no
`InputAttachmentIndex` if
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
or
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are `NULL`, **must** be created with a [VkImageView](resources.html#VkImageView) that is compatible
with the corresponding color, depth, or stencil attachment in
[VkRenderingInfo](renderpass.html#VkRenderingInfo)

* 
[](#VUID-vkCmdDrawMeshTasksEXT-pDepthInputAttachmentIndex-09596) VUID-vkCmdDrawMeshTasksEXT-pDepthInputAttachmentIndex-09596

Input attachment views accessed in a dynamic render pass via a shader
object **must** have an `InputAttachmentIndex` if both
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
and
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are non-`NULL`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-InputAttachmentIndex-09597) VUID-vkCmdDrawMeshTasksEXT-InputAttachmentIndex-09597

If an input attachment view accessed in a dynamic render pass via a
shader object has an `InputAttachmentIndex`, the
`InputAttachmentIndex` **must** match an index in
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-06537) VUID-vkCmdDrawMeshTasksEXT-None-06537

Memory backing image subresources used as attachments in the current
render pass **must** not be written in any way other than as an attachment
by this command

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-09000) VUID-vkCmdDrawMeshTasksEXT-None-09000

If a color attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

the `VK_PIPELINE_CREATE_COLOR_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT` is
set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_COLOR_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawMeshTasksEXT-None-09001) VUID-vkCmdDrawMeshTasksEXT-None-09001

If a depth attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_DEPTH_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawMeshTasksEXT-None-09002) VUID-vkCmdDrawMeshTasksEXT-None-09002

If a stencil attachment is written by any prior command in this subpass
or by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_STENCIL_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawMeshTasksEXT-None-09003) VUID-vkCmdDrawMeshTasksEXT-None-09003

If an attachment is written by any prior command in this subpass or by
the load, store, or resolve operations for this subpass, it **must** not be
accessed in any way other than as an attachment, storage image, or
sampled image by this command

[](#VUID-vkCmdDrawMeshTasksEXT-None-06539) VUID-vkCmdDrawMeshTasksEXT-None-06539

If any previously recorded command in the current subpass accessed an
image subresource used as an attachment in this subpass in any way other
than as an attachment, this command **must** not write to that image
subresource as an attachment

[](#VUID-vkCmdDrawMeshTasksEXT-None-06886) VUID-vkCmdDrawMeshTasksEXT-None-06886

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the depth aspect, [depth    writes](fragops.html#fragops-depth-write) **must** be disabled

[](#VUID-vkCmdDrawMeshTasksEXT-None-06887) VUID-vkCmdDrawMeshTasksEXT-None-06887

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the stencil aspect, both front and back
`writeMask` are not zero, and stencil test is enabled,
[all stencil ops](fragops.html#fragops-stencil) **must** be `VK_STENCIL_OP_KEEP`

[](#VUID-vkCmdDrawMeshTasksEXT-None-07831) VUID-vkCmdDrawMeshTasksEXT-None-07831

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT` dynamic state enabled then
[vkCmdSetViewport](vertexpostproc.html#vkCmdSetViewport) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07832) VUID-vkCmdDrawMeshTasksEXT-None-07832

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SCISSOR` dynamic state enabled then
[vkCmdSetScissor](fragops.html#vkCmdSetScissor) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07833) VUID-vkCmdDrawMeshTasksEXT-None-07833

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_WIDTH` dynamic state enabled then
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-08617) VUID-vkCmdDrawMeshTasksEXT-None-08617

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command
buffer set `polygonMode` to `VK_POLYGON_MODE_LINE`,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-08618) VUID-vkCmdDrawMeshTasksEXT-None-08618

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-08619) VUID-vkCmdDrawMeshTasksEXT-None-08619

If a shader object that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, [vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07834) VUID-vkCmdDrawMeshTasksEXT-None-07834

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthBiasEnable`
is `VK_TRUE`, then [vkCmdSetDepthBias](primsrast.html#vkCmdSetDepthBias)
or [vkCmdSetDepthBias2EXT](primsrast.html#vkCmdSetDepthBias2EXT)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07835) VUID-vkCmdDrawMeshTasksEXT-None-07835

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_BLEND_CONSTANTS` dynamic state enabled then
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-08621) VUID-vkCmdDrawMeshTasksEXT-None-08621

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) in the current command buffer set any
element of `pColorBlendEnables` to `VK_TRUE`, and the most
recent call to [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) in the current
command buffer set the same element of `pColorBlendEquations` to a
`VkColorBlendEquationEXT` structure with any [VkBlendFactor](framebuffer.html#VkBlendFactor)
member with a value of `VK_BLEND_FACTOR_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_CONSTANT_ALPHA`, or
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_ALPHA`,
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07836) VUID-vkCmdDrawMeshTasksEXT-None-07836

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`depthBoundsTestEnable` is `VK_TRUE`, then
[vkCmdSetDepthBounds](fragops.html#vkCmdSetDepthBounds) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07837) VUID-vkCmdDrawMeshTasksEXT-None-07837

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilCompareMask](fragops.html#vkCmdSetStencilCompareMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07838) VUID-vkCmdDrawMeshTasksEXT-None-07838

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07839) VUID-vkCmdDrawMeshTasksEXT-None-07839

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_REFERENCE` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of and
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilReference](fragops.html#vkCmdSetStencilReference) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-maxMultiviewInstanceIndex-02688) VUID-vkCmdDrawMeshTasksEXT-maxMultiviewInstanceIndex-02688

If the draw is recorded in a render pass instance with multiview
enabled, the maximum instance index **must** be less than or equal to
[VkPhysicalDeviceMultiviewProperties](limits.html#VkPhysicalDeviceMultiviewProperties)::`maxMultiviewInstanceIndex`

[](#VUID-vkCmdDrawMeshTasksEXT-sampleLocationsEnable-02689) VUID-vkCmdDrawMeshTasksEXT-sampleLocationsEnable-02689

If the bound graphics pipeline was created with
[VkPipelineSampleLocationsStateCreateInfoEXT](primsrast.html#VkPipelineSampleLocationsStateCreateInfoEXT)::`sampleLocationsEnable`
set to `VK_TRUE` and the current subpass has a depth/stencil
attachment, then that attachment **must** have been created with the
`VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT` bit set

[](#VUID-vkCmdDrawMeshTasksEXT-None-07634) VUID-vkCmdDrawMeshTasksEXT-None-07634

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-06666) VUID-vkCmdDrawMeshTasksEXT-None-06666

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
[vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07840) VUID-vkCmdDrawMeshTasksEXT-None-07840

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CULL_MODE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCullMode](primsrast.html#vkCmdSetCullMode) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07841) VUID-vkCmdDrawMeshTasksEXT-None-07841

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRONT_FACE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFrontFace](primsrast.html#vkCmdSetFrontFace) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07843) VUID-vkCmdDrawMeshTasksEXT-None-07843

 If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`,
[vkCmdSetDepthTestEnable](fragops.html#vkCmdSetDepthTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07844) VUID-vkCmdDrawMeshTasksEXT-None-07844

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07845) VUID-vkCmdDrawMeshTasksEXT-None-07845

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_COMPARE_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthCompareOp](fragops.html#vkCmdSetDepthCompareOp) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07846) VUID-vkCmdDrawMeshTasksEXT-None-07846

If the [`depthBounds`](features.html#features-depthBounds) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBoundsTestEnable](fragops.html#vkCmdSetDepthBoundsTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07847) VUID-vkCmdDrawMeshTasksEXT-None-07847

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetStencilTestEnable](fragops.html#vkCmdSetStencilTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07848) VUID-vkCmdDrawMeshTasksEXT-None-07848

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then [vkCmdSetStencilOp](fragops.html#vkCmdSetStencilOp)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawMeshTasksEXT-viewportCount-03417) VUID-vkCmdDrawMeshTasksEXT-viewportCount-03417

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-scissorCount-03418) VUID-vkCmdDrawMeshTasksEXT-scissorCount-03418

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetScissorWithCount](vertexpostproc.html#vkCmdSetScissorWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing

[](#VUID-vkCmdDrawMeshTasksEXT-viewportCount-03419) VUID-vkCmdDrawMeshTasksEXT-viewportCount-03419

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with both the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic states enabled,
and the state is not inherited,
then the `viewportCount` parameter of
`vkCmdSetViewportWithCount` **must** match the `scissorCount`
parameter of `vkCmdSetScissorWithCount`

[](#VUID-vkCmdDrawMeshTasksEXT-viewportCount-04137) VUID-vkCmdDrawMeshTasksEXT-viewportCount-04137

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportWScalingStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportWScalingStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksEXT-viewportCount-04138) VUID-vkCmdDrawMeshTasksEXT-viewportCount-04138

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-08636) VUID-vkCmdDrawMeshTasksEXT-None-08636

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksEXT-viewportCount-04139) VUID-vkCmdDrawMeshTasksEXT-viewportCount-04139

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic
state enabled, then the bound graphics pipeline **must** have been created
with
[VkPipelineViewportShadingRateImageStateCreateInfoNV](primsrast.html#VkPipelineViewportShadingRateImageStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksEXT-shadingRateImage-09233) VUID-vkCmdDrawMeshTasksEXT-shadingRateImage-09233

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_COARSE_SAMPLE_ORDER_NV` and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoarseSampleOrderNV](primsrast.html#vkCmdSetCoarseSampleOrderNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-shadingRateImage-09234) VUID-vkCmdDrawMeshTasksEXT-shadingRateImage-09234

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-08637) VUID-vkCmdDrawMeshTasksEXT-None-08637

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** be greater than or
equal to the `viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksEXT-VkPipelineVieportCreateInfo-04141) VUID-vkCmdDrawMeshTasksEXT-VkPipelineVieportCreateInfo-04141

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV) structure chained from
[VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound graphics
pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksEXT-VkPipelineVieportCreateInfo-04142) VUID-vkCmdDrawMeshTasksEXT-VkPipelineVieportCreateInfo-04142

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV) structure
chained from [VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound
graphics pipeline **must** have been created with
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV)::`exclusiveScissorCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksEXT-None-07878) VUID-vkCmdDrawMeshTasksEXT-None-07878

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_ENABLE_NV` dynamic state
enabled, then [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07879) VUID-vkCmdDrawMeshTasksEXT-None-07879

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_NV` dynamic state enabled, and
the most recent call to [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) in the
current command buffer set any element of `pExclusiveScissorEnables`
to `VK_TRUE`, then [vkCmdSetExclusiveScissorNV](fragops.html#vkCmdSetExclusiveScissorNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-04876) VUID-vkCmdDrawMeshTasksEXT-None-04876

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE` dynamic state enabled,
then [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-04877) VUID-vkCmdDrawMeshTasksEXT-None-04877

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBiasEnable](primsrast.html#vkCmdSetDepthBiasEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-logicOp-04878) VUID-vkCmdDrawMeshTasksEXT-logicOp-04878

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `logicOpEnable` is
`VK_TRUE`, then [vkCmdSetLogicOpEXT](framebuffer.html#vkCmdSetLogicOpEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-primitiveFragmentShadingRateWithMultipleViewports-04552) VUID-vkCmdDrawMeshTasksEXT-primitiveFragmentShadingRateWithMultipleViewports-04552

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, and
any of the shader stages of the bound graphics pipeline write to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawMeshTasksEXT-primitiveFragmentShadingRateWithMultipleViewports-08642) VUID-vkCmdDrawMeshTasksEXT-primitiveFragmentShadingRateWithMultipleViewports-08642

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, and any shader object bound to a graphics stage writes to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawMeshTasksEXT-blendEnable-04727) VUID-vkCmdDrawMeshTasksEXT-blendEnable-04727

If rasterization is not disabled in the bound graphics pipeline, then
for each color attachment in the subpass, if the corresponding image
view’s [format features](resources.html#resources-image-view-format-features) do not
contain `VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
`blendEnable` member of the corresponding element of the
`pAttachments` member of `pColorBlendState` **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawMeshTasksEXT-None-08643) VUID-vkCmdDrawMeshTasksEXT-None-08643

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then for each color attachment in the render pass, if
the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) do not contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
corresponding member of `pColorBlendEnables` in the most recent call
to `vkCmdSetColorBlendEnableEXT` in the current command buffer that
affected that attachment index **must** have been `VK_FALSE`

[](#VUID-vkCmdDrawMeshTasksEXT-multisampledRenderToSingleSampled-07284) VUID-vkCmdDrawMeshTasksEXT-multisampledRenderToSingleSampled-07284

If rasterization is not disabled in the bound graphics pipeline,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then `rasterizationSamples` for the bound graphics pipeline **must** be the
same as the current subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawMeshTasksEXT-None-08644) VUID-vkCmdDrawMeshTasksEXT-None-08644

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then the most recent call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) in the
current command buffer **must** have set `rasterizationSamples` to be the
same as the number of samples for the current render pass color and/or
depth/stencil attachments

[](#VUID-vkCmdDrawMeshTasksEXT-None-08876) VUID-vkCmdDrawMeshTasksEXT-None-08876

If a shader object is bound to any graphics stage, the current render
pass instance **must** have been begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)

[](#VUID-vkCmdDrawMeshTasksEXT-imageView-06172) VUID-vkCmdDrawMeshTasksEXT-imageView-06172

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the depth attachment

[](#VUID-vkCmdDrawMeshTasksEXT-imageView-06173) VUID-vkCmdDrawMeshTasksEXT-imageView-06173

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawMeshTasksEXT-imageView-06174) VUID-vkCmdDrawMeshTasksEXT-imageView-06174

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL`, this
command **must** not write any values to the depth attachment

[](#VUID-vkCmdDrawMeshTasksEXT-imageView-06175) VUID-vkCmdDrawMeshTasksEXT-imageView-06175

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL`, this
command **must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawMeshTasksEXT-imageView-06176) VUID-vkCmdDrawMeshTasksEXT-imageView-06176

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the depth attachment

[](#VUID-vkCmdDrawMeshTasksEXT-imageView-06177) VUID-vkCmdDrawMeshTasksEXT-imageView-06177

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the stencil attachment

[](#VUID-vkCmdDrawMeshTasksEXT-viewMask-06178) VUID-vkCmdDrawMeshTasksEXT-viewMask-06178

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a [VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`viewMask` equal
to [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`viewMask`

[](#VUID-vkCmdDrawMeshTasksEXT-colorAttachmentCount-06179) VUID-vkCmdDrawMeshTasksEXT-colorAttachmentCount-06179

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`colorAttachmentCount` equal to
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount`

[](#VUID-vkCmdDrawMeshTasksEXT-dynamicRenderingUnusedAttachments-08910) VUID-vkCmdDrawMeshTasksEXT-dynamicRenderingUnusedAttachments-08910

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have
been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksEXT-dynamicRenderingUnusedAttachments-08912) VUID-vkCmdDrawMeshTasksEXT-dynamicRenderingUnusedAttachments-08912

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have the
corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound pipeline equal to `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksEXT-dynamicRenderingUnusedAttachments-08911) VUID-vkCmdDrawMeshTasksEXT-dynamicRenderingUnusedAttachments-08911

If the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled, and the
current render pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`,
then each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments`
array with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must**
have been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding
element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline, or the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats`, if
it exists, **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksEXT-colorAttachmentCount-09362) VUID-vkCmdDrawMeshTasksEXT-colorAttachmentCount-09362

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`,
there is no shader object bound to any graphics stage,
and a color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`resolveImageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksEXT-None-09363) VUID-vkCmdDrawMeshTasksEXT-None-09363

If
there is no shader object bound to any graphics stage,
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, and a
color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksEXT-None-09364) VUID-vkCmdDrawMeshTasksEXT-None-09364

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set the blend enable
to `VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-09365) VUID-vkCmdDrawMeshTasksEXT-None-09365

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-09366) VUID-vkCmdDrawMeshTasksEXT-None-09366

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set blend enable to
`VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-rasterizationSamples-09367) VUID-vkCmdDrawMeshTasksEXT-rasterizationSamples-09367

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-09368) VUID-vkCmdDrawMeshTasksEXT-None-09368

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-09369) VUID-vkCmdDrawMeshTasksEXT-None-09369

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-pFragmentSize-09370) VUID-vkCmdDrawMeshTasksEXT-pFragmentSize-09370

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-pFragmentSize-09371) VUID-vkCmdDrawMeshTasksEXT-pFragmentSize-09371

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07749) VUID-vkCmdDrawMeshTasksEXT-None-07749

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-08646) VUID-vkCmdDrawMeshTasksEXT-None-08646

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-attachmentCount-07750) VUID-vkCmdDrawMeshTasksEXT-attachmentCount-07750

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
the `attachmentCount` parameter of `vkCmdSetColorWriteEnableEXT`
**must** be greater than or equal to the
`VkPipelineColorBlendStateCreateInfo`::`attachmentCount` of the
bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksEXT-None-08647) VUID-vkCmdDrawMeshTasksEXT-None-08647

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then the
`attachmentCount` parameter of most recent call to
`vkCmdSetColorWriteEnableEXT` in the current command buffer **must** be
greater than or equal to the number of color attachments in the current
render pass instance

[](#VUID-vkCmdDrawMeshTasksEXT-None-07751) VUID-vkCmdDrawMeshTasksEXT-None-07751

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled, a
graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) included a
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT)::`discardRectangleCount`

[](#VUID-vkCmdDrawMeshTasksEXT-rasterizerDiscardEnable-09236) VUID-vkCmdDrawMeshTasksEXT-rasterizerDiscardEnable-09236

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) did not
include a [VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPhysicalDeviceDiscardRectanglePropertiesEXT](limits.html#VkPhysicalDeviceDiscardRectanglePropertiesEXT)::`maxDiscardRectangles`

[](#VUID-vkCmdDrawMeshTasksEXT-None-07880) VUID-vkCmdDrawMeshTasksEXT-None-07880

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_ENABLE_EXT` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDiscardRectangleEnableEXT](fragops.html#vkCmdSetDiscardRectangleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07881) VUID-vkCmdDrawMeshTasksEXT-None-07881

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_MODE_EXT` dynamic state enabled,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleModeEXT](fragops.html#vkCmdSetDiscardRectangleModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-dynamicRenderingUnusedAttachments-08913) VUID-vkCmdDrawMeshTasksEXT-dynamicRenderingUnusedAttachments-08913

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksEXT-dynamicRenderingUnusedAttachments-08914) VUID-vkCmdDrawMeshTasksEXT-dynamicRenderingUnusedAttachments-08914

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksEXT-dynamicRenderingUnusedAttachments-08915) VUID-vkCmdDrawMeshTasksEXT-dynamicRenderingUnusedAttachments-08915

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline was not equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`,
the value of the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksEXT-dynamicRenderingUnusedAttachments-08916) VUID-vkCmdDrawMeshTasksEXT-dynamicRenderingUnusedAttachments-08916

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksEXT-dynamicRenderingUnusedAttachments-08917) VUID-vkCmdDrawMeshTasksEXT-dynamicRenderingUnusedAttachments-08917

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksEXT-dynamicRenderingUnusedAttachments-08918) VUID-vkCmdDrawMeshTasksEXT-dynamicRenderingUnusedAttachments-08918

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline was not equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`, the value of
the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksEXT-imageView-06183) VUID-vkCmdDrawMeshTasksEXT-imageView-06183

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentShadingRateAttachmentInfoKHR](renderpass.html#VkRenderingFragmentShadingRateAttachmentInfoKHR)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR`

[](#VUID-vkCmdDrawMeshTasksEXT-imageView-06184) VUID-vkCmdDrawMeshTasksEXT-imageView-06184

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentDensityMapAttachmentInfoEXT](renderpass.html#VkRenderingFragmentDensityMapAttachmentInfoEXT)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT`

[](#VUID-vkCmdDrawMeshTasksEXT-colorAttachmentCount-06185) VUID-vkCmdDrawMeshTasksEXT-colorAttachmentCount-06185

If the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and the current render
pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
`0`, then each element of the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with a sample count equal to the corresponding element of the
`pColorAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline

[](#VUID-vkCmdDrawMeshTasksEXT-pDepthAttachment-06186) VUID-vkCmdDrawMeshTasksEXT-pDepthAttachment-06186

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksEXT-pStencilAttachment-06187) VUID-vkCmdDrawMeshTasksEXT-pStencilAttachment-06187

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksEXT-multisampledRenderToSingleSampled-07285) VUID-vkCmdDrawMeshTasksEXT-multisampledRenderToSingleSampled-07285

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    the current render pass instance was begun with
    [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
    `0`, then each element of the
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
    `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
    created with a sample count equal to the value of
    `rasterizationSamples` for the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksEXT-multisampledRenderToSingleSampled-07286) VUID-vkCmdDrawMeshTasksEXT-multisampledRenderToSingleSampled-07286

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksEXT-multisampledRenderToSingleSampled-07287) VUID-vkCmdDrawMeshTasksEXT-multisampledRenderToSingleSampled-07287

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksEXT-pNext-07935) VUID-vkCmdDrawMeshTasksEXT-pNext-07935

If this command has been called inside a render pass instance started
with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), and the `pNext` chain of
[VkRenderingInfo](renderpass.html#VkRenderingInfo) includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the value of `rasterizationSamples` for the bound graphics
pipeline **must** be equal to
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT)::`rasterizationSamples`

[](#VUID-vkCmdDrawMeshTasksEXT-renderPass-06198) VUID-vkCmdDrawMeshTasksEXT-renderPass-06198

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline **must** have been created
with a [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`renderPass` equal to
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

[](#VUID-vkCmdDrawMeshTasksEXT-pColorAttachments-08963) VUID-vkCmdDrawMeshTasksEXT-pColorAttachments-08963

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound with a
fragment shader that statically writes to a color attachment, the color
write mask is not zero, color writes are enabled, and the corresponding
element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments->imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksEXT-pDepthAttachment-08964) VUID-vkCmdDrawMeshTasksEXT-pDepthAttachment-08964

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, depth
test is enabled, depth write is enabled, and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksEXT-pStencilAttachment-08965) VUID-vkCmdDrawMeshTasksEXT-pStencilAttachment-08965

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, stencil
test is enabled and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksEXT-flags-10582) VUID-vkCmdDrawMeshTasksEXT-flags-10582

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), its [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`flags`
parameter **must** not have
`VK_RENDERING_CONTENTS_SECONDARY_COMMAND_BUFFERS_BIT` set
unless `VK_RENDERING_CONTENTS_INLINE_BIT_KHR` is also set

[](#VUID-vkCmdDrawMeshTasksEXT-primitivesGeneratedQueryWithRasterizerDiscard-06708) VUID-vkCmdDrawMeshTasksEXT-primitivesGeneratedQueryWithRasterizerDiscard-06708

If the [    `primitivesGeneratedQueryWithRasterizerDiscard`](features.html#features-primitivesGeneratedQueryWithRasterizerDiscard) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, [rasterization discard](primsrast.html#primsrast-discard) **must** not be enabled

[](#VUID-vkCmdDrawMeshTasksEXT-primitivesGeneratedQueryWithNonZeroStreams-06709) VUID-vkCmdDrawMeshTasksEXT-primitivesGeneratedQueryWithNonZeroStreams-06709

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, the bound graphics pipeline **must** not have been created with a
non-zero value in
`VkPipelineRasterizationStateStreamCreateInfoEXT`::`rasterizationStream`

[](#VUID-vkCmdDrawMeshTasksEXT-None-07620) VUID-vkCmdDrawMeshTasksEXT-None-07620

If the [`depthClamp`](features.html#features-depthClamp) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthClampEnableEXT](vertexpostproc.html#vkCmdSetDepthClampEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07621) VUID-vkCmdDrawMeshTasksEXT-None-07621

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_POLYGON_MODE_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07622) VUID-vkCmdDrawMeshTasksEXT-None-07622

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07623) VUID-vkCmdDrawMeshTasksEXT-None-07623

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-alphaToCoverageEnable-08919) VUID-vkCmdDrawMeshTasksEXT-alphaToCoverageEnable-08919

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and `alphaToCoverageEnable` was `VK_TRUE` in the last
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT), then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawMeshTasksEXT-alphaToCoverageEnable-08920) VUID-vkCmdDrawMeshTasksEXT-alphaToCoverageEnable-08920

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) in the current command
buffer set `alphaToCoverageEnable` to `VK_TRUE`, then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawMeshTasksEXT-None-07624) VUID-vkCmdDrawMeshTasksEXT-None-07624

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07625) VUID-vkCmdDrawMeshTasksEXT-None-07625

If the [`alphaToOne`](features.html#features-alphaToOne) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_ONE_ENABLE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToOneEnableEXT](fragops.html#vkCmdSetAlphaToOneEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07626) VUID-vkCmdDrawMeshTasksEXT-None-07626

If the [`logicOp`](features.html#features-logicOp) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetLogicOpEnableEXT](framebuffer.html#vkCmdSetLogicOpEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07627) VUID-vkCmdDrawMeshTasksEXT-None-07627

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-08657) VUID-vkCmdDrawMeshTasksEXT-None-08657

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have
been called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime)
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07628) VUID-vkCmdDrawMeshTasksEXT-None-07628

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-08658) VUID-vkCmdDrawMeshTasksEXT-None-08658

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) for any attachment set that
attachment’s value in `pColorBlendEnables` to `VK_TRUE`, then
[vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07629) VUID-vkCmdDrawMeshTasksEXT-None-07629

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-08659) VUID-vkCmdDrawMeshTasksEXT-None-08659

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07630) VUID-vkCmdDrawMeshTasksEXT-None-07630

If the [`geometryStreams`](features.html#features-geometryStreams) feature is
enabled, and
a shader object is bound to the `VK_SHADER_STAGE_GEOMETRY_BIT` stage
or
a graphics pipeline is bound which was created with both a
`VK_SHADER_STAGE_GEOMETRY_BIT` stage and the
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` dynamic state enabled,
then [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07631) VUID-vkCmdDrawMeshTasksEXT-None-07631

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07632) VUID-vkCmdDrawMeshTasksEXT-None-07632

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXTRA_PRIMITIVE_OVERESTIMATION_SIZE_EXT` dynamic
state enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`conservativeRasterizationMode` is
`VK_CONSERVATIVE_RASTERIZATION_MODE_OVERESTIMATE_EXT`, then
[vkCmdSetExtraPrimitiveOverestimationSizeEXT](primsrast.html#vkCmdSetExtraPrimitiveOverestimationSizeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07633) VUID-vkCmdDrawMeshTasksEXT-None-07633

If the [`depthClipEnable`](features.html#features-depthClipEnable) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_ENABLE_EXT` dynamic state, then
[vkCmdSetDepthClipEnableEXT](vertexpostproc.html#vkCmdSetDepthClipEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07635) VUID-vkCmdDrawMeshTasksEXT-None-07635

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-rasterizerDiscardEnable-09416) VUID-vkCmdDrawMeshTasksEXT-rasterizerDiscardEnable-09416

If the `[VK_EXT_blend_operation_advanced](../appendices/extensions.html#VK_EXT_blend_operation_advanced)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then at least one of [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT)
and [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07636) VUID-vkCmdDrawMeshTasksEXT-None-07636

If the `[VK_EXT_provoking_vertex](../appendices/extensions.html#VK_EXT_provoking_vertex)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_PROVOKING_VERTEX_MODE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetProvokingVertexModeEXT](vertexpostproc.html#vkCmdSetProvokingVertexModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07637) VUID-vkCmdDrawMeshTasksEXT-None-07637

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state enabled
then [vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-08666) VUID-vkCmdDrawMeshTasksEXT-None-08666

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-08667) VUID-vkCmdDrawMeshTasksEXT-None-08667

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-08668) VUID-vkCmdDrawMeshTasksEXT-None-08668

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07638) VUID-vkCmdDrawMeshTasksEXT-None-07638

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` dynamic state enabled
then [vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-08669) VUID-vkCmdDrawMeshTasksEXT-None-08669

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-08670) VUID-vkCmdDrawMeshTasksEXT-None-08670

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-08671) VUID-vkCmdDrawMeshTasksEXT-None-08671

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07849) VUID-vkCmdDrawMeshTasksEXT-None-07849

    If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled and
    a shader object is bound to any graphics stage, or
    a bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE`
    dynamic state enabled, the [current    value](pipelines.html#dynamic-state-current-value) of `rasterizerDiscardEnable` is `VK_FALSE`, and the
    [current value](pipelines.html#dynamic-state-current-value) of
    `stippledLineEnable` is `VK_TRUE`, then
[vkCmdSetLineStipple](primsrast.html#vkCmdSetLineStipple)
    **must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
    command

[](#VUID-vkCmdDrawMeshTasksEXT-None-10608) VUID-vkCmdDrawMeshTasksEXT-None-10608

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the current `lineRasterizationMode` is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM` or
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the current
`alphaToCoverageEnable`, `alphaToOneEnable` and
`sampleShadingEnable` states **must** all be `VK_FALSE`

[](#VUID-vkCmdDrawMeshTasksEXT-None-07639) VUID-vkCmdDrawMeshTasksEXT-None-07639

If the [`depthClipControl`](features.html#features-depthClipControl) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_NEGATIVE_ONE_TO_ONE_EXT` dynamic state
enabled, then [vkCmdSetDepthClipNegativeOneToOneEXT](vertexpostproc.html#vkCmdSetDepthClipNegativeOneToOneEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-09650) VUID-vkCmdDrawMeshTasksEXT-None-09650

If the [`depthClampControl`](features.html#features-depthClampControl) feature
is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_RANGE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`depthClampEnable` is `VK_TRUE`, then
[vkCmdSetDepthClampRangeEXT](fragops.html#vkCmdSetDepthClampRangeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07640) VUID-vkCmdDrawMeshTasksEXT-None-07640

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_ENABLE_NV` dynamic state
enabled, then [vkCmdSetViewportWScalingEnableNV](vertexpostproc.html#vkCmdSetViewportWScalingEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07641) VUID-vkCmdDrawMeshTasksEXT-None-07641

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state enabled, then
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07642) VUID-vkCmdDrawMeshTasksEXT-None-07642

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07643) VUID-vkCmdDrawMeshTasksEXT-None-07643

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_LOCATION_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageToColorEnable` is `VK_TRUE`, then
[vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07644) VUID-vkCmdDrawMeshTasksEXT-None-07644

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_MODE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageModulationModeNV](fragops.html#vkCmdSetCoverageModulationModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07645) VUID-vkCmdDrawMeshTasksEXT-None-07645

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationMode` is any value other than
`VK_COVERAGE_MODULATION_MODE_NONE_NV`, then
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07646) VUID-vkCmdDrawMeshTasksEXT-None-07646

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationTableEnable` is `VK_TRUE`, then
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07647) VUID-vkCmdDrawMeshTasksEXT-None-07647

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SHADING_RATE_IMAGE_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetShadingRateImageEnableNV](primsrast.html#vkCmdSetShadingRateImageEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-pipelineFragmentShadingRate-09238) VUID-vkCmdDrawMeshTasksEXT-pipelineFragmentShadingRate-09238

If the [    `pipelineFragmentShadingRate`](features.html#features-pipelineFragmentShadingRate) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07648) VUID-vkCmdDrawMeshTasksEXT-None-07648

If the [    `representativeFragmentTest`](features.html#features-representativeFragmentTest) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_REPRESENTATIVE_FRAGMENT_TEST_ENABLE_NV` dynamic
state enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRepresentativeFragmentTestEnableNV](fragops.html#vkCmdSetRepresentativeFragmentTestEnableNV) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07649) VUID-vkCmdDrawMeshTasksEXT-None-07649

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageReductionModeNV](fragops.html#vkCmdSetCoverageReductionModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-pColorBlendEnables-07470) VUID-vkCmdDrawMeshTasksEXT-pColorBlendEnables-07470

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` state enabled and the last
call to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) set `pColorBlendEnables`
for any attachment to `VK_TRUE`, then for those attachments in the
subpass the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`

[](#VUID-vkCmdDrawMeshTasksEXT-rasterizationSamples-07471) VUID-vkCmdDrawMeshTasksEXT-rasterizationSamples-07471

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
current subpass does not use any color and/or depth/stencil attachments,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** follow the rules for a
[zero-attachment subpass](renderpass.html#renderpass-noattachments)

[](#VUID-vkCmdDrawMeshTasksEXT-samples-07472) VUID-vkCmdDrawMeshTasksEXT-samples-07472

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo)::`rasterizationSamples`
parameter used to create the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksEXT-samples-07473) VUID-vkCmdDrawMeshTasksEXT-samples-07473

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state and
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` states enabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
`rasterizationSamples` parameter in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksEXT-rasterizationSamples-07474) VUID-vkCmdDrawMeshTasksEXT-rasterizationSamples-07474

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and
the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
neither the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` nor the
`[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extensions are enabled, then
the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the current
subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawMeshTasksEXT-None-09211) VUID-vkCmdDrawMeshTasksEXT-None-09211

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled,
or a shader object is bound to any graphics stage,
and the current render pass instance includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the
`rasterizationSamples` member of that structure

[](#VUID-vkCmdDrawMeshTasksEXT-firstAttachment-07476) VUID-vkCmdDrawMeshTasksEXT-firstAttachment-07476

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorBlendEnableEXT` calls **must** specify an
enable for all active color attachments in the current subpass

[](#VUID-vkCmdDrawMeshTasksEXT-rasterizerDiscardEnable-09417) VUID-vkCmdDrawMeshTasksEXT-rasterizerDiscardEnable-09417

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEnableEXT`
calls **must** specify an enable for all active color attachments in the
current subpass

[](#VUID-vkCmdDrawMeshTasksEXT-firstAttachment-07477) VUID-vkCmdDrawMeshTasksEXT-firstAttachment-07477

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawMeshTasksEXT-rasterizerDiscardEnable-09418) VUID-vkCmdDrawMeshTasksEXT-rasterizerDiscardEnable-09418

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have
been called in the current command buffer prior to this drawing command,
and the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawMeshTasksEXT-firstAttachment-07478) VUID-vkCmdDrawMeshTasksEXT-firstAttachment-07478

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorWriteMaskEXT` calls **must** specify the
color write mask for all active color attachments in the current subpass

[](#VUID-vkCmdDrawMeshTasksEXT-rasterizerDiscardEnable-09419) VUID-vkCmdDrawMeshTasksEXT-rasterizerDiscardEnable-09419

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorWriteMaskEXT`
calls **must** specify the color write mask for all active color
attachments in the current subpass

[](#VUID-vkCmdDrawMeshTasksEXT-firstAttachment-07479) VUID-vkCmdDrawMeshTasksEXT-firstAttachment-07479

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendAdvancedEXT`
calls **must** specify the advanced blend equations for all active color
attachments in the current subpass where blending is enabled

[](#VUID-vkCmdDrawMeshTasksEXT-advancedBlendMaxColorAttachments-07480) VUID-vkCmdDrawMeshTasksEXT-advancedBlendMaxColorAttachments-07480

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` and
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic states enabled and
the last calls to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) and
[vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) have enabled advanced blending, then
the number of active color attachments in the current subpass **must** not
exceed [    `advancedBlendMaxColorAttachments`](limits.html#limits-advancedBlendMaxColorAttachments)

[](#VUID-vkCmdDrawMeshTasksEXT-primitivesGeneratedQueryWithNonZeroStreams-07481) VUID-vkCmdDrawMeshTasksEXT-primitivesGeneratedQueryWithNonZeroStreams-07481

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, and the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` state enabled, the last
call to [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have set the
`rasterizationStream` to zero

[](#VUID-vkCmdDrawMeshTasksEXT-sampleLocationsPerPixel-07482) VUID-vkCmdDrawMeshTasksEXT-sampleLocationsPerPixel-07482

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` member of the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo) structure the bound graphics
pipeline has been created with

[](#VUID-vkCmdDrawMeshTasksEXT-sampleLocationsPerPixel-07483) VUID-vkCmdDrawMeshTasksEXT-sampleLocationsPerPixel-07483

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` parameter of the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksEXT-sampleLocationsEnable-07484) VUID-vkCmdDrawMeshTasksEXT-sampleLocationsEnable-07484

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), and the current subpass has a
depth/stencil attachment, then that attachment **must** have been created
with the `VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT`
bit set

[](#VUID-vkCmdDrawMeshTasksEXT-sampleLocationsEnable-07485) VUID-vkCmdDrawMeshTasksEXT-sampleLocationsEnable-07485

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.width` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawMeshTasksEXT-sampleLocationsEnable-07486) VUID-vkCmdDrawMeshTasksEXT-sampleLocationsEnable-07486

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.height` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawMeshTasksEXT-sampleLocationsEnable-07487) VUID-vkCmdDrawMeshTasksEXT-sampleLocationsEnable-07487

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), the fragment shader code **must**
not statically use the extended instruction `InterpolateAtSample`

[](#VUID-vkCmdDrawMeshTasksEXT-sampleLocationsEnable-07936) VUID-vkCmdDrawMeshTasksEXT-sampleLocationsEnable-07936

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.width` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksEXT-sampleLocationsEnable-07937) VUID-vkCmdDrawMeshTasksEXT-sampleLocationsEnable-07937

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.height` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksEXT-sampleLocationsEnable-07938) VUID-vkCmdDrawMeshTasksEXT-sampleLocationsEnable-07938

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationsPerPixel` **must** equal
`rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksEXT-coverageModulationTableEnable-07488) VUID-vkCmdDrawMeshTasksEXT-coverageModulationTableEnable-07488

If
a shader object is bound to any graphics stage or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` state
enabled, and the last call to
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) set
`coverageModulationTableEnable` to `VK_TRUE`, then the
`coverageModulationTableCount` parameter in the last call to
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** equal the current
`rasterizationSamples` divided by the number of color samples in the
current subpass

[](#VUID-vkCmdDrawMeshTasksEXT-rasterizationSamples-07489) VUID-vkCmdDrawMeshTasksEXT-rasterizationSamples-07489

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and if current subpass has a depth/stencil attachment and depth test,
stencil test, or depth bounds test are enabled in the bound pipeline,
then the current `rasterizationSamples` **must** be the same as the
sample count of the depth/stencil attachment

[](#VUID-vkCmdDrawMeshTasksEXT-coverageToColorEnable-07490) VUID-vkCmdDrawMeshTasksEXT-coverageToColorEnable-07490

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` state enabled and the
last call to [vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawMeshTasksEXT-rasterizerDiscardEnable-09420) VUID-vkCmdDrawMeshTasksEXT-rasterizerDiscardEnable-09420

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the last call to
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawMeshTasksEXT-coverageReductionMode-07491) VUID-vkCmdDrawMeshTasksEXT-coverageReductionMode-07491

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` or
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic states enabled,
then the [current values](pipelines.html#dynamic-state-current-value) of
`coverageReductionMode`, `rasterizationSamples`, the sample
counts for the color and depth/stencil attachments (if the subpass has
them) **must** be a valid combination returned by
[vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV](fragops.html#vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV)

[](#VUID-vkCmdDrawMeshTasksEXT-viewportCount-07492) VUID-vkCmdDrawMeshTasksEXT-viewportCount-07492

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksEXT-viewportCount-07493) VUID-vkCmdDrawMeshTasksEXT-viewportCount-07493

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic states enabled then
the `viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksEXT-viewportCount-09421) VUID-vkCmdDrawMeshTasksEXT-viewportCount-09421

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and a
shader object is bound to any graphics stage, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksEXT-rasterizationSamples-07494) VUID-vkCmdDrawMeshTasksEXT-rasterizationSamples-07494

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is not enabled, or the [current    value](pipelines.html#dynamic-state-current-value) of `coverageReductionMode` is not
`VK_COVERAGE_REDUCTION_MODE_TRUNCATE_NV`,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizationSamples` is greater than sample count of the color
attachment, then [sample shading](primsrast.html#primsrast-sampleshading) **must** be
disabled

[](#VUID-vkCmdDrawMeshTasksEXT-stippledLineEnable-07495) VUID-vkCmdDrawMeshTasksEXT-stippledLineEnable-07495

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled

[](#VUID-vkCmdDrawMeshTasksEXT-stippledLineEnable-07496) VUID-vkCmdDrawMeshTasksEXT-stippledLineEnable-07496

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM`, then the
[`stippledBresenhamLines`](features.html#features-stippledBresenhamLines)
feature **must** be enabled

[](#VUID-vkCmdDrawMeshTasksEXT-stippledLineEnable-07497) VUID-vkCmdDrawMeshTasksEXT-stippledLineEnable-07497

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the
[`stippledSmoothLines`](features.html#features-stippledSmoothLines) feature
**must** be enabled

[](#VUID-vkCmdDrawMeshTasksEXT-stippledLineEnable-07498) VUID-vkCmdDrawMeshTasksEXT-stippledLineEnable-07498

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_DEFAULT`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled and
[VkPhysicalDeviceLimits](limits.html#VkPhysicalDeviceLimits)::`strictLines` **must** be `VK_TRUE`

[](#VUID-vkCmdDrawMeshTasksEXT-conservativePointAndLineRasterization-07499) VUID-vkCmdDrawMeshTasksEXT-conservativePointAndLineRasterization-07499

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, [    `conservativePointAndLineRasterization`](limits.html#limits-conservativePointAndLineRasterization) is not supported, and the
effective primitive topology output by the last pre-rasterization shader
stage is a line or point, then the `conservativeRasterizationMode`
set by the last call to [vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT)
**must** be `VK_CONSERVATIVE_RASTERIZATION_MODE_DISABLED_EXT`

[](#VUID-vkCmdDrawMeshTasksEXT-stage-07073) VUID-vkCmdDrawMeshTasksEXT-stage-07073

If the bound pipeline was created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of an element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT`, then [Mesh    Shader Queries](queries.html#queries-mesh-shader) **must** not be active

[](#VUID-vkCmdDrawMeshTasksEXT-None-08877) VUID-vkCmdDrawMeshTasksEXT-None-08877

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-None-07850) VUID-vkCmdDrawMeshTasksEXT-None-07850

If dynamic state was inherited from
[VkCommandBufferInheritanceViewportScissorInfoNV](cmdbuffers.html#VkCommandBufferInheritanceViewportScissorInfoNV), it **must** be set
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksEXT-nextStage-10745) VUID-vkCmdDrawMeshTasksEXT-nextStage-10745

For each shader object bound to a graphics stage, except for shader
object bound to the last graphics stage in the logical pipeline, it
**must** have been created with a `nextStage` including the
corresponding bit to the shader object bound to the following graphics
stage in the logical pipeline

[](#VUID-vkCmdDrawMeshTasksEXT-None-08684) VUID-vkCmdDrawMeshTasksEXT-None-08684

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_VERTEX_BIT`

[](#VUID-vkCmdDrawMeshTasksEXT-None-08685) VUID-vkCmdDrawMeshTasksEXT-None-08685

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`

[](#VUID-vkCmdDrawMeshTasksEXT-None-08686) VUID-vkCmdDrawMeshTasksEXT-None-08686

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT`

[](#VUID-vkCmdDrawMeshTasksEXT-None-08687) VUID-vkCmdDrawMeshTasksEXT-None-08687

If there is no bound graphics pipeline, and the
[`geometryShader`](features.html#features-geometryShader) feature is enabled,
`vkCmdBindShadersEXT` **must** have been called in the current command
buffer with `pStages` with an element of
`VK_SHADER_STAGE_GEOMETRY_BIT`

[](#VUID-vkCmdDrawMeshTasksEXT-None-08688) VUID-vkCmdDrawMeshTasksEXT-None-08688

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_FRAGMENT_BIT`

[](#VUID-vkCmdDrawMeshTasksEXT-None-08689) VUID-vkCmdDrawMeshTasksEXT-None-08689

If there is no bound graphics pipeline, and the [    `taskShader`](features.html#features-taskShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_TASK_BIT_EXT`

[](#VUID-vkCmdDrawMeshTasksEXT-None-08690) VUID-vkCmdDrawMeshTasksEXT-None-08690

If there is no bound graphics pipeline, and the [    `meshShader`](features.html#features-meshShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_MESH_BIT_EXT`

[](#VUID-vkCmdDrawMeshTasksEXT-None-08693) VUID-vkCmdDrawMeshTasksEXT-None-08693

If there is no bound graphics pipeline, and at least one of the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features is enabled, one of the
`VK_SHADER_STAGE_VERTEX_BIT` or `VK_SHADER_STAGE_MESH_BIT_EXT`
stages **must** have a valid `VkShaderEXT` bound, and the other **must**
have no `VkShaderEXT` bound

[](#VUID-vkCmdDrawMeshTasksEXT-None-08696) VUID-vkCmdDrawMeshTasksEXT-None-08696

If there is no bound graphics pipeline, and a valid `VkShaderEXT` is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, there **must** be no
`VkShaderEXT` bound to either the `VK_SHADER_STAGE_TASK_BIT_EXT`
stage or the `VK_SHADER_STAGE_MESH_BIT_EXT` stage

[](#VUID-vkCmdDrawMeshTasksEXT-None-08698) VUID-vkCmdDrawMeshTasksEXT-None-08698

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, then all shaders created
with the `VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag in the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** also be bound

[](#VUID-vkCmdDrawMeshTasksEXT-None-08699) VUID-vkCmdDrawMeshTasksEXT-None-08699

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, any stages in between
stages whose shaders which did not create a shader with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag as part of the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** not have any `VkShaderEXT` bound

[](#VUID-vkCmdDrawMeshTasksEXT-None-08878) VUID-vkCmdDrawMeshTasksEXT-None-08878

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) push constant
ranges

[](#VUID-vkCmdDrawMeshTasksEXT-None-08879) VUID-vkCmdDrawMeshTasksEXT-None-08879

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) arrays of
descriptor set layouts

[](#VUID-vkCmdDrawMeshTasksEXT-colorAttachmentCount-09372) VUID-vkCmdDrawMeshTasksEXT-colorAttachmentCount-09372

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, a color
attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, and a fragment
shader is bound, it **must** not declare the `DepthReplacing` or
`StencilRefReplacingEXT` execution modes

[](#VUID-vkCmdDrawMeshTasksEXT-pDynamicStates-08715) VUID-vkCmdDrawMeshTasksEXT-pDynamicStates-08715

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpDepthAttachmentReadEXT`, the `depthWriteEnable` parameter
in the last call to [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawMeshTasksEXT-pDynamicStates-08716) VUID-vkCmdDrawMeshTasksEXT-pDynamicStates-08716

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpStencilAttachmentReadEXT`, the `writeMask` parameter in
the last call to [vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** be `0`

[](#VUID-vkCmdDrawMeshTasksEXT-None-09116) VUID-vkCmdDrawMeshTasksEXT-None-09116

    If
    a shader object is bound to any graphics stage
or
    the bound graphics pipeline was created with
    `VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT`,
    and the format of any color attachment is
    `VK_FORMAT_E5B9G9R9_UFLOAT_PACK32`, the corresponding element of the
    `pColorWriteMasks` parameter of [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT)
    **must** either include all of `VK_COLOR_COMPONENT_R_BIT`,
    `VK_COLOR_COMPONENT_G_BIT`, and `VK_COLOR_COMPONENT_B_BIT`, or
    none of them

[](#VUID-vkCmdDrawMeshTasksEXT-maxFragmentDualSrcAttachments-09239) VUID-vkCmdDrawMeshTasksEXT-maxFragmentDualSrcAttachments-09239

If [blending](framebuffer.html#framebuffer-blending) is enabled for any attachment where
either the source or destination blend factors for that attachment
[use the secondary color input](framebuffer.html#framebuffer-dsb), the maximum value of
`Location` for any output attachment [statically    used](shaders.html#shaders-staticuse) in the `Fragment` `Execution` `Model` executed by this command
**must** be less than [    `maxFragmentDualSrcAttachments`](limits.html#limits-maxFragmentDualSrcAttachments)

[](#VUID-vkCmdDrawMeshTasksEXT-None-09548) VUID-vkCmdDrawMeshTasksEXT-None-09548

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
the value of each element of
[VkRenderingAttachmentLocationInfo](interfaces.html#VkRenderingAttachmentLocationInfo)::`pColorAttachmentLocations`
set by [vkCmdSetRenderingAttachmentLocations](interfaces.html#vkCmdSetRenderingAttachmentLocations) **must** match the value
set for the corresponding element in the bound pipeline

[](#VUID-vkCmdDrawMeshTasksEXT-None-09549) VUID-vkCmdDrawMeshTasksEXT-None-09549

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
input attachment index mappings in the bound pipeline **must** match those
set for the current render pass instance via
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

[](#VUID-vkCmdDrawMeshTasksEXT-None-09642) VUID-vkCmdDrawMeshTasksEXT-None-09642

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with
the `VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag, the bound
graphics pipeline **must** have been created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`

[](#VUID-vkCmdDrawMeshTasksEXT-None-09643) VUID-vkCmdDrawMeshTasksEXT-None-09643

If the bound graphics pipeline was created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`, the current
render pass **must** have begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with the
`VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag

[](#VUID-vkCmdDrawMeshTasksEXT-None-10677) VUID-vkCmdDrawMeshTasksEXT-None-10677

If the [per-tile execution model](renderpass.html#renderpass-per-tile-execution-model)
is enabled, the
[tileShadingPerTileDraw](features.html#features-tileShadingPerTileDraw) feature **must**
be enabled

[](#VUID-vkCmdDrawMeshTasksEXT-None-10772) VUID-vkCmdDrawMeshTasksEXT-None-10772

If a shader object is bound to any graphics stage, *multiview*
functionality **must** not be enabled in the current render pass

* 
[](#VUID-vkCmdDrawMeshTasksEXT-stage-06480) VUID-vkCmdDrawMeshTasksEXT-stage-06480

The bound graphics pipeline **must** not have been created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of any element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-pStages-10680) VUID-vkCmdDrawMeshTasksEXT-pStages-10680

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
not have last bound the `pStages` element of
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` with a valid shader object other than
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-07074) VUID-vkCmdDrawMeshTasksEXT-None-07074

[Transform Feedback Queries](queries.html#queries-transform-feedback) **must** not be
active

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-07075) VUID-vkCmdDrawMeshTasksEXT-None-07075

[Primitives Generated Queries](queries.html#queries-primitives-generated) **must** not
be active

* 
[](#VUID-vkCmdDrawMeshTasksEXT-pipelineStatistics-07076) VUID-vkCmdDrawMeshTasksEXT-pipelineStatistics-07076

The `pipelineStatistics` member used to create any active
[Pipeline Statistics Query](queries.html#queries-pipestats) **must** not contain
`VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_VERTICES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_PRIMITIVES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_VERTEX_SHADER_INVOCATIONS_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_INVOCATIONS_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_PRIMITIVES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_CLIPPING_INVOCATIONS_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_CLIPPING_PRIMITIVES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_CONTROL_SHADER_PATCHES_BIT`,
or
`VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_EVALUATION_SHADER_INVOCATIONS_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-08694) VUID-vkCmdDrawMeshTasksEXT-None-08694

If there is no bound graphics pipeline, and both the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features are enabled, and a valid `VkShaderEXT`
is bound the to the `VK_SHADER_STAGE_MESH_BIT_EXT` stage, and that
`VkShaderEXT` was created without the
`VK_SHADER_CREATE_NO_TASK_SHADER_BIT_EXT` flag, a valid
`VkShaderEXT` **must** be bound to the
`VK_SHADER_STAGE_TASK_BIT_EXT` stage

* 
[](#VUID-vkCmdDrawMeshTasksEXT-None-08695) VUID-vkCmdDrawMeshTasksEXT-None-08695

If there is no bound graphics pipeline, and both the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features are enabled, and a valid `VkShaderEXT`
is bound the to the `VK_SHADER_STAGE_MESH_BIT_EXT` stage, and that
`VkShaderEXT` was created with the
`VK_SHADER_CREATE_NO_TASK_SHADER_BIT_EXT` flag, there **must** be no
`VkShaderEXT` bound to the `VK_SHADER_STAGE_TASK_BIT_EXT` stage

* 
[](#VUID-vkCmdDrawMeshTasksEXT-TaskEXT-07322) VUID-vkCmdDrawMeshTasksEXT-TaskEXT-07322

If the current pipeline bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`
contains a shader using the `TaskEXT` `Execution` `Model`,
`groupCountX` **must** be less than or equal to
`VkPhysicalDeviceMeshShaderPropertiesEXT`::`maxTaskWorkGroupCount`[0]

* 
[](#VUID-vkCmdDrawMeshTasksEXT-TaskEXT-07323) VUID-vkCmdDrawMeshTasksEXT-TaskEXT-07323

If the current pipeline bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`
contains a shader using the `TaskEXT` `Execution` `Model`,
`groupCountY` **must** be less than or equal to
`VkPhysicalDeviceMeshShaderPropertiesEXT`::`maxTaskWorkGroupCount`[1]

* 
[](#VUID-vkCmdDrawMeshTasksEXT-TaskEXT-07324) VUID-vkCmdDrawMeshTasksEXT-TaskEXT-07324

If the current pipeline bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`
contains a shader using the `TaskEXT` `Execution` `Model`,
`groupCountZ` **must** be less than or equal to
`VkPhysicalDeviceMeshShaderPropertiesEXT`::`maxTaskWorkGroupCount`[2]

* 
[](#VUID-vkCmdDrawMeshTasksEXT-TaskEXT-07325) VUID-vkCmdDrawMeshTasksEXT-TaskEXT-07325

If the current pipeline bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`
contains a shader using the `TaskEXT` `Execution` `Model`, The product
of `groupCountX`, `groupCountY` and `groupCountZ` **must** be
less than or equal to
`VkPhysicalDeviceMeshShaderPropertiesEXT`::`maxTaskWorkGroupTotalCount`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-TaskEXT-07326) VUID-vkCmdDrawMeshTasksEXT-TaskEXT-07326

If the current pipeline bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`
does not contain a shader using the `TaskEXT` `Execution` `Model`,
`groupCountX` **must** be less than or equal to
`VkPhysicalDeviceMeshShaderPropertiesEXT`::`maxMeshWorkGroupCount`[0]

* 
[](#VUID-vkCmdDrawMeshTasksEXT-TaskEXT-07327) VUID-vkCmdDrawMeshTasksEXT-TaskEXT-07327

If the current pipeline bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`
does not contain a shader using the `TaskEXT` `Execution` `Model`,
`groupCountY` **must** be less than or equal to
`VkPhysicalDeviceMeshShaderPropertiesEXT`::`maxMeshWorkGroupCount`[1]

* 
[](#VUID-vkCmdDrawMeshTasksEXT-TaskEXT-07328) VUID-vkCmdDrawMeshTasksEXT-TaskEXT-07328

If the current pipeline bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`
does not contain a shader using the `TaskEXT` `Execution` `Model`,
`groupCountZ` **must** be less than or equal to
`VkPhysicalDeviceMeshShaderPropertiesEXT`::`maxMeshWorkGroupCount`[2]

* 
[](#VUID-vkCmdDrawMeshTasksEXT-TaskEXT-07329) VUID-vkCmdDrawMeshTasksEXT-TaskEXT-07329

If the current pipeline bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`
does not contain a shader using the `TaskEXT` `Execution` `Model`, The
product of `groupCountX`, `groupCountY` and `groupCountZ`
**must** be less than or equal to
`VkPhysicalDeviceMeshShaderPropertiesEXT`::`maxMeshWorkGroupTotalCount`

* 
[](#VUID-vkCmdDrawMeshTasksEXT-MeshEXT-07087) VUID-vkCmdDrawMeshTasksEXT-MeshEXT-07087

The current pipeline bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`
**must** contain a shader stage using the `MeshEXT` `Execution` `Model`

Valid Usage (Implicit)

* 
[](#VUID-vkCmdDrawMeshTasksEXT-commandBuffer-parameter) VUID-vkCmdDrawMeshTasksEXT-commandBuffer-parameter

 `commandBuffer` **must** be a valid [VkCommandBuffer](cmdbuffers.html#VkCommandBuffer) handle

* 
[](#VUID-vkCmdDrawMeshTasksEXT-commandBuffer-recording) VUID-vkCmdDrawMeshTasksEXT-commandBuffer-recording

 `commandBuffer` **must** be in the [recording state](cmdbuffers.html#commandbuffers-lifecycle)

* 
[](#VUID-vkCmdDrawMeshTasksEXT-commandBuffer-cmdpool) VUID-vkCmdDrawMeshTasksEXT-commandBuffer-cmdpool

 The `VkCommandPool` that `commandBuffer` was allocated from **must** support graphics operations

* 
[](#VUID-vkCmdDrawMeshTasksEXT-renderpass) VUID-vkCmdDrawMeshTasksEXT-renderpass

 This command **must** only be called inside of a render pass instance

* 
[](#VUID-vkCmdDrawMeshTasksEXT-videocoding) VUID-vkCmdDrawMeshTasksEXT-videocoding

 This command **must** only be called outside of a video coding scope

Host Synchronization

* 
Host access to `commandBuffer` **must** be externally synchronized

* 
Host access to the `VkCommandPool` that `commandBuffer` was allocated from **must** be externally synchronized

Command Properties
| [Command Buffer Levels](cmdbuffers.html#VkCommandBufferLevel) | [Render Pass Scope](renderpass.html#vkCmdBeginRenderPass) | [Video Coding Scope](videocoding.html#vkCmdBeginVideoCodingKHR) | [Supported Queue Types](devsandqueues.html#VkQueueFlagBits) | [Command Type](fundamentals.html#fundamentals-queueoperation-command-types) |
| --- | --- | --- | --- | --- |
| Primary

Secondary | Inside | Outside | Graphics | Action |

To record an indirect mesh tasks drawing command, call:

// Provided by VK_EXT_mesh_shader
void vkCmdDrawMeshTasksIndirectEXT(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    buffer,
    VkDeviceSize                                offset,
    uint32_t                                    drawCount,
    uint32_t                                    stride);

* 
`commandBuffer` is the command buffer into which the command is
recorded.

* 
`buffer` is the buffer containing draw parameters.

* 
`offset` is the byte offset into `buffer` where parameters
begin.

* 
`drawCount` is the number of draws to execute, and **can** be zero.

* 
`stride` is the byte stride between successive sets of draw
parameters.

`vkCmdDrawMeshTasksIndirectEXT` behaves similarly to
[vkCmdDrawMeshTasksEXT](#vkCmdDrawMeshTasksEXT) except that the parameters are read by the
device from a buffer during execution.
`drawCount` draws are executed by the command, with parameters taken
from `buffer` starting at `offset` and increasing by `stride`
bytes for each successive draw.
The parameters of each draw are encoded in an array of
[VkDrawMeshTasksIndirectCommandEXT](#VkDrawMeshTasksIndirectCommandEXT) structures.
If `drawCount` is less than or equal to one, `stride` is ignored.

Valid Usage

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-magFilter-04553) VUID-vkCmdDrawMeshTasksIndirectEXT-magFilter-04553

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-magFilter-09598) VUID-vkCmdDrawMeshTasksIndirectEXT-magFilter-09598

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR` and `reductionMode` equal to either
`VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-mipmapMode-04770) VUID-vkCmdDrawMeshTasksIndirectEXT-mipmapMode-04770

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-mipmapMode-09599) VUID-vkCmdDrawMeshTasksIndirectEXT-mipmapMode-09599

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR` and `reductionMode` equal to
either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-unnormalizedCoordinates-09635) VUID-vkCmdDrawMeshTasksIndirectEXT-unnormalizedCoordinates-09635

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `levelCount` and `layerCount`
**must** be 1

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08609) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08609

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `viewType` **must** be
`VK_IMAGE_VIEW_TYPE_1D` or `VK_IMAGE_VIEW_TYPE_2D`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08610) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08610

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions with
`ImplicitLod`, `Dref` or `Proj` in their name

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08611) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08611

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions that includes a
LOD bias or any offset values

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-06479) VUID-vkCmdDrawMeshTasksIndirectEXT-None-06479

If a [VkImageView](resources.html#VkImageView) is sampled with
[depth comparison](textures.html#textures-depth-compare-operation), the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_SAMPLED_IMAGE_DEPTH_COMPARISON_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-02691) VUID-vkCmdDrawMeshTasksIndirectEXT-None-02691

If a [VkImageView](resources.html#VkImageView) is accessed using atomic operations as a result
of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07888) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07888

If a `VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER` descriptor is
accessed using atomic operations as a result of this command, then the
storage texel buffer’s [format    features](resources.html#resources-buffer-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-02692) VUID-vkCmdDrawMeshTasksIndirectEXT-None-02692

If a [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_CUBIC_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-02693) VUID-vkCmdDrawMeshTasksIndirectEXT-None-02693

If
the [VK_EXT_filter_cubic](../appendices/extensions.html#VK_EXT_filter_cubic) extension is not enabled and
any [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, it **must** not have a [VkImageViewType](resources.html#VkImageViewType) of
`VK_IMAGE_VIEW_TYPE_3D`, `VK_IMAGE_VIEW_TYPE_CUBE`, or
`VK_IMAGE_VIEW_TYPE_CUBE_ARRAY`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-filterCubic-02694) VUID-vkCmdDrawMeshTasksIndirectEXT-filterCubic-02694

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command **must** have a [VkImageViewType](resources.html#VkImageViewType) and format
that supports cubic filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubic`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-filterCubicMinmax-02695) VUID-vkCmdDrawMeshTasksIndirectEXT-filterCubicMinmax-02695

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` with
a reduction mode of either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` as a result of this command **must**
have a [VkImageViewType](resources.html#VkImageViewType) and format that supports cubic filtering
together with minmax filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubicMinmax`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-cubicRangeClamp-09212) VUID-vkCmdDrawMeshTasksIndirectEXT-cubicRangeClamp-09212

If the [`cubicRangeClamp`](features.html#features-cubicRangeClamp) feature is
not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** not have a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-reductionMode-09213) VUID-vkCmdDrawMeshTasksIndirectEXT-reductionMode-09213

Any [VkImageView](resources.html#VkImageView) being sampled with a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM` as a
result of this command **must** sample with `VK_FILTER_CUBIC_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-selectableCubicWeights-09214) VUID-vkCmdDrawMeshTasksIndirectEXT-selectableCubicWeights-09214

If the [`selectableCubicWeights`](features.html#features-selectableCubicWeights)
feature is not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** have
[VkSamplerCubicWeightsCreateInfoQCOM](samplers.html#VkSamplerCubicWeightsCreateInfoQCOM)::`cubicWeights` equal to
`VK_CUBIC_FILTER_WEIGHTS_CATMULL_ROM_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-flags-02696) VUID-vkCmdDrawMeshTasksIndirectEXT-flags-02696

Any [VkImage](resources.html#VkImage) created with a [VkImageCreateInfo](resources.html#VkImageCreateInfo)::`flags`
containing `VK_IMAGE_CREATE_CORNER_SAMPLED_BIT_NV` sampled as a
result of this command **must** only be sampled using a
[VkSamplerAddressMode](samplers.html#VkSamplerAddressMode) of
`VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-OpTypeImage-07027) VUID-vkCmdDrawMeshTasksIndirectEXT-OpTypeImage-07027

For any [VkImageView](resources.html#VkImageView) being written as a storage image where the
image format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-OpTypeImage-07028) VUID-vkCmdDrawMeshTasksIndirectEXT-OpTypeImage-07028

For any [VkImageView](resources.html#VkImageView) being read as a storage image where the image
format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-OpTypeImage-07029) VUID-vkCmdDrawMeshTasksIndirectEXT-OpTypeImage-07029

For any [VkBufferView](resources.html#VkBufferView) being written as a storage texel buffer where
the image format field of the `OpTypeImage` is `Unknown`, the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-OpTypeImage-07030) VUID-vkCmdDrawMeshTasksIndirectEXT-OpTypeImage-07030

Any [VkBufferView](resources.html#VkBufferView) being read as a storage texel buffer where the
image format field of the `OpTypeImage` is `Unknown` then the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08600) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08600

For each set *n* that is statically used by [a bound    shader](shaders.html#shaders-binding), a descriptor set **must** have been bound to *n* at the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for set *n*, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the current
[VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08601) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08601

For each push constant that is statically used by [a    bound shader](shaders.html#shaders-binding), a push constant value **must** have been set for the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the
current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-10068) VUID-vkCmdDrawMeshTasksIndirectEXT-None-10068

For each array of resources that is used by [a bound    shader](shaders.html#shaders-binding), the indices used to access members of the array **must** be less
than the descriptor count for the identified binding in the descriptor
sets used by this command

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-maintenance4-08602) VUID-vkCmdDrawMeshTasksIndirectEXT-maintenance4-08602

If the [`maintenance4`](features.html#features-maintenance4) feature is not
enabled, then for each push constant that is statically used by
[a bound shader](shaders.html#shaders-binding), a push constant value **must** have
been set for the same pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
that is compatible for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
used to create the current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) and [VkPushConstantRange](descriptorsets.html#VkPushConstantRange) arrays
used to create the current [VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08114) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08114

Descriptors in each bound descriptor set, specified via
[vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), **must** be valid as described by
[descriptor validity](descriptorsets.html#descriptor-validity) if they are statically used
by
the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind point used by this
command and the bound [VkPipeline](pipelines.html#VkPipeline) was not created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08115) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08115

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), the bound
[VkPipeline](pipelines.html#VkPipeline) **must** have been created without
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08116) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08116

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind
point used by this command and the bound [VkPipeline](pipelines.html#VkPipeline) was created
with `VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08604) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08604

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08117) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08117

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT),
the bound [VkPipeline](pipelines.html#VkPipeline) **must** have been created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08119) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08119

If a descriptor is dynamically used with a [VkPipeline](pipelines.html#VkPipeline) created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the descriptor
memory **must** be resident

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08605) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08605

If a descriptor is dynamically used with a [VkShaderEXT](shaders.html#VkShaderEXT) created
with a `VkDescriptorSetLayout` that was created with
`VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the
descriptor memory **must** be resident

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08606) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08606

If the [`shaderObject`](features.html#features-shaderObject) feature is not
enabled, a
valid pipeline **must** be bound to the pipeline bind point used by this
command

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08608) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08608

If a pipeline is bound to the pipeline bind point used by this command,
there
**must** not have been any calls to dynamic state setting commands for any
state specified statically in the [VkPipeline](pipelines.html#VkPipeline) object bound to the
pipeline bind point used by this command, since that pipeline was bound

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-uniformBuffers-06935) VUID-vkCmdDrawMeshTasksIndirectEXT-uniformBuffers-06935

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a uniform buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`uniformBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08612) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08612

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a uniform
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-storageBuffers-06936) VUID-vkCmdDrawMeshTasksIndirectEXT-storageBuffers-06936

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a storage buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`storageBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08613) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08613

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a storage
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-commandBuffer-02707) VUID-vkCmdDrawMeshTasksIndirectEXT-commandBuffer-02707

If `commandBuffer` is an unprotected command buffer and
[`protectedNoFault`](devsandqueues.html#limits-protectedNoFault) is not supported,
any resource accessed by [bound shaders](shaders.html#shaders-binding) **must** not be
a protected resource

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-viewType-07752) VUID-vkCmdDrawMeshTasksIndirectEXT-viewType-07752

If a [VkImageView](resources.html#VkImageView) is accessed as a result of this command, then the
image view’s `viewType` **must** match the `Dim` operand of the
`OpTypeImage` as described in [Compatibility Between SPIR-V Image Dimensions and Vulkan ImageView Types](../appendices/spirvenv.html#spirvenv-image-dimensions)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-format-07753) VUID-vkCmdDrawMeshTasksIndirectEXT-format-07753

If a [VkImageView](resources.html#VkImageView) or [VkBufferView](resources.html#VkBufferView) is accessed as a result of
this command, then the [numeric type](formats.html#formats-numericformat) of the
view’s `format` and the `Sampled` `Type` operand of the
`OpTypeImage` **must** match

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-OpImageWrite-08795) VUID-vkCmdDrawMeshTasksIndirectEXT-OpImageWrite-08795

If a [VkImageView](resources.html#VkImageView)
created with a format other than `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
at least as many components as the image view’s format

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-OpImageWrite-08796) VUID-vkCmdDrawMeshTasksIndirectEXT-OpImageWrite-08796

If a [VkImageView](resources.html#VkImageView) created with the format `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
four components

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-OpImageWrite-04469) VUID-vkCmdDrawMeshTasksIndirectEXT-OpImageWrite-04469

If a [VkBufferView](resources.html#VkBufferView) is accessed using `OpImageWrite` as a result
of this command, then the `Type` of the `Texel` operand of that
instruction **must** have at least as many components as the buffer view’s
format

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-SampledType-04470) VUID-vkCmdDrawMeshTasksIndirectEXT-SampledType-04470

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit component
width is accessed as a result of this command, the `SampledType` of
the `OpTypeImage` operand of that instruction **must** have a `Width`
of 64

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-SampledType-04471) VUID-vkCmdDrawMeshTasksIndirectEXT-SampledType-04471

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-SampledType-04472) VUID-vkCmdDrawMeshTasksIndirectEXT-SampledType-04472

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit
component width is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 64

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-SampledType-04473) VUID-vkCmdDrawMeshTasksIndirectEXT-SampledType-04473

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-sparseImageInt64Atomics-04474) VUID-vkCmdDrawMeshTasksIndirectEXT-sparseImageInt64Atomics-04474

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkImage](resources.html#VkImage)
objects created with the `VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT` flag
**must** not be accessed by atomic instructions through an `OpTypeImage`
with a `SampledType` with a `Width` of 64 by this command

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-sparseImageInt64Atomics-04475) VUID-vkCmdDrawMeshTasksIndirectEXT-sparseImageInt64Atomics-04475

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkBuffer](resources.html#VkBuffer)
objects created with the `VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT`
flag **must** not be accessed by atomic instructions through an
`OpTypeImage` with a `SampledType` with a `Width` of 64 by this
command

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-OpImageWeightedSampleQCOM-06971) VUID-vkCmdDrawMeshTasksIndirectEXT-OpImageWeightedSampleQCOM-06971

If `OpImageWeightedSampleQCOM` is used to sample a [VkImageView](resources.html#VkImageView)
as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_SAMPLED_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-OpImageWeightedSampleQCOM-06972) VUID-vkCmdDrawMeshTasksIndirectEXT-OpImageWeightedSampleQCOM-06972

If `OpImageWeightedSampleQCOM` uses a [VkImageView](resources.html#VkImageView) as a sample
weight image as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-OpImageBoxFilterQCOM-06973) VUID-vkCmdDrawMeshTasksIndirectEXT-OpImageBoxFilterQCOM-06973

If `OpImageBoxFilterQCOM` is used to sample a [VkImageView](resources.html#VkImageView) as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BOX_FILTER_SAMPLED_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-OpImageBlockMatchSSDQCOM-06974) VUID-vkCmdDrawMeshTasksIndirectEXT-OpImageBlockMatchSSDQCOM-06974

If `OpImageBlockMatchSSDQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-OpImageBlockMatchSADQCOM-06975) VUID-vkCmdDrawMeshTasksIndirectEXT-OpImageBlockMatchSADQCOM-06975

If `OpImageBlockMatchSADQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-OpImageBlockMatchSADQCOM-06976) VUID-vkCmdDrawMeshTasksIndirectEXT-OpImageBlockMatchSADQCOM-06976

If `OpImageBlockMatchSADQCOM` or OpImageBlockMatchSSDQCOM is used to
read from a reference image as result of this command, then the
specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-OpImageWeightedSampleQCOM-06977) VUID-vkCmdDrawMeshTasksIndirectEXT-OpImageWeightedSampleQCOM-06977

If `OpImageWeightedSampleQCOM`, `OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** have
been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-OpImageWeightedSampleQCOM-06978) VUID-vkCmdDrawMeshTasksIndirectEXT-OpImageWeightedSampleQCOM-06978

If any command other than `OpImageWeightedSampleQCOM`,
`OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** not
have been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-OpImageBlockMatchWindow-09215) VUID-vkCmdDrawMeshTasksIndirectEXT-OpImageBlockMatchWindow-09215

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-OpImageBlockMatchWindow-09216) VUID-vkCmdDrawMeshTasksIndirectEXT-OpImageBlockMatchWindow-09216

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
format **must** be a single-component format

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-OpImageBlockMatchWindow-09217) VUID-vkCmdDrawMeshTasksIndirectEXT-OpImageBlockMatchWindow-09217

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` read from a reference image as result
of this command, then the specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07288) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07288

Any shader invocation executed by this command **must**
[terminate](shaders.html#shaders-termination)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-09600) VUID-vkCmdDrawMeshTasksIndirectEXT-None-09600

If a descriptor with type equal to any of
`VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE`,
`VK_DESCRIPTOR_TYPE_STORAGE_IMAGE`, or
`VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT` is accessed as a result of
this command, all image subresources identified by that descriptor **must**
be in the image layout identified when the descriptor was written

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-commandBuffer-10746) VUID-vkCmdDrawMeshTasksIndirectEXT-commandBuffer-10746

The `VkDeviceMemory` object allocated from a `VkMemoryHeap` with
the `VK_MEMORY_HEAP_TILE_MEMORY_BIT_QCOM` property that is bound to
a resource accessed as a result of this command **must** be the active
bound [bound tile memory object](memory.html#memory-bind-tile-memory) in
`commandBuffer`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-10678) VUID-vkCmdDrawMeshTasksIndirectEXT-None-10678

If this command is recorded inside a [tile    shading render pass](renderpass.html#renderpass-tile-shading) instance, the stages corresponding to the pipeline
bind point used by this command **must** only include
`VK_SHADER_STAGE_VERTEX_BIT`, `VK_SHADER_STAGE_FRAGMENT_BIT`,
and/or `VK_SHADER_STAGE_COMPUTE_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-10679) VUID-vkCmdDrawMeshTasksIndirectEXT-None-10679

If this command is recorded where
[per-tile execution model](renderpass.html#renderpass-per-tile-execution-model) is
enabled, there **must** be no access to any image while the image was be
transitioned to the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` layout

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-renderPass-02684) VUID-vkCmdDrawMeshTasksIndirectEXT-renderPass-02684

The current render pass **must** be [compatible](renderpass.html#renderpass-compatibility)
with the `renderPass` member of the
`VkGraphicsPipelineCreateInfo` structure specified when creating the
`VkPipeline` bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-subpass-02685) VUID-vkCmdDrawMeshTasksIndirectEXT-subpass-02685

The subpass index of the current render pass **must** be equal to the
`subpass` member of the `VkGraphicsPipelineCreateInfo` structure
specified when creating the `VkPipeline` bound to
`VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07748) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07748

If any shader statically accesses an input attachment, a valid
descriptor **must** be bound to the pipeline via a descriptor set

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-OpTypeImage-07468) VUID-vkCmdDrawMeshTasksIndirectEXT-OpTypeImage-07468

If any shader executed by this pipeline accesses an `OpTypeImage`
variable with a `Dim` operand of `SubpassData`, it **must** be
decorated with an `InputAttachmentIndex` that corresponds to a valid
input attachment in the current subpass

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07469) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07469

Input attachment views accessed in a subpass **must** be created with the
same [VkFormat](formats.html#VkFormat) as the corresponding subpass definition, and be
created with a [VkImageView](resources.html#VkImageView) that is compatible with the attachment
referenced by the subpass'
`pInputAttachments`[`InputAttachmentIndex`] in the bound
[VkFramebuffer](renderpass.html#VkFramebuffer) as specified by
[Fragment Input Attachment    Compatibility](interfaces.html#compatibility-inputattachment)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-pDepthInputAttachmentIndex-09595) VUID-vkCmdDrawMeshTasksIndirectEXT-pDepthInputAttachmentIndex-09595

Input attachment views accessed in a dynamic render pass with a
`InputAttachmentIndex` referenced by
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo), or no
`InputAttachmentIndex` if
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
or
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are `NULL`, **must** be created with a [VkImageView](resources.html#VkImageView) that is compatible
with the corresponding color, depth, or stencil attachment in
[VkRenderingInfo](renderpass.html#VkRenderingInfo)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-pDepthInputAttachmentIndex-09596) VUID-vkCmdDrawMeshTasksIndirectEXT-pDepthInputAttachmentIndex-09596

Input attachment views accessed in a dynamic render pass via a shader
object **must** have an `InputAttachmentIndex` if both
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
and
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are non-`NULL`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-InputAttachmentIndex-09597) VUID-vkCmdDrawMeshTasksIndirectEXT-InputAttachmentIndex-09597

If an input attachment view accessed in a dynamic render pass via a
shader object has an `InputAttachmentIndex`, the
`InputAttachmentIndex` **must** match an index in
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-06537) VUID-vkCmdDrawMeshTasksIndirectEXT-None-06537

Memory backing image subresources used as attachments in the current
render pass **must** not be written in any way other than as an attachment
by this command

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-09000) VUID-vkCmdDrawMeshTasksIndirectEXT-None-09000

If a color attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

the `VK_PIPELINE_CREATE_COLOR_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT` is
set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_COLOR_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-09001) VUID-vkCmdDrawMeshTasksIndirectEXT-None-09001

If a depth attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_DEPTH_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-09002) VUID-vkCmdDrawMeshTasksIndirectEXT-None-09002

If a stencil attachment is written by any prior command in this subpass
or by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_STENCIL_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-09003) VUID-vkCmdDrawMeshTasksIndirectEXT-None-09003

If an attachment is written by any prior command in this subpass or by
the load, store, or resolve operations for this subpass, it **must** not be
accessed in any way other than as an attachment, storage image, or
sampled image by this command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-06539) VUID-vkCmdDrawMeshTasksIndirectEXT-None-06539

If any previously recorded command in the current subpass accessed an
image subresource used as an attachment in this subpass in any way other
than as an attachment, this command **must** not write to that image
subresource as an attachment

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-06886) VUID-vkCmdDrawMeshTasksIndirectEXT-None-06886

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the depth aspect, [depth    writes](fragops.html#fragops-depth-write) **must** be disabled

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-06887) VUID-vkCmdDrawMeshTasksIndirectEXT-None-06887

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the stencil aspect, both front and back
`writeMask` are not zero, and stencil test is enabled,
[all stencil ops](fragops.html#fragops-stencil) **must** be `VK_STENCIL_OP_KEEP`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07831) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07831

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT` dynamic state enabled then
[vkCmdSetViewport](vertexpostproc.html#vkCmdSetViewport) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07832) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07832

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SCISSOR` dynamic state enabled then
[vkCmdSetScissor](fragops.html#vkCmdSetScissor) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07833) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07833

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_WIDTH` dynamic state enabled then
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08617) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08617

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command
buffer set `polygonMode` to `VK_POLYGON_MODE_LINE`,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08618) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08618

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08619) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08619

If a shader object that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, [vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07834) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07834

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthBiasEnable`
is `VK_TRUE`, then [vkCmdSetDepthBias](primsrast.html#vkCmdSetDepthBias)
or [vkCmdSetDepthBias2EXT](primsrast.html#vkCmdSetDepthBias2EXT)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07835) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07835

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_BLEND_CONSTANTS` dynamic state enabled then
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08621) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08621

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) in the current command buffer set any
element of `pColorBlendEnables` to `VK_TRUE`, and the most
recent call to [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) in the current
command buffer set the same element of `pColorBlendEquations` to a
`VkColorBlendEquationEXT` structure with any [VkBlendFactor](framebuffer.html#VkBlendFactor)
member with a value of `VK_BLEND_FACTOR_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_CONSTANT_ALPHA`, or
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_ALPHA`,
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07836) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07836

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`depthBoundsTestEnable` is `VK_TRUE`, then
[vkCmdSetDepthBounds](fragops.html#vkCmdSetDepthBounds) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07837) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07837

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilCompareMask](fragops.html#vkCmdSetStencilCompareMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07838) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07838

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07839) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07839

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_REFERENCE` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of and
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilReference](fragops.html#vkCmdSetStencilReference) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-maxMultiviewInstanceIndex-02688) VUID-vkCmdDrawMeshTasksIndirectEXT-maxMultiviewInstanceIndex-02688

If the draw is recorded in a render pass instance with multiview
enabled, the maximum instance index **must** be less than or equal to
[VkPhysicalDeviceMultiviewProperties](limits.html#VkPhysicalDeviceMultiviewProperties)::`maxMultiviewInstanceIndex`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-sampleLocationsEnable-02689) VUID-vkCmdDrawMeshTasksIndirectEXT-sampleLocationsEnable-02689

If the bound graphics pipeline was created with
[VkPipelineSampleLocationsStateCreateInfoEXT](primsrast.html#VkPipelineSampleLocationsStateCreateInfoEXT)::`sampleLocationsEnable`
set to `VK_TRUE` and the current subpass has a depth/stencil
attachment, then that attachment **must** have been created with the
`VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT` bit set

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07634) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07634

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-06666) VUID-vkCmdDrawMeshTasksIndirectEXT-None-06666

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
[vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07840) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07840

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CULL_MODE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCullMode](primsrast.html#vkCmdSetCullMode) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07841) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07841

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRONT_FACE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFrontFace](primsrast.html#vkCmdSetFrontFace) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07843) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07843

 If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`,
[vkCmdSetDepthTestEnable](fragops.html#vkCmdSetDepthTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07844) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07844

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07845) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07845

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_COMPARE_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthCompareOp](fragops.html#vkCmdSetDepthCompareOp) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07846) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07846

If the [`depthBounds`](features.html#features-depthBounds) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBoundsTestEnable](fragops.html#vkCmdSetDepthBoundsTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07847) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07847

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetStencilTestEnable](fragops.html#vkCmdSetStencilTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07848) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07848

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then [vkCmdSetStencilOp](fragops.html#vkCmdSetStencilOp)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-viewportCount-03417) VUID-vkCmdDrawMeshTasksIndirectEXT-viewportCount-03417

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-scissorCount-03418) VUID-vkCmdDrawMeshTasksIndirectEXT-scissorCount-03418

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetScissorWithCount](vertexpostproc.html#vkCmdSetScissorWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-viewportCount-03419) VUID-vkCmdDrawMeshTasksIndirectEXT-viewportCount-03419

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with both the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic states enabled,
and the state is not inherited,
then the `viewportCount` parameter of
`vkCmdSetViewportWithCount` **must** match the `scissorCount`
parameter of `vkCmdSetScissorWithCount`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-viewportCount-04137) VUID-vkCmdDrawMeshTasksIndirectEXT-viewportCount-04137

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportWScalingStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportWScalingStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-viewportCount-04138) VUID-vkCmdDrawMeshTasksIndirectEXT-viewportCount-04138

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08636) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08636

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-viewportCount-04139) VUID-vkCmdDrawMeshTasksIndirectEXT-viewportCount-04139

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic
state enabled, then the bound graphics pipeline **must** have been created
with
[VkPipelineViewportShadingRateImageStateCreateInfoNV](primsrast.html#VkPipelineViewportShadingRateImageStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-shadingRateImage-09233) VUID-vkCmdDrawMeshTasksIndirectEXT-shadingRateImage-09233

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_COARSE_SAMPLE_ORDER_NV` and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoarseSampleOrderNV](primsrast.html#vkCmdSetCoarseSampleOrderNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-shadingRateImage-09234) VUID-vkCmdDrawMeshTasksIndirectEXT-shadingRateImage-09234

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08637) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08637

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** be greater than or
equal to the `viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-VkPipelineVieportCreateInfo-04141) VUID-vkCmdDrawMeshTasksIndirectEXT-VkPipelineVieportCreateInfo-04141

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV) structure chained from
[VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound graphics
pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-VkPipelineVieportCreateInfo-04142) VUID-vkCmdDrawMeshTasksIndirectEXT-VkPipelineVieportCreateInfo-04142

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV) structure
chained from [VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound
graphics pipeline **must** have been created with
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV)::`exclusiveScissorCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07878) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07878

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_ENABLE_NV` dynamic state
enabled, then [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07879) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07879

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_NV` dynamic state enabled, and
the most recent call to [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) in the
current command buffer set any element of `pExclusiveScissorEnables`
to `VK_TRUE`, then [vkCmdSetExclusiveScissorNV](fragops.html#vkCmdSetExclusiveScissorNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-04876) VUID-vkCmdDrawMeshTasksIndirectEXT-None-04876

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE` dynamic state enabled,
then [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-04877) VUID-vkCmdDrawMeshTasksIndirectEXT-None-04877

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBiasEnable](primsrast.html#vkCmdSetDepthBiasEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-logicOp-04878) VUID-vkCmdDrawMeshTasksIndirectEXT-logicOp-04878

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `logicOpEnable` is
`VK_TRUE`, then [vkCmdSetLogicOpEXT](framebuffer.html#vkCmdSetLogicOpEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-primitiveFragmentShadingRateWithMultipleViewports-04552) VUID-vkCmdDrawMeshTasksIndirectEXT-primitiveFragmentShadingRateWithMultipleViewports-04552

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, and
any of the shader stages of the bound graphics pipeline write to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-primitiveFragmentShadingRateWithMultipleViewports-08642) VUID-vkCmdDrawMeshTasksIndirectEXT-primitiveFragmentShadingRateWithMultipleViewports-08642

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, and any shader object bound to a graphics stage writes to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-blendEnable-04727) VUID-vkCmdDrawMeshTasksIndirectEXT-blendEnable-04727

If rasterization is not disabled in the bound graphics pipeline, then
for each color attachment in the subpass, if the corresponding image
view’s [format features](resources.html#resources-image-view-format-features) do not
contain `VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
`blendEnable` member of the corresponding element of the
`pAttachments` member of `pColorBlendState` **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08643) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08643

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then for each color attachment in the render pass, if
the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) do not contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
corresponding member of `pColorBlendEnables` in the most recent call
to `vkCmdSetColorBlendEnableEXT` in the current command buffer that
affected that attachment index **must** have been `VK_FALSE`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-multisampledRenderToSingleSampled-07284) VUID-vkCmdDrawMeshTasksIndirectEXT-multisampledRenderToSingleSampled-07284

If rasterization is not disabled in the bound graphics pipeline,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then `rasterizationSamples` for the bound graphics pipeline **must** be the
same as the current subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08644) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08644

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then the most recent call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) in the
current command buffer **must** have set `rasterizationSamples` to be the
same as the number of samples for the current render pass color and/or
depth/stencil attachments

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08876) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08876

If a shader object is bound to any graphics stage, the current render
pass instance **must** have been begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-imageView-06172) VUID-vkCmdDrawMeshTasksIndirectEXT-imageView-06172

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the depth attachment

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-imageView-06173) VUID-vkCmdDrawMeshTasksIndirectEXT-imageView-06173

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-imageView-06174) VUID-vkCmdDrawMeshTasksIndirectEXT-imageView-06174

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL`, this
command **must** not write any values to the depth attachment

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-imageView-06175) VUID-vkCmdDrawMeshTasksIndirectEXT-imageView-06175

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL`, this
command **must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-imageView-06176) VUID-vkCmdDrawMeshTasksIndirectEXT-imageView-06176

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the depth attachment

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-imageView-06177) VUID-vkCmdDrawMeshTasksIndirectEXT-imageView-06177

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the stencil attachment

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-viewMask-06178) VUID-vkCmdDrawMeshTasksIndirectEXT-viewMask-06178

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a [VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`viewMask` equal
to [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`viewMask`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-colorAttachmentCount-06179) VUID-vkCmdDrawMeshTasksIndirectEXT-colorAttachmentCount-06179

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`colorAttachmentCount` equal to
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-dynamicRenderingUnusedAttachments-08910) VUID-vkCmdDrawMeshTasksIndirectEXT-dynamicRenderingUnusedAttachments-08910

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have
been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-dynamicRenderingUnusedAttachments-08912) VUID-vkCmdDrawMeshTasksIndirectEXT-dynamicRenderingUnusedAttachments-08912

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have the
corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound pipeline equal to `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-dynamicRenderingUnusedAttachments-08911) VUID-vkCmdDrawMeshTasksIndirectEXT-dynamicRenderingUnusedAttachments-08911

If the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled, and the
current render pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`,
then each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments`
array with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must**
have been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding
element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline, or the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats`, if
it exists, **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-colorAttachmentCount-09362) VUID-vkCmdDrawMeshTasksIndirectEXT-colorAttachmentCount-09362

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`,
there is no shader object bound to any graphics stage,
and a color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`resolveImageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-09363) VUID-vkCmdDrawMeshTasksIndirectEXT-None-09363

If
there is no shader object bound to any graphics stage,
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, and a
color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-09364) VUID-vkCmdDrawMeshTasksIndirectEXT-None-09364

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set the blend enable
to `VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-09365) VUID-vkCmdDrawMeshTasksIndirectEXT-None-09365

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-09366) VUID-vkCmdDrawMeshTasksIndirectEXT-None-09366

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set blend enable to
`VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-rasterizationSamples-09367) VUID-vkCmdDrawMeshTasksIndirectEXT-rasterizationSamples-09367

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-09368) VUID-vkCmdDrawMeshTasksIndirectEXT-None-09368

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-09369) VUID-vkCmdDrawMeshTasksIndirectEXT-None-09369

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-pFragmentSize-09370) VUID-vkCmdDrawMeshTasksIndirectEXT-pFragmentSize-09370

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-pFragmentSize-09371) VUID-vkCmdDrawMeshTasksIndirectEXT-pFragmentSize-09371

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07749) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07749

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08646) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08646

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-attachmentCount-07750) VUID-vkCmdDrawMeshTasksIndirectEXT-attachmentCount-07750

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
the `attachmentCount` parameter of `vkCmdSetColorWriteEnableEXT`
**must** be greater than or equal to the
`VkPipelineColorBlendStateCreateInfo`::`attachmentCount` of the
bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08647) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08647

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then the
`attachmentCount` parameter of most recent call to
`vkCmdSetColorWriteEnableEXT` in the current command buffer **must** be
greater than or equal to the number of color attachments in the current
render pass instance

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07751) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07751

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled, a
graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) included a
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT)::`discardRectangleCount`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-rasterizerDiscardEnable-09236) VUID-vkCmdDrawMeshTasksIndirectEXT-rasterizerDiscardEnable-09236

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) did not
include a [VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPhysicalDeviceDiscardRectanglePropertiesEXT](limits.html#VkPhysicalDeviceDiscardRectanglePropertiesEXT)::`maxDiscardRectangles`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07880) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07880

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_ENABLE_EXT` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDiscardRectangleEnableEXT](fragops.html#vkCmdSetDiscardRectangleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07881) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07881

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_MODE_EXT` dynamic state enabled,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleModeEXT](fragops.html#vkCmdSetDiscardRectangleModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-dynamicRenderingUnusedAttachments-08913) VUID-vkCmdDrawMeshTasksIndirectEXT-dynamicRenderingUnusedAttachments-08913

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-dynamicRenderingUnusedAttachments-08914) VUID-vkCmdDrawMeshTasksIndirectEXT-dynamicRenderingUnusedAttachments-08914

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-dynamicRenderingUnusedAttachments-08915) VUID-vkCmdDrawMeshTasksIndirectEXT-dynamicRenderingUnusedAttachments-08915

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline was not equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`,
the value of the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-dynamicRenderingUnusedAttachments-08916) VUID-vkCmdDrawMeshTasksIndirectEXT-dynamicRenderingUnusedAttachments-08916

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-dynamicRenderingUnusedAttachments-08917) VUID-vkCmdDrawMeshTasksIndirectEXT-dynamicRenderingUnusedAttachments-08917

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-dynamicRenderingUnusedAttachments-08918) VUID-vkCmdDrawMeshTasksIndirectEXT-dynamicRenderingUnusedAttachments-08918

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline was not equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`, the value of
the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-imageView-06183) VUID-vkCmdDrawMeshTasksIndirectEXT-imageView-06183

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentShadingRateAttachmentInfoKHR](renderpass.html#VkRenderingFragmentShadingRateAttachmentInfoKHR)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-imageView-06184) VUID-vkCmdDrawMeshTasksIndirectEXT-imageView-06184

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentDensityMapAttachmentInfoEXT](renderpass.html#VkRenderingFragmentDensityMapAttachmentInfoEXT)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-colorAttachmentCount-06185) VUID-vkCmdDrawMeshTasksIndirectEXT-colorAttachmentCount-06185

If the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and the current render
pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
`0`, then each element of the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with a sample count equal to the corresponding element of the
`pColorAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-pDepthAttachment-06186) VUID-vkCmdDrawMeshTasksIndirectEXT-pDepthAttachment-06186

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-pStencilAttachment-06187) VUID-vkCmdDrawMeshTasksIndirectEXT-pStencilAttachment-06187

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-multisampledRenderToSingleSampled-07285) VUID-vkCmdDrawMeshTasksIndirectEXT-multisampledRenderToSingleSampled-07285

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    the current render pass instance was begun with
    [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
    `0`, then each element of the
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
    `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
    created with a sample count equal to the value of
    `rasterizationSamples` for the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-multisampledRenderToSingleSampled-07286) VUID-vkCmdDrawMeshTasksIndirectEXT-multisampledRenderToSingleSampled-07286

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-multisampledRenderToSingleSampled-07287) VUID-vkCmdDrawMeshTasksIndirectEXT-multisampledRenderToSingleSampled-07287

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-pNext-07935) VUID-vkCmdDrawMeshTasksIndirectEXT-pNext-07935

If this command has been called inside a render pass instance started
with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), and the `pNext` chain of
[VkRenderingInfo](renderpass.html#VkRenderingInfo) includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the value of `rasterizationSamples` for the bound graphics
pipeline **must** be equal to
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT)::`rasterizationSamples`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-renderPass-06198) VUID-vkCmdDrawMeshTasksIndirectEXT-renderPass-06198

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline **must** have been created
with a [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`renderPass` equal to
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-pColorAttachments-08963) VUID-vkCmdDrawMeshTasksIndirectEXT-pColorAttachments-08963

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound with a
fragment shader that statically writes to a color attachment, the color
write mask is not zero, color writes are enabled, and the corresponding
element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments->imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-pDepthAttachment-08964) VUID-vkCmdDrawMeshTasksIndirectEXT-pDepthAttachment-08964

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, depth
test is enabled, depth write is enabled, and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-pStencilAttachment-08965) VUID-vkCmdDrawMeshTasksIndirectEXT-pStencilAttachment-08965

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, stencil
test is enabled and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-flags-10582) VUID-vkCmdDrawMeshTasksIndirectEXT-flags-10582

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), its [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`flags`
parameter **must** not have
`VK_RENDERING_CONTENTS_SECONDARY_COMMAND_BUFFERS_BIT` set
unless `VK_RENDERING_CONTENTS_INLINE_BIT_KHR` is also set

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-primitivesGeneratedQueryWithRasterizerDiscard-06708) VUID-vkCmdDrawMeshTasksIndirectEXT-primitivesGeneratedQueryWithRasterizerDiscard-06708

If the [    `primitivesGeneratedQueryWithRasterizerDiscard`](features.html#features-primitivesGeneratedQueryWithRasterizerDiscard) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, [rasterization discard](primsrast.html#primsrast-discard) **must** not be enabled

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-primitivesGeneratedQueryWithNonZeroStreams-06709) VUID-vkCmdDrawMeshTasksIndirectEXT-primitivesGeneratedQueryWithNonZeroStreams-06709

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, the bound graphics pipeline **must** not have been created with a
non-zero value in
`VkPipelineRasterizationStateStreamCreateInfoEXT`::`rasterizationStream`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07620) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07620

If the [`depthClamp`](features.html#features-depthClamp) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthClampEnableEXT](vertexpostproc.html#vkCmdSetDepthClampEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07621) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07621

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_POLYGON_MODE_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07622) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07622

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07623) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07623

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-alphaToCoverageEnable-08919) VUID-vkCmdDrawMeshTasksIndirectEXT-alphaToCoverageEnable-08919

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and `alphaToCoverageEnable` was `VK_TRUE` in the last
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT), then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-alphaToCoverageEnable-08920) VUID-vkCmdDrawMeshTasksIndirectEXT-alphaToCoverageEnable-08920

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) in the current command
buffer set `alphaToCoverageEnable` to `VK_TRUE`, then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07624) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07624

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07625) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07625

If the [`alphaToOne`](features.html#features-alphaToOne) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_ONE_ENABLE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToOneEnableEXT](fragops.html#vkCmdSetAlphaToOneEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07626) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07626

If the [`logicOp`](features.html#features-logicOp) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetLogicOpEnableEXT](framebuffer.html#vkCmdSetLogicOpEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07627) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07627

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08657) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08657

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have
been called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime)
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07628) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07628

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08658) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08658

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) for any attachment set that
attachment’s value in `pColorBlendEnables` to `VK_TRUE`, then
[vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07629) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07629

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08659) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08659

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07630) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07630

If the [`geometryStreams`](features.html#features-geometryStreams) feature is
enabled, and
a shader object is bound to the `VK_SHADER_STAGE_GEOMETRY_BIT` stage
or
a graphics pipeline is bound which was created with both a
`VK_SHADER_STAGE_GEOMETRY_BIT` stage and the
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` dynamic state enabled,
then [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07631) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07631

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07632) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07632

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXTRA_PRIMITIVE_OVERESTIMATION_SIZE_EXT` dynamic
state enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`conservativeRasterizationMode` is
`VK_CONSERVATIVE_RASTERIZATION_MODE_OVERESTIMATE_EXT`, then
[vkCmdSetExtraPrimitiveOverestimationSizeEXT](primsrast.html#vkCmdSetExtraPrimitiveOverestimationSizeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07633) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07633

If the [`depthClipEnable`](features.html#features-depthClipEnable) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_ENABLE_EXT` dynamic state, then
[vkCmdSetDepthClipEnableEXT](vertexpostproc.html#vkCmdSetDepthClipEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07635) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07635

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-rasterizerDiscardEnable-09416) VUID-vkCmdDrawMeshTasksIndirectEXT-rasterizerDiscardEnable-09416

If the `[VK_EXT_blend_operation_advanced](../appendices/extensions.html#VK_EXT_blend_operation_advanced)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then at least one of [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT)
and [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07636) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07636

If the `[VK_EXT_provoking_vertex](../appendices/extensions.html#VK_EXT_provoking_vertex)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_PROVOKING_VERTEX_MODE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetProvokingVertexModeEXT](vertexpostproc.html#vkCmdSetProvokingVertexModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07637) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07637

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state enabled
then [vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08666) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08666

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08667) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08667

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08668) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08668

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07638) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07638

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` dynamic state enabled
then [vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08669) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08669

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08670) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08670

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08671) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08671

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07849) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07849

    If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled and
    a shader object is bound to any graphics stage, or
    a bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE`
    dynamic state enabled, the [current    value](pipelines.html#dynamic-state-current-value) of `rasterizerDiscardEnable` is `VK_FALSE`, and the
    [current value](pipelines.html#dynamic-state-current-value) of
    `stippledLineEnable` is `VK_TRUE`, then
[vkCmdSetLineStipple](primsrast.html#vkCmdSetLineStipple)
    **must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
    command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-10608) VUID-vkCmdDrawMeshTasksIndirectEXT-None-10608

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the current `lineRasterizationMode` is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM` or
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the current
`alphaToCoverageEnable`, `alphaToOneEnable` and
`sampleShadingEnable` states **must** all be `VK_FALSE`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07639) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07639

If the [`depthClipControl`](features.html#features-depthClipControl) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_NEGATIVE_ONE_TO_ONE_EXT` dynamic state
enabled, then [vkCmdSetDepthClipNegativeOneToOneEXT](vertexpostproc.html#vkCmdSetDepthClipNegativeOneToOneEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-09650) VUID-vkCmdDrawMeshTasksIndirectEXT-None-09650

If the [`depthClampControl`](features.html#features-depthClampControl) feature
is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_RANGE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`depthClampEnable` is `VK_TRUE`, then
[vkCmdSetDepthClampRangeEXT](fragops.html#vkCmdSetDepthClampRangeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07640) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07640

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_ENABLE_NV` dynamic state
enabled, then [vkCmdSetViewportWScalingEnableNV](vertexpostproc.html#vkCmdSetViewportWScalingEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07641) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07641

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state enabled, then
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07642) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07642

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07643) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07643

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_LOCATION_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageToColorEnable` is `VK_TRUE`, then
[vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07644) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07644

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_MODE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageModulationModeNV](fragops.html#vkCmdSetCoverageModulationModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07645) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07645

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationMode` is any value other than
`VK_COVERAGE_MODULATION_MODE_NONE_NV`, then
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07646) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07646

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationTableEnable` is `VK_TRUE`, then
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07647) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07647

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SHADING_RATE_IMAGE_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetShadingRateImageEnableNV](primsrast.html#vkCmdSetShadingRateImageEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-pipelineFragmentShadingRate-09238) VUID-vkCmdDrawMeshTasksIndirectEXT-pipelineFragmentShadingRate-09238

If the [    `pipelineFragmentShadingRate`](features.html#features-pipelineFragmentShadingRate) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07648) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07648

If the [    `representativeFragmentTest`](features.html#features-representativeFragmentTest) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_REPRESENTATIVE_FRAGMENT_TEST_ENABLE_NV` dynamic
state enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRepresentativeFragmentTestEnableNV](fragops.html#vkCmdSetRepresentativeFragmentTestEnableNV) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07649) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07649

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageReductionModeNV](fragops.html#vkCmdSetCoverageReductionModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-pColorBlendEnables-07470) VUID-vkCmdDrawMeshTasksIndirectEXT-pColorBlendEnables-07470

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` state enabled and the last
call to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) set `pColorBlendEnables`
for any attachment to `VK_TRUE`, then for those attachments in the
subpass the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-rasterizationSamples-07471) VUID-vkCmdDrawMeshTasksIndirectEXT-rasterizationSamples-07471

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
current subpass does not use any color and/or depth/stencil attachments,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** follow the rules for a
[zero-attachment subpass](renderpass.html#renderpass-noattachments)

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-samples-07472) VUID-vkCmdDrawMeshTasksIndirectEXT-samples-07472

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo)::`rasterizationSamples`
parameter used to create the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-samples-07473) VUID-vkCmdDrawMeshTasksIndirectEXT-samples-07473

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state and
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` states enabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
`rasterizationSamples` parameter in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-rasterizationSamples-07474) VUID-vkCmdDrawMeshTasksIndirectEXT-rasterizationSamples-07474

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and
the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
neither the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` nor the
`[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extensions are enabled, then
the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the current
subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-09211) VUID-vkCmdDrawMeshTasksIndirectEXT-None-09211

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled,
or a shader object is bound to any graphics stage,
and the current render pass instance includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the
`rasterizationSamples` member of that structure

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-firstAttachment-07476) VUID-vkCmdDrawMeshTasksIndirectEXT-firstAttachment-07476

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorBlendEnableEXT` calls **must** specify an
enable for all active color attachments in the current subpass

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-rasterizerDiscardEnable-09417) VUID-vkCmdDrawMeshTasksIndirectEXT-rasterizerDiscardEnable-09417

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEnableEXT`
calls **must** specify an enable for all active color attachments in the
current subpass

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-firstAttachment-07477) VUID-vkCmdDrawMeshTasksIndirectEXT-firstAttachment-07477

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-rasterizerDiscardEnable-09418) VUID-vkCmdDrawMeshTasksIndirectEXT-rasterizerDiscardEnable-09418

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have
been called in the current command buffer prior to this drawing command,
and the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-firstAttachment-07478) VUID-vkCmdDrawMeshTasksIndirectEXT-firstAttachment-07478

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorWriteMaskEXT` calls **must** specify the
color write mask for all active color attachments in the current subpass

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-rasterizerDiscardEnable-09419) VUID-vkCmdDrawMeshTasksIndirectEXT-rasterizerDiscardEnable-09419

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorWriteMaskEXT`
calls **must** specify the color write mask for all active color
attachments in the current subpass

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-firstAttachment-07479) VUID-vkCmdDrawMeshTasksIndirectEXT-firstAttachment-07479

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendAdvancedEXT`
calls **must** specify the advanced blend equations for all active color
attachments in the current subpass where blending is enabled

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-advancedBlendMaxColorAttachments-07480) VUID-vkCmdDrawMeshTasksIndirectEXT-advancedBlendMaxColorAttachments-07480

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` and
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic states enabled and
the last calls to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) and
[vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) have enabled advanced blending, then
the number of active color attachments in the current subpass **must** not
exceed [    `advancedBlendMaxColorAttachments`](limits.html#limits-advancedBlendMaxColorAttachments)

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-primitivesGeneratedQueryWithNonZeroStreams-07481) VUID-vkCmdDrawMeshTasksIndirectEXT-primitivesGeneratedQueryWithNonZeroStreams-07481

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, and the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` state enabled, the last
call to [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have set the
`rasterizationStream` to zero

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-sampleLocationsPerPixel-07482) VUID-vkCmdDrawMeshTasksIndirectEXT-sampleLocationsPerPixel-07482

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` member of the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo) structure the bound graphics
pipeline has been created with

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-sampleLocationsPerPixel-07483) VUID-vkCmdDrawMeshTasksIndirectEXT-sampleLocationsPerPixel-07483

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` parameter of the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-sampleLocationsEnable-07484) VUID-vkCmdDrawMeshTasksIndirectEXT-sampleLocationsEnable-07484

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), and the current subpass has a
depth/stencil attachment, then that attachment **must** have been created
with the `VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT`
bit set

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-sampleLocationsEnable-07485) VUID-vkCmdDrawMeshTasksIndirectEXT-sampleLocationsEnable-07485

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.width` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-sampleLocationsEnable-07486) VUID-vkCmdDrawMeshTasksIndirectEXT-sampleLocationsEnable-07486

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.height` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-sampleLocationsEnable-07487) VUID-vkCmdDrawMeshTasksIndirectEXT-sampleLocationsEnable-07487

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), the fragment shader code **must**
not statically use the extended instruction `InterpolateAtSample`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-sampleLocationsEnable-07936) VUID-vkCmdDrawMeshTasksIndirectEXT-sampleLocationsEnable-07936

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.width` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-sampleLocationsEnable-07937) VUID-vkCmdDrawMeshTasksIndirectEXT-sampleLocationsEnable-07937

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.height` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-sampleLocationsEnable-07938) VUID-vkCmdDrawMeshTasksIndirectEXT-sampleLocationsEnable-07938

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationsPerPixel` **must** equal
`rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-coverageModulationTableEnable-07488) VUID-vkCmdDrawMeshTasksIndirectEXT-coverageModulationTableEnable-07488

If
a shader object is bound to any graphics stage or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` state
enabled, and the last call to
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) set
`coverageModulationTableEnable` to `VK_TRUE`, then the
`coverageModulationTableCount` parameter in the last call to
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** equal the current
`rasterizationSamples` divided by the number of color samples in the
current subpass

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-rasterizationSamples-07489) VUID-vkCmdDrawMeshTasksIndirectEXT-rasterizationSamples-07489

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and if current subpass has a depth/stencil attachment and depth test,
stencil test, or depth bounds test are enabled in the bound pipeline,
then the current `rasterizationSamples` **must** be the same as the
sample count of the depth/stencil attachment

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-coverageToColorEnable-07490) VUID-vkCmdDrawMeshTasksIndirectEXT-coverageToColorEnable-07490

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` state enabled and the
last call to [vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-rasterizerDiscardEnable-09420) VUID-vkCmdDrawMeshTasksIndirectEXT-rasterizerDiscardEnable-09420

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the last call to
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-coverageReductionMode-07491) VUID-vkCmdDrawMeshTasksIndirectEXT-coverageReductionMode-07491

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` or
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic states enabled,
then the [current values](pipelines.html#dynamic-state-current-value) of
`coverageReductionMode`, `rasterizationSamples`, the sample
counts for the color and depth/stencil attachments (if the subpass has
them) **must** be a valid combination returned by
[vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV](fragops.html#vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV)

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-viewportCount-07492) VUID-vkCmdDrawMeshTasksIndirectEXT-viewportCount-07492

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-viewportCount-07493) VUID-vkCmdDrawMeshTasksIndirectEXT-viewportCount-07493

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic states enabled then
the `viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-viewportCount-09421) VUID-vkCmdDrawMeshTasksIndirectEXT-viewportCount-09421

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and a
shader object is bound to any graphics stage, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-rasterizationSamples-07494) VUID-vkCmdDrawMeshTasksIndirectEXT-rasterizationSamples-07494

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is not enabled, or the [current    value](pipelines.html#dynamic-state-current-value) of `coverageReductionMode` is not
`VK_COVERAGE_REDUCTION_MODE_TRUNCATE_NV`,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizationSamples` is greater than sample count of the color
attachment, then [sample shading](primsrast.html#primsrast-sampleshading) **must** be
disabled

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-stippledLineEnable-07495) VUID-vkCmdDrawMeshTasksIndirectEXT-stippledLineEnable-07495

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-stippledLineEnable-07496) VUID-vkCmdDrawMeshTasksIndirectEXT-stippledLineEnable-07496

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM`, then the
[`stippledBresenhamLines`](features.html#features-stippledBresenhamLines)
feature **must** be enabled

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-stippledLineEnable-07497) VUID-vkCmdDrawMeshTasksIndirectEXT-stippledLineEnable-07497

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the
[`stippledSmoothLines`](features.html#features-stippledSmoothLines) feature
**must** be enabled

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-stippledLineEnable-07498) VUID-vkCmdDrawMeshTasksIndirectEXT-stippledLineEnable-07498

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_DEFAULT`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled and
[VkPhysicalDeviceLimits](limits.html#VkPhysicalDeviceLimits)::`strictLines` **must** be `VK_TRUE`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-conservativePointAndLineRasterization-07499) VUID-vkCmdDrawMeshTasksIndirectEXT-conservativePointAndLineRasterization-07499

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, [    `conservativePointAndLineRasterization`](limits.html#limits-conservativePointAndLineRasterization) is not supported, and the
effective primitive topology output by the last pre-rasterization shader
stage is a line or point, then the `conservativeRasterizationMode`
set by the last call to [vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT)
**must** be `VK_CONSERVATIVE_RASTERIZATION_MODE_DISABLED_EXT`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-stage-07073) VUID-vkCmdDrawMeshTasksIndirectEXT-stage-07073

If the bound pipeline was created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of an element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT`, then [Mesh    Shader Queries](queries.html#queries-mesh-shader) **must** not be active

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08877) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08877

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07850) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07850

If dynamic state was inherited from
[VkCommandBufferInheritanceViewportScissorInfoNV](cmdbuffers.html#VkCommandBufferInheritanceViewportScissorInfoNV), it **must** be set
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-nextStage-10745) VUID-vkCmdDrawMeshTasksIndirectEXT-nextStage-10745

For each shader object bound to a graphics stage, except for shader
object bound to the last graphics stage in the logical pipeline, it
**must** have been created with a `nextStage` including the
corresponding bit to the shader object bound to the following graphics
stage in the logical pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08684) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08684

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_VERTEX_BIT`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08685) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08685

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08686) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08686

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08687) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08687

If there is no bound graphics pipeline, and the
[`geometryShader`](features.html#features-geometryShader) feature is enabled,
`vkCmdBindShadersEXT` **must** have been called in the current command
buffer with `pStages` with an element of
`VK_SHADER_STAGE_GEOMETRY_BIT`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08688) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08688

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_FRAGMENT_BIT`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08689) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08689

If there is no bound graphics pipeline, and the [    `taskShader`](features.html#features-taskShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_TASK_BIT_EXT`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08690) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08690

If there is no bound graphics pipeline, and the [    `meshShader`](features.html#features-meshShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_MESH_BIT_EXT`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08693) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08693

If there is no bound graphics pipeline, and at least one of the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features is enabled, one of the
`VK_SHADER_STAGE_VERTEX_BIT` or `VK_SHADER_STAGE_MESH_BIT_EXT`
stages **must** have a valid `VkShaderEXT` bound, and the other **must**
have no `VkShaderEXT` bound

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08696) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08696

If there is no bound graphics pipeline, and a valid `VkShaderEXT` is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, there **must** be no
`VkShaderEXT` bound to either the `VK_SHADER_STAGE_TASK_BIT_EXT`
stage or the `VK_SHADER_STAGE_MESH_BIT_EXT` stage

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08698) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08698

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, then all shaders created
with the `VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag in the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** also be bound

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08699) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08699

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, any stages in between
stages whose shaders which did not create a shader with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag as part of the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** not have any `VkShaderEXT` bound

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08878) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08878

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) push constant
ranges

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08879) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08879

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) arrays of
descriptor set layouts

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-colorAttachmentCount-09372) VUID-vkCmdDrawMeshTasksIndirectEXT-colorAttachmentCount-09372

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, a color
attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, and a fragment
shader is bound, it **must** not declare the `DepthReplacing` or
`StencilRefReplacingEXT` execution modes

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-pDynamicStates-08715) VUID-vkCmdDrawMeshTasksIndirectEXT-pDynamicStates-08715

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpDepthAttachmentReadEXT`, the `depthWriteEnable` parameter
in the last call to [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-pDynamicStates-08716) VUID-vkCmdDrawMeshTasksIndirectEXT-pDynamicStates-08716

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpStencilAttachmentReadEXT`, the `writeMask` parameter in
the last call to [vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** be `0`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-09116) VUID-vkCmdDrawMeshTasksIndirectEXT-None-09116

    If
    a shader object is bound to any graphics stage
or
    the bound graphics pipeline was created with
    `VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT`,
    and the format of any color attachment is
    `VK_FORMAT_E5B9G9R9_UFLOAT_PACK32`, the corresponding element of the
    `pColorWriteMasks` parameter of [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT)
    **must** either include all of `VK_COLOR_COMPONENT_R_BIT`,
    `VK_COLOR_COMPONENT_G_BIT`, and `VK_COLOR_COMPONENT_B_BIT`, or
    none of them

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-maxFragmentDualSrcAttachments-09239) VUID-vkCmdDrawMeshTasksIndirectEXT-maxFragmentDualSrcAttachments-09239

If [blending](framebuffer.html#framebuffer-blending) is enabled for any attachment where
either the source or destination blend factors for that attachment
[use the secondary color input](framebuffer.html#framebuffer-dsb), the maximum value of
`Location` for any output attachment [statically    used](shaders.html#shaders-staticuse) in the `Fragment` `Execution` `Model` executed by this command
**must** be less than [    `maxFragmentDualSrcAttachments`](limits.html#limits-maxFragmentDualSrcAttachments)

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-09548) VUID-vkCmdDrawMeshTasksIndirectEXT-None-09548

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
the value of each element of
[VkRenderingAttachmentLocationInfo](interfaces.html#VkRenderingAttachmentLocationInfo)::`pColorAttachmentLocations`
set by [vkCmdSetRenderingAttachmentLocations](interfaces.html#vkCmdSetRenderingAttachmentLocations) **must** match the value
set for the corresponding element in the bound pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-09549) VUID-vkCmdDrawMeshTasksIndirectEXT-None-09549

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
input attachment index mappings in the bound pipeline **must** match those
set for the current render pass instance via
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-09642) VUID-vkCmdDrawMeshTasksIndirectEXT-None-09642

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with
the `VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag, the bound
graphics pipeline **must** have been created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-09643) VUID-vkCmdDrawMeshTasksIndirectEXT-None-09643

If the bound graphics pipeline was created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`, the current
render pass **must** have begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with the
`VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-10677) VUID-vkCmdDrawMeshTasksIndirectEXT-None-10677

If the [per-tile execution model](renderpass.html#renderpass-per-tile-execution-model)
is enabled, the
[tileShadingPerTileDraw](features.html#features-tileShadingPerTileDraw) feature **must**
be enabled

[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-10772) VUID-vkCmdDrawMeshTasksIndirectEXT-None-10772

If a shader object is bound to any graphics stage, *multiview*
functionality **must** not be enabled in the current render pass

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-stage-06480) VUID-vkCmdDrawMeshTasksIndirectEXT-stage-06480

The bound graphics pipeline **must** not have been created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of any element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-pStages-10680) VUID-vkCmdDrawMeshTasksIndirectEXT-pStages-10680

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
not have last bound the `pStages` element of
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` with a valid shader object other than
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07074) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07074

[Transform Feedback Queries](queries.html#queries-transform-feedback) **must** not be
active

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-07075) VUID-vkCmdDrawMeshTasksIndirectEXT-None-07075

[Primitives Generated Queries](queries.html#queries-primitives-generated) **must** not
be active

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-pipelineStatistics-07076) VUID-vkCmdDrawMeshTasksIndirectEXT-pipelineStatistics-07076

The `pipelineStatistics` member used to create any active
[Pipeline Statistics Query](queries.html#queries-pipestats) **must** not contain
`VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_VERTICES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_PRIMITIVES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_VERTEX_SHADER_INVOCATIONS_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_INVOCATIONS_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_PRIMITIVES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_CLIPPING_INVOCATIONS_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_CLIPPING_PRIMITIVES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_CONTROL_SHADER_PATCHES_BIT`,
or
`VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_EVALUATION_SHADER_INVOCATIONS_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08694) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08694

If there is no bound graphics pipeline, and both the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features are enabled, and a valid `VkShaderEXT`
is bound the to the `VK_SHADER_STAGE_MESH_BIT_EXT` stage, and that
`VkShaderEXT` was created without the
`VK_SHADER_CREATE_NO_TASK_SHADER_BIT_EXT` flag, a valid
`VkShaderEXT` **must** be bound to the
`VK_SHADER_STAGE_TASK_BIT_EXT` stage

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-None-08695) VUID-vkCmdDrawMeshTasksIndirectEXT-None-08695

If there is no bound graphics pipeline, and both the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features are enabled, and a valid `VkShaderEXT`
is bound the to the `VK_SHADER_STAGE_MESH_BIT_EXT` stage, and that
`VkShaderEXT` was created with the
`VK_SHADER_CREATE_NO_TASK_SHADER_BIT_EXT` flag, there **must** be no
`VkShaderEXT` bound to the `VK_SHADER_STAGE_TASK_BIT_EXT` stage

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-buffer-02708) VUID-vkCmdDrawMeshTasksIndirectEXT-buffer-02708

If `buffer` is non-sparse then it **must** be bound completely and
contiguously to a single `VkDeviceMemory` object

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-buffer-02709) VUID-vkCmdDrawMeshTasksIndirectEXT-buffer-02709

`buffer` **must** have been created with the
`VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT` bit set

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-offset-02710) VUID-vkCmdDrawMeshTasksIndirectEXT-offset-02710

`offset` **must** be a multiple of `4`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-commandBuffer-02711) VUID-vkCmdDrawMeshTasksIndirectEXT-commandBuffer-02711

`commandBuffer` **must** not be a protected command buffer

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-drawCount-02718) VUID-vkCmdDrawMeshTasksIndirectEXT-drawCount-02718

If the [`multiDrawIndirect`](features.html#features-multiDrawIndirect) feature
is not enabled, `drawCount` **must** be `0` or `1`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-drawCount-02719) VUID-vkCmdDrawMeshTasksIndirectEXT-drawCount-02719

`drawCount` **must** be less than or equal to
`VkPhysicalDeviceLimits`::`maxDrawIndirectCount`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-drawCount-07088) VUID-vkCmdDrawMeshTasksIndirectEXT-drawCount-07088

If `drawCount` is greater than `1`, `stride` **must** be a multiple
of `4` and **must** be greater than or equal to
`sizeof`(`VkDrawMeshTasksIndirectCommandEXT`)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-drawCount-07089) VUID-vkCmdDrawMeshTasksIndirectEXT-drawCount-07089

If `drawCount` is equal to `1`, (`offset` + 
`sizeof`([VkDrawMeshTasksIndirectCommandEXT](#VkDrawMeshTasksIndirectCommandEXT))) **must** be less
than or equal to the size of `buffer`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-drawCount-07090) VUID-vkCmdDrawMeshTasksIndirectEXT-drawCount-07090

If `drawCount` is greater than `1`, (`stride` ×
(`drawCount` - 1) +  `offset` + 
`sizeof`([VkDrawMeshTasksIndirectCommandEXT](#VkDrawMeshTasksIndirectCommandEXT))) **must** be less
than or equal to the size of `buffer`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-MeshEXT-07091) VUID-vkCmdDrawMeshTasksIndirectEXT-MeshEXT-07091

The current pipeline bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`
**must** contain a shader stage using the `MeshEXT` `Execution` `Model`

Valid Usage (Implicit)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-commandBuffer-parameter) VUID-vkCmdDrawMeshTasksIndirectEXT-commandBuffer-parameter

 `commandBuffer` **must** be a valid [VkCommandBuffer](cmdbuffers.html#VkCommandBuffer) handle

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-buffer-parameter) VUID-vkCmdDrawMeshTasksIndirectEXT-buffer-parameter

 `buffer` **must** be a valid [VkBuffer](resources.html#VkBuffer) handle

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-commandBuffer-recording) VUID-vkCmdDrawMeshTasksIndirectEXT-commandBuffer-recording

 `commandBuffer` **must** be in the [recording state](cmdbuffers.html#commandbuffers-lifecycle)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-commandBuffer-cmdpool) VUID-vkCmdDrawMeshTasksIndirectEXT-commandBuffer-cmdpool

 The `VkCommandPool` that `commandBuffer` was allocated from **must** support graphics operations

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-renderpass) VUID-vkCmdDrawMeshTasksIndirectEXT-renderpass

 This command **must** only be called inside of a render pass instance

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-videocoding) VUID-vkCmdDrawMeshTasksIndirectEXT-videocoding

 This command **must** only be called outside of a video coding scope

* 
[](#VUID-vkCmdDrawMeshTasksIndirectEXT-commonparent) VUID-vkCmdDrawMeshTasksIndirectEXT-commonparent

 Both of `buffer`, and `commandBuffer` **must** have been created, allocated, or retrieved from the same [VkDevice](devsandqueues.html#VkDevice)

Host Synchronization

* 
Host access to `commandBuffer` **must** be externally synchronized

* 
Host access to the `VkCommandPool` that `commandBuffer` was allocated from **must** be externally synchronized

Command Properties
| [Command Buffer Levels](cmdbuffers.html#VkCommandBufferLevel) | [Render Pass Scope](renderpass.html#vkCmdBeginRenderPass) | [Video Coding Scope](videocoding.html#vkCmdBeginVideoCodingKHR) | [Supported Queue Types](devsandqueues.html#VkQueueFlagBits) | [Command Type](fundamentals.html#fundamentals-queueoperation-command-types) |
| --- | --- | --- | --- | --- |
| Primary

Secondary | Inside | Outside | Graphics | Action |

The `VkDrawMeshTasksIndirectCommandEXT` structure is defined as:

// Provided by VK_EXT_mesh_shader
typedef struct VkDrawMeshTasksIndirectCommandEXT {
    uint32_t    groupCountX;
    uint32_t    groupCountY;
    uint32_t    groupCountZ;
} VkDrawMeshTasksIndirectCommandEXT;

* 
`groupCountX` is the number of local workgroups to dispatch in the X
dimension.

* 
`groupCountY` is the number of local workgroups to dispatch in the Y
dimension.

* 
`groupCountZ` is the number of local workgroups to dispatch in the Z
dimension.

The members of `VkDrawMeshTasksIndirectCommandEXT` have the same meaning
as the similarly named parameters of [vkCmdDrawMeshTasksEXT](#vkCmdDrawMeshTasksEXT).

Valid Usage

* 
[](#VUID-VkDrawMeshTasksIndirectCommandEXT-TaskEXT-07322) VUID-VkDrawMeshTasksIndirectCommandEXT-TaskEXT-07322

If the current pipeline bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`
contains a shader using the `TaskEXT` `Execution` `Model`,
`groupCountX` **must** be less than or equal to
`VkPhysicalDeviceMeshShaderPropertiesEXT`::`maxTaskWorkGroupCount`[0]

* 
[](#VUID-VkDrawMeshTasksIndirectCommandEXT-TaskEXT-07323) VUID-VkDrawMeshTasksIndirectCommandEXT-TaskEXT-07323

If the current pipeline bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`
contains a shader using the `TaskEXT` `Execution` `Model`,
`groupCountY` **must** be less than or equal to
`VkPhysicalDeviceMeshShaderPropertiesEXT`::`maxTaskWorkGroupCount`[1]

* 
[](#VUID-VkDrawMeshTasksIndirectCommandEXT-TaskEXT-07324) VUID-VkDrawMeshTasksIndirectCommandEXT-TaskEXT-07324

If the current pipeline bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`
contains a shader using the `TaskEXT` `Execution` `Model`,
`groupCountZ` **must** be less than or equal to
`VkPhysicalDeviceMeshShaderPropertiesEXT`::`maxTaskWorkGroupCount`[2]

* 
[](#VUID-VkDrawMeshTasksIndirectCommandEXT-TaskEXT-07325) VUID-VkDrawMeshTasksIndirectCommandEXT-TaskEXT-07325

If the current pipeline bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`
contains a shader using the `TaskEXT` `Execution` `Model`, The product
of `groupCountX`, `groupCountY` and `groupCountZ` **must** be
less than or equal to
`VkPhysicalDeviceMeshShaderPropertiesEXT`::`maxTaskWorkGroupTotalCount`

* 
[](#VUID-VkDrawMeshTasksIndirectCommandEXT-TaskEXT-07326) VUID-VkDrawMeshTasksIndirectCommandEXT-TaskEXT-07326

If the current pipeline bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`
does not contain a shader using the `TaskEXT` `Execution` `Model`,
`groupCountX` **must** be less than or equal to
`VkPhysicalDeviceMeshShaderPropertiesEXT`::`maxMeshWorkGroupCount`[0]

* 
[](#VUID-VkDrawMeshTasksIndirectCommandEXT-TaskEXT-07327) VUID-VkDrawMeshTasksIndirectCommandEXT-TaskEXT-07327

If the current pipeline bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`
does not contain a shader using the `TaskEXT` `Execution` `Model`,
`groupCountY` **must** be less than or equal to
`VkPhysicalDeviceMeshShaderPropertiesEXT`::`maxMeshWorkGroupCount`[1]

* 
[](#VUID-VkDrawMeshTasksIndirectCommandEXT-TaskEXT-07328) VUID-VkDrawMeshTasksIndirectCommandEXT-TaskEXT-07328

If the current pipeline bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`
does not contain a shader using the `TaskEXT` `Execution` `Model`,
`groupCountZ` **must** be less than or equal to
`VkPhysicalDeviceMeshShaderPropertiesEXT`::`maxMeshWorkGroupCount`[2]

* 
[](#VUID-VkDrawMeshTasksIndirectCommandEXT-TaskEXT-07329) VUID-VkDrawMeshTasksIndirectCommandEXT-TaskEXT-07329

If the current pipeline bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`
does not contain a shader using the `TaskEXT` `Execution` `Model`, The
product of `groupCountX`, `groupCountY` and `groupCountZ`
**must** be less than or equal to
`VkPhysicalDeviceMeshShaderPropertiesEXT`::`maxMeshWorkGroupTotalCount`

To record an indirect mesh tasks drawing command with the draw count sourced
from a buffer, call:

// Provided by VK_EXT_mesh_shader with VK_KHR_draw_indirect_count or VK_VERSION_1_2
void vkCmdDrawMeshTasksIndirectCountEXT(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    buffer,
    VkDeviceSize                                offset,
    VkBuffer                                    countBuffer,
    VkDeviceSize                                countBufferOffset,
    uint32_t                                    maxDrawCount,
    uint32_t                                    stride);

* 
`commandBuffer` is the command buffer into which the command is
recorded.

* 
`buffer` is the buffer containing draw parameters.

* 
`offset` is the byte offset into `buffer` where parameters
begin.

* 
`countBuffer` is the buffer containing the draw count.

* 
`countBufferOffset` is the byte offset into `countBuffer` where
the draw count begins.

* 
`maxDrawCount` specifies the maximum number of draws that will be
executed.
The actual number of executed draw calls is the minimum of the count
specified in `countBuffer` and `maxDrawCount`.

* 
`stride` is the byte stride between successive sets of draw
parameters.

`vkCmdDrawMeshTasksIndirectCountEXT` behaves similarly to
[vkCmdDrawMeshTasksIndirectEXT](#vkCmdDrawMeshTasksIndirectEXT) except that the draw count is read by
the device from a buffer during execution.
The command will read an unsigned 32-bit integer from `countBuffer`
located at `countBufferOffset` and use this as the draw count.

Valid Usage

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-magFilter-04553) VUID-vkCmdDrawMeshTasksIndirectCountEXT-magFilter-04553

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-magFilter-09598) VUID-vkCmdDrawMeshTasksIndirectCountEXT-magFilter-09598

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR` and `reductionMode` equal to either
`VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-mipmapMode-04770) VUID-vkCmdDrawMeshTasksIndirectCountEXT-mipmapMode-04770

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-mipmapMode-09599) VUID-vkCmdDrawMeshTasksIndirectCountEXT-mipmapMode-09599

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR` and `reductionMode` equal to
either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-unnormalizedCoordinates-09635) VUID-vkCmdDrawMeshTasksIndirectCountEXT-unnormalizedCoordinates-09635

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `levelCount` and `layerCount`
**must** be 1

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08609) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08609

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `viewType` **must** be
`VK_IMAGE_VIEW_TYPE_1D` or `VK_IMAGE_VIEW_TYPE_2D`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08610) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08610

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions with
`ImplicitLod`, `Dref` or `Proj` in their name

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08611) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08611

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions that includes a
LOD bias or any offset values

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-06479) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-06479

If a [VkImageView](resources.html#VkImageView) is sampled with
[depth comparison](textures.html#textures-depth-compare-operation), the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_SAMPLED_IMAGE_DEPTH_COMPARISON_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-02691) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-02691

If a [VkImageView](resources.html#VkImageView) is accessed using atomic operations as a result
of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07888) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07888

If a `VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER` descriptor is
accessed using atomic operations as a result of this command, then the
storage texel buffer’s [format    features](resources.html#resources-buffer-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-02692) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-02692

If a [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_CUBIC_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-02693) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-02693

If
the [VK_EXT_filter_cubic](../appendices/extensions.html#VK_EXT_filter_cubic) extension is not enabled and
any [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, it **must** not have a [VkImageViewType](resources.html#VkImageViewType) of
`VK_IMAGE_VIEW_TYPE_3D`, `VK_IMAGE_VIEW_TYPE_CUBE`, or
`VK_IMAGE_VIEW_TYPE_CUBE_ARRAY`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-filterCubic-02694) VUID-vkCmdDrawMeshTasksIndirectCountEXT-filterCubic-02694

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command **must** have a [VkImageViewType](resources.html#VkImageViewType) and format
that supports cubic filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubic`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-filterCubicMinmax-02695) VUID-vkCmdDrawMeshTasksIndirectCountEXT-filterCubicMinmax-02695

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` with
a reduction mode of either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` as a result of this command **must**
have a [VkImageViewType](resources.html#VkImageViewType) and format that supports cubic filtering
together with minmax filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubicMinmax`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-cubicRangeClamp-09212) VUID-vkCmdDrawMeshTasksIndirectCountEXT-cubicRangeClamp-09212

If the [`cubicRangeClamp`](features.html#features-cubicRangeClamp) feature is
not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** not have a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-reductionMode-09213) VUID-vkCmdDrawMeshTasksIndirectCountEXT-reductionMode-09213

Any [VkImageView](resources.html#VkImageView) being sampled with a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM` as a
result of this command **must** sample with `VK_FILTER_CUBIC_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-selectableCubicWeights-09214) VUID-vkCmdDrawMeshTasksIndirectCountEXT-selectableCubicWeights-09214

If the [`selectableCubicWeights`](features.html#features-selectableCubicWeights)
feature is not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** have
[VkSamplerCubicWeightsCreateInfoQCOM](samplers.html#VkSamplerCubicWeightsCreateInfoQCOM)::`cubicWeights` equal to
`VK_CUBIC_FILTER_WEIGHTS_CATMULL_ROM_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-flags-02696) VUID-vkCmdDrawMeshTasksIndirectCountEXT-flags-02696

Any [VkImage](resources.html#VkImage) created with a [VkImageCreateInfo](resources.html#VkImageCreateInfo)::`flags`
containing `VK_IMAGE_CREATE_CORNER_SAMPLED_BIT_NV` sampled as a
result of this command **must** only be sampled using a
[VkSamplerAddressMode](samplers.html#VkSamplerAddressMode) of
`VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpTypeImage-07027) VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpTypeImage-07027

For any [VkImageView](resources.html#VkImageView) being written as a storage image where the
image format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpTypeImage-07028) VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpTypeImage-07028

For any [VkImageView](resources.html#VkImageView) being read as a storage image where the image
format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpTypeImage-07029) VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpTypeImage-07029

For any [VkBufferView](resources.html#VkBufferView) being written as a storage texel buffer where
the image format field of the `OpTypeImage` is `Unknown`, the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpTypeImage-07030) VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpTypeImage-07030

Any [VkBufferView](resources.html#VkBufferView) being read as a storage texel buffer where the
image format field of the `OpTypeImage` is `Unknown` then the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08600) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08600

For each set *n* that is statically used by [a bound    shader](shaders.html#shaders-binding), a descriptor set **must** have been bound to *n* at the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for set *n*, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the current
[VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08601) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08601

For each push constant that is statically used by [a    bound shader](shaders.html#shaders-binding), a push constant value **must** have been set for the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the
current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-10068) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-10068

For each array of resources that is used by [a bound    shader](shaders.html#shaders-binding), the indices used to access members of the array **must** be less
than the descriptor count for the identified binding in the descriptor
sets used by this command

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-maintenance4-08602) VUID-vkCmdDrawMeshTasksIndirectCountEXT-maintenance4-08602

If the [`maintenance4`](features.html#features-maintenance4) feature is not
enabled, then for each push constant that is statically used by
[a bound shader](shaders.html#shaders-binding), a push constant value **must** have
been set for the same pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
that is compatible for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
used to create the current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) and [VkPushConstantRange](descriptorsets.html#VkPushConstantRange) arrays
used to create the current [VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08114) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08114

Descriptors in each bound descriptor set, specified via
[vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), **must** be valid as described by
[descriptor validity](descriptorsets.html#descriptor-validity) if they are statically used
by
the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind point used by this
command and the bound [VkPipeline](pipelines.html#VkPipeline) was not created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08115) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08115

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), the bound
[VkPipeline](pipelines.html#VkPipeline) **must** have been created without
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08116) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08116

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind
point used by this command and the bound [VkPipeline](pipelines.html#VkPipeline) was created
with `VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08604) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08604

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08117) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08117

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT),
the bound [VkPipeline](pipelines.html#VkPipeline) **must** have been created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08119) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08119

If a descriptor is dynamically used with a [VkPipeline](pipelines.html#VkPipeline) created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the descriptor
memory **must** be resident

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08605) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08605

If a descriptor is dynamically used with a [VkShaderEXT](shaders.html#VkShaderEXT) created
with a `VkDescriptorSetLayout` that was created with
`VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the
descriptor memory **must** be resident

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08606) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08606

If the [`shaderObject`](features.html#features-shaderObject) feature is not
enabled, a
valid pipeline **must** be bound to the pipeline bind point used by this
command

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08608) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08608

If a pipeline is bound to the pipeline bind point used by this command,
there
**must** not have been any calls to dynamic state setting commands for any
state specified statically in the [VkPipeline](pipelines.html#VkPipeline) object bound to the
pipeline bind point used by this command, since that pipeline was bound

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-uniformBuffers-06935) VUID-vkCmdDrawMeshTasksIndirectCountEXT-uniformBuffers-06935

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a uniform buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`uniformBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08612) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08612

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a uniform
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-storageBuffers-06936) VUID-vkCmdDrawMeshTasksIndirectCountEXT-storageBuffers-06936

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a storage buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`storageBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08613) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08613

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a storage
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-commandBuffer-02707) VUID-vkCmdDrawMeshTasksIndirectCountEXT-commandBuffer-02707

If `commandBuffer` is an unprotected command buffer and
[`protectedNoFault`](devsandqueues.html#limits-protectedNoFault) is not supported,
any resource accessed by [bound shaders](shaders.html#shaders-binding) **must** not be
a protected resource

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-viewType-07752) VUID-vkCmdDrawMeshTasksIndirectCountEXT-viewType-07752

If a [VkImageView](resources.html#VkImageView) is accessed as a result of this command, then the
image view’s `viewType` **must** match the `Dim` operand of the
`OpTypeImage` as described in [Compatibility Between SPIR-V Image Dimensions and Vulkan ImageView Types](../appendices/spirvenv.html#spirvenv-image-dimensions)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-format-07753) VUID-vkCmdDrawMeshTasksIndirectCountEXT-format-07753

If a [VkImageView](resources.html#VkImageView) or [VkBufferView](resources.html#VkBufferView) is accessed as a result of
this command, then the [numeric type](formats.html#formats-numericformat) of the
view’s `format` and the `Sampled` `Type` operand of the
`OpTypeImage` **must** match

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpImageWrite-08795) VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpImageWrite-08795

If a [VkImageView](resources.html#VkImageView)
created with a format other than `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
at least as many components as the image view’s format

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpImageWrite-08796) VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpImageWrite-08796

If a [VkImageView](resources.html#VkImageView) created with the format `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
four components

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpImageWrite-04469) VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpImageWrite-04469

If a [VkBufferView](resources.html#VkBufferView) is accessed using `OpImageWrite` as a result
of this command, then the `Type` of the `Texel` operand of that
instruction **must** have at least as many components as the buffer view’s
format

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-SampledType-04470) VUID-vkCmdDrawMeshTasksIndirectCountEXT-SampledType-04470

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit component
width is accessed as a result of this command, the `SampledType` of
the `OpTypeImage` operand of that instruction **must** have a `Width`
of 64

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-SampledType-04471) VUID-vkCmdDrawMeshTasksIndirectCountEXT-SampledType-04471

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-SampledType-04472) VUID-vkCmdDrawMeshTasksIndirectCountEXT-SampledType-04472

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit
component width is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 64

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-SampledType-04473) VUID-vkCmdDrawMeshTasksIndirectCountEXT-SampledType-04473

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-sparseImageInt64Atomics-04474) VUID-vkCmdDrawMeshTasksIndirectCountEXT-sparseImageInt64Atomics-04474

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkImage](resources.html#VkImage)
objects created with the `VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT` flag
**must** not be accessed by atomic instructions through an `OpTypeImage`
with a `SampledType` with a `Width` of 64 by this command

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-sparseImageInt64Atomics-04475) VUID-vkCmdDrawMeshTasksIndirectCountEXT-sparseImageInt64Atomics-04475

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkBuffer](resources.html#VkBuffer)
objects created with the `VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT`
flag **must** not be accessed by atomic instructions through an
`OpTypeImage` with a `SampledType` with a `Width` of 64 by this
command

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpImageWeightedSampleQCOM-06971) VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpImageWeightedSampleQCOM-06971

If `OpImageWeightedSampleQCOM` is used to sample a [VkImageView](resources.html#VkImageView)
as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_SAMPLED_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpImageWeightedSampleQCOM-06972) VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpImageWeightedSampleQCOM-06972

If `OpImageWeightedSampleQCOM` uses a [VkImageView](resources.html#VkImageView) as a sample
weight image as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpImageBoxFilterQCOM-06973) VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpImageBoxFilterQCOM-06973

If `OpImageBoxFilterQCOM` is used to sample a [VkImageView](resources.html#VkImageView) as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BOX_FILTER_SAMPLED_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpImageBlockMatchSSDQCOM-06974) VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpImageBlockMatchSSDQCOM-06974

If `OpImageBlockMatchSSDQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpImageBlockMatchSADQCOM-06975) VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpImageBlockMatchSADQCOM-06975

If `OpImageBlockMatchSADQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpImageBlockMatchSADQCOM-06976) VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpImageBlockMatchSADQCOM-06976

If `OpImageBlockMatchSADQCOM` or OpImageBlockMatchSSDQCOM is used to
read from a reference image as result of this command, then the
specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpImageWeightedSampleQCOM-06977) VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpImageWeightedSampleQCOM-06977

If `OpImageWeightedSampleQCOM`, `OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** have
been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpImageWeightedSampleQCOM-06978) VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpImageWeightedSampleQCOM-06978

If any command other than `OpImageWeightedSampleQCOM`,
`OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** not
have been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpImageBlockMatchWindow-09215) VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpImageBlockMatchWindow-09215

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpImageBlockMatchWindow-09216) VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpImageBlockMatchWindow-09216

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
format **must** be a single-component format

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpImageBlockMatchWindow-09217) VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpImageBlockMatchWindow-09217

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` read from a reference image as result
of this command, then the specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07288) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07288

Any shader invocation executed by this command **must**
[terminate](shaders.html#shaders-termination)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09600) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09600

If a descriptor with type equal to any of
`VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE`,
`VK_DESCRIPTOR_TYPE_STORAGE_IMAGE`, or
`VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT` is accessed as a result of
this command, all image subresources identified by that descriptor **must**
be in the image layout identified when the descriptor was written

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-commandBuffer-10746) VUID-vkCmdDrawMeshTasksIndirectCountEXT-commandBuffer-10746

The `VkDeviceMemory` object allocated from a `VkMemoryHeap` with
the `VK_MEMORY_HEAP_TILE_MEMORY_BIT_QCOM` property that is bound to
a resource accessed as a result of this command **must** be the active
bound [bound tile memory object](memory.html#memory-bind-tile-memory) in
`commandBuffer`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-10678) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-10678

If this command is recorded inside a [tile    shading render pass](renderpass.html#renderpass-tile-shading) instance, the stages corresponding to the pipeline
bind point used by this command **must** only include
`VK_SHADER_STAGE_VERTEX_BIT`, `VK_SHADER_STAGE_FRAGMENT_BIT`,
and/or `VK_SHADER_STAGE_COMPUTE_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-10679) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-10679

If this command is recorded where
[per-tile execution model](renderpass.html#renderpass-per-tile-execution-model) is
enabled, there **must** be no access to any image while the image was be
transitioned to the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` layout

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-renderPass-02684) VUID-vkCmdDrawMeshTasksIndirectCountEXT-renderPass-02684

The current render pass **must** be [compatible](renderpass.html#renderpass-compatibility)
with the `renderPass` member of the
`VkGraphicsPipelineCreateInfo` structure specified when creating the
`VkPipeline` bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-subpass-02685) VUID-vkCmdDrawMeshTasksIndirectCountEXT-subpass-02685

The subpass index of the current render pass **must** be equal to the
`subpass` member of the `VkGraphicsPipelineCreateInfo` structure
specified when creating the `VkPipeline` bound to
`VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07748) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07748

If any shader statically accesses an input attachment, a valid
descriptor **must** be bound to the pipeline via a descriptor set

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpTypeImage-07468) VUID-vkCmdDrawMeshTasksIndirectCountEXT-OpTypeImage-07468

If any shader executed by this pipeline accesses an `OpTypeImage`
variable with a `Dim` operand of `SubpassData`, it **must** be
decorated with an `InputAttachmentIndex` that corresponds to a valid
input attachment in the current subpass

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07469) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07469

Input attachment views accessed in a subpass **must** be created with the
same [VkFormat](formats.html#VkFormat) as the corresponding subpass definition, and be
created with a [VkImageView](resources.html#VkImageView) that is compatible with the attachment
referenced by the subpass'
`pInputAttachments`[`InputAttachmentIndex`] in the bound
[VkFramebuffer](renderpass.html#VkFramebuffer) as specified by
[Fragment Input Attachment    Compatibility](interfaces.html#compatibility-inputattachment)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-pDepthInputAttachmentIndex-09595) VUID-vkCmdDrawMeshTasksIndirectCountEXT-pDepthInputAttachmentIndex-09595

Input attachment views accessed in a dynamic render pass with a
`InputAttachmentIndex` referenced by
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo), or no
`InputAttachmentIndex` if
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
or
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are `NULL`, **must** be created with a [VkImageView](resources.html#VkImageView) that is compatible
with the corresponding color, depth, or stencil attachment in
[VkRenderingInfo](renderpass.html#VkRenderingInfo)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-pDepthInputAttachmentIndex-09596) VUID-vkCmdDrawMeshTasksIndirectCountEXT-pDepthInputAttachmentIndex-09596

Input attachment views accessed in a dynamic render pass via a shader
object **must** have an `InputAttachmentIndex` if both
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
and
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are non-`NULL`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-InputAttachmentIndex-09597) VUID-vkCmdDrawMeshTasksIndirectCountEXT-InputAttachmentIndex-09597

If an input attachment view accessed in a dynamic render pass via a
shader object has an `InputAttachmentIndex`, the
`InputAttachmentIndex` **must** match an index in
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-06537) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-06537

Memory backing image subresources used as attachments in the current
render pass **must** not be written in any way other than as an attachment
by this command

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09000) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09000

If a color attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

the `VK_PIPELINE_CREATE_COLOR_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT` is
set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_COLOR_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09001) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09001

If a depth attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_DEPTH_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09002) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09002

If a stencil attachment is written by any prior command in this subpass
or by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_STENCIL_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09003) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09003

If an attachment is written by any prior command in this subpass or by
the load, store, or resolve operations for this subpass, it **must** not be
accessed in any way other than as an attachment, storage image, or
sampled image by this command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-06539) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-06539

If any previously recorded command in the current subpass accessed an
image subresource used as an attachment in this subpass in any way other
than as an attachment, this command **must** not write to that image
subresource as an attachment

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-06886) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-06886

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the depth aspect, [depth    writes](fragops.html#fragops-depth-write) **must** be disabled

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-06887) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-06887

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the stencil aspect, both front and back
`writeMask` are not zero, and stencil test is enabled,
[all stencil ops](fragops.html#fragops-stencil) **must** be `VK_STENCIL_OP_KEEP`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07831) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07831

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT` dynamic state enabled then
[vkCmdSetViewport](vertexpostproc.html#vkCmdSetViewport) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07832) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07832

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SCISSOR` dynamic state enabled then
[vkCmdSetScissor](fragops.html#vkCmdSetScissor) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07833) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07833

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_WIDTH` dynamic state enabled then
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08617) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08617

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command
buffer set `polygonMode` to `VK_POLYGON_MODE_LINE`,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08618) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08618

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08619) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08619

If a shader object that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, [vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07834) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07834

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthBiasEnable`
is `VK_TRUE`, then [vkCmdSetDepthBias](primsrast.html#vkCmdSetDepthBias)
or [vkCmdSetDepthBias2EXT](primsrast.html#vkCmdSetDepthBias2EXT)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07835) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07835

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_BLEND_CONSTANTS` dynamic state enabled then
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08621) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08621

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) in the current command buffer set any
element of `pColorBlendEnables` to `VK_TRUE`, and the most
recent call to [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) in the current
command buffer set the same element of `pColorBlendEquations` to a
`VkColorBlendEquationEXT` structure with any [VkBlendFactor](framebuffer.html#VkBlendFactor)
member with a value of `VK_BLEND_FACTOR_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_CONSTANT_ALPHA`, or
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_ALPHA`,
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07836) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07836

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`depthBoundsTestEnable` is `VK_TRUE`, then
[vkCmdSetDepthBounds](fragops.html#vkCmdSetDepthBounds) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07837) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07837

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilCompareMask](fragops.html#vkCmdSetStencilCompareMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07838) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07838

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07839) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07839

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_REFERENCE` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of and
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilReference](fragops.html#vkCmdSetStencilReference) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-maxMultiviewInstanceIndex-02688) VUID-vkCmdDrawMeshTasksIndirectCountEXT-maxMultiviewInstanceIndex-02688

If the draw is recorded in a render pass instance with multiview
enabled, the maximum instance index **must** be less than or equal to
[VkPhysicalDeviceMultiviewProperties](limits.html#VkPhysicalDeviceMultiviewProperties)::`maxMultiviewInstanceIndex`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-sampleLocationsEnable-02689) VUID-vkCmdDrawMeshTasksIndirectCountEXT-sampleLocationsEnable-02689

If the bound graphics pipeline was created with
[VkPipelineSampleLocationsStateCreateInfoEXT](primsrast.html#VkPipelineSampleLocationsStateCreateInfoEXT)::`sampleLocationsEnable`
set to `VK_TRUE` and the current subpass has a depth/stencil
attachment, then that attachment **must** have been created with the
`VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT` bit set

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07634) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07634

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-06666) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-06666

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
[vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07840) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07840

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CULL_MODE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCullMode](primsrast.html#vkCmdSetCullMode) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07841) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07841

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRONT_FACE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFrontFace](primsrast.html#vkCmdSetFrontFace) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07843) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07843

 If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`,
[vkCmdSetDepthTestEnable](fragops.html#vkCmdSetDepthTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07844) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07844

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07845) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07845

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_COMPARE_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthCompareOp](fragops.html#vkCmdSetDepthCompareOp) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07846) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07846

If the [`depthBounds`](features.html#features-depthBounds) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBoundsTestEnable](fragops.html#vkCmdSetDepthBoundsTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07847) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07847

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetStencilTestEnable](fragops.html#vkCmdSetStencilTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07848) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07848

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then [vkCmdSetStencilOp](fragops.html#vkCmdSetStencilOp)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-viewportCount-03417) VUID-vkCmdDrawMeshTasksIndirectCountEXT-viewportCount-03417

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-scissorCount-03418) VUID-vkCmdDrawMeshTasksIndirectCountEXT-scissorCount-03418

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetScissorWithCount](vertexpostproc.html#vkCmdSetScissorWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-viewportCount-03419) VUID-vkCmdDrawMeshTasksIndirectCountEXT-viewportCount-03419

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with both the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic states enabled,
and the state is not inherited,
then the `viewportCount` parameter of
`vkCmdSetViewportWithCount` **must** match the `scissorCount`
parameter of `vkCmdSetScissorWithCount`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-viewportCount-04137) VUID-vkCmdDrawMeshTasksIndirectCountEXT-viewportCount-04137

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportWScalingStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportWScalingStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-viewportCount-04138) VUID-vkCmdDrawMeshTasksIndirectCountEXT-viewportCount-04138

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08636) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08636

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-viewportCount-04139) VUID-vkCmdDrawMeshTasksIndirectCountEXT-viewportCount-04139

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic
state enabled, then the bound graphics pipeline **must** have been created
with
[VkPipelineViewportShadingRateImageStateCreateInfoNV](primsrast.html#VkPipelineViewportShadingRateImageStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-shadingRateImage-09233) VUID-vkCmdDrawMeshTasksIndirectCountEXT-shadingRateImage-09233

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_COARSE_SAMPLE_ORDER_NV` and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoarseSampleOrderNV](primsrast.html#vkCmdSetCoarseSampleOrderNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-shadingRateImage-09234) VUID-vkCmdDrawMeshTasksIndirectCountEXT-shadingRateImage-09234

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08637) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08637

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** be greater than or
equal to the `viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-VkPipelineVieportCreateInfo-04141) VUID-vkCmdDrawMeshTasksIndirectCountEXT-VkPipelineVieportCreateInfo-04141

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV) structure chained from
[VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound graphics
pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-VkPipelineVieportCreateInfo-04142) VUID-vkCmdDrawMeshTasksIndirectCountEXT-VkPipelineVieportCreateInfo-04142

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV) structure
chained from [VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound
graphics pipeline **must** have been created with
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV)::`exclusiveScissorCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07878) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07878

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_ENABLE_NV` dynamic state
enabled, then [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07879) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07879

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_NV` dynamic state enabled, and
the most recent call to [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) in the
current command buffer set any element of `pExclusiveScissorEnables`
to `VK_TRUE`, then [vkCmdSetExclusiveScissorNV](fragops.html#vkCmdSetExclusiveScissorNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-04876) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-04876

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE` dynamic state enabled,
then [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-04877) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-04877

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBiasEnable](primsrast.html#vkCmdSetDepthBiasEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-logicOp-04878) VUID-vkCmdDrawMeshTasksIndirectCountEXT-logicOp-04878

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `logicOpEnable` is
`VK_TRUE`, then [vkCmdSetLogicOpEXT](framebuffer.html#vkCmdSetLogicOpEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-primitiveFragmentShadingRateWithMultipleViewports-04552) VUID-vkCmdDrawMeshTasksIndirectCountEXT-primitiveFragmentShadingRateWithMultipleViewports-04552

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, and
any of the shader stages of the bound graphics pipeline write to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-primitiveFragmentShadingRateWithMultipleViewports-08642) VUID-vkCmdDrawMeshTasksIndirectCountEXT-primitiveFragmentShadingRateWithMultipleViewports-08642

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, and any shader object bound to a graphics stage writes to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-blendEnable-04727) VUID-vkCmdDrawMeshTasksIndirectCountEXT-blendEnable-04727

If rasterization is not disabled in the bound graphics pipeline, then
for each color attachment in the subpass, if the corresponding image
view’s [format features](resources.html#resources-image-view-format-features) do not
contain `VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
`blendEnable` member of the corresponding element of the
`pAttachments` member of `pColorBlendState` **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08643) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08643

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then for each color attachment in the render pass, if
the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) do not contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
corresponding member of `pColorBlendEnables` in the most recent call
to `vkCmdSetColorBlendEnableEXT` in the current command buffer that
affected that attachment index **must** have been `VK_FALSE`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-multisampledRenderToSingleSampled-07284) VUID-vkCmdDrawMeshTasksIndirectCountEXT-multisampledRenderToSingleSampled-07284

If rasterization is not disabled in the bound graphics pipeline,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then `rasterizationSamples` for the bound graphics pipeline **must** be the
same as the current subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08644) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08644

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then the most recent call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) in the
current command buffer **must** have set `rasterizationSamples` to be the
same as the number of samples for the current render pass color and/or
depth/stencil attachments

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08876) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08876

If a shader object is bound to any graphics stage, the current render
pass instance **must** have been begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-imageView-06172) VUID-vkCmdDrawMeshTasksIndirectCountEXT-imageView-06172

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the depth attachment

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-imageView-06173) VUID-vkCmdDrawMeshTasksIndirectCountEXT-imageView-06173

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-imageView-06174) VUID-vkCmdDrawMeshTasksIndirectCountEXT-imageView-06174

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL`, this
command **must** not write any values to the depth attachment

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-imageView-06175) VUID-vkCmdDrawMeshTasksIndirectCountEXT-imageView-06175

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL`, this
command **must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-imageView-06176) VUID-vkCmdDrawMeshTasksIndirectCountEXT-imageView-06176

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the depth attachment

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-imageView-06177) VUID-vkCmdDrawMeshTasksIndirectCountEXT-imageView-06177

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the stencil attachment

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-viewMask-06178) VUID-vkCmdDrawMeshTasksIndirectCountEXT-viewMask-06178

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a [VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`viewMask` equal
to [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`viewMask`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-colorAttachmentCount-06179) VUID-vkCmdDrawMeshTasksIndirectCountEXT-colorAttachmentCount-06179

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`colorAttachmentCount` equal to
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-dynamicRenderingUnusedAttachments-08910) VUID-vkCmdDrawMeshTasksIndirectCountEXT-dynamicRenderingUnusedAttachments-08910

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have
been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-dynamicRenderingUnusedAttachments-08912) VUID-vkCmdDrawMeshTasksIndirectCountEXT-dynamicRenderingUnusedAttachments-08912

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have the
corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound pipeline equal to `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-dynamicRenderingUnusedAttachments-08911) VUID-vkCmdDrawMeshTasksIndirectCountEXT-dynamicRenderingUnusedAttachments-08911

If the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled, and the
current render pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`,
then each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments`
array with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must**
have been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding
element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline, or the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats`, if
it exists, **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-colorAttachmentCount-09362) VUID-vkCmdDrawMeshTasksIndirectCountEXT-colorAttachmentCount-09362

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`,
there is no shader object bound to any graphics stage,
and a color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`resolveImageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09363) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09363

If
there is no shader object bound to any graphics stage,
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, and a
color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09364) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09364

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set the blend enable
to `VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09365) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09365

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09366) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09366

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set blend enable to
`VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-rasterizationSamples-09367) VUID-vkCmdDrawMeshTasksIndirectCountEXT-rasterizationSamples-09367

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09368) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09368

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09369) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09369

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-pFragmentSize-09370) VUID-vkCmdDrawMeshTasksIndirectCountEXT-pFragmentSize-09370

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-pFragmentSize-09371) VUID-vkCmdDrawMeshTasksIndirectCountEXT-pFragmentSize-09371

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07749) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07749

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08646) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08646

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-attachmentCount-07750) VUID-vkCmdDrawMeshTasksIndirectCountEXT-attachmentCount-07750

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
the `attachmentCount` parameter of `vkCmdSetColorWriteEnableEXT`
**must** be greater than or equal to the
`VkPipelineColorBlendStateCreateInfo`::`attachmentCount` of the
bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08647) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08647

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then the
`attachmentCount` parameter of most recent call to
`vkCmdSetColorWriteEnableEXT` in the current command buffer **must** be
greater than or equal to the number of color attachments in the current
render pass instance

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07751) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07751

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled, a
graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) included a
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT)::`discardRectangleCount`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-rasterizerDiscardEnable-09236) VUID-vkCmdDrawMeshTasksIndirectCountEXT-rasterizerDiscardEnable-09236

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) did not
include a [VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPhysicalDeviceDiscardRectanglePropertiesEXT](limits.html#VkPhysicalDeviceDiscardRectanglePropertiesEXT)::`maxDiscardRectangles`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07880) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07880

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_ENABLE_EXT` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDiscardRectangleEnableEXT](fragops.html#vkCmdSetDiscardRectangleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07881) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07881

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_MODE_EXT` dynamic state enabled,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleModeEXT](fragops.html#vkCmdSetDiscardRectangleModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-dynamicRenderingUnusedAttachments-08913) VUID-vkCmdDrawMeshTasksIndirectCountEXT-dynamicRenderingUnusedAttachments-08913

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-dynamicRenderingUnusedAttachments-08914) VUID-vkCmdDrawMeshTasksIndirectCountEXT-dynamicRenderingUnusedAttachments-08914

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-dynamicRenderingUnusedAttachments-08915) VUID-vkCmdDrawMeshTasksIndirectCountEXT-dynamicRenderingUnusedAttachments-08915

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline was not equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`,
the value of the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-dynamicRenderingUnusedAttachments-08916) VUID-vkCmdDrawMeshTasksIndirectCountEXT-dynamicRenderingUnusedAttachments-08916

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-dynamicRenderingUnusedAttachments-08917) VUID-vkCmdDrawMeshTasksIndirectCountEXT-dynamicRenderingUnusedAttachments-08917

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-dynamicRenderingUnusedAttachments-08918) VUID-vkCmdDrawMeshTasksIndirectCountEXT-dynamicRenderingUnusedAttachments-08918

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline was not equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`, the value of
the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-imageView-06183) VUID-vkCmdDrawMeshTasksIndirectCountEXT-imageView-06183

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentShadingRateAttachmentInfoKHR](renderpass.html#VkRenderingFragmentShadingRateAttachmentInfoKHR)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-imageView-06184) VUID-vkCmdDrawMeshTasksIndirectCountEXT-imageView-06184

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentDensityMapAttachmentInfoEXT](renderpass.html#VkRenderingFragmentDensityMapAttachmentInfoEXT)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-colorAttachmentCount-06185) VUID-vkCmdDrawMeshTasksIndirectCountEXT-colorAttachmentCount-06185

If the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and the current render
pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
`0`, then each element of the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with a sample count equal to the corresponding element of the
`pColorAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-pDepthAttachment-06186) VUID-vkCmdDrawMeshTasksIndirectCountEXT-pDepthAttachment-06186

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-pStencilAttachment-06187) VUID-vkCmdDrawMeshTasksIndirectCountEXT-pStencilAttachment-06187

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-multisampledRenderToSingleSampled-07285) VUID-vkCmdDrawMeshTasksIndirectCountEXT-multisampledRenderToSingleSampled-07285

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    the current render pass instance was begun with
    [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
    `0`, then each element of the
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
    `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
    created with a sample count equal to the value of
    `rasterizationSamples` for the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-multisampledRenderToSingleSampled-07286) VUID-vkCmdDrawMeshTasksIndirectCountEXT-multisampledRenderToSingleSampled-07286

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-multisampledRenderToSingleSampled-07287) VUID-vkCmdDrawMeshTasksIndirectCountEXT-multisampledRenderToSingleSampled-07287

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-pNext-07935) VUID-vkCmdDrawMeshTasksIndirectCountEXT-pNext-07935

If this command has been called inside a render pass instance started
with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), and the `pNext` chain of
[VkRenderingInfo](renderpass.html#VkRenderingInfo) includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the value of `rasterizationSamples` for the bound graphics
pipeline **must** be equal to
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT)::`rasterizationSamples`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-renderPass-06198) VUID-vkCmdDrawMeshTasksIndirectCountEXT-renderPass-06198

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline **must** have been created
with a [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`renderPass` equal to
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-pColorAttachments-08963) VUID-vkCmdDrawMeshTasksIndirectCountEXT-pColorAttachments-08963

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound with a
fragment shader that statically writes to a color attachment, the color
write mask is not zero, color writes are enabled, and the corresponding
element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments->imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-pDepthAttachment-08964) VUID-vkCmdDrawMeshTasksIndirectCountEXT-pDepthAttachment-08964

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, depth
test is enabled, depth write is enabled, and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-pStencilAttachment-08965) VUID-vkCmdDrawMeshTasksIndirectCountEXT-pStencilAttachment-08965

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, stencil
test is enabled and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-flags-10582) VUID-vkCmdDrawMeshTasksIndirectCountEXT-flags-10582

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), its [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`flags`
parameter **must** not have
`VK_RENDERING_CONTENTS_SECONDARY_COMMAND_BUFFERS_BIT` set
unless `VK_RENDERING_CONTENTS_INLINE_BIT_KHR` is also set

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-primitivesGeneratedQueryWithRasterizerDiscard-06708) VUID-vkCmdDrawMeshTasksIndirectCountEXT-primitivesGeneratedQueryWithRasterizerDiscard-06708

If the [    `primitivesGeneratedQueryWithRasterizerDiscard`](features.html#features-primitivesGeneratedQueryWithRasterizerDiscard) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, [rasterization discard](primsrast.html#primsrast-discard) **must** not be enabled

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-primitivesGeneratedQueryWithNonZeroStreams-06709) VUID-vkCmdDrawMeshTasksIndirectCountEXT-primitivesGeneratedQueryWithNonZeroStreams-06709

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, the bound graphics pipeline **must** not have been created with a
non-zero value in
`VkPipelineRasterizationStateStreamCreateInfoEXT`::`rasterizationStream`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07620) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07620

If the [`depthClamp`](features.html#features-depthClamp) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthClampEnableEXT](vertexpostproc.html#vkCmdSetDepthClampEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07621) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07621

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_POLYGON_MODE_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07622) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07622

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07623) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07623

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-alphaToCoverageEnable-08919) VUID-vkCmdDrawMeshTasksIndirectCountEXT-alphaToCoverageEnable-08919

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and `alphaToCoverageEnable` was `VK_TRUE` in the last
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT), then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-alphaToCoverageEnable-08920) VUID-vkCmdDrawMeshTasksIndirectCountEXT-alphaToCoverageEnable-08920

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) in the current command
buffer set `alphaToCoverageEnable` to `VK_TRUE`, then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07624) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07624

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07625) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07625

If the [`alphaToOne`](features.html#features-alphaToOne) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_ONE_ENABLE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToOneEnableEXT](fragops.html#vkCmdSetAlphaToOneEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07626) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07626

If the [`logicOp`](features.html#features-logicOp) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetLogicOpEnableEXT](framebuffer.html#vkCmdSetLogicOpEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07627) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07627

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08657) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08657

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have
been called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime)
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07628) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07628

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08658) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08658

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) for any attachment set that
attachment’s value in `pColorBlendEnables` to `VK_TRUE`, then
[vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07629) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07629

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08659) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08659

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07630) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07630

If the [`geometryStreams`](features.html#features-geometryStreams) feature is
enabled, and
a shader object is bound to the `VK_SHADER_STAGE_GEOMETRY_BIT` stage
or
a graphics pipeline is bound which was created with both a
`VK_SHADER_STAGE_GEOMETRY_BIT` stage and the
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` dynamic state enabled,
then [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07631) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07631

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07632) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07632

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXTRA_PRIMITIVE_OVERESTIMATION_SIZE_EXT` dynamic
state enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`conservativeRasterizationMode` is
`VK_CONSERVATIVE_RASTERIZATION_MODE_OVERESTIMATE_EXT`, then
[vkCmdSetExtraPrimitiveOverestimationSizeEXT](primsrast.html#vkCmdSetExtraPrimitiveOverestimationSizeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07633) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07633

If the [`depthClipEnable`](features.html#features-depthClipEnable) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_ENABLE_EXT` dynamic state, then
[vkCmdSetDepthClipEnableEXT](vertexpostproc.html#vkCmdSetDepthClipEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07635) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07635

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-rasterizerDiscardEnable-09416) VUID-vkCmdDrawMeshTasksIndirectCountEXT-rasterizerDiscardEnable-09416

If the `[VK_EXT_blend_operation_advanced](../appendices/extensions.html#VK_EXT_blend_operation_advanced)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then at least one of [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT)
and [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07636) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07636

If the `[VK_EXT_provoking_vertex](../appendices/extensions.html#VK_EXT_provoking_vertex)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_PROVOKING_VERTEX_MODE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetProvokingVertexModeEXT](vertexpostproc.html#vkCmdSetProvokingVertexModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07637) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07637

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state enabled
then [vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08666) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08666

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08667) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08667

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08668) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08668

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07638) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07638

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` dynamic state enabled
then [vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08669) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08669

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08670) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08670

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08671) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08671

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07849) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07849

    If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled and
    a shader object is bound to any graphics stage, or
    a bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE`
    dynamic state enabled, the [current    value](pipelines.html#dynamic-state-current-value) of `rasterizerDiscardEnable` is `VK_FALSE`, and the
    [current value](pipelines.html#dynamic-state-current-value) of
    `stippledLineEnable` is `VK_TRUE`, then
[vkCmdSetLineStipple](primsrast.html#vkCmdSetLineStipple)
    **must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
    command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-10608) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-10608

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the current `lineRasterizationMode` is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM` or
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the current
`alphaToCoverageEnable`, `alphaToOneEnable` and
`sampleShadingEnable` states **must** all be `VK_FALSE`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07639) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07639

If the [`depthClipControl`](features.html#features-depthClipControl) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_NEGATIVE_ONE_TO_ONE_EXT` dynamic state
enabled, then [vkCmdSetDepthClipNegativeOneToOneEXT](vertexpostproc.html#vkCmdSetDepthClipNegativeOneToOneEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09650) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09650

If the [`depthClampControl`](features.html#features-depthClampControl) feature
is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_RANGE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`depthClampEnable` is `VK_TRUE`, then
[vkCmdSetDepthClampRangeEXT](fragops.html#vkCmdSetDepthClampRangeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07640) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07640

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_ENABLE_NV` dynamic state
enabled, then [vkCmdSetViewportWScalingEnableNV](vertexpostproc.html#vkCmdSetViewportWScalingEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07641) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07641

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state enabled, then
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07642) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07642

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07643) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07643

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_LOCATION_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageToColorEnable` is `VK_TRUE`, then
[vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07644) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07644

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_MODE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageModulationModeNV](fragops.html#vkCmdSetCoverageModulationModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07645) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07645

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationMode` is any value other than
`VK_COVERAGE_MODULATION_MODE_NONE_NV`, then
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07646) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07646

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationTableEnable` is `VK_TRUE`, then
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07647) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07647

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SHADING_RATE_IMAGE_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetShadingRateImageEnableNV](primsrast.html#vkCmdSetShadingRateImageEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-pipelineFragmentShadingRate-09238) VUID-vkCmdDrawMeshTasksIndirectCountEXT-pipelineFragmentShadingRate-09238

If the [    `pipelineFragmentShadingRate`](features.html#features-pipelineFragmentShadingRate) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07648) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07648

If the [    `representativeFragmentTest`](features.html#features-representativeFragmentTest) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_REPRESENTATIVE_FRAGMENT_TEST_ENABLE_NV` dynamic
state enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRepresentativeFragmentTestEnableNV](fragops.html#vkCmdSetRepresentativeFragmentTestEnableNV) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07649) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07649

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageReductionModeNV](fragops.html#vkCmdSetCoverageReductionModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-pColorBlendEnables-07470) VUID-vkCmdDrawMeshTasksIndirectCountEXT-pColorBlendEnables-07470

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` state enabled and the last
call to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) set `pColorBlendEnables`
for any attachment to `VK_TRUE`, then for those attachments in the
subpass the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-rasterizationSamples-07471) VUID-vkCmdDrawMeshTasksIndirectCountEXT-rasterizationSamples-07471

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
current subpass does not use any color and/or depth/stencil attachments,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** follow the rules for a
[zero-attachment subpass](renderpass.html#renderpass-noattachments)

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-samples-07472) VUID-vkCmdDrawMeshTasksIndirectCountEXT-samples-07472

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo)::`rasterizationSamples`
parameter used to create the bound graphics pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-samples-07473) VUID-vkCmdDrawMeshTasksIndirectCountEXT-samples-07473

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state and
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` states enabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
`rasterizationSamples` parameter in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-rasterizationSamples-07474) VUID-vkCmdDrawMeshTasksIndirectCountEXT-rasterizationSamples-07474

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and
the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
neither the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` nor the
`[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extensions are enabled, then
the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the current
subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09211) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09211

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled,
or a shader object is bound to any graphics stage,
and the current render pass instance includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the
`rasterizationSamples` member of that structure

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-firstAttachment-07476) VUID-vkCmdDrawMeshTasksIndirectCountEXT-firstAttachment-07476

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorBlendEnableEXT` calls **must** specify an
enable for all active color attachments in the current subpass

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-rasterizerDiscardEnable-09417) VUID-vkCmdDrawMeshTasksIndirectCountEXT-rasterizerDiscardEnable-09417

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEnableEXT`
calls **must** specify an enable for all active color attachments in the
current subpass

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-firstAttachment-07477) VUID-vkCmdDrawMeshTasksIndirectCountEXT-firstAttachment-07477

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-rasterizerDiscardEnable-09418) VUID-vkCmdDrawMeshTasksIndirectCountEXT-rasterizerDiscardEnable-09418

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have
been called in the current command buffer prior to this drawing command,
and the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-firstAttachment-07478) VUID-vkCmdDrawMeshTasksIndirectCountEXT-firstAttachment-07478

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorWriteMaskEXT` calls **must** specify the
color write mask for all active color attachments in the current subpass

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-rasterizerDiscardEnable-09419) VUID-vkCmdDrawMeshTasksIndirectCountEXT-rasterizerDiscardEnable-09419

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorWriteMaskEXT`
calls **must** specify the color write mask for all active color
attachments in the current subpass

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-firstAttachment-07479) VUID-vkCmdDrawMeshTasksIndirectCountEXT-firstAttachment-07479

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendAdvancedEXT`
calls **must** specify the advanced blend equations for all active color
attachments in the current subpass where blending is enabled

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-advancedBlendMaxColorAttachments-07480) VUID-vkCmdDrawMeshTasksIndirectCountEXT-advancedBlendMaxColorAttachments-07480

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` and
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic states enabled and
the last calls to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) and
[vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) have enabled advanced blending, then
the number of active color attachments in the current subpass **must** not
exceed [    `advancedBlendMaxColorAttachments`](limits.html#limits-advancedBlendMaxColorAttachments)

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-primitivesGeneratedQueryWithNonZeroStreams-07481) VUID-vkCmdDrawMeshTasksIndirectCountEXT-primitivesGeneratedQueryWithNonZeroStreams-07481

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, and the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` state enabled, the last
call to [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have set the
`rasterizationStream` to zero

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-sampleLocationsPerPixel-07482) VUID-vkCmdDrawMeshTasksIndirectCountEXT-sampleLocationsPerPixel-07482

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` member of the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo) structure the bound graphics
pipeline has been created with

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-sampleLocationsPerPixel-07483) VUID-vkCmdDrawMeshTasksIndirectCountEXT-sampleLocationsPerPixel-07483

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` parameter of the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-sampleLocationsEnable-07484) VUID-vkCmdDrawMeshTasksIndirectCountEXT-sampleLocationsEnable-07484

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), and the current subpass has a
depth/stencil attachment, then that attachment **must** have been created
with the `VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT`
bit set

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-sampleLocationsEnable-07485) VUID-vkCmdDrawMeshTasksIndirectCountEXT-sampleLocationsEnable-07485

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.width` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-sampleLocationsEnable-07486) VUID-vkCmdDrawMeshTasksIndirectCountEXT-sampleLocationsEnable-07486

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.height` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-sampleLocationsEnable-07487) VUID-vkCmdDrawMeshTasksIndirectCountEXT-sampleLocationsEnable-07487

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), the fragment shader code **must**
not statically use the extended instruction `InterpolateAtSample`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-sampleLocationsEnable-07936) VUID-vkCmdDrawMeshTasksIndirectCountEXT-sampleLocationsEnable-07936

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.width` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-sampleLocationsEnable-07937) VUID-vkCmdDrawMeshTasksIndirectCountEXT-sampleLocationsEnable-07937

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.height` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-sampleLocationsEnable-07938) VUID-vkCmdDrawMeshTasksIndirectCountEXT-sampleLocationsEnable-07938

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationsPerPixel` **must** equal
`rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-coverageModulationTableEnable-07488) VUID-vkCmdDrawMeshTasksIndirectCountEXT-coverageModulationTableEnable-07488

If
a shader object is bound to any graphics stage or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` state
enabled, and the last call to
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) set
`coverageModulationTableEnable` to `VK_TRUE`, then the
`coverageModulationTableCount` parameter in the last call to
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** equal the current
`rasterizationSamples` divided by the number of color samples in the
current subpass

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-rasterizationSamples-07489) VUID-vkCmdDrawMeshTasksIndirectCountEXT-rasterizationSamples-07489

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and if current subpass has a depth/stencil attachment and depth test,
stencil test, or depth bounds test are enabled in the bound pipeline,
then the current `rasterizationSamples` **must** be the same as the
sample count of the depth/stencil attachment

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-coverageToColorEnable-07490) VUID-vkCmdDrawMeshTasksIndirectCountEXT-coverageToColorEnable-07490

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` state enabled and the
last call to [vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-rasterizerDiscardEnable-09420) VUID-vkCmdDrawMeshTasksIndirectCountEXT-rasterizerDiscardEnable-09420

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the last call to
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-coverageReductionMode-07491) VUID-vkCmdDrawMeshTasksIndirectCountEXT-coverageReductionMode-07491

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` or
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic states enabled,
then the [current values](pipelines.html#dynamic-state-current-value) of
`coverageReductionMode`, `rasterizationSamples`, the sample
counts for the color and depth/stencil attachments (if the subpass has
them) **must** be a valid combination returned by
[vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV](fragops.html#vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV)

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-viewportCount-07492) VUID-vkCmdDrawMeshTasksIndirectCountEXT-viewportCount-07492

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-viewportCount-07493) VUID-vkCmdDrawMeshTasksIndirectCountEXT-viewportCount-07493

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic states enabled then
the `viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-viewportCount-09421) VUID-vkCmdDrawMeshTasksIndirectCountEXT-viewportCount-09421

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and a
shader object is bound to any graphics stage, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-rasterizationSamples-07494) VUID-vkCmdDrawMeshTasksIndirectCountEXT-rasterizationSamples-07494

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is not enabled, or the [current    value](pipelines.html#dynamic-state-current-value) of `coverageReductionMode` is not
`VK_COVERAGE_REDUCTION_MODE_TRUNCATE_NV`,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizationSamples` is greater than sample count of the color
attachment, then [sample shading](primsrast.html#primsrast-sampleshading) **must** be
disabled

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-stippledLineEnable-07495) VUID-vkCmdDrawMeshTasksIndirectCountEXT-stippledLineEnable-07495

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-stippledLineEnable-07496) VUID-vkCmdDrawMeshTasksIndirectCountEXT-stippledLineEnable-07496

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM`, then the
[`stippledBresenhamLines`](features.html#features-stippledBresenhamLines)
feature **must** be enabled

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-stippledLineEnable-07497) VUID-vkCmdDrawMeshTasksIndirectCountEXT-stippledLineEnable-07497

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the
[`stippledSmoothLines`](features.html#features-stippledSmoothLines) feature
**must** be enabled

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-stippledLineEnable-07498) VUID-vkCmdDrawMeshTasksIndirectCountEXT-stippledLineEnable-07498

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_DEFAULT`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled and
[VkPhysicalDeviceLimits](limits.html#VkPhysicalDeviceLimits)::`strictLines` **must** be `VK_TRUE`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-conservativePointAndLineRasterization-07499) VUID-vkCmdDrawMeshTasksIndirectCountEXT-conservativePointAndLineRasterization-07499

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, [    `conservativePointAndLineRasterization`](limits.html#limits-conservativePointAndLineRasterization) is not supported, and the
effective primitive topology output by the last pre-rasterization shader
stage is a line or point, then the `conservativeRasterizationMode`
set by the last call to [vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT)
**must** be `VK_CONSERVATIVE_RASTERIZATION_MODE_DISABLED_EXT`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-stage-07073) VUID-vkCmdDrawMeshTasksIndirectCountEXT-stage-07073

If the bound pipeline was created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of an element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT`, then [Mesh    Shader Queries](queries.html#queries-mesh-shader) **must** not be active

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08877) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08877

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07850) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07850

If dynamic state was inherited from
[VkCommandBufferInheritanceViewportScissorInfoNV](cmdbuffers.html#VkCommandBufferInheritanceViewportScissorInfoNV), it **must** be set
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-nextStage-10745) VUID-vkCmdDrawMeshTasksIndirectCountEXT-nextStage-10745

For each shader object bound to a graphics stage, except for shader
object bound to the last graphics stage in the logical pipeline, it
**must** have been created with a `nextStage` including the
corresponding bit to the shader object bound to the following graphics
stage in the logical pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08684) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08684

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_VERTEX_BIT`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08685) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08685

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08686) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08686

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08687) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08687

If there is no bound graphics pipeline, and the
[`geometryShader`](features.html#features-geometryShader) feature is enabled,
`vkCmdBindShadersEXT` **must** have been called in the current command
buffer with `pStages` with an element of
`VK_SHADER_STAGE_GEOMETRY_BIT`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08688) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08688

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_FRAGMENT_BIT`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08689) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08689

If there is no bound graphics pipeline, and the [    `taskShader`](features.html#features-taskShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_TASK_BIT_EXT`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08690) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08690

If there is no bound graphics pipeline, and the [    `meshShader`](features.html#features-meshShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_MESH_BIT_EXT`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08693) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08693

If there is no bound graphics pipeline, and at least one of the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features is enabled, one of the
`VK_SHADER_STAGE_VERTEX_BIT` or `VK_SHADER_STAGE_MESH_BIT_EXT`
stages **must** have a valid `VkShaderEXT` bound, and the other **must**
have no `VkShaderEXT` bound

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08696) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08696

If there is no bound graphics pipeline, and a valid `VkShaderEXT` is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, there **must** be no
`VkShaderEXT` bound to either the `VK_SHADER_STAGE_TASK_BIT_EXT`
stage or the `VK_SHADER_STAGE_MESH_BIT_EXT` stage

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08698) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08698

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, then all shaders created
with the `VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag in the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** also be bound

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08699) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08699

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, any stages in between
stages whose shaders which did not create a shader with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag as part of the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** not have any `VkShaderEXT` bound

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08878) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08878

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) push constant
ranges

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08879) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08879

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) arrays of
descriptor set layouts

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-colorAttachmentCount-09372) VUID-vkCmdDrawMeshTasksIndirectCountEXT-colorAttachmentCount-09372

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, a color
attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, and a fragment
shader is bound, it **must** not declare the `DepthReplacing` or
`StencilRefReplacingEXT` execution modes

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-pDynamicStates-08715) VUID-vkCmdDrawMeshTasksIndirectCountEXT-pDynamicStates-08715

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpDepthAttachmentReadEXT`, the `depthWriteEnable` parameter
in the last call to [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-pDynamicStates-08716) VUID-vkCmdDrawMeshTasksIndirectCountEXT-pDynamicStates-08716

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpStencilAttachmentReadEXT`, the `writeMask` parameter in
the last call to [vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** be `0`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09116) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09116

    If
    a shader object is bound to any graphics stage
or
    the bound graphics pipeline was created with
    `VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT`,
    and the format of any color attachment is
    `VK_FORMAT_E5B9G9R9_UFLOAT_PACK32`, the corresponding element of the
    `pColorWriteMasks` parameter of [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT)
    **must** either include all of `VK_COLOR_COMPONENT_R_BIT`,
    `VK_COLOR_COMPONENT_G_BIT`, and `VK_COLOR_COMPONENT_B_BIT`, or
    none of them

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-maxFragmentDualSrcAttachments-09239) VUID-vkCmdDrawMeshTasksIndirectCountEXT-maxFragmentDualSrcAttachments-09239

If [blending](framebuffer.html#framebuffer-blending) is enabled for any attachment where
either the source or destination blend factors for that attachment
[use the secondary color input](framebuffer.html#framebuffer-dsb), the maximum value of
`Location` for any output attachment [statically    used](shaders.html#shaders-staticuse) in the `Fragment` `Execution` `Model` executed by this command
**must** be less than [    `maxFragmentDualSrcAttachments`](limits.html#limits-maxFragmentDualSrcAttachments)

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09548) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09548

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
the value of each element of
[VkRenderingAttachmentLocationInfo](interfaces.html#VkRenderingAttachmentLocationInfo)::`pColorAttachmentLocations`
set by [vkCmdSetRenderingAttachmentLocations](interfaces.html#vkCmdSetRenderingAttachmentLocations) **must** match the value
set for the corresponding element in the bound pipeline

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09549) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09549

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
input attachment index mappings in the bound pipeline **must** match those
set for the current render pass instance via
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09642) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09642

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with
the `VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag, the bound
graphics pipeline **must** have been created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09643) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-09643

If the bound graphics pipeline was created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`, the current
render pass **must** have begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with the
`VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-10677) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-10677

If the [per-tile execution model](renderpass.html#renderpass-per-tile-execution-model)
is enabled, the
[tileShadingPerTileDraw](features.html#features-tileShadingPerTileDraw) feature **must**
be enabled

[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-10772) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-10772

If a shader object is bound to any graphics stage, *multiview*
functionality **must** not be enabled in the current render pass

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-stage-06480) VUID-vkCmdDrawMeshTasksIndirectCountEXT-stage-06480

The bound graphics pipeline **must** not have been created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of any element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-pStages-10680) VUID-vkCmdDrawMeshTasksIndirectCountEXT-pStages-10680

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
not have last bound the `pStages` element of
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` with a valid shader object other than
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07074) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07074

[Transform Feedback Queries](queries.html#queries-transform-feedback) **must** not be
active

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07075) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-07075

[Primitives Generated Queries](queries.html#queries-primitives-generated) **must** not
be active

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-pipelineStatistics-07076) VUID-vkCmdDrawMeshTasksIndirectCountEXT-pipelineStatistics-07076

The `pipelineStatistics` member used to create any active
[Pipeline Statistics Query](queries.html#queries-pipestats) **must** not contain
`VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_VERTICES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_PRIMITIVES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_VERTEX_SHADER_INVOCATIONS_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_INVOCATIONS_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_PRIMITIVES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_CLIPPING_INVOCATIONS_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_CLIPPING_PRIMITIVES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_CONTROL_SHADER_PATCHES_BIT`,
or
`VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_EVALUATION_SHADER_INVOCATIONS_BIT`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08694) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08694

If there is no bound graphics pipeline, and both the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features are enabled, and a valid `VkShaderEXT`
is bound the to the `VK_SHADER_STAGE_MESH_BIT_EXT` stage, and that
`VkShaderEXT` was created without the
`VK_SHADER_CREATE_NO_TASK_SHADER_BIT_EXT` flag, a valid
`VkShaderEXT` **must** be bound to the
`VK_SHADER_STAGE_TASK_BIT_EXT` stage

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08695) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-08695

If there is no bound graphics pipeline, and both the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features are enabled, and a valid `VkShaderEXT`
is bound the to the `VK_SHADER_STAGE_MESH_BIT_EXT` stage, and that
`VkShaderEXT` was created with the
`VK_SHADER_CREATE_NO_TASK_SHADER_BIT_EXT` flag, there **must** be no
`VkShaderEXT` bound to the `VK_SHADER_STAGE_TASK_BIT_EXT` stage

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-buffer-02708) VUID-vkCmdDrawMeshTasksIndirectCountEXT-buffer-02708

If `buffer` is non-sparse then it **must** be bound completely and
contiguously to a single `VkDeviceMemory` object

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-buffer-02709) VUID-vkCmdDrawMeshTasksIndirectCountEXT-buffer-02709

`buffer` **must** have been created with the
`VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT` bit set

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-offset-02710) VUID-vkCmdDrawMeshTasksIndirectCountEXT-offset-02710

`offset` **must** be a multiple of `4`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-commandBuffer-02711) VUID-vkCmdDrawMeshTasksIndirectCountEXT-commandBuffer-02711

`commandBuffer` **must** not be a protected command buffer

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-countBuffer-02714) VUID-vkCmdDrawMeshTasksIndirectCountEXT-countBuffer-02714

If `countBuffer` is non-sparse then it **must** be bound completely and
contiguously to a single `VkDeviceMemory` object

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-countBuffer-02715) VUID-vkCmdDrawMeshTasksIndirectCountEXT-countBuffer-02715

`countBuffer` **must** have been created with the
`VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT` bit set

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-countBufferOffset-02716) VUID-vkCmdDrawMeshTasksIndirectCountEXT-countBufferOffset-02716

`countBufferOffset` **must** be a multiple of `4`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-countBuffer-02717) VUID-vkCmdDrawMeshTasksIndirectCountEXT-countBuffer-02717

The count stored in `countBuffer` **must** be less than or equal to
`VkPhysicalDeviceLimits`::`maxDrawIndirectCount`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-countBufferOffset-04129) VUID-vkCmdDrawMeshTasksIndirectCountEXT-countBufferOffset-04129

(`countBufferOffset` +  `sizeof`(uint32_t)) **must** be
less than or equal to the size of `countBuffer`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-04445) VUID-vkCmdDrawMeshTasksIndirectCountEXT-None-04445

If the [`drawIndirectCount`](features.html#features-drawIndirectCount) feature
is not enabled this function **must** not be used

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-stride-07096) VUID-vkCmdDrawMeshTasksIndirectCountEXT-stride-07096

`stride` **must** be a multiple of `4` and **must** be greater than or
equal to `sizeof`(`VkDrawMeshTasksIndirectCommandEXT`)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-maxDrawCount-07097) VUID-vkCmdDrawMeshTasksIndirectCountEXT-maxDrawCount-07097

If `maxDrawCount` is greater than or equal to `1`,
(`stride` × (`maxDrawCount` - 1) +  `offset`
+  `sizeof`(`VkDrawMeshTasksIndirectCommandEXT`)) **must** be
less than or equal to the size of `buffer`

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-MeshEXT-07100) VUID-vkCmdDrawMeshTasksIndirectCountEXT-MeshEXT-07100

The current pipeline bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`
**must** contain a shader stage using the `MeshEXT` `Execution` `Model`

Valid Usage (Implicit)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-commandBuffer-parameter) VUID-vkCmdDrawMeshTasksIndirectCountEXT-commandBuffer-parameter

 `commandBuffer` **must** be a valid [VkCommandBuffer](cmdbuffers.html#VkCommandBuffer) handle

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-buffer-parameter) VUID-vkCmdDrawMeshTasksIndirectCountEXT-buffer-parameter

 `buffer` **must** be a valid [VkBuffer](resources.html#VkBuffer) handle

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-countBuffer-parameter) VUID-vkCmdDrawMeshTasksIndirectCountEXT-countBuffer-parameter

 `countBuffer` **must** be a valid [VkBuffer](resources.html#VkBuffer) handle

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-commandBuffer-recording) VUID-vkCmdDrawMeshTasksIndirectCountEXT-commandBuffer-recording

 `commandBuffer` **must** be in the [recording state](cmdbuffers.html#commandbuffers-lifecycle)

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-commandBuffer-cmdpool) VUID-vkCmdDrawMeshTasksIndirectCountEXT-commandBuffer-cmdpool

 The `VkCommandPool` that `commandBuffer` was allocated from **must** support graphics operations

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-renderpass) VUID-vkCmdDrawMeshTasksIndirectCountEXT-renderpass

 This command **must** only be called inside of a render pass instance

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-videocoding) VUID-vkCmdDrawMeshTasksIndirectCountEXT-videocoding

 This command **must** only be called outside of a video coding scope

* 
[](#VUID-vkCmdDrawMeshTasksIndirectCountEXT-commonparent) VUID-vkCmdDrawMeshTasksIndirectCountEXT-commonparent

 Each of `buffer`, `commandBuffer`, and `countBuffer` **must** have been created, allocated, or retrieved from the same [VkDevice](devsandqueues.html#VkDevice)

Host Synchronization

* 
Host access to `commandBuffer` **must** be externally synchronized

* 
Host access to the `VkCommandPool` that `commandBuffer` was allocated from **must** be externally synchronized

Command Properties
| [Command Buffer Levels](cmdbuffers.html#VkCommandBufferLevel) | [Render Pass Scope](renderpass.html#vkCmdBeginRenderPass) | [Video Coding Scope](videocoding.html#vkCmdBeginVideoCodingKHR) | [Supported Queue Types](devsandqueues.html#VkQueueFlagBits) | [Command Type](fundamentals.html#fundamentals-queueoperation-command-types) |
| --- | --- | --- | --- | --- |
| Primary

Secondary | Inside | Outside | Graphics | Action |

In this drawing approach, cluster are generated by the cluster culling
shader stage.
It operates similarly to [dispatching compute](dispatch.html#dispatch) as the shaders
make use of workgroups.

To record a cluster culling shader drawing command, call:

// Provided by VK_HUAWEI_cluster_culling_shader
void vkCmdDrawClusterHUAWEI(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    groupCountX,
    uint32_t                                    groupCountY,
    uint32_t                                    groupCountZ);

* 
`commandBuffer` is the command buffer into which the command will be
recorded.

* 
`groupCountX` is the number of local workgroups to dispatch in the X
dimension.

* 
`groupCountY` is the number of local workgroups to dispatch in the Y
dimension.

* 
`groupCountZ` is the number of local workgroups to dispatch in the Z
dimension.

When the command is executed,a global workgroup consisting of
groupCountX*groupCountY*groupCountZ local workgroup is assembled.
Note that the cluster culling shader pipeline only accepts
`vkCmdDrawClusterHUAWEI` and [vkCmdDrawClusterIndirectHUAWEI](#vkCmdDrawClusterIndirectHUAWEI) as
drawing commands.

Valid Usage

* 
[](#VUID-vkCmdDrawClusterHUAWEI-magFilter-04553) VUID-vkCmdDrawClusterHUAWEI-magFilter-04553

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-magFilter-09598) VUID-vkCmdDrawClusterHUAWEI-magFilter-09598

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR` and `reductionMode` equal to either
`VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-mipmapMode-04770) VUID-vkCmdDrawClusterHUAWEI-mipmapMode-04770

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-mipmapMode-09599) VUID-vkCmdDrawClusterHUAWEI-mipmapMode-09599

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR` and `reductionMode` equal to
either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-unnormalizedCoordinates-09635) VUID-vkCmdDrawClusterHUAWEI-unnormalizedCoordinates-09635

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `levelCount` and `layerCount`
**must** be 1

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-08609) VUID-vkCmdDrawClusterHUAWEI-None-08609

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `viewType` **must** be
`VK_IMAGE_VIEW_TYPE_1D` or `VK_IMAGE_VIEW_TYPE_2D`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-08610) VUID-vkCmdDrawClusterHUAWEI-None-08610

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions with
`ImplicitLod`, `Dref` or `Proj` in their name

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-08611) VUID-vkCmdDrawClusterHUAWEI-None-08611

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions that includes a
LOD bias or any offset values

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-06479) VUID-vkCmdDrawClusterHUAWEI-None-06479

If a [VkImageView](resources.html#VkImageView) is sampled with
[depth comparison](textures.html#textures-depth-compare-operation), the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_SAMPLED_IMAGE_DEPTH_COMPARISON_BIT`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-02691) VUID-vkCmdDrawClusterHUAWEI-None-02691

If a [VkImageView](resources.html#VkImageView) is accessed using atomic operations as a result
of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-07888) VUID-vkCmdDrawClusterHUAWEI-None-07888

If a `VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER` descriptor is
accessed using atomic operations as a result of this command, then the
storage texel buffer’s [format    features](resources.html#resources-buffer-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-02692) VUID-vkCmdDrawClusterHUAWEI-None-02692

If a [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_CUBIC_BIT_EXT`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-02693) VUID-vkCmdDrawClusterHUAWEI-None-02693

If
the [VK_EXT_filter_cubic](../appendices/extensions.html#VK_EXT_filter_cubic) extension is not enabled and
any [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, it **must** not have a [VkImageViewType](resources.html#VkImageViewType) of
`VK_IMAGE_VIEW_TYPE_3D`, `VK_IMAGE_VIEW_TYPE_CUBE`, or
`VK_IMAGE_VIEW_TYPE_CUBE_ARRAY`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-filterCubic-02694) VUID-vkCmdDrawClusterHUAWEI-filterCubic-02694

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command **must** have a [VkImageViewType](resources.html#VkImageViewType) and format
that supports cubic filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubic`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawClusterHUAWEI-filterCubicMinmax-02695) VUID-vkCmdDrawClusterHUAWEI-filterCubicMinmax-02695

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` with
a reduction mode of either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` as a result of this command **must**
have a [VkImageViewType](resources.html#VkImageViewType) and format that supports cubic filtering
together with minmax filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubicMinmax`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawClusterHUAWEI-cubicRangeClamp-09212) VUID-vkCmdDrawClusterHUAWEI-cubicRangeClamp-09212

If the [`cubicRangeClamp`](features.html#features-cubicRangeClamp) feature is
not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** not have a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-reductionMode-09213) VUID-vkCmdDrawClusterHUAWEI-reductionMode-09213

Any [VkImageView](resources.html#VkImageView) being sampled with a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM` as a
result of this command **must** sample with `VK_FILTER_CUBIC_EXT`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-selectableCubicWeights-09214) VUID-vkCmdDrawClusterHUAWEI-selectableCubicWeights-09214

If the [`selectableCubicWeights`](features.html#features-selectableCubicWeights)
feature is not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** have
[VkSamplerCubicWeightsCreateInfoQCOM](samplers.html#VkSamplerCubicWeightsCreateInfoQCOM)::`cubicWeights` equal to
`VK_CUBIC_FILTER_WEIGHTS_CATMULL_ROM_QCOM`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-flags-02696) VUID-vkCmdDrawClusterHUAWEI-flags-02696

Any [VkImage](resources.html#VkImage) created with a [VkImageCreateInfo](resources.html#VkImageCreateInfo)::`flags`
containing `VK_IMAGE_CREATE_CORNER_SAMPLED_BIT_NV` sampled as a
result of this command **must** only be sampled using a
[VkSamplerAddressMode](samplers.html#VkSamplerAddressMode) of
`VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-OpTypeImage-07027) VUID-vkCmdDrawClusterHUAWEI-OpTypeImage-07027

For any [VkImageView](resources.html#VkImageView) being written as a storage image where the
image format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-OpTypeImage-07028) VUID-vkCmdDrawClusterHUAWEI-OpTypeImage-07028

For any [VkImageView](resources.html#VkImageView) being read as a storage image where the image
format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-OpTypeImage-07029) VUID-vkCmdDrawClusterHUAWEI-OpTypeImage-07029

For any [VkBufferView](resources.html#VkBufferView) being written as a storage texel buffer where
the image format field of the `OpTypeImage` is `Unknown`, the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-OpTypeImage-07030) VUID-vkCmdDrawClusterHUAWEI-OpTypeImage-07030

Any [VkBufferView](resources.html#VkBufferView) being read as a storage texel buffer where the
image format field of the `OpTypeImage` is `Unknown` then the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-08600) VUID-vkCmdDrawClusterHUAWEI-None-08600

For each set *n* that is statically used by [a bound    shader](shaders.html#shaders-binding), a descriptor set **must** have been bound to *n* at the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for set *n*, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the current
[VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-08601) VUID-vkCmdDrawClusterHUAWEI-None-08601

For each push constant that is statically used by [a    bound shader](shaders.html#shaders-binding), a push constant value **must** have been set for the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the
current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-10068) VUID-vkCmdDrawClusterHUAWEI-None-10068

For each array of resources that is used by [a bound    shader](shaders.html#shaders-binding), the indices used to access members of the array **must** be less
than the descriptor count for the identified binding in the descriptor
sets used by this command

* 
[](#VUID-vkCmdDrawClusterHUAWEI-maintenance4-08602) VUID-vkCmdDrawClusterHUAWEI-maintenance4-08602

If the [`maintenance4`](features.html#features-maintenance4) feature is not
enabled, then for each push constant that is statically used by
[a bound shader](shaders.html#shaders-binding), a push constant value **must** have
been set for the same pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
that is compatible for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
used to create the current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) and [VkPushConstantRange](descriptorsets.html#VkPushConstantRange) arrays
used to create the current [VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-08114) VUID-vkCmdDrawClusterHUAWEI-None-08114

Descriptors in each bound descriptor set, specified via
[vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), **must** be valid as described by
[descriptor validity](descriptorsets.html#descriptor-validity) if they are statically used
by
the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind point used by this
command and the bound [VkPipeline](pipelines.html#VkPipeline) was not created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-08115) VUID-vkCmdDrawClusterHUAWEI-None-08115

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), the bound
[VkPipeline](pipelines.html#VkPipeline) **must** have been created without
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-08116) VUID-vkCmdDrawClusterHUAWEI-None-08116

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind
point used by this command and the bound [VkPipeline](pipelines.html#VkPipeline) was created
with `VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-08604) VUID-vkCmdDrawClusterHUAWEI-None-08604

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-08117) VUID-vkCmdDrawClusterHUAWEI-None-08117

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT),
the bound [VkPipeline](pipelines.html#VkPipeline) **must** have been created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-08119) VUID-vkCmdDrawClusterHUAWEI-None-08119

If a descriptor is dynamically used with a [VkPipeline](pipelines.html#VkPipeline) created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the descriptor
memory **must** be resident

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-08605) VUID-vkCmdDrawClusterHUAWEI-None-08605

If a descriptor is dynamically used with a [VkShaderEXT](shaders.html#VkShaderEXT) created
with a `VkDescriptorSetLayout` that was created with
`VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the
descriptor memory **must** be resident

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-08606) VUID-vkCmdDrawClusterHUAWEI-None-08606

If the [`shaderObject`](features.html#features-shaderObject) feature is not
enabled, a
valid pipeline **must** be bound to the pipeline bind point used by this
command

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-08608) VUID-vkCmdDrawClusterHUAWEI-None-08608

If a pipeline is bound to the pipeline bind point used by this command,
there
**must** not have been any calls to dynamic state setting commands for any
state specified statically in the [VkPipeline](pipelines.html#VkPipeline) object bound to the
pipeline bind point used by this command, since that pipeline was bound

* 
[](#VUID-vkCmdDrawClusterHUAWEI-uniformBuffers-06935) VUID-vkCmdDrawClusterHUAWEI-uniformBuffers-06935

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a uniform buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`uniformBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-08612) VUID-vkCmdDrawClusterHUAWEI-None-08612

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a uniform
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawClusterHUAWEI-storageBuffers-06936) VUID-vkCmdDrawClusterHUAWEI-storageBuffers-06936

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a storage buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`storageBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-08613) VUID-vkCmdDrawClusterHUAWEI-None-08613

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a storage
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawClusterHUAWEI-commandBuffer-02707) VUID-vkCmdDrawClusterHUAWEI-commandBuffer-02707

If `commandBuffer` is an unprotected command buffer and
[`protectedNoFault`](devsandqueues.html#limits-protectedNoFault) is not supported,
any resource accessed by [bound shaders](shaders.html#shaders-binding) **must** not be
a protected resource

* 
[](#VUID-vkCmdDrawClusterHUAWEI-viewType-07752) VUID-vkCmdDrawClusterHUAWEI-viewType-07752

If a [VkImageView](resources.html#VkImageView) is accessed as a result of this command, then the
image view’s `viewType` **must** match the `Dim` operand of the
`OpTypeImage` as described in [Compatibility Between SPIR-V Image Dimensions and Vulkan ImageView Types](../appendices/spirvenv.html#spirvenv-image-dimensions)

* 
[](#VUID-vkCmdDrawClusterHUAWEI-format-07753) VUID-vkCmdDrawClusterHUAWEI-format-07753

If a [VkImageView](resources.html#VkImageView) or [VkBufferView](resources.html#VkBufferView) is accessed as a result of
this command, then the [numeric type](formats.html#formats-numericformat) of the
view’s `format` and the `Sampled` `Type` operand of the
`OpTypeImage` **must** match

* 
[](#VUID-vkCmdDrawClusterHUAWEI-OpImageWrite-08795) VUID-vkCmdDrawClusterHUAWEI-OpImageWrite-08795

If a [VkImageView](resources.html#VkImageView)
created with a format other than `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
at least as many components as the image view’s format

* 
[](#VUID-vkCmdDrawClusterHUAWEI-OpImageWrite-08796) VUID-vkCmdDrawClusterHUAWEI-OpImageWrite-08796

If a [VkImageView](resources.html#VkImageView) created with the format `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
four components

* 
[](#VUID-vkCmdDrawClusterHUAWEI-OpImageWrite-04469) VUID-vkCmdDrawClusterHUAWEI-OpImageWrite-04469

If a [VkBufferView](resources.html#VkBufferView) is accessed using `OpImageWrite` as a result
of this command, then the `Type` of the `Texel` operand of that
instruction **must** have at least as many components as the buffer view’s
format

* 
[](#VUID-vkCmdDrawClusterHUAWEI-SampledType-04470) VUID-vkCmdDrawClusterHUAWEI-SampledType-04470

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit component
width is accessed as a result of this command, the `SampledType` of
the `OpTypeImage` operand of that instruction **must** have a `Width`
of 64

* 
[](#VUID-vkCmdDrawClusterHUAWEI-SampledType-04471) VUID-vkCmdDrawClusterHUAWEI-SampledType-04471

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawClusterHUAWEI-SampledType-04472) VUID-vkCmdDrawClusterHUAWEI-SampledType-04472

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit
component width is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 64

* 
[](#VUID-vkCmdDrawClusterHUAWEI-SampledType-04473) VUID-vkCmdDrawClusterHUAWEI-SampledType-04473

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawClusterHUAWEI-sparseImageInt64Atomics-04474) VUID-vkCmdDrawClusterHUAWEI-sparseImageInt64Atomics-04474

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkImage](resources.html#VkImage)
objects created with the `VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT` flag
**must** not be accessed by atomic instructions through an `OpTypeImage`
with a `SampledType` with a `Width` of 64 by this command

* 
[](#VUID-vkCmdDrawClusterHUAWEI-sparseImageInt64Atomics-04475) VUID-vkCmdDrawClusterHUAWEI-sparseImageInt64Atomics-04475

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkBuffer](resources.html#VkBuffer)
objects created with the `VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT`
flag **must** not be accessed by atomic instructions through an
`OpTypeImage` with a `SampledType` with a `Width` of 64 by this
command

* 
[](#VUID-vkCmdDrawClusterHUAWEI-OpImageWeightedSampleQCOM-06971) VUID-vkCmdDrawClusterHUAWEI-OpImageWeightedSampleQCOM-06971

If `OpImageWeightedSampleQCOM` is used to sample a [VkImageView](resources.html#VkImageView)
as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_SAMPLED_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-OpImageWeightedSampleQCOM-06972) VUID-vkCmdDrawClusterHUAWEI-OpImageWeightedSampleQCOM-06972

If `OpImageWeightedSampleQCOM` uses a [VkImageView](resources.html#VkImageView) as a sample
weight image as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-OpImageBoxFilterQCOM-06973) VUID-vkCmdDrawClusterHUAWEI-OpImageBoxFilterQCOM-06973

If `OpImageBoxFilterQCOM` is used to sample a [VkImageView](resources.html#VkImageView) as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BOX_FILTER_SAMPLED_BIT_QCOM`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-OpImageBlockMatchSSDQCOM-06974) VUID-vkCmdDrawClusterHUAWEI-OpImageBlockMatchSSDQCOM-06974

If `OpImageBlockMatchSSDQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-OpImageBlockMatchSADQCOM-06975) VUID-vkCmdDrawClusterHUAWEI-OpImageBlockMatchSADQCOM-06975

If `OpImageBlockMatchSADQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-OpImageBlockMatchSADQCOM-06976) VUID-vkCmdDrawClusterHUAWEI-OpImageBlockMatchSADQCOM-06976

If `OpImageBlockMatchSADQCOM` or OpImageBlockMatchSSDQCOM is used to
read from a reference image as result of this command, then the
specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawClusterHUAWEI-OpImageWeightedSampleQCOM-06977) VUID-vkCmdDrawClusterHUAWEI-OpImageWeightedSampleQCOM-06977

If `OpImageWeightedSampleQCOM`, `OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** have
been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-OpImageWeightedSampleQCOM-06978) VUID-vkCmdDrawClusterHUAWEI-OpImageWeightedSampleQCOM-06978

If any command other than `OpImageWeightedSampleQCOM`,
`OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** not
have been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-OpImageBlockMatchWindow-09215) VUID-vkCmdDrawClusterHUAWEI-OpImageBlockMatchWindow-09215

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-OpImageBlockMatchWindow-09216) VUID-vkCmdDrawClusterHUAWEI-OpImageBlockMatchWindow-09216

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
format **must** be a single-component format

* 
[](#VUID-vkCmdDrawClusterHUAWEI-OpImageBlockMatchWindow-09217) VUID-vkCmdDrawClusterHUAWEI-OpImageBlockMatchWindow-09217

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` read from a reference image as result
of this command, then the specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-07288) VUID-vkCmdDrawClusterHUAWEI-None-07288

Any shader invocation executed by this command **must**
[terminate](shaders.html#shaders-termination)

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-09600) VUID-vkCmdDrawClusterHUAWEI-None-09600

If a descriptor with type equal to any of
`VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE`,
`VK_DESCRIPTOR_TYPE_STORAGE_IMAGE`, or
`VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT` is accessed as a result of
this command, all image subresources identified by that descriptor **must**
be in the image layout identified when the descriptor was written

* 
[](#VUID-vkCmdDrawClusterHUAWEI-commandBuffer-10746) VUID-vkCmdDrawClusterHUAWEI-commandBuffer-10746

The `VkDeviceMemory` object allocated from a `VkMemoryHeap` with
the `VK_MEMORY_HEAP_TILE_MEMORY_BIT_QCOM` property that is bound to
a resource accessed as a result of this command **must** be the active
bound [bound tile memory object](memory.html#memory-bind-tile-memory) in
`commandBuffer`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-10678) VUID-vkCmdDrawClusterHUAWEI-None-10678

If this command is recorded inside a [tile    shading render pass](renderpass.html#renderpass-tile-shading) instance, the stages corresponding to the pipeline
bind point used by this command **must** only include
`VK_SHADER_STAGE_VERTEX_BIT`, `VK_SHADER_STAGE_FRAGMENT_BIT`,
and/or `VK_SHADER_STAGE_COMPUTE_BIT`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-10679) VUID-vkCmdDrawClusterHUAWEI-None-10679

If this command is recorded where
[per-tile execution model](renderpass.html#renderpass-per-tile-execution-model) is
enabled, there **must** be no access to any image while the image was be
transitioned to the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` layout

* 
[](#VUID-vkCmdDrawClusterHUAWEI-renderPass-02684) VUID-vkCmdDrawClusterHUAWEI-renderPass-02684

The current render pass **must** be [compatible](renderpass.html#renderpass-compatibility)
with the `renderPass` member of the
`VkGraphicsPipelineCreateInfo` structure specified when creating the
`VkPipeline` bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-subpass-02685) VUID-vkCmdDrawClusterHUAWEI-subpass-02685

The subpass index of the current render pass **must** be equal to the
`subpass` member of the `VkGraphicsPipelineCreateInfo` structure
specified when creating the `VkPipeline` bound to
`VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-07748) VUID-vkCmdDrawClusterHUAWEI-None-07748

If any shader statically accesses an input attachment, a valid
descriptor **must** be bound to the pipeline via a descriptor set

* 
[](#VUID-vkCmdDrawClusterHUAWEI-OpTypeImage-07468) VUID-vkCmdDrawClusterHUAWEI-OpTypeImage-07468

If any shader executed by this pipeline accesses an `OpTypeImage`
variable with a `Dim` operand of `SubpassData`, it **must** be
decorated with an `InputAttachmentIndex` that corresponds to a valid
input attachment in the current subpass

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-07469) VUID-vkCmdDrawClusterHUAWEI-None-07469

Input attachment views accessed in a subpass **must** be created with the
same [VkFormat](formats.html#VkFormat) as the corresponding subpass definition, and be
created with a [VkImageView](resources.html#VkImageView) that is compatible with the attachment
referenced by the subpass'
`pInputAttachments`[`InputAttachmentIndex`] in the bound
[VkFramebuffer](renderpass.html#VkFramebuffer) as specified by
[Fragment Input Attachment    Compatibility](interfaces.html#compatibility-inputattachment)

* 
[](#VUID-vkCmdDrawClusterHUAWEI-pDepthInputAttachmentIndex-09595) VUID-vkCmdDrawClusterHUAWEI-pDepthInputAttachmentIndex-09595

Input attachment views accessed in a dynamic render pass with a
`InputAttachmentIndex` referenced by
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo), or no
`InputAttachmentIndex` if
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
or
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are `NULL`, **must** be created with a [VkImageView](resources.html#VkImageView) that is compatible
with the corresponding color, depth, or stencil attachment in
[VkRenderingInfo](renderpass.html#VkRenderingInfo)

* 
[](#VUID-vkCmdDrawClusterHUAWEI-pDepthInputAttachmentIndex-09596) VUID-vkCmdDrawClusterHUAWEI-pDepthInputAttachmentIndex-09596

Input attachment views accessed in a dynamic render pass via a shader
object **must** have an `InputAttachmentIndex` if both
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
and
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are non-`NULL`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-InputAttachmentIndex-09597) VUID-vkCmdDrawClusterHUAWEI-InputAttachmentIndex-09597

If an input attachment view accessed in a dynamic render pass via a
shader object has an `InputAttachmentIndex`, the
`InputAttachmentIndex` **must** match an index in
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-06537) VUID-vkCmdDrawClusterHUAWEI-None-06537

Memory backing image subresources used as attachments in the current
render pass **must** not be written in any way other than as an attachment
by this command

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-09000) VUID-vkCmdDrawClusterHUAWEI-None-09000

If a color attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

the `VK_PIPELINE_CREATE_COLOR_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT` is
set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_COLOR_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawClusterHUAWEI-None-09001) VUID-vkCmdDrawClusterHUAWEI-None-09001

If a depth attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_DEPTH_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawClusterHUAWEI-None-09002) VUID-vkCmdDrawClusterHUAWEI-None-09002

If a stencil attachment is written by any prior command in this subpass
or by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_STENCIL_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawClusterHUAWEI-None-09003) VUID-vkCmdDrawClusterHUAWEI-None-09003

If an attachment is written by any prior command in this subpass or by
the load, store, or resolve operations for this subpass, it **must** not be
accessed in any way other than as an attachment, storage image, or
sampled image by this command

[](#VUID-vkCmdDrawClusterHUAWEI-None-06539) VUID-vkCmdDrawClusterHUAWEI-None-06539

If any previously recorded command in the current subpass accessed an
image subresource used as an attachment in this subpass in any way other
than as an attachment, this command **must** not write to that image
subresource as an attachment

[](#VUID-vkCmdDrawClusterHUAWEI-None-06886) VUID-vkCmdDrawClusterHUAWEI-None-06886

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the depth aspect, [depth    writes](fragops.html#fragops-depth-write) **must** be disabled

[](#VUID-vkCmdDrawClusterHUAWEI-None-06887) VUID-vkCmdDrawClusterHUAWEI-None-06887

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the stencil aspect, both front and back
`writeMask` are not zero, and stencil test is enabled,
[all stencil ops](fragops.html#fragops-stencil) **must** be `VK_STENCIL_OP_KEEP`

[](#VUID-vkCmdDrawClusterHUAWEI-None-07831) VUID-vkCmdDrawClusterHUAWEI-None-07831

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT` dynamic state enabled then
[vkCmdSetViewport](vertexpostproc.html#vkCmdSetViewport) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07832) VUID-vkCmdDrawClusterHUAWEI-None-07832

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SCISSOR` dynamic state enabled then
[vkCmdSetScissor](fragops.html#vkCmdSetScissor) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07833) VUID-vkCmdDrawClusterHUAWEI-None-07833

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_WIDTH` dynamic state enabled then
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-08617) VUID-vkCmdDrawClusterHUAWEI-None-08617

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command
buffer set `polygonMode` to `VK_POLYGON_MODE_LINE`,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-08618) VUID-vkCmdDrawClusterHUAWEI-None-08618

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-08619) VUID-vkCmdDrawClusterHUAWEI-None-08619

If a shader object that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, [vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07834) VUID-vkCmdDrawClusterHUAWEI-None-07834

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthBiasEnable`
is `VK_TRUE`, then [vkCmdSetDepthBias](primsrast.html#vkCmdSetDepthBias)
or [vkCmdSetDepthBias2EXT](primsrast.html#vkCmdSetDepthBias2EXT)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07835) VUID-vkCmdDrawClusterHUAWEI-None-07835

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_BLEND_CONSTANTS` dynamic state enabled then
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-08621) VUID-vkCmdDrawClusterHUAWEI-None-08621

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) in the current command buffer set any
element of `pColorBlendEnables` to `VK_TRUE`, and the most
recent call to [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) in the current
command buffer set the same element of `pColorBlendEquations` to a
`VkColorBlendEquationEXT` structure with any [VkBlendFactor](framebuffer.html#VkBlendFactor)
member with a value of `VK_BLEND_FACTOR_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_CONSTANT_ALPHA`, or
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_ALPHA`,
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07836) VUID-vkCmdDrawClusterHUAWEI-None-07836

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`depthBoundsTestEnable` is `VK_TRUE`, then
[vkCmdSetDepthBounds](fragops.html#vkCmdSetDepthBounds) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07837) VUID-vkCmdDrawClusterHUAWEI-None-07837

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilCompareMask](fragops.html#vkCmdSetStencilCompareMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07838) VUID-vkCmdDrawClusterHUAWEI-None-07838

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07839) VUID-vkCmdDrawClusterHUAWEI-None-07839

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_REFERENCE` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of and
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilReference](fragops.html#vkCmdSetStencilReference) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-maxMultiviewInstanceIndex-02688) VUID-vkCmdDrawClusterHUAWEI-maxMultiviewInstanceIndex-02688

If the draw is recorded in a render pass instance with multiview
enabled, the maximum instance index **must** be less than or equal to
[VkPhysicalDeviceMultiviewProperties](limits.html#VkPhysicalDeviceMultiviewProperties)::`maxMultiviewInstanceIndex`

[](#VUID-vkCmdDrawClusterHUAWEI-sampleLocationsEnable-02689) VUID-vkCmdDrawClusterHUAWEI-sampleLocationsEnable-02689

If the bound graphics pipeline was created with
[VkPipelineSampleLocationsStateCreateInfoEXT](primsrast.html#VkPipelineSampleLocationsStateCreateInfoEXT)::`sampleLocationsEnable`
set to `VK_TRUE` and the current subpass has a depth/stencil
attachment, then that attachment **must** have been created with the
`VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT` bit set

[](#VUID-vkCmdDrawClusterHUAWEI-None-07634) VUID-vkCmdDrawClusterHUAWEI-None-07634

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-06666) VUID-vkCmdDrawClusterHUAWEI-None-06666

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
[vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07840) VUID-vkCmdDrawClusterHUAWEI-None-07840

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CULL_MODE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCullMode](primsrast.html#vkCmdSetCullMode) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07841) VUID-vkCmdDrawClusterHUAWEI-None-07841

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRONT_FACE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFrontFace](primsrast.html#vkCmdSetFrontFace) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07843) VUID-vkCmdDrawClusterHUAWEI-None-07843

 If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`,
[vkCmdSetDepthTestEnable](fragops.html#vkCmdSetDepthTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07844) VUID-vkCmdDrawClusterHUAWEI-None-07844

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07845) VUID-vkCmdDrawClusterHUAWEI-None-07845

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_COMPARE_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthCompareOp](fragops.html#vkCmdSetDepthCompareOp) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07846) VUID-vkCmdDrawClusterHUAWEI-None-07846

If the [`depthBounds`](features.html#features-depthBounds) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBoundsTestEnable](fragops.html#vkCmdSetDepthBoundsTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07847) VUID-vkCmdDrawClusterHUAWEI-None-07847

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetStencilTestEnable](fragops.html#vkCmdSetStencilTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07848) VUID-vkCmdDrawClusterHUAWEI-None-07848

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then [vkCmdSetStencilOp](fragops.html#vkCmdSetStencilOp)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawClusterHUAWEI-viewportCount-03417) VUID-vkCmdDrawClusterHUAWEI-viewportCount-03417

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-scissorCount-03418) VUID-vkCmdDrawClusterHUAWEI-scissorCount-03418

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetScissorWithCount](vertexpostproc.html#vkCmdSetScissorWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing

[](#VUID-vkCmdDrawClusterHUAWEI-viewportCount-03419) VUID-vkCmdDrawClusterHUAWEI-viewportCount-03419

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with both the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic states enabled,
and the state is not inherited,
then the `viewportCount` parameter of
`vkCmdSetViewportWithCount` **must** match the `scissorCount`
parameter of `vkCmdSetScissorWithCount`

[](#VUID-vkCmdDrawClusterHUAWEI-viewportCount-04137) VUID-vkCmdDrawClusterHUAWEI-viewportCount-04137

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportWScalingStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportWScalingStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawClusterHUAWEI-viewportCount-04138) VUID-vkCmdDrawClusterHUAWEI-viewportCount-04138

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-08636) VUID-vkCmdDrawClusterHUAWEI-None-08636

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawClusterHUAWEI-viewportCount-04139) VUID-vkCmdDrawClusterHUAWEI-viewportCount-04139

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic
state enabled, then the bound graphics pipeline **must** have been created
with
[VkPipelineViewportShadingRateImageStateCreateInfoNV](primsrast.html#VkPipelineViewportShadingRateImageStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawClusterHUAWEI-shadingRateImage-09233) VUID-vkCmdDrawClusterHUAWEI-shadingRateImage-09233

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_COARSE_SAMPLE_ORDER_NV` and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoarseSampleOrderNV](primsrast.html#vkCmdSetCoarseSampleOrderNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-shadingRateImage-09234) VUID-vkCmdDrawClusterHUAWEI-shadingRateImage-09234

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-08637) VUID-vkCmdDrawClusterHUAWEI-None-08637

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** be greater than or
equal to the `viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawClusterHUAWEI-VkPipelineVieportCreateInfo-04141) VUID-vkCmdDrawClusterHUAWEI-VkPipelineVieportCreateInfo-04141

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV) structure chained from
[VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound graphics
pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawClusterHUAWEI-VkPipelineVieportCreateInfo-04142) VUID-vkCmdDrawClusterHUAWEI-VkPipelineVieportCreateInfo-04142

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV) structure
chained from [VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound
graphics pipeline **must** have been created with
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV)::`exclusiveScissorCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawClusterHUAWEI-None-07878) VUID-vkCmdDrawClusterHUAWEI-None-07878

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_ENABLE_NV` dynamic state
enabled, then [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07879) VUID-vkCmdDrawClusterHUAWEI-None-07879

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_NV` dynamic state enabled, and
the most recent call to [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) in the
current command buffer set any element of `pExclusiveScissorEnables`
to `VK_TRUE`, then [vkCmdSetExclusiveScissorNV](fragops.html#vkCmdSetExclusiveScissorNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-04876) VUID-vkCmdDrawClusterHUAWEI-None-04876

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE` dynamic state enabled,
then [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-04877) VUID-vkCmdDrawClusterHUAWEI-None-04877

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBiasEnable](primsrast.html#vkCmdSetDepthBiasEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-logicOp-04878) VUID-vkCmdDrawClusterHUAWEI-logicOp-04878

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `logicOpEnable` is
`VK_TRUE`, then [vkCmdSetLogicOpEXT](framebuffer.html#vkCmdSetLogicOpEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-primitiveFragmentShadingRateWithMultipleViewports-04552) VUID-vkCmdDrawClusterHUAWEI-primitiveFragmentShadingRateWithMultipleViewports-04552

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, and
any of the shader stages of the bound graphics pipeline write to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawClusterHUAWEI-primitiveFragmentShadingRateWithMultipleViewports-08642) VUID-vkCmdDrawClusterHUAWEI-primitiveFragmentShadingRateWithMultipleViewports-08642

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, and any shader object bound to a graphics stage writes to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawClusterHUAWEI-blendEnable-04727) VUID-vkCmdDrawClusterHUAWEI-blendEnable-04727

If rasterization is not disabled in the bound graphics pipeline, then
for each color attachment in the subpass, if the corresponding image
view’s [format features](resources.html#resources-image-view-format-features) do not
contain `VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
`blendEnable` member of the corresponding element of the
`pAttachments` member of `pColorBlendState` **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawClusterHUAWEI-None-08643) VUID-vkCmdDrawClusterHUAWEI-None-08643

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then for each color attachment in the render pass, if
the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) do not contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
corresponding member of `pColorBlendEnables` in the most recent call
to `vkCmdSetColorBlendEnableEXT` in the current command buffer that
affected that attachment index **must** have been `VK_FALSE`

[](#VUID-vkCmdDrawClusterHUAWEI-multisampledRenderToSingleSampled-07284) VUID-vkCmdDrawClusterHUAWEI-multisampledRenderToSingleSampled-07284

If rasterization is not disabled in the bound graphics pipeline,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then `rasterizationSamples` for the bound graphics pipeline **must** be the
same as the current subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawClusterHUAWEI-None-08644) VUID-vkCmdDrawClusterHUAWEI-None-08644

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then the most recent call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) in the
current command buffer **must** have set `rasterizationSamples` to be the
same as the number of samples for the current render pass color and/or
depth/stencil attachments

[](#VUID-vkCmdDrawClusterHUAWEI-None-08876) VUID-vkCmdDrawClusterHUAWEI-None-08876

If a shader object is bound to any graphics stage, the current render
pass instance **must** have been begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)

[](#VUID-vkCmdDrawClusterHUAWEI-imageView-06172) VUID-vkCmdDrawClusterHUAWEI-imageView-06172

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the depth attachment

[](#VUID-vkCmdDrawClusterHUAWEI-imageView-06173) VUID-vkCmdDrawClusterHUAWEI-imageView-06173

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawClusterHUAWEI-imageView-06174) VUID-vkCmdDrawClusterHUAWEI-imageView-06174

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL`, this
command **must** not write any values to the depth attachment

[](#VUID-vkCmdDrawClusterHUAWEI-imageView-06175) VUID-vkCmdDrawClusterHUAWEI-imageView-06175

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL`, this
command **must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawClusterHUAWEI-imageView-06176) VUID-vkCmdDrawClusterHUAWEI-imageView-06176

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the depth attachment

[](#VUID-vkCmdDrawClusterHUAWEI-imageView-06177) VUID-vkCmdDrawClusterHUAWEI-imageView-06177

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the stencil attachment

[](#VUID-vkCmdDrawClusterHUAWEI-viewMask-06178) VUID-vkCmdDrawClusterHUAWEI-viewMask-06178

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a [VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`viewMask` equal
to [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`viewMask`

[](#VUID-vkCmdDrawClusterHUAWEI-colorAttachmentCount-06179) VUID-vkCmdDrawClusterHUAWEI-colorAttachmentCount-06179

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`colorAttachmentCount` equal to
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount`

[](#VUID-vkCmdDrawClusterHUAWEI-dynamicRenderingUnusedAttachments-08910) VUID-vkCmdDrawClusterHUAWEI-dynamicRenderingUnusedAttachments-08910

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have
been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline

[](#VUID-vkCmdDrawClusterHUAWEI-dynamicRenderingUnusedAttachments-08912) VUID-vkCmdDrawClusterHUAWEI-dynamicRenderingUnusedAttachments-08912

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have the
corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound pipeline equal to `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawClusterHUAWEI-dynamicRenderingUnusedAttachments-08911) VUID-vkCmdDrawClusterHUAWEI-dynamicRenderingUnusedAttachments-08911

If the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled, and the
current render pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`,
then each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments`
array with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must**
have been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding
element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline, or the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats`, if
it exists, **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawClusterHUAWEI-colorAttachmentCount-09362) VUID-vkCmdDrawClusterHUAWEI-colorAttachmentCount-09362

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`,
there is no shader object bound to any graphics stage,
and a color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`resolveImageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawClusterHUAWEI-None-09363) VUID-vkCmdDrawClusterHUAWEI-None-09363

If
there is no shader object bound to any graphics stage,
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, and a
color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawClusterHUAWEI-None-09364) VUID-vkCmdDrawClusterHUAWEI-None-09364

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set the blend enable
to `VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-09365) VUID-vkCmdDrawClusterHUAWEI-None-09365

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-09366) VUID-vkCmdDrawClusterHUAWEI-None-09366

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set blend enable to
`VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-rasterizationSamples-09367) VUID-vkCmdDrawClusterHUAWEI-rasterizationSamples-09367

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-09368) VUID-vkCmdDrawClusterHUAWEI-None-09368

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-09369) VUID-vkCmdDrawClusterHUAWEI-None-09369

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-pFragmentSize-09370) VUID-vkCmdDrawClusterHUAWEI-pFragmentSize-09370

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-pFragmentSize-09371) VUID-vkCmdDrawClusterHUAWEI-pFragmentSize-09371

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07749) VUID-vkCmdDrawClusterHUAWEI-None-07749

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-08646) VUID-vkCmdDrawClusterHUAWEI-None-08646

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-attachmentCount-07750) VUID-vkCmdDrawClusterHUAWEI-attachmentCount-07750

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
the `attachmentCount` parameter of `vkCmdSetColorWriteEnableEXT`
**must** be greater than or equal to the
`VkPipelineColorBlendStateCreateInfo`::`attachmentCount` of the
bound graphics pipeline

[](#VUID-vkCmdDrawClusterHUAWEI-None-08647) VUID-vkCmdDrawClusterHUAWEI-None-08647

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then the
`attachmentCount` parameter of most recent call to
`vkCmdSetColorWriteEnableEXT` in the current command buffer **must** be
greater than or equal to the number of color attachments in the current
render pass instance

[](#VUID-vkCmdDrawClusterHUAWEI-None-07751) VUID-vkCmdDrawClusterHUAWEI-None-07751

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled, a
graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) included a
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT)::`discardRectangleCount`

[](#VUID-vkCmdDrawClusterHUAWEI-rasterizerDiscardEnable-09236) VUID-vkCmdDrawClusterHUAWEI-rasterizerDiscardEnable-09236

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) did not
include a [VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPhysicalDeviceDiscardRectanglePropertiesEXT](limits.html#VkPhysicalDeviceDiscardRectanglePropertiesEXT)::`maxDiscardRectangles`

[](#VUID-vkCmdDrawClusterHUAWEI-None-07880) VUID-vkCmdDrawClusterHUAWEI-None-07880

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_ENABLE_EXT` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDiscardRectangleEnableEXT](fragops.html#vkCmdSetDiscardRectangleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07881) VUID-vkCmdDrawClusterHUAWEI-None-07881

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_MODE_EXT` dynamic state enabled,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleModeEXT](fragops.html#vkCmdSetDiscardRectangleModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-dynamicRenderingUnusedAttachments-08913) VUID-vkCmdDrawClusterHUAWEI-dynamicRenderingUnusedAttachments-08913

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawClusterHUAWEI-dynamicRenderingUnusedAttachments-08914) VUID-vkCmdDrawClusterHUAWEI-dynamicRenderingUnusedAttachments-08914

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawClusterHUAWEI-dynamicRenderingUnusedAttachments-08915) VUID-vkCmdDrawClusterHUAWEI-dynamicRenderingUnusedAttachments-08915

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline was not equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`,
the value of the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawClusterHUAWEI-dynamicRenderingUnusedAttachments-08916) VUID-vkCmdDrawClusterHUAWEI-dynamicRenderingUnusedAttachments-08916

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawClusterHUAWEI-dynamicRenderingUnusedAttachments-08917) VUID-vkCmdDrawClusterHUAWEI-dynamicRenderingUnusedAttachments-08917

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawClusterHUAWEI-dynamicRenderingUnusedAttachments-08918) VUID-vkCmdDrawClusterHUAWEI-dynamicRenderingUnusedAttachments-08918

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline was not equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`, the value of
the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawClusterHUAWEI-imageView-06183) VUID-vkCmdDrawClusterHUAWEI-imageView-06183

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentShadingRateAttachmentInfoKHR](renderpass.html#VkRenderingFragmentShadingRateAttachmentInfoKHR)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR`

[](#VUID-vkCmdDrawClusterHUAWEI-imageView-06184) VUID-vkCmdDrawClusterHUAWEI-imageView-06184

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentDensityMapAttachmentInfoEXT](renderpass.html#VkRenderingFragmentDensityMapAttachmentInfoEXT)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT`

[](#VUID-vkCmdDrawClusterHUAWEI-colorAttachmentCount-06185) VUID-vkCmdDrawClusterHUAWEI-colorAttachmentCount-06185

If the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and the current render
pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
`0`, then each element of the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with a sample count equal to the corresponding element of the
`pColorAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline

[](#VUID-vkCmdDrawClusterHUAWEI-pDepthAttachment-06186) VUID-vkCmdDrawClusterHUAWEI-pDepthAttachment-06186

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawClusterHUAWEI-pStencilAttachment-06187) VUID-vkCmdDrawClusterHUAWEI-pStencilAttachment-06187

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawClusterHUAWEI-multisampledRenderToSingleSampled-07285) VUID-vkCmdDrawClusterHUAWEI-multisampledRenderToSingleSampled-07285

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    the current render pass instance was begun with
    [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
    `0`, then each element of the
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
    `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
    created with a sample count equal to the value of
    `rasterizationSamples` for the bound graphics pipeline

[](#VUID-vkCmdDrawClusterHUAWEI-multisampledRenderToSingleSampled-07286) VUID-vkCmdDrawClusterHUAWEI-multisampledRenderToSingleSampled-07286

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawClusterHUAWEI-multisampledRenderToSingleSampled-07287) VUID-vkCmdDrawClusterHUAWEI-multisampledRenderToSingleSampled-07287

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawClusterHUAWEI-pNext-07935) VUID-vkCmdDrawClusterHUAWEI-pNext-07935

If this command has been called inside a render pass instance started
with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), and the `pNext` chain of
[VkRenderingInfo](renderpass.html#VkRenderingInfo) includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the value of `rasterizationSamples` for the bound graphics
pipeline **must** be equal to
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT)::`rasterizationSamples`

[](#VUID-vkCmdDrawClusterHUAWEI-renderPass-06198) VUID-vkCmdDrawClusterHUAWEI-renderPass-06198

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline **must** have been created
with a [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`renderPass` equal to
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

[](#VUID-vkCmdDrawClusterHUAWEI-pColorAttachments-08963) VUID-vkCmdDrawClusterHUAWEI-pColorAttachments-08963

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound with a
fragment shader that statically writes to a color attachment, the color
write mask is not zero, color writes are enabled, and the corresponding
element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments->imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawClusterHUAWEI-pDepthAttachment-08964) VUID-vkCmdDrawClusterHUAWEI-pDepthAttachment-08964

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, depth
test is enabled, depth write is enabled, and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawClusterHUAWEI-pStencilAttachment-08965) VUID-vkCmdDrawClusterHUAWEI-pStencilAttachment-08965

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, stencil
test is enabled and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawClusterHUAWEI-flags-10582) VUID-vkCmdDrawClusterHUAWEI-flags-10582

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), its [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`flags`
parameter **must** not have
`VK_RENDERING_CONTENTS_SECONDARY_COMMAND_BUFFERS_BIT` set
unless `VK_RENDERING_CONTENTS_INLINE_BIT_KHR` is also set

[](#VUID-vkCmdDrawClusterHUAWEI-primitivesGeneratedQueryWithRasterizerDiscard-06708) VUID-vkCmdDrawClusterHUAWEI-primitivesGeneratedQueryWithRasterizerDiscard-06708

If the [    `primitivesGeneratedQueryWithRasterizerDiscard`](features.html#features-primitivesGeneratedQueryWithRasterizerDiscard) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, [rasterization discard](primsrast.html#primsrast-discard) **must** not be enabled

[](#VUID-vkCmdDrawClusterHUAWEI-primitivesGeneratedQueryWithNonZeroStreams-06709) VUID-vkCmdDrawClusterHUAWEI-primitivesGeneratedQueryWithNonZeroStreams-06709

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, the bound graphics pipeline **must** not have been created with a
non-zero value in
`VkPipelineRasterizationStateStreamCreateInfoEXT`::`rasterizationStream`

[](#VUID-vkCmdDrawClusterHUAWEI-None-07620) VUID-vkCmdDrawClusterHUAWEI-None-07620

If the [`depthClamp`](features.html#features-depthClamp) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthClampEnableEXT](vertexpostproc.html#vkCmdSetDepthClampEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07621) VUID-vkCmdDrawClusterHUAWEI-None-07621

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_POLYGON_MODE_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07622) VUID-vkCmdDrawClusterHUAWEI-None-07622

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07623) VUID-vkCmdDrawClusterHUAWEI-None-07623

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-alphaToCoverageEnable-08919) VUID-vkCmdDrawClusterHUAWEI-alphaToCoverageEnable-08919

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and `alphaToCoverageEnable` was `VK_TRUE` in the last
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT), then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawClusterHUAWEI-alphaToCoverageEnable-08920) VUID-vkCmdDrawClusterHUAWEI-alphaToCoverageEnable-08920

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) in the current command
buffer set `alphaToCoverageEnable` to `VK_TRUE`, then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawClusterHUAWEI-None-07624) VUID-vkCmdDrawClusterHUAWEI-None-07624

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07625) VUID-vkCmdDrawClusterHUAWEI-None-07625

If the [`alphaToOne`](features.html#features-alphaToOne) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_ONE_ENABLE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToOneEnableEXT](fragops.html#vkCmdSetAlphaToOneEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07626) VUID-vkCmdDrawClusterHUAWEI-None-07626

If the [`logicOp`](features.html#features-logicOp) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetLogicOpEnableEXT](framebuffer.html#vkCmdSetLogicOpEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07627) VUID-vkCmdDrawClusterHUAWEI-None-07627

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-08657) VUID-vkCmdDrawClusterHUAWEI-None-08657

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have
been called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime)
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07628) VUID-vkCmdDrawClusterHUAWEI-None-07628

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-08658) VUID-vkCmdDrawClusterHUAWEI-None-08658

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) for any attachment set that
attachment’s value in `pColorBlendEnables` to `VK_TRUE`, then
[vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07629) VUID-vkCmdDrawClusterHUAWEI-None-07629

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-08659) VUID-vkCmdDrawClusterHUAWEI-None-08659

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07630) VUID-vkCmdDrawClusterHUAWEI-None-07630

If the [`geometryStreams`](features.html#features-geometryStreams) feature is
enabled, and
a shader object is bound to the `VK_SHADER_STAGE_GEOMETRY_BIT` stage
or
a graphics pipeline is bound which was created with both a
`VK_SHADER_STAGE_GEOMETRY_BIT` stage and the
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` dynamic state enabled,
then [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07631) VUID-vkCmdDrawClusterHUAWEI-None-07631

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07632) VUID-vkCmdDrawClusterHUAWEI-None-07632

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXTRA_PRIMITIVE_OVERESTIMATION_SIZE_EXT` dynamic
state enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`conservativeRasterizationMode` is
`VK_CONSERVATIVE_RASTERIZATION_MODE_OVERESTIMATE_EXT`, then
[vkCmdSetExtraPrimitiveOverestimationSizeEXT](primsrast.html#vkCmdSetExtraPrimitiveOverestimationSizeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07633) VUID-vkCmdDrawClusterHUAWEI-None-07633

If the [`depthClipEnable`](features.html#features-depthClipEnable) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_ENABLE_EXT` dynamic state, then
[vkCmdSetDepthClipEnableEXT](vertexpostproc.html#vkCmdSetDepthClipEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07635) VUID-vkCmdDrawClusterHUAWEI-None-07635

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-rasterizerDiscardEnable-09416) VUID-vkCmdDrawClusterHUAWEI-rasterizerDiscardEnable-09416

If the `[VK_EXT_blend_operation_advanced](../appendices/extensions.html#VK_EXT_blend_operation_advanced)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then at least one of [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT)
and [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07636) VUID-vkCmdDrawClusterHUAWEI-None-07636

If the `[VK_EXT_provoking_vertex](../appendices/extensions.html#VK_EXT_provoking_vertex)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_PROVOKING_VERTEX_MODE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetProvokingVertexModeEXT](vertexpostproc.html#vkCmdSetProvokingVertexModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07637) VUID-vkCmdDrawClusterHUAWEI-None-07637

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state enabled
then [vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-08666) VUID-vkCmdDrawClusterHUAWEI-None-08666

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-08667) VUID-vkCmdDrawClusterHUAWEI-None-08667

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-08668) VUID-vkCmdDrawClusterHUAWEI-None-08668

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07638) VUID-vkCmdDrawClusterHUAWEI-None-07638

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` dynamic state enabled
then [vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-08669) VUID-vkCmdDrawClusterHUAWEI-None-08669

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-08670) VUID-vkCmdDrawClusterHUAWEI-None-08670

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-08671) VUID-vkCmdDrawClusterHUAWEI-None-08671

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07849) VUID-vkCmdDrawClusterHUAWEI-None-07849

    If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled and
    a shader object is bound to any graphics stage, or
    a bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE`
    dynamic state enabled, the [current    value](pipelines.html#dynamic-state-current-value) of `rasterizerDiscardEnable` is `VK_FALSE`, and the
    [current value](pipelines.html#dynamic-state-current-value) of
    `stippledLineEnable` is `VK_TRUE`, then
[vkCmdSetLineStipple](primsrast.html#vkCmdSetLineStipple)
    **must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
    command

[](#VUID-vkCmdDrawClusterHUAWEI-None-10608) VUID-vkCmdDrawClusterHUAWEI-None-10608

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the current `lineRasterizationMode` is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM` or
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the current
`alphaToCoverageEnable`, `alphaToOneEnable` and
`sampleShadingEnable` states **must** all be `VK_FALSE`

[](#VUID-vkCmdDrawClusterHUAWEI-None-07639) VUID-vkCmdDrawClusterHUAWEI-None-07639

If the [`depthClipControl`](features.html#features-depthClipControl) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_NEGATIVE_ONE_TO_ONE_EXT` dynamic state
enabled, then [vkCmdSetDepthClipNegativeOneToOneEXT](vertexpostproc.html#vkCmdSetDepthClipNegativeOneToOneEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-09650) VUID-vkCmdDrawClusterHUAWEI-None-09650

If the [`depthClampControl`](features.html#features-depthClampControl) feature
is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_RANGE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`depthClampEnable` is `VK_TRUE`, then
[vkCmdSetDepthClampRangeEXT](fragops.html#vkCmdSetDepthClampRangeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07640) VUID-vkCmdDrawClusterHUAWEI-None-07640

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_ENABLE_NV` dynamic state
enabled, then [vkCmdSetViewportWScalingEnableNV](vertexpostproc.html#vkCmdSetViewportWScalingEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07641) VUID-vkCmdDrawClusterHUAWEI-None-07641

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state enabled, then
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07642) VUID-vkCmdDrawClusterHUAWEI-None-07642

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07643) VUID-vkCmdDrawClusterHUAWEI-None-07643

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_LOCATION_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageToColorEnable` is `VK_TRUE`, then
[vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07644) VUID-vkCmdDrawClusterHUAWEI-None-07644

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_MODE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageModulationModeNV](fragops.html#vkCmdSetCoverageModulationModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07645) VUID-vkCmdDrawClusterHUAWEI-None-07645

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationMode` is any value other than
`VK_COVERAGE_MODULATION_MODE_NONE_NV`, then
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07646) VUID-vkCmdDrawClusterHUAWEI-None-07646

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationTableEnable` is `VK_TRUE`, then
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07647) VUID-vkCmdDrawClusterHUAWEI-None-07647

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SHADING_RATE_IMAGE_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetShadingRateImageEnableNV](primsrast.html#vkCmdSetShadingRateImageEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-pipelineFragmentShadingRate-09238) VUID-vkCmdDrawClusterHUAWEI-pipelineFragmentShadingRate-09238

If the [    `pipelineFragmentShadingRate`](features.html#features-pipelineFragmentShadingRate) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07648) VUID-vkCmdDrawClusterHUAWEI-None-07648

If the [    `representativeFragmentTest`](features.html#features-representativeFragmentTest) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_REPRESENTATIVE_FRAGMENT_TEST_ENABLE_NV` dynamic
state enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRepresentativeFragmentTestEnableNV](fragops.html#vkCmdSetRepresentativeFragmentTestEnableNV) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07649) VUID-vkCmdDrawClusterHUAWEI-None-07649

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageReductionModeNV](fragops.html#vkCmdSetCoverageReductionModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-pColorBlendEnables-07470) VUID-vkCmdDrawClusterHUAWEI-pColorBlendEnables-07470

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` state enabled and the last
call to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) set `pColorBlendEnables`
for any attachment to `VK_TRUE`, then for those attachments in the
subpass the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`

[](#VUID-vkCmdDrawClusterHUAWEI-rasterizationSamples-07471) VUID-vkCmdDrawClusterHUAWEI-rasterizationSamples-07471

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
current subpass does not use any color and/or depth/stencil attachments,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** follow the rules for a
[zero-attachment subpass](renderpass.html#renderpass-noattachments)

[](#VUID-vkCmdDrawClusterHUAWEI-samples-07472) VUID-vkCmdDrawClusterHUAWEI-samples-07472

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo)::`rasterizationSamples`
parameter used to create the bound graphics pipeline

[](#VUID-vkCmdDrawClusterHUAWEI-samples-07473) VUID-vkCmdDrawClusterHUAWEI-samples-07473

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state and
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` states enabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
`rasterizationSamples` parameter in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawClusterHUAWEI-rasterizationSamples-07474) VUID-vkCmdDrawClusterHUAWEI-rasterizationSamples-07474

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and
the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
neither the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` nor the
`[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extensions are enabled, then
the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the current
subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawClusterHUAWEI-None-09211) VUID-vkCmdDrawClusterHUAWEI-None-09211

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled,
or a shader object is bound to any graphics stage,
and the current render pass instance includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the
`rasterizationSamples` member of that structure

[](#VUID-vkCmdDrawClusterHUAWEI-firstAttachment-07476) VUID-vkCmdDrawClusterHUAWEI-firstAttachment-07476

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorBlendEnableEXT` calls **must** specify an
enable for all active color attachments in the current subpass

[](#VUID-vkCmdDrawClusterHUAWEI-rasterizerDiscardEnable-09417) VUID-vkCmdDrawClusterHUAWEI-rasterizerDiscardEnable-09417

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEnableEXT`
calls **must** specify an enable for all active color attachments in the
current subpass

[](#VUID-vkCmdDrawClusterHUAWEI-firstAttachment-07477) VUID-vkCmdDrawClusterHUAWEI-firstAttachment-07477

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawClusterHUAWEI-rasterizerDiscardEnable-09418) VUID-vkCmdDrawClusterHUAWEI-rasterizerDiscardEnable-09418

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have
been called in the current command buffer prior to this drawing command,
and the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawClusterHUAWEI-firstAttachment-07478) VUID-vkCmdDrawClusterHUAWEI-firstAttachment-07478

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorWriteMaskEXT` calls **must** specify the
color write mask for all active color attachments in the current subpass

[](#VUID-vkCmdDrawClusterHUAWEI-rasterizerDiscardEnable-09419) VUID-vkCmdDrawClusterHUAWEI-rasterizerDiscardEnable-09419

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorWriteMaskEXT`
calls **must** specify the color write mask for all active color
attachments in the current subpass

[](#VUID-vkCmdDrawClusterHUAWEI-firstAttachment-07479) VUID-vkCmdDrawClusterHUAWEI-firstAttachment-07479

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendAdvancedEXT`
calls **must** specify the advanced blend equations for all active color
attachments in the current subpass where blending is enabled

[](#VUID-vkCmdDrawClusterHUAWEI-advancedBlendMaxColorAttachments-07480) VUID-vkCmdDrawClusterHUAWEI-advancedBlendMaxColorAttachments-07480

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` and
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic states enabled and
the last calls to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) and
[vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) have enabled advanced blending, then
the number of active color attachments in the current subpass **must** not
exceed [    `advancedBlendMaxColorAttachments`](limits.html#limits-advancedBlendMaxColorAttachments)

[](#VUID-vkCmdDrawClusterHUAWEI-primitivesGeneratedQueryWithNonZeroStreams-07481) VUID-vkCmdDrawClusterHUAWEI-primitivesGeneratedQueryWithNonZeroStreams-07481

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, and the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` state enabled, the last
call to [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have set the
`rasterizationStream` to zero

[](#VUID-vkCmdDrawClusterHUAWEI-sampleLocationsPerPixel-07482) VUID-vkCmdDrawClusterHUAWEI-sampleLocationsPerPixel-07482

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` member of the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo) structure the bound graphics
pipeline has been created with

[](#VUID-vkCmdDrawClusterHUAWEI-sampleLocationsPerPixel-07483) VUID-vkCmdDrawClusterHUAWEI-sampleLocationsPerPixel-07483

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` parameter of the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawClusterHUAWEI-sampleLocationsEnable-07484) VUID-vkCmdDrawClusterHUAWEI-sampleLocationsEnable-07484

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), and the current subpass has a
depth/stencil attachment, then that attachment **must** have been created
with the `VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT`
bit set

[](#VUID-vkCmdDrawClusterHUAWEI-sampleLocationsEnable-07485) VUID-vkCmdDrawClusterHUAWEI-sampleLocationsEnable-07485

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.width` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawClusterHUAWEI-sampleLocationsEnable-07486) VUID-vkCmdDrawClusterHUAWEI-sampleLocationsEnable-07486

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.height` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawClusterHUAWEI-sampleLocationsEnable-07487) VUID-vkCmdDrawClusterHUAWEI-sampleLocationsEnable-07487

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), the fragment shader code **must**
not statically use the extended instruction `InterpolateAtSample`

[](#VUID-vkCmdDrawClusterHUAWEI-sampleLocationsEnable-07936) VUID-vkCmdDrawClusterHUAWEI-sampleLocationsEnable-07936

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.width` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawClusterHUAWEI-sampleLocationsEnable-07937) VUID-vkCmdDrawClusterHUAWEI-sampleLocationsEnable-07937

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.height` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawClusterHUAWEI-sampleLocationsEnable-07938) VUID-vkCmdDrawClusterHUAWEI-sampleLocationsEnable-07938

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationsPerPixel` **must** equal
`rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawClusterHUAWEI-coverageModulationTableEnable-07488) VUID-vkCmdDrawClusterHUAWEI-coverageModulationTableEnable-07488

If
a shader object is bound to any graphics stage or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` state
enabled, and the last call to
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) set
`coverageModulationTableEnable` to `VK_TRUE`, then the
`coverageModulationTableCount` parameter in the last call to
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** equal the current
`rasterizationSamples` divided by the number of color samples in the
current subpass

[](#VUID-vkCmdDrawClusterHUAWEI-rasterizationSamples-07489) VUID-vkCmdDrawClusterHUAWEI-rasterizationSamples-07489

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and if current subpass has a depth/stencil attachment and depth test,
stencil test, or depth bounds test are enabled in the bound pipeline,
then the current `rasterizationSamples` **must** be the same as the
sample count of the depth/stencil attachment

[](#VUID-vkCmdDrawClusterHUAWEI-coverageToColorEnable-07490) VUID-vkCmdDrawClusterHUAWEI-coverageToColorEnable-07490

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` state enabled and the
last call to [vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawClusterHUAWEI-rasterizerDiscardEnable-09420) VUID-vkCmdDrawClusterHUAWEI-rasterizerDiscardEnable-09420

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the last call to
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawClusterHUAWEI-coverageReductionMode-07491) VUID-vkCmdDrawClusterHUAWEI-coverageReductionMode-07491

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` or
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic states enabled,
then the [current values](pipelines.html#dynamic-state-current-value) of
`coverageReductionMode`, `rasterizationSamples`, the sample
counts for the color and depth/stencil attachments (if the subpass has
them) **must** be a valid combination returned by
[vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV](fragops.html#vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV)

[](#VUID-vkCmdDrawClusterHUAWEI-viewportCount-07492) VUID-vkCmdDrawClusterHUAWEI-viewportCount-07492

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawClusterHUAWEI-viewportCount-07493) VUID-vkCmdDrawClusterHUAWEI-viewportCount-07493

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic states enabled then
the `viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawClusterHUAWEI-viewportCount-09421) VUID-vkCmdDrawClusterHUAWEI-viewportCount-09421

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and a
shader object is bound to any graphics stage, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawClusterHUAWEI-rasterizationSamples-07494) VUID-vkCmdDrawClusterHUAWEI-rasterizationSamples-07494

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is not enabled, or the [current    value](pipelines.html#dynamic-state-current-value) of `coverageReductionMode` is not
`VK_COVERAGE_REDUCTION_MODE_TRUNCATE_NV`,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizationSamples` is greater than sample count of the color
attachment, then [sample shading](primsrast.html#primsrast-sampleshading) **must** be
disabled

[](#VUID-vkCmdDrawClusterHUAWEI-stippledLineEnable-07495) VUID-vkCmdDrawClusterHUAWEI-stippledLineEnable-07495

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled

[](#VUID-vkCmdDrawClusterHUAWEI-stippledLineEnable-07496) VUID-vkCmdDrawClusterHUAWEI-stippledLineEnable-07496

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM`, then the
[`stippledBresenhamLines`](features.html#features-stippledBresenhamLines)
feature **must** be enabled

[](#VUID-vkCmdDrawClusterHUAWEI-stippledLineEnable-07497) VUID-vkCmdDrawClusterHUAWEI-stippledLineEnable-07497

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the
[`stippledSmoothLines`](features.html#features-stippledSmoothLines) feature
**must** be enabled

[](#VUID-vkCmdDrawClusterHUAWEI-stippledLineEnable-07498) VUID-vkCmdDrawClusterHUAWEI-stippledLineEnable-07498

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_DEFAULT`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled and
[VkPhysicalDeviceLimits](limits.html#VkPhysicalDeviceLimits)::`strictLines` **must** be `VK_TRUE`

[](#VUID-vkCmdDrawClusterHUAWEI-conservativePointAndLineRasterization-07499) VUID-vkCmdDrawClusterHUAWEI-conservativePointAndLineRasterization-07499

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, [    `conservativePointAndLineRasterization`](limits.html#limits-conservativePointAndLineRasterization) is not supported, and the
effective primitive topology output by the last pre-rasterization shader
stage is a line or point, then the `conservativeRasterizationMode`
set by the last call to [vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT)
**must** be `VK_CONSERVATIVE_RASTERIZATION_MODE_DISABLED_EXT`

[](#VUID-vkCmdDrawClusterHUAWEI-stage-07073) VUID-vkCmdDrawClusterHUAWEI-stage-07073

If the bound pipeline was created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of an element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT`, then [Mesh    Shader Queries](queries.html#queries-mesh-shader) **must** not be active

[](#VUID-vkCmdDrawClusterHUAWEI-None-08877) VUID-vkCmdDrawClusterHUAWEI-None-08877

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-None-07850) VUID-vkCmdDrawClusterHUAWEI-None-07850

If dynamic state was inherited from
[VkCommandBufferInheritanceViewportScissorInfoNV](cmdbuffers.html#VkCommandBufferInheritanceViewportScissorInfoNV), it **must** be set
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterHUAWEI-nextStage-10745) VUID-vkCmdDrawClusterHUAWEI-nextStage-10745

For each shader object bound to a graphics stage, except for shader
object bound to the last graphics stage in the logical pipeline, it
**must** have been created with a `nextStage` including the
corresponding bit to the shader object bound to the following graphics
stage in the logical pipeline

[](#VUID-vkCmdDrawClusterHUAWEI-None-08684) VUID-vkCmdDrawClusterHUAWEI-None-08684

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_VERTEX_BIT`

[](#VUID-vkCmdDrawClusterHUAWEI-None-08685) VUID-vkCmdDrawClusterHUAWEI-None-08685

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`

[](#VUID-vkCmdDrawClusterHUAWEI-None-08686) VUID-vkCmdDrawClusterHUAWEI-None-08686

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT`

[](#VUID-vkCmdDrawClusterHUAWEI-None-08687) VUID-vkCmdDrawClusterHUAWEI-None-08687

If there is no bound graphics pipeline, and the
[`geometryShader`](features.html#features-geometryShader) feature is enabled,
`vkCmdBindShadersEXT` **must** have been called in the current command
buffer with `pStages` with an element of
`VK_SHADER_STAGE_GEOMETRY_BIT`

[](#VUID-vkCmdDrawClusterHUAWEI-None-08688) VUID-vkCmdDrawClusterHUAWEI-None-08688

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_FRAGMENT_BIT`

[](#VUID-vkCmdDrawClusterHUAWEI-None-08689) VUID-vkCmdDrawClusterHUAWEI-None-08689

If there is no bound graphics pipeline, and the [    `taskShader`](features.html#features-taskShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_TASK_BIT_EXT`

[](#VUID-vkCmdDrawClusterHUAWEI-None-08690) VUID-vkCmdDrawClusterHUAWEI-None-08690

If there is no bound graphics pipeline, and the [    `meshShader`](features.html#features-meshShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_MESH_BIT_EXT`

[](#VUID-vkCmdDrawClusterHUAWEI-None-08693) VUID-vkCmdDrawClusterHUAWEI-None-08693

If there is no bound graphics pipeline, and at least one of the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features is enabled, one of the
`VK_SHADER_STAGE_VERTEX_BIT` or `VK_SHADER_STAGE_MESH_BIT_EXT`
stages **must** have a valid `VkShaderEXT` bound, and the other **must**
have no `VkShaderEXT` bound

[](#VUID-vkCmdDrawClusterHUAWEI-None-08696) VUID-vkCmdDrawClusterHUAWEI-None-08696

If there is no bound graphics pipeline, and a valid `VkShaderEXT` is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, there **must** be no
`VkShaderEXT` bound to either the `VK_SHADER_STAGE_TASK_BIT_EXT`
stage or the `VK_SHADER_STAGE_MESH_BIT_EXT` stage

[](#VUID-vkCmdDrawClusterHUAWEI-None-08698) VUID-vkCmdDrawClusterHUAWEI-None-08698

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, then all shaders created
with the `VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag in the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** also be bound

[](#VUID-vkCmdDrawClusterHUAWEI-None-08699) VUID-vkCmdDrawClusterHUAWEI-None-08699

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, any stages in between
stages whose shaders which did not create a shader with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag as part of the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** not have any `VkShaderEXT` bound

[](#VUID-vkCmdDrawClusterHUAWEI-None-08878) VUID-vkCmdDrawClusterHUAWEI-None-08878

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) push constant
ranges

[](#VUID-vkCmdDrawClusterHUAWEI-None-08879) VUID-vkCmdDrawClusterHUAWEI-None-08879

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) arrays of
descriptor set layouts

[](#VUID-vkCmdDrawClusterHUAWEI-colorAttachmentCount-09372) VUID-vkCmdDrawClusterHUAWEI-colorAttachmentCount-09372

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, a color
attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, and a fragment
shader is bound, it **must** not declare the `DepthReplacing` or
`StencilRefReplacingEXT` execution modes

[](#VUID-vkCmdDrawClusterHUAWEI-pDynamicStates-08715) VUID-vkCmdDrawClusterHUAWEI-pDynamicStates-08715

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpDepthAttachmentReadEXT`, the `depthWriteEnable` parameter
in the last call to [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawClusterHUAWEI-pDynamicStates-08716) VUID-vkCmdDrawClusterHUAWEI-pDynamicStates-08716

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpStencilAttachmentReadEXT`, the `writeMask` parameter in
the last call to [vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** be `0`

[](#VUID-vkCmdDrawClusterHUAWEI-None-09116) VUID-vkCmdDrawClusterHUAWEI-None-09116

    If
    a shader object is bound to any graphics stage
or
    the bound graphics pipeline was created with
    `VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT`,
    and the format of any color attachment is
    `VK_FORMAT_E5B9G9R9_UFLOAT_PACK32`, the corresponding element of the
    `pColorWriteMasks` parameter of [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT)
    **must** either include all of `VK_COLOR_COMPONENT_R_BIT`,
    `VK_COLOR_COMPONENT_G_BIT`, and `VK_COLOR_COMPONENT_B_BIT`, or
    none of them

[](#VUID-vkCmdDrawClusterHUAWEI-maxFragmentDualSrcAttachments-09239) VUID-vkCmdDrawClusterHUAWEI-maxFragmentDualSrcAttachments-09239

If [blending](framebuffer.html#framebuffer-blending) is enabled for any attachment where
either the source or destination blend factors for that attachment
[use the secondary color input](framebuffer.html#framebuffer-dsb), the maximum value of
`Location` for any output attachment [statically    used](shaders.html#shaders-staticuse) in the `Fragment` `Execution` `Model` executed by this command
**must** be less than [    `maxFragmentDualSrcAttachments`](limits.html#limits-maxFragmentDualSrcAttachments)

[](#VUID-vkCmdDrawClusterHUAWEI-None-09548) VUID-vkCmdDrawClusterHUAWEI-None-09548

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
the value of each element of
[VkRenderingAttachmentLocationInfo](interfaces.html#VkRenderingAttachmentLocationInfo)::`pColorAttachmentLocations`
set by [vkCmdSetRenderingAttachmentLocations](interfaces.html#vkCmdSetRenderingAttachmentLocations) **must** match the value
set for the corresponding element in the bound pipeline

[](#VUID-vkCmdDrawClusterHUAWEI-None-09549) VUID-vkCmdDrawClusterHUAWEI-None-09549

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
input attachment index mappings in the bound pipeline **must** match those
set for the current render pass instance via
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

[](#VUID-vkCmdDrawClusterHUAWEI-None-09642) VUID-vkCmdDrawClusterHUAWEI-None-09642

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with
the `VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag, the bound
graphics pipeline **must** have been created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`

[](#VUID-vkCmdDrawClusterHUAWEI-None-09643) VUID-vkCmdDrawClusterHUAWEI-None-09643

If the bound graphics pipeline was created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`, the current
render pass **must** have begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with the
`VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag

[](#VUID-vkCmdDrawClusterHUAWEI-None-10677) VUID-vkCmdDrawClusterHUAWEI-None-10677

If the [per-tile execution model](renderpass.html#renderpass-per-tile-execution-model)
is enabled, the
[tileShadingPerTileDraw](features.html#features-tileShadingPerTileDraw) feature **must**
be enabled

[](#VUID-vkCmdDrawClusterHUAWEI-None-10772) VUID-vkCmdDrawClusterHUAWEI-None-10772

If a shader object is bound to any graphics stage, *multiview*
functionality **must** not be enabled in the current render pass

* 
[](#VUID-vkCmdDrawClusterHUAWEI-stage-06480) VUID-vkCmdDrawClusterHUAWEI-stage-06480

The bound graphics pipeline **must** not have been created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of any element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-pStages-10680) VUID-vkCmdDrawClusterHUAWEI-pStages-10680

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
not have last bound the `pStages` element of
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` with a valid shader object other than
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-07074) VUID-vkCmdDrawClusterHUAWEI-None-07074

[Transform Feedback Queries](queries.html#queries-transform-feedback) **must** not be
active

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-07075) VUID-vkCmdDrawClusterHUAWEI-None-07075

[Primitives Generated Queries](queries.html#queries-primitives-generated) **must** not
be active

* 
[](#VUID-vkCmdDrawClusterHUAWEI-pipelineStatistics-07076) VUID-vkCmdDrawClusterHUAWEI-pipelineStatistics-07076

The `pipelineStatistics` member used to create any active
[Pipeline Statistics Query](queries.html#queries-pipestats) **must** not contain
`VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_VERTICES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_PRIMITIVES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_VERTEX_SHADER_INVOCATIONS_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_INVOCATIONS_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_PRIMITIVES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_CLIPPING_INVOCATIONS_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_CLIPPING_PRIMITIVES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_CONTROL_SHADER_PATCHES_BIT`,
or
`VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_EVALUATION_SHADER_INVOCATIONS_BIT`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-08694) VUID-vkCmdDrawClusterHUAWEI-None-08694

If there is no bound graphics pipeline, and both the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features are enabled, and a valid `VkShaderEXT`
is bound the to the `VK_SHADER_STAGE_MESH_BIT_EXT` stage, and that
`VkShaderEXT` was created without the
`VK_SHADER_CREATE_NO_TASK_SHADER_BIT_EXT` flag, a valid
`VkShaderEXT` **must** be bound to the
`VK_SHADER_STAGE_TASK_BIT_EXT` stage

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-08695) VUID-vkCmdDrawClusterHUAWEI-None-08695

If there is no bound graphics pipeline, and both the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features are enabled, and a valid `VkShaderEXT`
is bound the to the `VK_SHADER_STAGE_MESH_BIT_EXT` stage, and that
`VkShaderEXT` was created with the
`VK_SHADER_CREATE_NO_TASK_SHADER_BIT_EXT` flag, there **must** be no
`VkShaderEXT` bound to the `VK_SHADER_STAGE_TASK_BIT_EXT` stage

* 
[](#VUID-vkCmdDrawClusterHUAWEI-None-07819) VUID-vkCmdDrawClusterHUAWEI-None-07819

The `pipelineStatistics` member used to create any active
[Pipeline Statistics Query](queries.html#queries-pipestats) **must** not contain
`VK_QUERY_PIPELINE_STATISTIC_TASK_SHADER_INVOCATIONS_BIT_EXT`, or
`VK_QUERY_PIPELINE_STATISTIC_MESH_SHADER_INVOCATIONS_BIT_EXT`

* 
[](#VUID-vkCmdDrawClusterHUAWEI-groupCountX-07820) VUID-vkCmdDrawClusterHUAWEI-groupCountX-07820

`groupCountX` **must** be less than or equal to
`VkPhysicalDeviceClusterCullingShaderPropertiesHUAWEI`::`maxWorkGroupCount`[0]

* 
[](#VUID-vkCmdDrawClusterHUAWEI-groupCountY-07821) VUID-vkCmdDrawClusterHUAWEI-groupCountY-07821

`groupCountY` **must** be less than or equal to
`VkPhysicalDeviceClusterCullingShaderPropertiesHUAWEI`::`maxWorkGroupCount`[1]

* 
[](#VUID-vkCmdDrawClusterHUAWEI-groupCountZ-07822) VUID-vkCmdDrawClusterHUAWEI-groupCountZ-07822

`groupCountZ` **must** be less than or equal to
`VkPhysicalDeviceClusterCullingShaderPropertiesHUAWEI`::`maxWorkGroupCount`[2]

* 
[](#VUID-vkCmdDrawClusterHUAWEI-ClusterCullingHUAWEI-07823) VUID-vkCmdDrawClusterHUAWEI-ClusterCullingHUAWEI-07823

The current pipeline bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`
**must** contain a shader stage using the `ClusterCullingHUAWEI`
`Execution` `Model`

Valid Usage (Implicit)

* 
[](#VUID-vkCmdDrawClusterHUAWEI-commandBuffer-parameter) VUID-vkCmdDrawClusterHUAWEI-commandBuffer-parameter

 `commandBuffer` **must** be a valid [VkCommandBuffer](cmdbuffers.html#VkCommandBuffer) handle

* 
[](#VUID-vkCmdDrawClusterHUAWEI-commandBuffer-recording) VUID-vkCmdDrawClusterHUAWEI-commandBuffer-recording

 `commandBuffer` **must** be in the [recording state](cmdbuffers.html#commandbuffers-lifecycle)

* 
[](#VUID-vkCmdDrawClusterHUAWEI-commandBuffer-cmdpool) VUID-vkCmdDrawClusterHUAWEI-commandBuffer-cmdpool

 The `VkCommandPool` that `commandBuffer` was allocated from **must** support graphics operations

* 
[](#VUID-vkCmdDrawClusterHUAWEI-renderpass) VUID-vkCmdDrawClusterHUAWEI-renderpass

 This command **must** only be called inside of a render pass instance

* 
[](#VUID-vkCmdDrawClusterHUAWEI-videocoding) VUID-vkCmdDrawClusterHUAWEI-videocoding

 This command **must** only be called outside of a video coding scope

Host Synchronization

* 
Host access to `commandBuffer` **must** be externally synchronized

* 
Host access to the `VkCommandPool` that `commandBuffer` was allocated from **must** be externally synchronized

Command Properties
| [Command Buffer Levels](cmdbuffers.html#VkCommandBufferLevel) | [Render Pass Scope](renderpass.html#vkCmdBeginRenderPass) | [Video Coding Scope](videocoding.html#vkCmdBeginVideoCodingKHR) | [Supported Queue Types](devsandqueues.html#VkQueueFlagBits) | [Command Type](fundamentals.html#fundamentals-queueoperation-command-types) |
| --- | --- | --- | --- | --- |
| Primary

Secondary | Inside | Outside | Graphics | Action |

To record an indirect cluster culling drawing command, call:

// Provided by VK_HUAWEI_cluster_culling_shader
void vkCmdDrawClusterIndirectHUAWEI(
    VkCommandBuffer                             commandBuffer,
    VkBuffer                                    buffer,
    VkDeviceSize                                offset);

* 
`commandBuffer` is the command buffer into which the command is
recorded.

* 
`buffer` is the buffer containing draw parameters.

* 
`offset` is the byte offset into `buffer` where parameters
begin.

`vkCmdDrawClusterIndirectHUAWEI` behaves similarly to
[vkCmdDrawClusterHUAWEI](#vkCmdDrawClusterHUAWEI) except that the parameters are read by the
device from a buffer during execution.
The parameters of the dispatch are encoded in a
[VkDispatchIndirectCommand](dispatch.html#VkDispatchIndirectCommand) structure taken from buffer starting at
offset.
Note the cluster culling shader pipeline only accepts
[vkCmdDrawClusterHUAWEI](#vkCmdDrawClusterHUAWEI) and `vkCmdDrawClusterIndirectHUAWEI` as
drawing commands.

Valid Usage

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-magFilter-04553) VUID-vkCmdDrawClusterIndirectHUAWEI-magFilter-04553

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-magFilter-09598) VUID-vkCmdDrawClusterIndirectHUAWEI-magFilter-09598

If a [VkSampler](samplers.html#VkSampler) created with `magFilter` or `minFilter`
equal to `VK_FILTER_LINEAR` and `reductionMode` equal to either
`VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-mipmapMode-04770) VUID-vkCmdDrawClusterIndirectHUAWEI-mipmapMode-04770

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR`,
`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE`,
and `compareEnable` equal to `VK_FALSE` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_LINEAR_BIT`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-mipmapMode-09599) VUID-vkCmdDrawClusterIndirectHUAWEI-mipmapMode-09599

If a [VkSampler](samplers.html#VkSampler) created with `mipmapMode` equal to
`VK_SAMPLER_MIPMAP_MODE_LINEAR` and `reductionMode` equal to
either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` is used to sample a
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_MINMAX_BIT`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-unnormalizedCoordinates-09635) VUID-vkCmdDrawClusterIndirectHUAWEI-unnormalizedCoordinates-09635

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `levelCount` and `layerCount`
**must** be 1

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08609) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08609

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the image view’s `viewType` **must** be
`VK_IMAGE_VIEW_TYPE_1D` or `VK_IMAGE_VIEW_TYPE_2D`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08610) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08610

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions with
`ImplicitLod`, `Dref` or `Proj` in their name

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08611) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08611

If a [VkSampler](samplers.html#VkSampler) created with `unnormalizedCoordinates` equal to
`VK_TRUE` is used to sample a [VkImageView](resources.html#VkImageView) as a result of this
command, then the sampler **must** not be used with any of the SPIR-V
`OpImageSample*` or `OpImageSparseSample*` instructions that includes a
LOD bias or any offset values

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-06479) VUID-vkCmdDrawClusterIndirectHUAWEI-None-06479

If a [VkImageView](resources.html#VkImageView) is sampled with
[depth comparison](textures.html#textures-depth-compare-operation), the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_SAMPLED_IMAGE_DEPTH_COMPARISON_BIT`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-02691) VUID-vkCmdDrawClusterIndirectHUAWEI-None-02691

If a [VkImageView](resources.html#VkImageView) is accessed using atomic operations as a result
of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_IMAGE_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07888) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07888

If a `VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER` descriptor is
accessed using atomic operations as a result of this command, then the
storage texel buffer’s [format    features](resources.html#resources-buffer-view-format-features) **must** contain
`VK_FORMAT_FEATURE_STORAGE_TEXEL_BUFFER_ATOMIC_BIT`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-02692) VUID-vkCmdDrawClusterIndirectHUAWEI-None-02692

If a [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_SAMPLED_IMAGE_FILTER_CUBIC_BIT_EXT`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-02693) VUID-vkCmdDrawClusterIndirectHUAWEI-None-02693

If
the [VK_EXT_filter_cubic](../appendices/extensions.html#VK_EXT_filter_cubic) extension is not enabled and
any [VkImageView](resources.html#VkImageView) is sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command, it **must** not have a [VkImageViewType](resources.html#VkImageViewType) of
`VK_IMAGE_VIEW_TYPE_3D`, `VK_IMAGE_VIEW_TYPE_CUBE`, or
`VK_IMAGE_VIEW_TYPE_CUBE_ARRAY`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-filterCubic-02694) VUID-vkCmdDrawClusterIndirectHUAWEI-filterCubic-02694

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` as a
result of this command **must** have a [VkImageViewType](resources.html#VkImageViewType) and format
that supports cubic filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubic`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-filterCubicMinmax-02695) VUID-vkCmdDrawClusterIndirectHUAWEI-filterCubicMinmax-02695

Any [VkImageView](resources.html#VkImageView) being sampled with `VK_FILTER_CUBIC_EXT` with
a reduction mode of either `VK_SAMPLER_REDUCTION_MODE_MIN` or
`VK_SAMPLER_REDUCTION_MODE_MAX` as a result of this command **must**
have a [VkImageViewType](resources.html#VkImageViewType) and format that supports cubic filtering
together with minmax filtering, as specified by
[VkFilterCubicImageViewImageFormatPropertiesEXT](capabilities.html#VkFilterCubicImageViewImageFormatPropertiesEXT)::`filterCubicMinmax`
returned by [vkGetPhysicalDeviceImageFormatProperties2](capabilities.html#vkGetPhysicalDeviceImageFormatProperties2)

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-cubicRangeClamp-09212) VUID-vkCmdDrawClusterIndirectHUAWEI-cubicRangeClamp-09212

If the [`cubicRangeClamp`](features.html#features-cubicRangeClamp) feature is
not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** not have a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-reductionMode-09213) VUID-vkCmdDrawClusterIndirectHUAWEI-reductionMode-09213

Any [VkImageView](resources.html#VkImageView) being sampled with a
[VkSamplerReductionModeCreateInfo](samplers.html#VkSamplerReductionModeCreateInfo)::`reductionMode` equal to
`VK_SAMPLER_REDUCTION_MODE_WEIGHTED_AVERAGE_RANGECLAMP_QCOM` as a
result of this command **must** sample with `VK_FILTER_CUBIC_EXT`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-selectableCubicWeights-09214) VUID-vkCmdDrawClusterIndirectHUAWEI-selectableCubicWeights-09214

If the [`selectableCubicWeights`](features.html#features-selectableCubicWeights)
feature is not enabled, then any [VkImageView](resources.html#VkImageView) being sampled with
`VK_FILTER_CUBIC_EXT` as a result of this command **must** have
[VkSamplerCubicWeightsCreateInfoQCOM](samplers.html#VkSamplerCubicWeightsCreateInfoQCOM)::`cubicWeights` equal to
`VK_CUBIC_FILTER_WEIGHTS_CATMULL_ROM_QCOM`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-flags-02696) VUID-vkCmdDrawClusterIndirectHUAWEI-flags-02696

Any [VkImage](resources.html#VkImage) created with a [VkImageCreateInfo](resources.html#VkImageCreateInfo)::`flags`
containing `VK_IMAGE_CREATE_CORNER_SAMPLED_BIT_NV` sampled as a
result of this command **must** only be sampled using a
[VkSamplerAddressMode](samplers.html#VkSamplerAddressMode) of
`VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-OpTypeImage-07027) VUID-vkCmdDrawClusterIndirectHUAWEI-OpTypeImage-07027

For any [VkImageView](resources.html#VkImageView) being written as a storage image where the
image format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-OpTypeImage-07028) VUID-vkCmdDrawClusterIndirectHUAWEI-OpTypeImage-07028

For any [VkImageView](resources.html#VkImageView) being read as a storage image where the image
format field of the `OpTypeImage` is `Unknown`, the view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-OpTypeImage-07029) VUID-vkCmdDrawClusterIndirectHUAWEI-OpTypeImage-07029

For any [VkBufferView](resources.html#VkBufferView) being written as a storage texel buffer where
the image format field of the `OpTypeImage` is `Unknown`, the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_WRITE_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-OpTypeImage-07030) VUID-vkCmdDrawClusterIndirectHUAWEI-OpTypeImage-07030

Any [VkBufferView](resources.html#VkBufferView) being read as a storage texel buffer where the
image format field of the `OpTypeImage` is `Unknown` then the
view’s [buffer features](formats.html#VkFormatProperties3) **must** contain
`VK_FORMAT_FEATURE_2_STORAGE_READ_WITHOUT_FORMAT_BIT`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08600) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08600

For each set *n* that is statically used by [a bound    shader](shaders.html#shaders-binding), a descriptor set **must** have been bound to *n* at the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for set *n*, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the current
[VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08601) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08601

For each push constant that is statically used by [a    bound shader](shaders.html#shaders-binding), a push constant value **must** have been set for the same
pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) that is compatible
for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout) used to create the
current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) array used to create the current
[VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-10068) VUID-vkCmdDrawClusterIndirectHUAWEI-None-10068

For each array of resources that is used by [a bound    shader](shaders.html#shaders-binding), the indices used to access members of the array **must** be less
than the descriptor count for the identified binding in the descriptor
sets used by this command

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-maintenance4-08602) VUID-vkCmdDrawClusterIndirectHUAWEI-maintenance4-08602

If the [`maintenance4`](features.html#features-maintenance4) feature is not
enabled, then for each push constant that is statically used by
[a bound shader](shaders.html#shaders-binding), a push constant value **must** have
been set for the same pipeline bind point, with a [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
that is compatible for push constants, with the [VkPipelineLayout](descriptorsets.html#VkPipelineLayout)
used to create the current [VkPipeline](pipelines.html#VkPipeline)
or the [VkDescriptorSetLayout](descriptorsets.html#VkDescriptorSetLayout) and [VkPushConstantRange](descriptorsets.html#VkPushConstantRange) arrays
used to create the current [VkShaderEXT](shaders.html#VkShaderEXT)
, as described in [Pipeline Layout Compatibility](descriptorsets.html#descriptorsets-compatibility)

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08114) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08114

Descriptors in each bound descriptor set, specified via
[vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), **must** be valid as described by
[descriptor validity](descriptorsets.html#descriptor-validity) if they are statically used
by
the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind point used by this
command and the bound [VkPipeline](pipelines.html#VkPipeline) was not created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08115) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08115

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdBindDescriptorSets](descriptorsets.html#vkCmdBindDescriptorSets), the bound
[VkPipeline](pipelines.html#VkPipeline) **must** have been created without
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08116) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08116

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline bind
point used by this command and the bound [VkPipeline](pipelines.html#VkPipeline) was created
with `VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08604) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08604

Descriptors in bound descriptor buffers, specified via
[vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT), **must** be valid if they are
dynamically used by any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08117) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08117

If the descriptors used by the [VkPipeline](pipelines.html#VkPipeline) bound to the pipeline
bind point were specified via [vkCmdSetDescriptorBufferOffsetsEXT](descriptorsets.html#vkCmdSetDescriptorBufferOffsetsEXT),
the bound [VkPipeline](pipelines.html#VkPipeline) **must** have been created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08119) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08119

If a descriptor is dynamically used with a [VkPipeline](pipelines.html#VkPipeline) created with
`VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the descriptor
memory **must** be resident

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08605) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08605

If a descriptor is dynamically used with a [VkShaderEXT](shaders.html#VkShaderEXT) created
with a `VkDescriptorSetLayout` that was created with
`VK_DESCRIPTOR_SET_LAYOUT_CREATE_DESCRIPTOR_BUFFER_BIT_EXT`, the
descriptor memory **must** be resident

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08606) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08606

If the [`shaderObject`](features.html#features-shaderObject) feature is not
enabled, a
valid pipeline **must** be bound to the pipeline bind point used by this
command

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08608) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08608

If a pipeline is bound to the pipeline bind point used by this command,
there
**must** not have been any calls to dynamic state setting commands for any
state specified statically in the [VkPipeline](pipelines.html#VkPipeline) object bound to the
pipeline bind point used by this command, since that pipeline was bound

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-uniformBuffers-06935) VUID-vkCmdDrawClusterIndirectHUAWEI-uniformBuffers-06935

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a uniform buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`uniformBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08612) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08612

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a uniform
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-storageBuffers-06936) VUID-vkCmdDrawClusterIndirectHUAWEI-storageBuffers-06936

If any stage of the [VkPipeline](pipelines.html#VkPipeline) object bound to the pipeline bind
point used by this command accesses a storage buffer,
and that stage was created without enabling either
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS` or
`VK_PIPELINE_ROBUSTNESS_BUFFER_BEHAVIOR_ROBUST_BUFFER_ACCESS_2` for
`storageBuffers`,
and the [`robustBufferAccess`](features.html#features-robustBufferAccess)
feature is not enabled, that stage **must** not access values outside of
the range of the buffer as specified in the descriptor set bound to the
same pipeline bind point

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08613) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08613

If the [`robustBufferAccess`](features.html#features-robustBufferAccess) feature
is not enabled, and any [VkShaderEXT](shaders.html#VkShaderEXT) bound to a stage corresponding
to the pipeline bind point used by this command accesses a storage
buffer, it **must** not access values outside of the range of the buffer as
specified in the descriptor set bound to the same pipeline bind point

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-commandBuffer-02707) VUID-vkCmdDrawClusterIndirectHUAWEI-commandBuffer-02707

If `commandBuffer` is an unprotected command buffer and
[`protectedNoFault`](devsandqueues.html#limits-protectedNoFault) is not supported,
any resource accessed by [bound shaders](shaders.html#shaders-binding) **must** not be
a protected resource

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-viewType-07752) VUID-vkCmdDrawClusterIndirectHUAWEI-viewType-07752

If a [VkImageView](resources.html#VkImageView) is accessed as a result of this command, then the
image view’s `viewType` **must** match the `Dim` operand of the
`OpTypeImage` as described in [Compatibility Between SPIR-V Image Dimensions and Vulkan ImageView Types](../appendices/spirvenv.html#spirvenv-image-dimensions)

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-format-07753) VUID-vkCmdDrawClusterIndirectHUAWEI-format-07753

If a [VkImageView](resources.html#VkImageView) or [VkBufferView](resources.html#VkBufferView) is accessed as a result of
this command, then the [numeric type](formats.html#formats-numericformat) of the
view’s `format` and the `Sampled` `Type` operand of the
`OpTypeImage` **must** match

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-OpImageWrite-08795) VUID-vkCmdDrawClusterIndirectHUAWEI-OpImageWrite-08795

If a [VkImageView](resources.html#VkImageView)
created with a format other than `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
at least as many components as the image view’s format

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-OpImageWrite-08796) VUID-vkCmdDrawClusterIndirectHUAWEI-OpImageWrite-08796

If a [VkImageView](resources.html#VkImageView) created with the format `VK_FORMAT_A8_UNORM`
is accessed using `OpImageWrite` as a result of this command, then
the `Type` of the `Texel` operand of that instruction **must** have
four components

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-OpImageWrite-04469) VUID-vkCmdDrawClusterIndirectHUAWEI-OpImageWrite-04469

If a [VkBufferView](resources.html#VkBufferView) is accessed using `OpImageWrite` as a result
of this command, then the `Type` of the `Texel` operand of that
instruction **must** have at least as many components as the buffer view’s
format

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-SampledType-04470) VUID-vkCmdDrawClusterIndirectHUAWEI-SampledType-04470

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit component
width is accessed as a result of this command, the `SampledType` of
the `OpTypeImage` operand of that instruction **must** have a `Width`
of 64

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-SampledType-04471) VUID-vkCmdDrawClusterIndirectHUAWEI-SampledType-04471

If a [VkImageView](resources.html#VkImageView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-SampledType-04472) VUID-vkCmdDrawClusterIndirectHUAWEI-SampledType-04472

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a 64-bit
component width is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 64

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-SampledType-04473) VUID-vkCmdDrawClusterIndirectHUAWEI-SampledType-04473

If a [VkBufferView](resources.html#VkBufferView) with a [VkFormat](formats.html#VkFormat) that has a component width
less than 64-bit is accessed as a result of this command, the
`SampledType` of the `OpTypeImage` operand of that instruction
**must** have a `Width` of 32

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-sparseImageInt64Atomics-04474) VUID-vkCmdDrawClusterIndirectHUAWEI-sparseImageInt64Atomics-04474

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkImage](resources.html#VkImage)
objects created with the `VK_IMAGE_CREATE_SPARSE_RESIDENCY_BIT` flag
**must** not be accessed by atomic instructions through an `OpTypeImage`
with a `SampledType` with a `Width` of 64 by this command

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-sparseImageInt64Atomics-04475) VUID-vkCmdDrawClusterIndirectHUAWEI-sparseImageInt64Atomics-04475

If the [    `sparseImageInt64Atomics`](features.html#features-sparseImageInt64Atomics) feature is not enabled, [VkBuffer](resources.html#VkBuffer)
objects created with the `VK_BUFFER_CREATE_SPARSE_RESIDENCY_BIT`
flag **must** not be accessed by atomic instructions through an
`OpTypeImage` with a `SampledType` with a `Width` of 64 by this
command

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-OpImageWeightedSampleQCOM-06971) VUID-vkCmdDrawClusterIndirectHUAWEI-OpImageWeightedSampleQCOM-06971

If `OpImageWeightedSampleQCOM` is used to sample a [VkImageView](resources.html#VkImageView)
as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_SAMPLED_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-OpImageWeightedSampleQCOM-06972) VUID-vkCmdDrawClusterIndirectHUAWEI-OpImageWeightedSampleQCOM-06972

If `OpImageWeightedSampleQCOM` uses a [VkImageView](resources.html#VkImageView) as a sample
weight image as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_WEIGHT_IMAGE_BIT_QCOM`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-OpImageBoxFilterQCOM-06973) VUID-vkCmdDrawClusterIndirectHUAWEI-OpImageBoxFilterQCOM-06973

If `OpImageBoxFilterQCOM` is used to sample a [VkImageView](resources.html#VkImageView) as a
result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BOX_FILTER_SAMPLED_BIT_QCOM`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-OpImageBlockMatchSSDQCOM-06974) VUID-vkCmdDrawClusterIndirectHUAWEI-OpImageBlockMatchSSDQCOM-06974

If `OpImageBlockMatchSSDQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-OpImageBlockMatchSADQCOM-06975) VUID-vkCmdDrawClusterIndirectHUAWEI-OpImageBlockMatchSADQCOM-06975

If `OpImageBlockMatchSADQCOM` is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-OpImageBlockMatchSADQCOM-06976) VUID-vkCmdDrawClusterIndirectHUAWEI-OpImageBlockMatchSADQCOM-06976

If `OpImageBlockMatchSADQCOM` or OpImageBlockMatchSSDQCOM is used to
read from a reference image as result of this command, then the
specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-OpImageWeightedSampleQCOM-06977) VUID-vkCmdDrawClusterIndirectHUAWEI-OpImageWeightedSampleQCOM-06977

If `OpImageWeightedSampleQCOM`, `OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** have
been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-OpImageWeightedSampleQCOM-06978) VUID-vkCmdDrawClusterIndirectHUAWEI-OpImageWeightedSampleQCOM-06978

If any command other than `OpImageWeightedSampleQCOM`,
`OpImageBoxFilterQCOM`,
`OpImageBlockMatchWindowSSDQCOM`,
`OpImageBlockMatchWindowSADQCOM`,
`OpImageBlockMatchGatherSSDQCOM`,
`OpImageBlockMatchGatherSADQCOM`,
`OpImageBlockMatchSSDQCOM`, or `OpImageBlockMatchSADQCOM` uses a
[VkSampler](samplers.html#VkSampler) as a result of this command, then the sampler **must** not
have been created with `VK_SAMPLER_CREATE_IMAGE_PROCESSING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-OpImageBlockMatchWindow-09215) VUID-vkCmdDrawClusterIndirectHUAWEI-OpImageBlockMatchWindow-09215

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_2_BLOCK_MATCHING_BIT_QCOM`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-OpImageBlockMatchWindow-09216) VUID-vkCmdDrawClusterIndirectHUAWEI-OpImageBlockMatchWindow-09216

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` instruction is used to read from an
[VkImageView](resources.html#VkImageView) as a result of this command, then the image view’s
format **must** be a single-component format

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-OpImageBlockMatchWindow-09217) VUID-vkCmdDrawClusterIndirectHUAWEI-OpImageBlockMatchWindow-09217

If a `OpImageBlockMatchWindow*QCOM` or
`OpImageBlockMatchGather*QCOM` read from a reference image as result
of this command, then the specified reference coordinates **must** not fail
[integer texel coordinate    validation](textures.html#textures-integer-coordinate-validation)

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07288) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07288

Any shader invocation executed by this command **must**
[terminate](shaders.html#shaders-termination)

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-09600) VUID-vkCmdDrawClusterIndirectHUAWEI-None-09600

If a descriptor with type equal to any of
`VK_DESCRIPTOR_TYPE_SAMPLE_WEIGHT_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_BLOCK_MATCH_IMAGE_QCOM`,
`VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE`,
`VK_DESCRIPTOR_TYPE_STORAGE_IMAGE`, or
`VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT` is accessed as a result of
this command, all image subresources identified by that descriptor **must**
be in the image layout identified when the descriptor was written

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-commandBuffer-10746) VUID-vkCmdDrawClusterIndirectHUAWEI-commandBuffer-10746

The `VkDeviceMemory` object allocated from a `VkMemoryHeap` with
the `VK_MEMORY_HEAP_TILE_MEMORY_BIT_QCOM` property that is bound to
a resource accessed as a result of this command **must** be the active
bound [bound tile memory object](memory.html#memory-bind-tile-memory) in
`commandBuffer`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-10678) VUID-vkCmdDrawClusterIndirectHUAWEI-None-10678

If this command is recorded inside a [tile    shading render pass](renderpass.html#renderpass-tile-shading) instance, the stages corresponding to the pipeline
bind point used by this command **must** only include
`VK_SHADER_STAGE_VERTEX_BIT`, `VK_SHADER_STAGE_FRAGMENT_BIT`,
and/or `VK_SHADER_STAGE_COMPUTE_BIT`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-10679) VUID-vkCmdDrawClusterIndirectHUAWEI-None-10679

If this command is recorded where
[per-tile execution model](renderpass.html#renderpass-per-tile-execution-model) is
enabled, there **must** be no access to any image while the image was be
transitioned to the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` layout

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-renderPass-02684) VUID-vkCmdDrawClusterIndirectHUAWEI-renderPass-02684

The current render pass **must** be [compatible](renderpass.html#renderpass-compatibility)
with the `renderPass` member of the
`VkGraphicsPipelineCreateInfo` structure specified when creating the
`VkPipeline` bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-subpass-02685) VUID-vkCmdDrawClusterIndirectHUAWEI-subpass-02685

The subpass index of the current render pass **must** be equal to the
`subpass` member of the `VkGraphicsPipelineCreateInfo` structure
specified when creating the `VkPipeline` bound to
`VK_PIPELINE_BIND_POINT_GRAPHICS`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07748) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07748

If any shader statically accesses an input attachment, a valid
descriptor **must** be bound to the pipeline via a descriptor set

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-OpTypeImage-07468) VUID-vkCmdDrawClusterIndirectHUAWEI-OpTypeImage-07468

If any shader executed by this pipeline accesses an `OpTypeImage`
variable with a `Dim` operand of `SubpassData`, it **must** be
decorated with an `InputAttachmentIndex` that corresponds to a valid
input attachment in the current subpass

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07469) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07469

Input attachment views accessed in a subpass **must** be created with the
same [VkFormat](formats.html#VkFormat) as the corresponding subpass definition, and be
created with a [VkImageView](resources.html#VkImageView) that is compatible with the attachment
referenced by the subpass'
`pInputAttachments`[`InputAttachmentIndex`] in the bound
[VkFramebuffer](renderpass.html#VkFramebuffer) as specified by
[Fragment Input Attachment    Compatibility](interfaces.html#compatibility-inputattachment)

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-pDepthInputAttachmentIndex-09595) VUID-vkCmdDrawClusterIndirectHUAWEI-pDepthInputAttachmentIndex-09595

Input attachment views accessed in a dynamic render pass with a
`InputAttachmentIndex` referenced by
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo), or no
`InputAttachmentIndex` if
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
or
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are `NULL`, **must** be created with a [VkImageView](resources.html#VkImageView) that is compatible
with the corresponding color, depth, or stencil attachment in
[VkRenderingInfo](renderpass.html#VkRenderingInfo)

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-pDepthInputAttachmentIndex-09596) VUID-vkCmdDrawClusterIndirectHUAWEI-pDepthInputAttachmentIndex-09596

Input attachment views accessed in a dynamic render pass via a shader
object **must** have an `InputAttachmentIndex` if both
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pDepthInputAttachmentIndex`
and
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo):`pStencilInputAttachmentIndex`
are non-`NULL`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-InputAttachmentIndex-09597) VUID-vkCmdDrawClusterIndirectHUAWEI-InputAttachmentIndex-09597

If an input attachment view accessed in a dynamic render pass via a
shader object has an `InputAttachmentIndex`, the
`InputAttachmentIndex` **must** match an index in
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-06537) VUID-vkCmdDrawClusterIndirectHUAWEI-None-06537

Memory backing image subresources used as attachments in the current
render pass **must** not be written in any way other than as an attachment
by this command

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-09000) VUID-vkCmdDrawClusterIndirectHUAWEI-None-09000

If a color attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

the `VK_PIPELINE_CREATE_COLOR_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT` is
set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_COLOR_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-09001) VUID-vkCmdDrawClusterIndirectHUAWEI-None-09001

If a depth attachment is written by any prior command in this subpass or
by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_DEPTH_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-09002) VUID-vkCmdDrawClusterIndirectHUAWEI-None-09002

If a stencil attachment is written by any prior command in this subpass
or by the load, store, or resolve operations for this subpass,
it is not in the
`VK_IMAGE_LAYOUT_ATTACHMENT_FEEDBACK_LOOP_OPTIMAL_EXT` image layout,
and
either:

* 

the
`VK_PIPELINE_CREATE_DEPTH_STENCIL_ATTACHMENT_FEEDBACK_LOOP_BIT_EXT`
is set on the bound pipeline
or

* 
the last call to [vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) included
`VK_IMAGE_ASPECT_STENCIL_BIT` and

there is no bound graphics pipeline or

* 
the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT`

it **must** not be accessed in any way other than as an attachment by this
command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-09003) VUID-vkCmdDrawClusterIndirectHUAWEI-None-09003

If an attachment is written by any prior command in this subpass or by
the load, store, or resolve operations for this subpass, it **must** not be
accessed in any way other than as an attachment, storage image, or
sampled image by this command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-06539) VUID-vkCmdDrawClusterIndirectHUAWEI-None-06539

If any previously recorded command in the current subpass accessed an
image subresource used as an attachment in this subpass in any way other
than as an attachment, this command **must** not write to that image
subresource as an attachment

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-06886) VUID-vkCmdDrawClusterIndirectHUAWEI-None-06886

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the depth aspect, [depth    writes](fragops.html#fragops-depth-write) **must** be disabled

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-06887) VUID-vkCmdDrawClusterIndirectHUAWEI-None-06887

If the current render pass instance uses a depth/stencil attachment with
a read-only layout for the stencil aspect, both front and back
`writeMask` are not zero, and stencil test is enabled,
[all stencil ops](fragops.html#fragops-stencil) **must** be `VK_STENCIL_OP_KEEP`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07831) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07831

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT` dynamic state enabled then
[vkCmdSetViewport](vertexpostproc.html#vkCmdSetViewport) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07832) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07832

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SCISSOR` dynamic state enabled then
[vkCmdSetScissor](fragops.html#vkCmdSetScissor) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07833) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07833

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_WIDTH` dynamic state enabled then
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08617) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08617

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command
buffer set `polygonMode` to `VK_POLYGON_MODE_LINE`,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08618) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08618

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology,
[vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08619) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08619

If a shader object that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, [vkCmdSetLineWidth](primsrast.html#vkCmdSetLineWidth)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07834) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07834

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthBiasEnable`
is `VK_TRUE`, then [vkCmdSetDepthBias](primsrast.html#vkCmdSetDepthBias)
or [vkCmdSetDepthBias2EXT](primsrast.html#vkCmdSetDepthBias2EXT)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07835) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07835

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_BLEND_CONSTANTS` dynamic state enabled then
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08621) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08621

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) in the current command buffer set any
element of `pColorBlendEnables` to `VK_TRUE`, and the most
recent call to [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) in the current
command buffer set the same element of `pColorBlendEquations` to a
`VkColorBlendEquationEXT` structure with any [VkBlendFactor](framebuffer.html#VkBlendFactor)
member with a value of `VK_BLEND_FACTOR_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_COLOR`,
`VK_BLEND_FACTOR_CONSTANT_ALPHA`, or
`VK_BLEND_FACTOR_ONE_MINUS_CONSTANT_ALPHA`,
[vkCmdSetBlendConstants](framebuffer.html#vkCmdSetBlendConstants) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07836) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07836

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`depthBoundsTestEnable` is `VK_TRUE`, then
[vkCmdSetDepthBounds](fragops.html#vkCmdSetDepthBounds) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07837) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07837

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_COMPARE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilCompareMask](fragops.html#vkCmdSetStencilCompareMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07838) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07838

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07839) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07839

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_REFERENCE` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of and
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then
[vkCmdSetStencilReference](fragops.html#vkCmdSetStencilReference) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-maxMultiviewInstanceIndex-02688) VUID-vkCmdDrawClusterIndirectHUAWEI-maxMultiviewInstanceIndex-02688

If the draw is recorded in a render pass instance with multiview
enabled, the maximum instance index **must** be less than or equal to
[VkPhysicalDeviceMultiviewProperties](limits.html#VkPhysicalDeviceMultiviewProperties)::`maxMultiviewInstanceIndex`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-sampleLocationsEnable-02689) VUID-vkCmdDrawClusterIndirectHUAWEI-sampleLocationsEnable-02689

If the bound graphics pipeline was created with
[VkPipelineSampleLocationsStateCreateInfoEXT](primsrast.html#VkPipelineSampleLocationsStateCreateInfoEXT)::`sampleLocationsEnable`
set to `VK_TRUE` and the current subpass has a depth/stencil
attachment, then that attachment **must** have been created with the
`VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT` bit set

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07634) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07634

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-06666) VUID-vkCmdDrawClusterIndirectHUAWEI-None-06666

If the `[VK_EXT_sample_locations](../appendices/extensions.html#VK_EXT_sample_locations)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
[vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07840) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07840

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CULL_MODE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCullMode](primsrast.html#vkCmdSetCullMode) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07841) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07841

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRONT_FACE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFrontFace](primsrast.html#vkCmdSetFrontFace) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07843) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07843

 If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_TEST_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`,
[vkCmdSetDepthTestEnable](fragops.html#vkCmdSetDepthTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07844) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07844

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07845) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07845

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_COMPARE_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `depthTestEnable`
is `VK_TRUE`, then [vkCmdSetDepthCompareOp](fragops.html#vkCmdSetDepthCompareOp) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07846) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07846

If the [`depthBounds`](features.html#features-depthBounds) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BOUNDS_TEST_ENABLE` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBoundsTestEnable](fragops.html#vkCmdSetDepthBoundsTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07847) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07847

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_TEST_ENABLE` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetStencilTestEnable](fragops.html#vkCmdSetStencilTestEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07848) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07848

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_STENCIL_OP` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, the
[current value](pipelines.html#dynamic-state-current-value) of
`stencilTestEnable` is `VK_TRUE`, then [vkCmdSetStencilOp](fragops.html#vkCmdSetStencilOp)
**must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-viewportCount-03417) VUID-vkCmdDrawClusterIndirectHUAWEI-viewportCount-03417

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-scissorCount-03418) VUID-vkCmdDrawClusterIndirectHUAWEI-scissorCount-03418

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` dynamic state enabled,
and the state is not inherited,
then [vkCmdSetScissorWithCount](vertexpostproc.html#vkCmdSetScissorWithCount) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-viewportCount-03419) VUID-vkCmdDrawClusterIndirectHUAWEI-viewportCount-03419

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with both the
`VK_DYNAMIC_STATE_SCISSOR_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic states enabled,
and the state is not inherited,
then the `viewportCount` parameter of
`vkCmdSetViewportWithCount` **must** match the `scissorCount`
parameter of `vkCmdSetScissorWithCount`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-viewportCount-04137) VUID-vkCmdDrawClusterIndirectHUAWEI-viewportCount-04137

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportWScalingStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportWScalingStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-viewportCount-04138) VUID-vkCmdDrawClusterIndirectHUAWEI-viewportCount-04138

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08636) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08636

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_NV` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`viewportWScalingEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWScalingNV](vertexpostproc.html#vkCmdSetViewportWScalingNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-viewportCount-04139) VUID-vkCmdDrawClusterIndirectHUAWEI-viewportCount-04139

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic
state enabled, then the bound graphics pipeline **must** have been created
with
[VkPipelineViewportShadingRateImageStateCreateInfoNV](primsrast.html#VkPipelineViewportShadingRateImageStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-shadingRateImage-09233) VUID-vkCmdDrawClusterIndirectHUAWEI-shadingRateImage-09233

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_COARSE_SAMPLE_ORDER_NV` and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoarseSampleOrderNV](primsrast.html#vkCmdSetCoarseSampleOrderNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-shadingRateImage-09234) VUID-vkCmdDrawClusterIndirectHUAWEI-shadingRateImage-09234

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08637) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08637

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SHADING_RATE_PALETTE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`shadingRateImageEnable` is `VK_TRUE`, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportShadingRatePaletteNV](primsrast.html#vkCmdSetViewportShadingRatePaletteNV) **must** be greater than or
equal to the `viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-VkPipelineVieportCreateInfo-04141) VUID-vkCmdDrawClusterIndirectHUAWEI-VkPipelineVieportCreateInfo-04141

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV) structure chained from
[VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound graphics
pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-VkPipelineVieportCreateInfo-04142) VUID-vkCmdDrawClusterIndirectHUAWEI-VkPipelineVieportCreateInfo-04142

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled and a
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV) structure
chained from [VkPipelineViewportStateCreateInfo](vertexpostproc.html#VkPipelineViewportStateCreateInfo), then the bound
graphics pipeline **must** have been created with
[VkPipelineViewportExclusiveScissorStateCreateInfoNV](fragops.html#VkPipelineViewportExclusiveScissorStateCreateInfoNV)::`exclusiveScissorCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07878) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07878

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_ENABLE_NV` dynamic state
enabled, then [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07879) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07879

If the [`exclusiveScissor`](features.html#features-exclusiveScissor) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXCLUSIVE_SCISSOR_NV` dynamic state enabled, and
the most recent call to [vkCmdSetExclusiveScissorEnableNV](fragops.html#vkCmdSetExclusiveScissorEnableNV) in the
current command buffer set any element of `pExclusiveScissorEnables`
to `VK_TRUE`, then [vkCmdSetExclusiveScissorNV](fragops.html#vkCmdSetExclusiveScissorNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-04876) VUID-vkCmdDrawClusterIndirectHUAWEI-None-04876

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZER_DISCARD_ENABLE` dynamic state enabled,
then [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-04877) VUID-vkCmdDrawClusterIndirectHUAWEI-None-04877

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_BIAS_ENABLE` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthBiasEnable](primsrast.html#vkCmdSetDepthBiasEnable) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-logicOp-04878) VUID-vkCmdDrawClusterIndirectHUAWEI-logicOp-04878

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_EXT` dynamic state enabled, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of `logicOpEnable` is
`VK_TRUE`, then [vkCmdSetLogicOpEXT](framebuffer.html#vkCmdSetLogicOpEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-primitiveFragmentShadingRateWithMultipleViewports-04552) VUID-vkCmdDrawClusterIndirectHUAWEI-primitiveFragmentShadingRateWithMultipleViewports-04552

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, and
any of the shader stages of the bound graphics pipeline write to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-primitiveFragmentShadingRateWithMultipleViewports-08642) VUID-vkCmdDrawClusterIndirectHUAWEI-primitiveFragmentShadingRateWithMultipleViewports-08642

If the [    `primitiveFragmentShadingRateWithMultipleViewports`](limits.html#limits-primitiveFragmentShadingRateWithMultipleViewports) limit is not
supported, and any shader object bound to a graphics stage writes to the
`PrimitiveShadingRateKHR` built-in, then
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount) **must** have been called in the current
command buffer prior to this drawing command, and the
`viewportCount` parameter of `vkCmdSetViewportWithCount` **must**
be `1`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-blendEnable-04727) VUID-vkCmdDrawClusterIndirectHUAWEI-blendEnable-04727

If rasterization is not disabled in the bound graphics pipeline, then
for each color attachment in the subpass, if the corresponding image
view’s [format features](resources.html#resources-image-view-format-features) do not
contain `VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
`blendEnable` member of the corresponding element of the
`pAttachments` member of `pColorBlendState` **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08643) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08643

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then for each color attachment in the render pass, if
the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) do not contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`, then the
corresponding member of `pColorBlendEnables` in the most recent call
to `vkCmdSetColorBlendEnableEXT` in the current command buffer that
affected that attachment index **must** have been `VK_FALSE`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-multisampledRenderToSingleSampled-07284) VUID-vkCmdDrawClusterIndirectHUAWEI-multisampledRenderToSingleSampled-07284

If rasterization is not disabled in the bound graphics pipeline,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then `rasterizationSamples` for the bound graphics pipeline **must** be the
same as the current subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08644) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08644

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`,
and none of the following is enabled:

* 
the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` extension

* 
the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension

* 
the [     `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature

then the most recent call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) in the
current command buffer **must** have set `rasterizationSamples` to be the
same as the number of samples for the current render pass color and/or
depth/stencil attachments

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08876) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08876

If a shader object is bound to any graphics stage, the current render
pass instance **must** have been begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-imageView-06172) VUID-vkCmdDrawClusterIndirectHUAWEI-imageView-06172

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the depth attachment

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-imageView-06173) VUID-vkCmdDrawClusterIndirectHUAWEI-imageView-06173

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_STENCIL_READ_ONLY_OPTIMAL`, this command
**must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-imageView-06174) VUID-vkCmdDrawClusterIndirectHUAWEI-imageView-06174

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_STENCIL_ATTACHMENT_OPTIMAL`, this
command **must** not write any values to the depth attachment

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-imageView-06175) VUID-vkCmdDrawClusterIndirectHUAWEI-imageView-06175

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_ATTACHMENT_STENCIL_READ_ONLY_OPTIMAL`, this
command **must** not write any values to the stencil attachment

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-imageView-06176) VUID-vkCmdDrawClusterIndirectHUAWEI-imageView-06176

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pDepthAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the `layout`
member of `pDepthAttachment` is
`VK_IMAGE_LAYOUT_DEPTH_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the depth attachment

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-imageView-06177) VUID-vkCmdDrawClusterIndirectHUAWEI-imageView-06177

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the `imageView` member of
`pStencilAttachment` is not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the
`layout` member of `pStencilAttachment` is
`VK_IMAGE_LAYOUT_STENCIL_READ_ONLY_OPTIMAL`, this command **must** not
write any values to the stencil attachment

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-viewMask-06178) VUID-vkCmdDrawClusterIndirectHUAWEI-viewMask-06178

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a [VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`viewMask` equal
to [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`viewMask`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-colorAttachmentCount-06179) VUID-vkCmdDrawClusterIndirectHUAWEI-colorAttachmentCount-06179

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound graphics pipeline **must** have been
created with a
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`colorAttachmentCount` equal to
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-dynamicRenderingUnusedAttachments-08910) VUID-vkCmdDrawClusterIndirectHUAWEI-dynamicRenderingUnusedAttachments-08910

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have
been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-dynamicRenderingUnusedAttachments-08912) VUID-vkCmdDrawClusterIndirectHUAWEI-dynamicRenderingUnusedAttachments-08912

If
the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is not enabled, and
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`, then
each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array
with an `imageView` equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have the
corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound pipeline equal to `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-dynamicRenderingUnusedAttachments-08911) VUID-vkCmdDrawClusterIndirectHUAWEI-dynamicRenderingUnusedAttachments-08911

If the [    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled, and the
current render pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering)
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` greater than `0`,
then each element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments`
array with an `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must**
have been created with a [VkFormat](formats.html#VkFormat) equal to the corresponding
element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the bound graphics pipeline, or the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats`, if
it exists, **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-colorAttachmentCount-09362) VUID-vkCmdDrawClusterIndirectHUAWEI-colorAttachmentCount-09362

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`,
there is no shader object bound to any graphics stage,
and a color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`resolveImageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-09363) VUID-vkCmdDrawClusterIndirectHUAWEI-None-09363

If
there is no shader object bound to any graphics stage,
the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, and a
color attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, each element
of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with an image created with a
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value equal to the
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value used to create
the bound graphics pipeline

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-09364) VUID-vkCmdDrawClusterIndirectHUAWEI-None-09364

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set the blend enable
to `VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-09365) VUID-vkCmdDrawClusterIndirectHUAWEI-None-09365

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-09366) VUID-vkCmdDrawClusterIndirectHUAWEI-None-09366

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have set blend enable to
`VK_FALSE` prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-rasterizationSamples-09367) VUID-vkCmdDrawClusterIndirectHUAWEI-rasterizationSamples-09367

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have set
`rasterizationSamples` to `VK_SAMPLE_COUNT_1_BIT` prior to this
drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-09368) VUID-vkCmdDrawClusterIndirectHUAWEI-None-09368

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-09369) VUID-vkCmdDrawClusterIndirectHUAWEI-None-09369

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
there is no shader object bound to any graphics stage,
and the bound graphics pipeline was created with a non-zero
[VkExternalFormatANDROID](resources.html#VkExternalFormatANDROID)::`externalFormat` value and with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-pFragmentSize-09370) VUID-vkCmdDrawClusterIndirectHUAWEI-pFragmentSize-09370

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->width` to `1` prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-pFragmentSize-09371) VUID-vkCmdDrawClusterIndirectHUAWEI-pFragmentSize-09371

If there is a shader object bound to any graphics stage, and the current
render pass includes a color attachment that uses the
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID` resolve mode,
then [vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have set
`pFragmentSize->height` to `1` prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07749) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07749

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08646) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08646

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetColorWriteEnableEXT](framebuffer.html#vkCmdSetColorWriteEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-attachmentCount-07750) VUID-vkCmdDrawClusterIndirectHUAWEI-attachmentCount-07750

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_ENABLE_EXT` dynamic state enabled then
the `attachmentCount` parameter of `vkCmdSetColorWriteEnableEXT`
**must** be greater than or equal to the
`VkPipelineColorBlendStateCreateInfo`::`attachmentCount` of the
bound graphics pipeline

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08647) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08647

If the [`colorWriteEnable`](features.html#features-colorWriteEnable) feature is
enabled, and a shader object is bound to the
`VK_SHADER_STAGE_FRAGMENT_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then the
`attachmentCount` parameter of most recent call to
`vkCmdSetColorWriteEnableEXT` in the current command buffer **must** be
greater than or equal to the number of color attachments in the current
render pass instance

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07751) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07751

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled, a
graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) included a
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure, the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT)::`discardRectangleCount`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-rasterizerDiscardEnable-09236) VUID-vkCmdDrawClusterIndirectHUAWEI-rasterizerDiscardEnable-09236

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_EXT` dynamic state enabled and
the `pNext` chain of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo) did not
include a [VkPipelineDiscardRectangleStateCreateInfoEXT](fragops.html#VkPipelineDiscardRectangleStateCreateInfoEXT) structure,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleEXT](fragops.html#vkCmdSetDiscardRectangleEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command for each discard rectangle
in
[VkPhysicalDeviceDiscardRectanglePropertiesEXT](limits.html#VkPhysicalDeviceDiscardRectanglePropertiesEXT)::`maxDiscardRectangles`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07880) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07880

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_ENABLE_EXT` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDiscardRectangleEnableEXT](fragops.html#vkCmdSetDiscardRectangleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07881) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07881

If the `[VK_EXT_discard_rectangles](../appendices/extensions.html#VK_EXT_discard_rectangles)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DISCARD_RECTANGLE_MODE_EXT` dynamic state enabled,
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`discardRectangleEnable` is `VK_TRUE`, then
[vkCmdSetDiscardRectangleModeEXT](fragops.html#vkCmdSetDiscardRectangleModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-dynamicRenderingUnusedAttachments-08913) VUID-vkCmdDrawClusterIndirectHUAWEI-dynamicRenderingUnusedAttachments-08913

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-dynamicRenderingUnusedAttachments-08914) VUID-vkCmdDrawClusterIndirectHUAWEI-dynamicRenderingUnusedAttachments-08914

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline **must** be equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-dynamicRenderingUnusedAttachments-08915) VUID-vkCmdDrawClusterIndirectHUAWEI-dynamicRenderingUnusedAttachments-08915

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the bound graphics pipeline was not equal to the [VkFormat](formats.html#VkFormat)
used to create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`,
the value of the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-dynamicRenderingUnusedAttachments-08916) VUID-vkCmdDrawClusterIndirectHUAWEI-dynamicRenderingUnusedAttachments-08916

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to
`VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-dynamicRenderingUnusedAttachments-08917) VUID-vkCmdDrawClusterIndirectHUAWEI-dynamicRenderingUnusedAttachments-08917

If current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
the
[`dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments)
feature is not enabled,
and [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline **must** be equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-dynamicRenderingUnusedAttachments-08918) VUID-vkCmdDrawClusterIndirectHUAWEI-dynamicRenderingUnusedAttachments-08918

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the
[    `dynamicRenderingUnusedAttachments`](features.html#features-dynamicRenderingUnusedAttachments) feature is enabled,
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), and the value of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the bound graphics pipeline was not equal to the
[VkFormat](formats.html#VkFormat) used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`, the value of
the format **must** be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-imageView-06183) VUID-vkCmdDrawClusterIndirectHUAWEI-imageView-06183

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentShadingRateAttachmentInfoKHR](renderpass.html#VkRenderingFragmentShadingRateAttachmentInfoKHR)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_SHADING_RATE_ATTACHMENT_BIT_KHR`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-imageView-06184) VUID-vkCmdDrawClusterIndirectHUAWEI-imageView-06184

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and
[VkRenderingFragmentDensityMapAttachmentInfoEXT](renderpass.html#VkRenderingFragmentDensityMapAttachmentInfoEXT)::`imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the bound graphics pipeline **must** have
been created with
`VK_PIPELINE_CREATE_RENDERING_FRAGMENT_DENSITY_MAP_ATTACHMENT_BIT_EXT`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-colorAttachmentCount-06185) VUID-vkCmdDrawClusterIndirectHUAWEI-colorAttachmentCount-06185

If the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and the current render
pass instance was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
`0`, then each element of the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
`imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
created with a sample count equal to the corresponding element of the
`pColorAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-pDepthAttachment-06186) VUID-vkCmdDrawClusterIndirectHUAWEI-pDepthAttachment-06186

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-pStencilAttachment-06187) VUID-vkCmdDrawClusterIndirectHUAWEI-pStencilAttachment-06187

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline was created with a
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) structure, and
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of the
`depthStencilAttachmentSamples` member of
[VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD) or
[VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV) used to create the bound graphics
pipeline **must** be equal to the sample count used to create
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-multisampledRenderToSingleSampled-07285) VUID-vkCmdDrawClusterIndirectHUAWEI-multisampledRenderToSingleSampled-07285

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    the current render pass instance was begun with
    [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with a
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` parameter greater than
    `0`, then each element of the
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments` array with a
    `imageView` not equal to [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE) **must** have been
    created with a sample count equal to the value of
    `rasterizationSamples` for the bound graphics pipeline

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-multisampledRenderToSingleSampled-07286) VUID-vkCmdDrawClusterIndirectHUAWEI-multisampledRenderToSingleSampled-07286

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-multisampledRenderToSingleSampled-07287) VUID-vkCmdDrawClusterIndirectHUAWEI-multisampledRenderToSingleSampled-07287

    If
    the bound pipeline was created without a
    [VkAttachmentSampleCountInfoAMD](cmdbuffers.html#VkAttachmentSampleCountInfoAMD)
or
    [VkAttachmentSampleCountInfoNV](cmdbuffers.html#VkAttachmentSampleCountInfoNV)
    structure, and
    the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
    [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
    [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), the value of `rasterizationSamples` for the
    bound graphics pipeline **must** be equal to the sample count used to
    create [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-pNext-07935) VUID-vkCmdDrawClusterIndirectHUAWEI-pNext-07935

If this command has been called inside a render pass instance started
with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), and the `pNext` chain of
[VkRenderingInfo](renderpass.html#VkRenderingInfo) includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the value of `rasterizationSamples` for the bound graphics
pipeline **must** be equal to
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT)::`rasterizationSamples`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-renderPass-06198) VUID-vkCmdDrawClusterIndirectHUAWEI-renderPass-06198

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), the bound pipeline **must** have been created
with a [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`renderPass` equal to
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-pColorAttachments-08963) VUID-vkCmdDrawClusterIndirectHUAWEI-pColorAttachments-08963

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound with a
fragment shader that statically writes to a color attachment, the color
write mask is not zero, color writes are enabled, and the corresponding
element of the [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pColorAttachments->imageView`
was not [VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the corresponding element of
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`pColorAttachmentFormats` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-pDepthAttachment-08964) VUID-vkCmdDrawClusterIndirectHUAWEI-pDepthAttachment-08964

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, depth
test is enabled, depth write is enabled, and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pDepthAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`depthAttachmentFormat` used to
create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-pStencilAttachment-08965) VUID-vkCmdDrawClusterIndirectHUAWEI-pStencilAttachment-08965

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), there is a graphics pipeline bound, stencil
test is enabled and the
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`pStencilAttachment->imageView` was not
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE), then the
[VkPipelineRenderingCreateInfo](pipelines.html#VkPipelineRenderingCreateInfo)::`stencilAttachmentFormat` used
to create the pipeline **must** not be `VK_FORMAT_UNDEFINED`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-flags-10582) VUID-vkCmdDrawClusterIndirectHUAWEI-flags-10582

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering), its [VkRenderingInfo](renderpass.html#VkRenderingInfo)::`flags`
parameter **must** not have
`VK_RENDERING_CONTENTS_SECONDARY_COMMAND_BUFFERS_BIT` set
unless `VK_RENDERING_CONTENTS_INLINE_BIT_KHR` is also set

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-primitivesGeneratedQueryWithRasterizerDiscard-06708) VUID-vkCmdDrawClusterIndirectHUAWEI-primitivesGeneratedQueryWithRasterizerDiscard-06708

If the [    `primitivesGeneratedQueryWithRasterizerDiscard`](features.html#features-primitivesGeneratedQueryWithRasterizerDiscard) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, [rasterization discard](primsrast.html#primsrast-discard) **must** not be enabled

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-primitivesGeneratedQueryWithNonZeroStreams-06709) VUID-vkCmdDrawClusterIndirectHUAWEI-primitivesGeneratedQueryWithNonZeroStreams-06709

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, the bound graphics pipeline **must** not have been created with a
non-zero value in
`VkPipelineRasterizationStateStreamCreateInfoEXT`::`rasterizationStream`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07620) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07620

If the [`depthClamp`](features.html#features-depthClamp) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetDepthClampEnableEXT](vertexpostproc.html#vkCmdSetDepthClampEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07621) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07621

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_POLYGON_MODE_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07622) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07622

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07623) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07623

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` dynamic state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** have been called and not subsequently
[invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer
prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-alphaToCoverageEnable-08919) VUID-vkCmdDrawClusterIndirectHUAWEI-alphaToCoverageEnable-08919

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and `alphaToCoverageEnable` was `VK_TRUE` in the last
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT), then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-alphaToCoverageEnable-08920) VUID-vkCmdDrawClusterIndirectHUAWEI-alphaToCoverageEnable-08920

If a shader object is bound to any graphics stage, and the most recent
call to [vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) in the current command
buffer set `alphaToCoverageEnable` to `VK_TRUE`, then the
[Fragment Output Interface](interfaces.html#interfaces-fragmentoutput) **must** contain a
variable for the alpha `Component` word in `Location` 0 at
`Index` 0

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07624) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07624

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_COVERAGE_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToCoverageEnableEXT](fragops.html#vkCmdSetAlphaToCoverageEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07625) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07625

If the [`alphaToOne`](features.html#features-alphaToOne) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ALPHA_TO_ONE_ENABLE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAlphaToOneEnableEXT](fragops.html#vkCmdSetAlphaToOneEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07626) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07626

If the [`logicOp`](features.html#features-logicOp) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LOGIC_OP_ENABLE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetLogicOpEnableEXT](framebuffer.html#vkCmdSetLogicOpEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07627) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07627

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08657) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08657

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have
been called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime)
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07628) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07628

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08658) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08658

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the most recent call to
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) for any attachment set that
attachment’s value in `pColorBlendEnables` to `VK_TRUE`, then
[vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07629) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07629

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08659) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08659

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07630) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07630

If the [`geometryStreams`](features.html#features-geometryStreams) feature is
enabled, and
a shader object is bound to the `VK_SHADER_STAGE_GEOMETRY_BIT` stage
or
a graphics pipeline is bound which was created with both a
`VK_SHADER_STAGE_GEOMETRY_BIT` stage and the
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` dynamic state enabled,
then [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07631) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07631

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07632) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07632

If the `[VK_EXT_conservative_rasterization](../appendices/extensions.html#VK_EXT_conservative_rasterization)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_EXTRA_PRIMITIVE_OVERESTIMATION_SIZE_EXT` dynamic
state enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`conservativeRasterizationMode` is
`VK_CONSERVATIVE_RASTERIZATION_MODE_OVERESTIMATE_EXT`, then
[vkCmdSetExtraPrimitiveOverestimationSizeEXT](primsrast.html#vkCmdSetExtraPrimitiveOverestimationSizeEXT) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07633) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07633

If the [`depthClipEnable`](features.html#features-depthClipEnable) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_ENABLE_EXT` dynamic state, then
[vkCmdSetDepthClipEnableEXT](vertexpostproc.html#vkCmdSetDepthClipEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07635) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07635

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-rasterizerDiscardEnable-09416) VUID-vkCmdDrawClusterIndirectHUAWEI-rasterizerDiscardEnable-09416

If the `[VK_EXT_blend_operation_advanced](../appendices/extensions.html#VK_EXT_blend_operation_advanced)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then at least one of [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT)
and [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07636) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07636

If the `[VK_EXT_provoking_vertex](../appendices/extensions.html#VK_EXT_provoking_vertex)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_PROVOKING_VERTEX_MODE_EXT` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetProvokingVertexModeEXT](vertexpostproc.html#vkCmdSetProvokingVertexModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07637) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07637

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state enabled
then [vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08666) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08666

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08667) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08667

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08668) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08668

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineRasterizationModeEXT](primsrast.html#vkCmdSetLineRasterizationModeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07638) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07638

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` dynamic state enabled
then [vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08669) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08669

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to any graphics stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, and the most recent
call to [vkCmdSetPolygonModeEXT](primsrast.html#vkCmdSetPolygonModeEXT) in the current command buffer set
`polygonMode` to `VK_POLYGON_MODE_LINE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08670) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08670

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, and the most recent
call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command
buffer set `rasterizerDiscardEnable` to `VK_FALSE`, and the most
recent call to [vkCmdSetPrimitiveTopology](#vkCmdSetPrimitiveTopology) in the current command
buffer set `primitiveTopology` to any line topology, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08671) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08671

If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled, and a shader object
that outputs line primitives is bound to the
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` stage, and the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE`, then
[vkCmdSetLineStippleEnableEXT](primsrast.html#vkCmdSetLineStippleEnableEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07849) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07849

    If any of the [    `stippledRectangularLines`](features.html#features-stippledRectangularLines), [    `stippledBresenhamLines`](features.html#features-stippledBresenhamLines) or [    `stippledSmoothLines`](features.html#features-stippledSmoothLines) features are enabled and
    a shader object is bound to any graphics stage, or
    a bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE`
    dynamic state enabled, the [current    value](pipelines.html#dynamic-state-current-value) of `rasterizerDiscardEnable` is `VK_FALSE`, and the
    [current value](pipelines.html#dynamic-state-current-value) of
    `stippledLineEnable` is `VK_TRUE`, then
[vkCmdSetLineStipple](primsrast.html#vkCmdSetLineStipple)
    **must** have been called and not subsequently [    invalidated](pipelines.html#dynamic-state-lifetime) in the current command buffer prior to this drawing
    command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-10608) VUID-vkCmdDrawClusterIndirectHUAWEI-None-10608

If
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic state
enabled, and the current `lineRasterizationMode` is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM` or
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the current
`alphaToCoverageEnable`, `alphaToOneEnable` and
`sampleShadingEnable` states **must** all be `VK_FALSE`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07639) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07639

If the [`depthClipControl`](features.html#features-depthClipControl) feature is
enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLIP_NEGATIVE_ONE_TO_ONE_EXT` dynamic state
enabled, then [vkCmdSetDepthClipNegativeOneToOneEXT](vertexpostproc.html#vkCmdSetDepthClipNegativeOneToOneEXT) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-09650) VUID-vkCmdDrawClusterIndirectHUAWEI-None-09650

If the [`depthClampControl`](features.html#features-depthClampControl) feature
is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_DEPTH_CLAMP_RANGE_EXT` dynamic state enabled, and
the [current value](pipelines.html#dynamic-state-current-value) of
`depthClampEnable` is `VK_TRUE`, then
[vkCmdSetDepthClampRangeEXT](fragops.html#vkCmdSetDepthClampRangeEXT) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07640) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07640

If the `[VK_NV_clip_space_w_scaling](../appendices/extensions.html#VK_NV_clip_space_w_scaling)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_W_SCALING_ENABLE_NV` dynamic state
enabled, then [vkCmdSetViewportWScalingEnableNV](vertexpostproc.html#vkCmdSetViewportWScalingEnableNV) **must** have been
called and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in
the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07641) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07641

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state enabled, then
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07642) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07642

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07643) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07643

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_LOCATION_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageToColorEnable` is `VK_TRUE`, then
[vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07644) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07644

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_MODE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageModulationModeNV](fragops.html#vkCmdSetCoverageModulationModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07645) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07645

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationMode` is any value other than
`VK_COVERAGE_MODULATION_MODE_NONE_NV`, then
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07646) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07646

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_NV` dynamic state
enabled, the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, and the
[current value](pipelines.html#dynamic-state-current-value) of
`coverageModulationTableEnable` is `VK_TRUE`, then
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07647) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07647

If the [`shadingRateImage`](features.html#features-shadingRateImage) feature is
enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_SHADING_RATE_IMAGE_ENABLE_NV` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetShadingRateImageEnableNV](primsrast.html#vkCmdSetShadingRateImageEnableNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-pipelineFragmentShadingRate-09238) VUID-vkCmdDrawClusterIndirectHUAWEI-pipelineFragmentShadingRate-09238

If the [    `pipelineFragmentShadingRate`](features.html#features-pipelineFragmentShadingRate) feature is enabled,
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_FRAGMENT_SHADING_RATE_KHR` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetFragmentShadingRateKHR](primsrast.html#vkCmdSetFragmentShadingRateKHR) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07648) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07648

If the [    `representativeFragmentTest`](features.html#features-representativeFragmentTest) feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_REPRESENTATIVE_FRAGMENT_TEST_ENABLE_NV` dynamic
state enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetRepresentativeFragmentTestEnableNV](fragops.html#vkCmdSetRepresentativeFragmentTestEnableNV) **must** have been called
and not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the
current command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07649) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07649

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` dynamic state enabled,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetCoverageReductionModeNV](fragops.html#vkCmdSetCoverageReductionModeNV) **must** have been called and not
subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-pColorBlendEnables-07470) VUID-vkCmdDrawClusterIndirectHUAWEI-pColorBlendEnables-07470

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` state enabled and the last
call to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) set `pColorBlendEnables`
for any attachment to `VK_TRUE`, then for those attachments in the
subpass the corresponding image view’s
[format features](resources.html#resources-image-view-format-features) **must** contain
`VK_FORMAT_FEATURE_COLOR_ATTACHMENT_BLEND_BIT`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-rasterizationSamples-07471) VUID-vkCmdDrawClusterIndirectHUAWEI-rasterizationSamples-07471

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
current subpass does not use any color and/or depth/stencil attachments,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** follow the rules for a
[zero-attachment subpass](renderpass.html#renderpass-noattachments)

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-samples-07472) VUID-vkCmdDrawClusterIndirectHUAWEI-samples-07472

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo)::`rasterizationSamples`
parameter used to create the bound graphics pipeline

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-samples-07473) VUID-vkCmdDrawClusterIndirectHUAWEI-samples-07473

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_MASK_EXT` state and
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` states enabled, then
the `samples` parameter in the last call to
[vkCmdSetSampleMaskEXT](fragops.html#vkCmdSetSampleMaskEXT) **must** be greater or equal to the
`rasterizationSamples` parameter in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-rasterizationSamples-07474) VUID-vkCmdDrawClusterIndirectHUAWEI-rasterizationSamples-07474

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and
the [    `multisampledRenderToSingleSampled`](features.html#features-multisampledRenderToSingleSampled) feature is not enabled, and
neither the `[VK_AMD_mixed_attachment_samples](../appendices/extensions.html#VK_AMD_mixed_attachment_samples)` nor the
`[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extensions are enabled, then
the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the current
subpass color and/or depth/stencil attachments

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-09211) VUID-vkCmdDrawClusterIndirectHUAWEI-None-09211

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled,
or a shader object is bound to any graphics stage,
and the current render pass instance includes a
[VkMultisampledRenderToSingleSampledInfoEXT](renderpass.html#VkMultisampledRenderToSingleSampledInfoEXT) structure with
`multisampledRenderToSingleSampledEnable` equal to `VK_TRUE`,
then the `rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT) **must** be the same as the
`rasterizationSamples` member of that structure

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-firstAttachment-07476) VUID-vkCmdDrawClusterIndirectHUAWEI-firstAttachment-07476

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic state enabled then
[vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorBlendEnableEXT` calls **must** specify an
enable for all active color attachments in the current subpass

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-rasterizerDiscardEnable-09417) VUID-vkCmdDrawClusterIndirectHUAWEI-rasterizerDiscardEnable-09417

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEnableEXT`
calls **must** specify an enable for all active color attachments in the
current subpass

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-firstAttachment-07477) VUID-vkCmdDrawClusterIndirectHUAWEI-firstAttachment-07477

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_EQUATION_EXT` dynamic state enabled
then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-rasterizerDiscardEnable-09418) VUID-vkCmdDrawClusterIndirectHUAWEI-rasterizerDiscardEnable-09418

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and both the most recent call to
[vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable) in the current command buffer set
`rasterizerDiscardEnable` to `VK_FALSE` and there are color
attachments bound, then [vkCmdSetColorBlendEquationEXT](framebuffer.html#vkCmdSetColorBlendEquationEXT) **must** have
been called in the current command buffer prior to this drawing command,
and the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendEquationEXT`
calls **must** specify the blend equations for all active color attachments
in the current subpass where blending is enabled

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-firstAttachment-07478) VUID-vkCmdDrawClusterIndirectHUAWEI-firstAttachment-07478

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT` dynamic state enabled then
[vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been called in the current
command buffer prior to this drawing command, and the attachments
specified by the `firstAttachment` and `attachmentCount`
parameters of `vkCmdSetColorWriteMaskEXT` calls **must** specify the
color write mask for all active color attachments in the current subpass

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-rasterizerDiscardEnable-09419) VUID-vkCmdDrawClusterIndirectHUAWEI-rasterizerDiscardEnable-09419

If a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, then [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT) **must** have been
called in the current command buffer prior to this drawing command, and
the attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorWriteMaskEXT`
calls **must** specify the color write mask for all active color
attachments in the current subpass

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-firstAttachment-07479) VUID-vkCmdDrawClusterIndirectHUAWEI-firstAttachment-07479

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` dynamic state enabled
then [vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) **must** have been called in the
current command buffer prior to this drawing command, and the
attachments specified by the `firstAttachment` and
`attachmentCount` parameters of `vkCmdSetColorBlendAdvancedEXT`
calls **must** specify the advanced blend equations for all active color
attachments in the current subpass where blending is enabled

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-advancedBlendMaxColorAttachments-07480) VUID-vkCmdDrawClusterIndirectHUAWEI-advancedBlendMaxColorAttachments-07480

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COLOR_BLEND_ADVANCED_EXT` and
`VK_DYNAMIC_STATE_COLOR_BLEND_ENABLE_EXT` dynamic states enabled and
the last calls to [vkCmdSetColorBlendEnableEXT](framebuffer.html#vkCmdSetColorBlendEnableEXT) and
[vkCmdSetColorBlendAdvancedEXT](framebuffer.html#vkCmdSetColorBlendAdvancedEXT) have enabled advanced blending, then
the number of active color attachments in the current subpass **must** not
exceed [    `advancedBlendMaxColorAttachments`](limits.html#limits-advancedBlendMaxColorAttachments)

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-primitivesGeneratedQueryWithNonZeroStreams-07481) VUID-vkCmdDrawClusterIndirectHUAWEI-primitivesGeneratedQueryWithNonZeroStreams-07481

If the [    `primitivesGeneratedQueryWithNonZeroStreams`](features.html#features-primitivesGeneratedQueryWithNonZeroStreams) feature is not
enabled and the `VK_QUERY_TYPE_PRIMITIVES_GENERATED_EXT` query is
active, and the bound graphics pipeline was created with
`VK_DYNAMIC_STATE_RASTERIZATION_STREAM_EXT` state enabled, the last
call to [vkCmdSetRasterizationStreamEXT](primsrast.html#vkCmdSetRasterizationStreamEXT) **must** have set the
`rasterizationStream` to zero

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-sampleLocationsPerPixel-07482) VUID-vkCmdDrawClusterIndirectHUAWEI-sampleLocationsPerPixel-07482

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state disabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` member of the
[VkPipelineMultisampleStateCreateInfo](primsrast.html#VkPipelineMultisampleStateCreateInfo) structure the bound graphics
pipeline has been created with

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-sampleLocationsPerPixel-07483) VUID-vkCmdDrawClusterIndirectHUAWEI-sampleLocationsPerPixel-07483

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then the
`sampleLocationsPerPixel` member of `pSampleLocationsInfo` in
the last call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** equal the
`rasterizationSamples` parameter of the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-sampleLocationsEnable-07484) VUID-vkCmdDrawClusterIndirectHUAWEI-sampleLocationsEnable-07484

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), and the current subpass has a
depth/stencil attachment, then that attachment **must** have been created
with the `VK_IMAGE_CREATE_SAMPLE_LOCATIONS_COMPATIBLE_DEPTH_BIT_EXT`
bit set

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-sampleLocationsEnable-07485) VUID-vkCmdDrawClusterIndirectHUAWEI-sampleLocationsEnable-07485

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.width` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-sampleLocationsEnable-07486) VUID-vkCmdDrawClusterIndirectHUAWEI-sampleLocationsEnable-07486

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state enabled and the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), then the
`sampleLocationsInfo.maxSampleLocationGridSize.height` in the last
call to [vkCmdSetSampleLocationsEXT](primsrast.html#vkCmdSetSampleLocationsEXT) **must** evenly divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling `rasterizationSamples`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-sampleLocationsEnable-07487) VUID-vkCmdDrawClusterIndirectHUAWEI-sampleLocationsEnable-07487

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_ENABLE_EXT` state enabled, and if
`sampleLocationsEnable` was `VK_TRUE` in the last call to
[vkCmdSetSampleLocationsEnableEXT](primsrast.html#vkCmdSetSampleLocationsEnableEXT), the fragment shader code **must**
not statically use the extended instruction `InterpolateAtSample`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-sampleLocationsEnable-07936) VUID-vkCmdDrawClusterIndirectHUAWEI-sampleLocationsEnable-07936

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.width` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.width`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-sampleLocationsEnable-07937) VUID-vkCmdDrawClusterIndirectHUAWEI-sampleLocationsEnable-07937

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationGridSize.height` **must** evenly
divide
[VkMultisamplePropertiesEXT](limits.html#VkMultisamplePropertiesEXT)::`maxSampleLocationGridSize.height`
as returned by [vkGetPhysicalDeviceMultisamplePropertiesEXT](limits.html#vkGetPhysicalDeviceMultisamplePropertiesEXT) with a
`samples` parameter equaling the value of `rasterizationSamples`
in the last call to [vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-sampleLocationsEnable-07938) VUID-vkCmdDrawClusterIndirectHUAWEI-sampleLocationsEnable-07938

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_SAMPLE_LOCATIONS_EXT` state disabled and the
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` state enabled, and the
[current value](pipelines.html#dynamic-state-current-value) of
`sampleLocationsEnable` is `VK_TRUE`, then
`sampleLocationsInfo.sampleLocationsPerPixel` **must** equal
`rasterizationSamples` in the last call to
[vkCmdSetRasterizationSamplesEXT](primsrast.html#vkCmdSetRasterizationSamplesEXT)

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-coverageModulationTableEnable-07488) VUID-vkCmdDrawClusterIndirectHUAWEI-coverageModulationTableEnable-07488

If
a shader object is bound to any graphics stage or
the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_MODULATION_TABLE_ENABLE_NV` state
enabled, and the last call to
[vkCmdSetCoverageModulationTableEnableNV](fragops.html#vkCmdSetCoverageModulationTableEnableNV) set
`coverageModulationTableEnable` to `VK_TRUE`, then the
`coverageModulationTableCount` parameter in the last call to
[vkCmdSetCoverageModulationTableNV](fragops.html#vkCmdSetCoverageModulationTableNV) **must** equal the current
`rasterizationSamples` divided by the number of color samples in the
current subpass

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-rasterizationSamples-07489) VUID-vkCmdDrawClusterIndirectHUAWEI-rasterizationSamples-07489

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and if current subpass has a depth/stencil attachment and depth test,
stencil test, or depth bounds test are enabled in the bound pipeline,
then the current `rasterizationSamples` **must** be the same as the
sample count of the depth/stencil attachment

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-coverageToColorEnable-07490) VUID-vkCmdDrawClusterIndirectHUAWEI-coverageToColorEnable-07490

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_COVERAGE_TO_COLOR_ENABLE_NV` state enabled and the
last call to [vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-rasterizerDiscardEnable-09420) VUID-vkCmdDrawClusterIndirectHUAWEI-rasterizerDiscardEnable-09420

If the `[VK_NV_fragment_coverage_to_color](../appendices/extensions.html#VK_NV_fragment_coverage_to_color)` extension is enabled,
and a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT`
stage, and the most recent call to [vkCmdSetRasterizerDiscardEnable](primsrast.html#vkCmdSetRasterizerDiscardEnable)
in the current command buffer set `rasterizerDiscardEnable` to
`VK_FALSE`, and the last call to
[vkCmdSetCoverageToColorEnableNV](fragops.html#vkCmdSetCoverageToColorEnableNV) set the
`coverageToColorEnable` to `VK_TRUE`, then the current subpass
**must** have a color attachment at the location selected by the last call
to [vkCmdSetCoverageToColorLocationNV](fragops.html#vkCmdSetCoverageToColorLocationNV)
`coverageToColorLocation`, with a [VkFormat](formats.html#VkFormat) of
`VK_FORMAT_R8_UINT`, `VK_FORMAT_R8_SINT`,
`VK_FORMAT_R16_UINT`, `VK_FORMAT_R16_SINT`,
`VK_FORMAT_R32_UINT`, or `VK_FORMAT_R32_SINT`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-coverageReductionMode-07491) VUID-vkCmdDrawClusterIndirectHUAWEI-coverageReductionMode-07491

If the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is enabled,
a shader object is bound to any graphics stage or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_COVERAGE_REDUCTION_MODE_NV` or
`VK_DYNAMIC_STATE_RASTERIZATION_SAMPLES_EXT` dynamic states enabled,
then the [current values](pipelines.html#dynamic-state-current-value) of
`coverageReductionMode`, `rasterizationSamples`, the sample
counts for the color and depth/stencil attachments (if the subpass has
them) **must** be a valid combination returned by
[vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV](fragops.html#vkGetPhysicalDeviceSupportedFramebufferMixedSamplesCombinationsNV)

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-viewportCount-07492) VUID-vkCmdDrawClusterIndirectHUAWEI-viewportCount-07492

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` dynamic state enabled, but
not the `VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic state
enabled, then the bound graphics pipeline **must** have been created with
[VkPipelineViewportSwizzleStateCreateInfoNV](vertexpostproc.html#VkPipelineViewportSwizzleStateCreateInfoNV)::`viewportCount`
greater or equal to the `viewportCount` parameter in the last call
to [vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-viewportCount-07493) VUID-vkCmdDrawClusterIndirectHUAWEI-viewportCount-07493

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_VIEWPORT_WITH_COUNT` and
`VK_DYNAMIC_STATE_VIEWPORT_SWIZZLE_NV` dynamic states enabled then
the `viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-viewportCount-09421) VUID-vkCmdDrawClusterIndirectHUAWEI-viewportCount-09421

If the `[VK_NV_viewport_swizzle](../appendices/extensions.html#VK_NV_viewport_swizzle)` extension is enabled, and a
shader object is bound to any graphics stage, then the
`viewportCount` parameter in the last call to
[vkCmdSetViewportSwizzleNV](vertexpostproc.html#vkCmdSetViewportSwizzleNV) **must** be greater than or equal to the
`viewportCount` parameter in the last call to
[vkCmdSetViewportWithCount](vertexpostproc.html#vkCmdSetViewportWithCount)

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-rasterizationSamples-07494) VUID-vkCmdDrawClusterIndirectHUAWEI-rasterizationSamples-07494

If the `[VK_NV_framebuffer_mixed_samples](../appendices/extensions.html#VK_NV_framebuffer_mixed_samples)` extension is enabled,
and the [`coverageReductionMode`](features.html#features-coverageReductionMode)
feature is not enabled, or the [current    value](pipelines.html#dynamic-state-current-value) of `coverageReductionMode` is not
`VK_COVERAGE_REDUCTION_MODE_TRUNCATE_NV`,
and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizationSamples` is greater than sample count of the color
attachment, then [sample shading](primsrast.html#primsrast-sampleshading) **must** be
disabled

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-stippledLineEnable-07495) VUID-vkCmdDrawClusterIndirectHUAWEI-stippledLineEnable-07495

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-stippledLineEnable-07496) VUID-vkCmdDrawClusterIndirectHUAWEI-stippledLineEnable-07496

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_BRESENHAM`, then the
[`stippledBresenhamLines`](features.html#features-stippledBresenhamLines)
feature **must** be enabled

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-stippledLineEnable-07497) VUID-vkCmdDrawClusterIndirectHUAWEI-stippledLineEnable-07497

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_RECTANGULAR_SMOOTH`, then the
[`stippledSmoothLines`](features.html#features-stippledSmoothLines) feature
**must** be enabled

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-stippledLineEnable-07498) VUID-vkCmdDrawClusterIndirectHUAWEI-stippledLineEnable-07498

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_LINE_STIPPLE_ENABLE_EXT` or
`VK_DYNAMIC_STATE_LINE_RASTERIZATION_MODE_EXT` dynamic states
enabled, and if the current `stippledLineEnable` state is
`VK_TRUE` and the current `lineRasterizationMode` state is
`VK_LINE_RASTERIZATION_MODE_DEFAULT`, then the
[`stippledRectangularLines`](features.html#features-stippledRectangularLines)
feature **must** be enabled and
[VkPhysicalDeviceLimits](limits.html#VkPhysicalDeviceLimits)::`strictLines` **must** be `VK_TRUE`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-conservativePointAndLineRasterization-07499) VUID-vkCmdDrawClusterIndirectHUAWEI-conservativePointAndLineRasterization-07499

If the bound graphics pipeline state was created with the
`VK_DYNAMIC_STATE_CONSERVATIVE_RASTERIZATION_MODE_EXT` dynamic state
enabled, [    `conservativePointAndLineRasterization`](limits.html#limits-conservativePointAndLineRasterization) is not supported, and the
effective primitive topology output by the last pre-rasterization shader
stage is a line or point, then the `conservativeRasterizationMode`
set by the last call to [vkCmdSetConservativeRasterizationModeEXT](primsrast.html#vkCmdSetConservativeRasterizationModeEXT)
**must** be `VK_CONSERVATIVE_RASTERIZATION_MODE_DISABLED_EXT`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-stage-07073) VUID-vkCmdDrawClusterIndirectHUAWEI-stage-07073

If the bound pipeline was created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of an element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT`, then [Mesh    Shader Queries](queries.html#queries-mesh-shader) **must** not be active

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08877) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08877

If
a shader object is bound to the `VK_SHADER_STAGE_FRAGMENT_BIT` stage
or
a graphics pipeline is bound which was created with the
`VK_DYNAMIC_STATE_ATTACHMENT_FEEDBACK_LOOP_ENABLE_EXT` dynamic state
enabled, and the [current value](pipelines.html#dynamic-state-current-value) of
`rasterizerDiscardEnable` is `VK_FALSE`, then
[vkCmdSetAttachmentFeedbackLoopEnableEXT](renderpass.html#vkCmdSetAttachmentFeedbackLoopEnableEXT) **must** have been called and
not subsequently [invalidated](pipelines.html#dynamic-state-lifetime) in the current
command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07850) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07850

If dynamic state was inherited from
[VkCommandBufferInheritanceViewportScissorInfoNV](cmdbuffers.html#VkCommandBufferInheritanceViewportScissorInfoNV), it **must** be set
in the current command buffer prior to this drawing command

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-nextStage-10745) VUID-vkCmdDrawClusterIndirectHUAWEI-nextStage-10745

For each shader object bound to a graphics stage, except for shader
object bound to the last graphics stage in the logical pipeline, it
**must** have been created with a `nextStage` including the
corresponding bit to the shader object bound to the following graphics
stage in the logical pipeline

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08684) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08684

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_VERTEX_BIT`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08685) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08685

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08686) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08686

If there is no bound graphics pipeline, and the
[`tessellationShader`](features.html#features-tessellationShader) feature is
enabled, `vkCmdBindShadersEXT` **must** have been called in the current
command buffer with `pStages` with an element of
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08687) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08687

If there is no bound graphics pipeline, and the
[`geometryShader`](features.html#features-geometryShader) feature is enabled,
`vkCmdBindShadersEXT` **must** have been called in the current command
buffer with `pStages` with an element of
`VK_SHADER_STAGE_GEOMETRY_BIT`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08688) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08688

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_FRAGMENT_BIT`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08689) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08689

If there is no bound graphics pipeline, and the [    `taskShader`](features.html#features-taskShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_TASK_BIT_EXT`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08690) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08690

If there is no bound graphics pipeline, and the [    `meshShader`](features.html#features-meshShader) feature is enabled, `vkCmdBindShadersEXT` **must**
have been called in the current command buffer with `pStages` with
an element of `VK_SHADER_STAGE_MESH_BIT_EXT`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08693) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08693

If there is no bound graphics pipeline, and at least one of the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features is enabled, one of the
`VK_SHADER_STAGE_VERTEX_BIT` or `VK_SHADER_STAGE_MESH_BIT_EXT`
stages **must** have a valid `VkShaderEXT` bound, and the other **must**
have no `VkShaderEXT` bound

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08696) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08696

If there is no bound graphics pipeline, and a valid `VkShaderEXT` is
bound to the `VK_SHADER_STAGE_VERTEX_BIT` stage, there **must** be no
`VkShaderEXT` bound to either the `VK_SHADER_STAGE_TASK_BIT_EXT`
stage or the `VK_SHADER_STAGE_MESH_BIT_EXT` stage

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08698) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08698

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, then all shaders created
with the `VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag in the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** also be bound

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08699) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08699

If any graphics shader is bound which was created with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag, any stages in between
stages whose shaders which did not create a shader with the
`VK_SHADER_CREATE_LINK_STAGE_BIT_EXT` flag as part of the same
[vkCreateShadersEXT](shaders.html#vkCreateShadersEXT) call **must** not have any `VkShaderEXT` bound

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08878) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08878

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) push constant
ranges

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08879) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08879

All bound graphics shader objects **must** have been created with identical
or [identically defined](../appendices/glossary.html#glossary-identically-defined) arrays of
descriptor set layouts

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-colorAttachmentCount-09372) VUID-vkCmdDrawClusterIndirectHUAWEI-colorAttachmentCount-09372

If the current render pass instance was begun with
[vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) and a
[VkRenderingInfo](renderpass.html#VkRenderingInfo)::`colorAttachmentCount` equal to `1`, a color
attachment with a resolve mode of
`VK_RESOLVE_MODE_EXTERNAL_FORMAT_DOWNSAMPLE_ANDROID`, and a fragment
shader is bound, it **must** not declare the `DepthReplacing` or
`StencilRefReplacingEXT` execution modes

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-pDynamicStates-08715) VUID-vkCmdDrawClusterIndirectHUAWEI-pDynamicStates-08715

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_DEPTH_WRITE_ENABLE` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpDepthAttachmentReadEXT`, the `depthWriteEnable` parameter
in the last call to [vkCmdSetDepthWriteEnable](fragops.html#vkCmdSetDepthWriteEnable) **must** be
`VK_FALSE`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-pDynamicStates-08716) VUID-vkCmdDrawClusterIndirectHUAWEI-pDynamicStates-08716

If the bound graphics pipeline state includes a fragment shader stage,
was created with `VK_DYNAMIC_STATE_STENCIL_WRITE_MASK` set in
[VkPipelineDynamicStateCreateInfo](pipelines.html#VkPipelineDynamicStateCreateInfo)::`pDynamicStates`, and the
fragment shader declares the `EarlyFragmentTests` execution mode and
uses `OpStencilAttachmentReadEXT`, the `writeMask` parameter in
the last call to [vkCmdSetStencilWriteMask](fragops.html#vkCmdSetStencilWriteMask) **must** be `0`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-09116) VUID-vkCmdDrawClusterIndirectHUAWEI-None-09116

    If
    a shader object is bound to any graphics stage
or
    the bound graphics pipeline was created with
    `VK_DYNAMIC_STATE_COLOR_WRITE_MASK_EXT`,
    and the format of any color attachment is
    `VK_FORMAT_E5B9G9R9_UFLOAT_PACK32`, the corresponding element of the
    `pColorWriteMasks` parameter of [vkCmdSetColorWriteMaskEXT](framebuffer.html#vkCmdSetColorWriteMaskEXT)
    **must** either include all of `VK_COLOR_COMPONENT_R_BIT`,
    `VK_COLOR_COMPONENT_G_BIT`, and `VK_COLOR_COMPONENT_B_BIT`, or
    none of them

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-maxFragmentDualSrcAttachments-09239) VUID-vkCmdDrawClusterIndirectHUAWEI-maxFragmentDualSrcAttachments-09239

If [blending](framebuffer.html#framebuffer-blending) is enabled for any attachment where
either the source or destination blend factors for that attachment
[use the secondary color input](framebuffer.html#framebuffer-dsb), the maximum value of
`Location` for any output attachment [statically    used](shaders.html#shaders-staticuse) in the `Fragment` `Execution` `Model` executed by this command
**must** be less than [    `maxFragmentDualSrcAttachments`](limits.html#limits-maxFragmentDualSrcAttachments)

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-09548) VUID-vkCmdDrawClusterIndirectHUAWEI-None-09548

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
the value of each element of
[VkRenderingAttachmentLocationInfo](interfaces.html#VkRenderingAttachmentLocationInfo)::`pColorAttachmentLocations`
set by [vkCmdSetRenderingAttachmentLocations](interfaces.html#vkCmdSetRenderingAttachmentLocations) **must** match the value
set for the corresponding element in the bound pipeline

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-09549) VUID-vkCmdDrawClusterIndirectHUAWEI-None-09549

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering),
and there is no shader object bound to any graphics stage,
input attachment index mappings in the bound pipeline **must** match those
set for the current render pass instance via
[VkRenderingInputAttachmentIndexInfo](interfaces.html#VkRenderingInputAttachmentIndexInfo)

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-09642) VUID-vkCmdDrawClusterIndirectHUAWEI-None-09642

If the current render pass was begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with
the `VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag, the bound
graphics pipeline **must** have been created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-09643) VUID-vkCmdDrawClusterIndirectHUAWEI-None-09643

If the bound graphics pipeline was created with
`VK_PIPELINE_CREATE_2_ENABLE_LEGACY_DITHERING_BIT_EXT`, the current
render pass **must** have begun with [vkCmdBeginRendering](renderpass.html#vkCmdBeginRendering) with the
`VK_RENDERING_ENABLE_LEGACY_DITHERING_BIT_EXT` flag

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-10677) VUID-vkCmdDrawClusterIndirectHUAWEI-None-10677

If the [per-tile execution model](renderpass.html#renderpass-per-tile-execution-model)
is enabled, the
[tileShadingPerTileDraw](features.html#features-tileShadingPerTileDraw) feature **must**
be enabled

[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-10772) VUID-vkCmdDrawClusterIndirectHUAWEI-None-10772

If a shader object is bound to any graphics stage, *multiview*
functionality **must** not be enabled in the current render pass

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-stage-06480) VUID-vkCmdDrawClusterIndirectHUAWEI-stage-06480

The bound graphics pipeline **must** not have been created with the
[VkPipelineShaderStageCreateInfo](pipelines.html#VkPipelineShaderStageCreateInfo)::`stage` member of any element
of [VkGraphicsPipelineCreateInfo](pipelines.html#VkGraphicsPipelineCreateInfo)::`pStages` set to
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-pStages-10680) VUID-vkCmdDrawClusterIndirectHUAWEI-pStages-10680

If there is no bound graphics pipeline, `vkCmdBindShadersEXT` **must**
not have last bound the `pStages` element of
`VK_SHADER_STAGE_VERTEX_BIT`,
`VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT`,
`VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT` or
`VK_SHADER_STAGE_GEOMETRY_BIT` with a valid shader object other than
[VK_NULL_HANDLE](../appendices/boilerplate.html#VK_NULL_HANDLE)

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07074) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07074

[Transform Feedback Queries](queries.html#queries-transform-feedback) **must** not be
active

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-07075) VUID-vkCmdDrawClusterIndirectHUAWEI-None-07075

[Primitives Generated Queries](queries.html#queries-primitives-generated) **must** not
be active

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-pipelineStatistics-07076) VUID-vkCmdDrawClusterIndirectHUAWEI-pipelineStatistics-07076

The `pipelineStatistics` member used to create any active
[Pipeline Statistics Query](queries.html#queries-pipestats) **must** not contain
`VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_VERTICES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_PRIMITIVES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_VERTEX_SHADER_INVOCATIONS_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_INVOCATIONS_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_PRIMITIVES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_CLIPPING_INVOCATIONS_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_CLIPPING_PRIMITIVES_BIT`,
`VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_CONTROL_SHADER_PATCHES_BIT`,
or
`VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_EVALUATION_SHADER_INVOCATIONS_BIT`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08694) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08694

If there is no bound graphics pipeline, and both the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features are enabled, and a valid `VkShaderEXT`
is bound the to the `VK_SHADER_STAGE_MESH_BIT_EXT` stage, and that
`VkShaderEXT` was created without the
`VK_SHADER_CREATE_NO_TASK_SHADER_BIT_EXT` flag, a valid
`VkShaderEXT` **must** be bound to the
`VK_SHADER_STAGE_TASK_BIT_EXT` stage

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-None-08695) VUID-vkCmdDrawClusterIndirectHUAWEI-None-08695

If there is no bound graphics pipeline, and both the
[`taskShader`](features.html#features-taskShader) and [    `meshShader`](features.html#features-meshShader) features are enabled, and a valid `VkShaderEXT`
is bound the to the `VK_SHADER_STAGE_MESH_BIT_EXT` stage, and that
`VkShaderEXT` was created with the
`VK_SHADER_CREATE_NO_TASK_SHADER_BIT_EXT` flag, there **must** be no
`VkShaderEXT` bound to the `VK_SHADER_STAGE_TASK_BIT_EXT` stage

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-drawCount-02718) VUID-vkCmdDrawClusterIndirectHUAWEI-drawCount-02718

If the [`multiDrawIndirect`](features.html#features-multiDrawIndirect) feature
is not enabled, `drawCount` **must** be `0` or `1`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-drawCount-02719) VUID-vkCmdDrawClusterIndirectHUAWEI-drawCount-02719

`drawCount` **must** be less than or equal to
`VkPhysicalDeviceLimits`::`maxDrawIndirectCount`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-ClusterCullingHUAWEI-07824) VUID-vkCmdDrawClusterIndirectHUAWEI-ClusterCullingHUAWEI-07824

The current pipeline bound to `VK_PIPELINE_BIND_POINT_GRAPHICS`
**must** contain a shader stage using the `ClusterCullingHUAWEI`
`Execution` `Model`

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-offset-07918) VUID-vkCmdDrawClusterIndirectHUAWEI-offset-07918

`offset` **must** be a multiple of
[VkPhysicalDeviceClusterCullingShaderPropertiesHUAWEI](limits.html#VkPhysicalDeviceClusterCullingShaderPropertiesHUAWEI)::`indirectBufferOffsetAlignment`

Valid Usage (Implicit)

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-commandBuffer-parameter) VUID-vkCmdDrawClusterIndirectHUAWEI-commandBuffer-parameter

 `commandBuffer` **must** be a valid [VkCommandBuffer](cmdbuffers.html#VkCommandBuffer) handle

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-buffer-parameter) VUID-vkCmdDrawClusterIndirectHUAWEI-buffer-parameter

 `buffer` **must** be a valid [VkBuffer](resources.html#VkBuffer) handle

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-commandBuffer-recording) VUID-vkCmdDrawClusterIndirectHUAWEI-commandBuffer-recording

 `commandBuffer` **must** be in the [recording state](cmdbuffers.html#commandbuffers-lifecycle)

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-commandBuffer-cmdpool) VUID-vkCmdDrawClusterIndirectHUAWEI-commandBuffer-cmdpool

 The `VkCommandPool` that `commandBuffer` was allocated from **must** support graphics operations

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-renderpass) VUID-vkCmdDrawClusterIndirectHUAWEI-renderpass

 This command **must** only be called inside of a render pass instance

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-videocoding) VUID-vkCmdDrawClusterIndirectHUAWEI-videocoding

 This command **must** only be called outside of a video coding scope

* 
[](#VUID-vkCmdDrawClusterIndirectHUAWEI-commonparent) VUID-vkCmdDrawClusterIndirectHUAWEI-commonparent

 Both of `buffer`, and `commandBuffer` **must** have been created, allocated, or retrieved from the same [VkDevice](devsandqueues.html#VkDevice)

Host Synchronization

* 
Host access to `commandBuffer` **must** be externally synchronized

* 
Host access to the `VkCommandPool` that `commandBuffer` was allocated from **must** be externally synchronized

Command Properties
| [Command Buffer Levels](cmdbuffers.html#VkCommandBufferLevel) | [Render Pass Scope](renderpass.html#vkCmdBeginRenderPass) | [Video Coding Scope](videocoding.html#vkCmdBeginVideoCodingKHR) | [Supported Queue Types](devsandqueues.html#VkQueueFlagBits) | [Command Type](fundamentals.html#fundamentals-queueoperation-command-types) |
| --- | --- | --- | --- | --- |
| Primary

Secondary | Inside | Outside | Graphics | Action |
